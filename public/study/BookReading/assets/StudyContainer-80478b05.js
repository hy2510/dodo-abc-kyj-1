import{r as c,j as e}from"./react-ed353aa7.js";import{A as oe,g as Qe,G as Te,a as Xi,S as Zi,b as er,l as yo,s as Ce,d as es,c as Ls,e as di,f as mi,h as mn,i as tr,j as We,k as xi,m as _i,n as nr,o as sr}from"./index-04fbf60d.js";import{M as Q}from"./mobile-detect-a4c8f7ad.js";import{l as xe}from"./lodash-12888dbd.js";import{a as ts}from"./axios-9cbf0d09.js";import{r as sn}from"./react-string-replace-7ad9cda0.js";import{i as ro}from"./react-device-detect-e6ece92d.js";import{_ as _n}from"./react-lottie-1f0d6727.js";import"./babel-runtime-6d7c6b87.js";import"./core-js-6b60057b.js";import"./react-dom-a6239d86.js";import"./scheduler-765c72db.js";/* empty css                    */import"./ua-parser-js-04c823b7.js";import"./prop-types-387d7a00.js";import"./lottie-web-62c494ff.js";const Vt=()=>{const{bookInfo:t}=c.useContext(oe),i=window.REF,n=i.Unit||i.unit;let o="baro";if(n!==void 0&&n!=="")o=n.replace("https://wcfresource.a1edu.com/newsystem/image/character/subcharacter/").replace(".png");else switch(t.BookLevel){case"6C":case"6B":case"6A":case"5C":case"5B":case"5A":o="dodo";break;case"4C":case"4B":case"4A":o="gino";break;case"3C":o="goma";break;case"3B":o="leoni";break;case"3A":o="edmond";break;case"2C":o="roro";break;case"2B":o="tori";break;case"2A":o="greenthumb";break;case"1C":o="blanc";break;case"1B":o="sheila";break;case"1A":o="jack";break;case"KC":o="millo";break;case"KB":o="chello";break;default:o="baro"}return o};async function or(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Te}/cloze-test-1?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Quiz:a.Quiz.map(m=>({QuizId:m.QuizId.toString(),QuizNo:Number(m.QuizNo),Question:{Text:m.Question.Text,Sound:m.Question.Sound},Examples:m.Examples.map(g=>({Text:g.Text}))}))}))}async function ir(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Te}/cloze-test-2?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),IsEnablePenaltyReview:!!a.IsEnablePenaltyReview,Quiz:a.Quiz.map(m=>({QuizId:m.QuizId.toString(),QuizNo:Number(m.QuizNo),Question:{Text:m.Question.Text,Sound:m.Question.Sound},Examples:m.Examples.map(g=>({Text:g.Text}))}))}))}async function rr(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Te}/cloze-test-3?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),IsEnablePenaltyReview:!!a.IsEnablePenaltyReview,Quiz:a.Quiz.map(m=>({QuizId:m.QuizId.toString(),QuizNo:Number(m.QuizNo),Question:{Text:m.Question.Text,Sound:m.Question.Sound},Examples:m.Examples.map(g=>({Text:g.Text}))}))}))}const ar="_comment_1f96m_2",cr="_wordPlayButton_1f96m_21",ur="_txtL_1f96m_36",lr="_cardNumber_1f96m_47",dr="_testReview_1f96m_62",mr="_title_1f96m_65",xr="_container_1f96m_70",_r="_sentence_1f96m_79",hr="_nextButton_1f96m_88",pr="_deactNextButton_1f96m_110",gr="_reviewAnswer_1f96m_131",yr="_currentOrder_1f96m_140",fr="_blink_1f96m_1",kr="_currentInput_1f96m_160",br="_otherInput_1f96m_161",Sr="_enterButton_1f96m_168",wr="_hintText_1f96m_194",vr="_clozeTest1_1f96m_204",jr="_textCard_1f96m_208",zr="_correct_1f96m_243",$r="_incorrect_1f96m_248",Cr="_awnserText_1f96m_253",Qr="_answers_1f96m_258",Ar="_questionBox_1f96m_271",Nr="_answerBox_1f96m_296",Tr="_correctAnswer_1f96m_313",Ir="_incorrectAnswer_1f96m_317",Br="_clozeTest2_1f96m_328",Er="_clozeTest3_1f96m_439",et={comment:ar,wordPlayButton:cr,txtL:ur,cardNumber:lr,testReview:dr,title:mr,container:xr,sentence:_r,nextButton:hr,deactNextButton:pr,reviewAnswer:gr,currentOrder:yr,blink:fr,currentInput:kr,otherInput:br,enterButton:Sr,hintText:wr,clozeTest1:vr,textCard:jr,correct:zr,incorrect:$r,awnserText:Cr,answers:Qr,questionBox:Ar,answerBox:Nr,correctAnswer:Tr,incorrectAnswer:Ir,clozeTest2:Br,clozeTest3:Er},Pr="_comment_nyw2n_2",Mr="_wordPlayButton_nyw2n_16",Lr="_txtL_nyw2n_31",Rr="_cardNumber_nyw2n_42",qr="_testReview_nyw2n_57",Fr="_title_nyw2n_57",Hr="_container_nyw2n_62",Or="_sentence_nyw2n_71",Dr="_nextButton_nyw2n_79",Wr="_deactNextButton_nyw2n_101",Vr="_reviewAnswer_nyw2n_122",Gr="_currentOrder_nyw2n_131",Ur="_blink_nyw2n_1",Kr="_currentInput_nyw2n_153",Jr="_otherInput_nyw2n_154",Yr="_hintText_nyw2n_162",Xr="_clozeTest1_nyw2n_172",Zr="_textCard_nyw2n_176",ea="_correct_nyw2n_211",ta="_incorrect_nyw2n_216",na="_awnserText_nyw2n_221",sa="_answers_nyw2n_226",oa="_questionBox_nyw2n_236",ia="_answerBox_nyw2n_256",ra="_correctAnswer_nyw2n_273",aa="_incorrectAnswer_nyw2n_277",ca="_clozeTest2_nyw2n_288",ua="_enterButton_nyw2n_354",la="_clozeTest3_nyw2n_381",it={comment:Pr,wordPlayButton:Mr,txtL:Lr,cardNumber:Rr,testReview:qr,title:Fr,container:Hr,sentence:Or,nextButton:Dr,deactNextButton:Wr,reviewAnswer:Vr,currentOrder:Gr,blink:Ur,currentInput:Kr,otherInput:Jr,hintText:Yr,clozeTest1:Xr,textCard:Zr,correct:ea,incorrect:ta,awnserText:na,answers:sa,questionBox:oa,answerBox:ia,correctAnswer:ra,incorrectAnswer:aa,clozeTest2:ca,enterButton:ua,clozeTest3:la},be=()=>{const[t,i]=c.useState(!0);return{isStepIntro:t,closeStepIntro:o=>{i(!1),o&&o()}}};function da(t,i){const n=c.useRef();c.useEffect(()=>{n.current=t},[t]),c.useEffect(()=>{function o(){n.current&&n.current()}o();const r=setInterval(o,i);return()=>{clearInterval(r)}},[i])}function Se(t){const i=c.useRef(),[n,o]=c.useState(-1),[r,u]=c.useState(-1),[d,a]=c.useState(0),[m,g]=c.useState(!0),[f,h]=c.useState({timeMin:0,timeSec:0}),y=()=>{a(Date.now()),g(!1)},k=()=>{o(r),g(!0)},_=(s,x)=>{const l=s%60,p=(s-l)/60;h({timeMin:p,timeSec:l}),o(s),x?y():g(!0)};return c.useEffect(()=>{i.current=t},[t]),da(()=>{if(!m){const s=Math.floor((Date.now()-d)/1e3),x=n-s,l=x>=0?x%60:0,p=x>=0?(x-l)/60:0;x<=0&&(k(),i.current&&i.current()),h({timeMin:p,timeSec:l}),u(x)}},1e3),{time:f,setup:_,start:y,stop:k,isFinish:f.timeMin+f.timeSec<=0}}const fo=["animate__animated"],rt=()=>({isContain:(i,n)=>i.classList.contains(n),play:(i,n,o)=>{i.classList.add(...fo,...n),o&&o()},remove:(i,n)=>{i.classList.remove(...n,...fo)},removeAndPlay:(i,n,o)=>{i.classList.remove(...n),i.classList.add(...o)}});async function ma(t){const i=`${Xi}?studentHistoryId=${t.studentHistoryId}&studyId=${t.studyId}`;return Qe(i,async o=>o.map(r=>({ChallengeNumber:r.ChallengeNumber,BookId:r.BookId,Page:r.Page,QuizNo:r.QuizNo,Css:r.Css,Contents:r.Contents,FontColor:r.FontColor,ImagePath:r.ImagePath,Sequence:r.Sequence,SoundPath:r.SoundPath,MarginTop:Number(r.MarginTop),MarginLeft:Number(r.MarginLeft),DataPath:r.DataPath,Sentence:r.Sentence})))}const ko=async t=>await ts.get(`/${er}?studyId=${t.studyId}&studentHistoryId=${t.studentHistoryId}`).then(n=>n.data).catch(n=>{console.error(n)}),hi=async t=>{let i={result:0,resultMessage:""};try{i=await ts.post(`/${Zi}`,t).then(n=>n.data)}catch{throw new Error("API Load Failed 2")}return i},we=(t,i,n,o)=>{const[r,u]=c.useState(),[d,a]=c.useState([]);return c.useEffect(()=>{(async()=>{const g=await t(i);if(!g)throw new Error("No StudyData Error");let f;o?f=await yo("R",i):f=await yo(n,i),u(g),a(f)})()},[t]),[r,d]},xa=(t,i,n)=>{const[o,r]=c.useState(),[u,d]=c.useState([]);return c.useEffect(()=>{(async()=>{const m=await t(i);if(!m)throw new Error("No StudyData Error");let g;n?g=await ko(i):g=await ko(i),r(m),d(g)})()},[t]),[o,u]},ot=(t,i,n)=>{let o=1,r=0;if(t==="Quiz"&&i&&i.length>0){const u=i[i.length-1];u.AnswerCount===n||u.OX==="1"?o=u.CurrentQuizNo+1:(o=u.CurrentQuizNo,r=u.AnswerCount)}return[o,r]},_a=(t,i,n,o)=>{let r=1,u=1,d=0;if(t==="Quiz"&&i&&i.length>0){const a=i[i.length-1],m=a.StudentAnswer.split(","),g=m[m.length-1].slice(-1),f=m[m.length-1].length;f===o||g==="1"?(m.length===n?u=a.QuizNo+1:u=a.QuizNo,r=a.CurrentQuizNo+1):(r=a.CurrentQuizNo,u=a.QuizNo,d=f)}return[r,u,d]},ha=(t,i,n)=>{let o=1,r=0;if(t==="Quiz"&&i&&i.length>0){const u=i[i.length-1],d=u.StudentAnswer.split("/"),a=d.filter(f=>f.length===n||f.slice(-1)==="1").length,m=d.length;if(a===m)o=u.QuizNo+1;else{const f=d.map(h=>h.length);o=u.CurrentQuizNo+1,r=Math.max(...f)}}return[o,r]},pa=(t,i,n)=>{let o=1,r=0;if(t==="Quiz"&&i&&i.length>0){const u=i[i.length-1];u.AnswerCount===n||u.AnswerCount===null?o=u.CurrentQuizNo+1:(o=u.CurrentQuizNo,r=u.AnswerCount)}return[o,r]},ve=(t,i="normal")=>{const[n,o]=c.useState([]),r=(x,l)=>{const p=y(x,l);o(p)},u=(x,l)=>{let p;i==="normal"?p=k(x,l):p=_(x,l),o(p)},d=x=>{if(t==="Quiz"){let l=[];n.length>0&&(l=[...n]),x.maxCount>1&&n.find(S=>S.quizNo===x.quizNo)?l=xe.map(n,S=>S.quizNo===x.quizNo&&S.answerCount<x.maxCount?{...S,quizNo:x.quizNo,maxCount:x.maxCount,answerCount:x.answerCount,ox:x.ox}:S):l.push(x),o(l)}},a=x=>{if(t==="Quiz"){let l=[];n.length>0&&(l=[...n]),x.map(p=>{p.maxCount>1&&n.find(b=>b.quizNo===p.quizNo)?l=xe.map(n,b=>b.quizNo===p.quizNo&&b.answerCount<p.maxCount?{...b,quizNo:p.quizNo,maxCount:p.maxCount,answerCount:p.answerCount,ox:p.ox}:b):l.push(p)}),o(l)}},m=(x,l,p)=>{const S=[...n,x],b=100/l;let v=0;return S.map(N=>{if(N.ox)switch(N.answerCount){case 1:v+=1*b;break;case 2:v+=.5*b;break;case 3:v+=.25*b;break}else N.answerCount}),Math.round(v)},g=({mobile:x,studyId:l,studentHistoryId:p,bookType:S,step:b,quizId:v,quizNo:N,currentQuizNo:j,correct:C,selectedAnswer:P,tryCount:w,maxQuizCount:q,quizLength:I,isCorrect:F,answerData:U,isEnabledPenalty:L,isFinishStudy:H})=>{let T;if(j+1>I)if(F){const O=m(U,I,q);T={mobile:x,studyId:l,studentHistoryId:p,bookType:S,step:`${b}`,quizId:v,quizNo:N,currentQuizNo:j,correct:C,studentAnswer:P,answerCount:w,isLastQuiz:!0,score:O,isFinishStudy:H}}else if(w>=q){const O=m(U,I,q);T={mobile:x,studyId:l,studentHistoryId:p,bookType:S,step:`${b}`,quizId:v,quizNo:N,currentQuizNo:j,correct:C,studentAnswer:P,answerCount:w,isLastQuiz:!0,score:O,isEnabledPenalty:L,isFinishStudy:H}}else T={mobile:x,studyId:l,studentHistoryId:p,bookType:S,step:`${b}`,quizId:v,quizNo:N,currentQuizNo:j,correct:C,studentAnswer:P,answerCount:w};else L?T={mobile:x,studyId:l,studentHistoryId:p,bookType:S,step:`${b}`,quizId:v,quizNo:N,currentQuizNo:j,correct:C,studentAnswer:P,answerCount:w,isEnabledPenalty:w>=q?!0:void 0}:T={mobile:x,studyId:l,studentHistoryId:p,bookType:S,step:`${b}`,quizId:v,quizNo:N,currentQuizNo:j,correct:C,studentAnswer:P,answerCount:w};return T},f=({mobile:x,studyId:l,studentHistoryId:p,bookType:S,step:b,quizId:v,quizNo:N,currentQuizNo:j,correct:C,selectedAnswer:P,partialRecord:w,tryCount:q,maxQuizCount:I,quizLength:F,isCorrect:U,answerData:L,isEnabledPenalty:H,isFinishStudy:T})=>{let O;if(j+1>F)if(U){const R=m(L,F,I);O={mobile:x,studyId:l,studentHistoryId:p,bookType:S,step:`${b}`,quizId:v,quizNo:N,currentQuizNo:j,correct:C,studentAnswer:P,partialRecord:w,answerCount:q,isLastQuiz:!0,score:R,isFinishStudy:T}}else if(q>=I){const R=m(L,F,I);O={mobile:x,studyId:l,studentHistoryId:p,bookType:S,step:`${b}`,quizId:v,quizNo:N,currentQuizNo:j,correct:C,studentAnswer:P,partialRecord:w,answerCount:q,isLastQuiz:!0,score:R,isEnabledPenalty:H,isFinishStudy:T}}else O={mobile:x,studyId:l,studentHistoryId:p,bookType:S,step:`${b}`,quizId:v,quizNo:N,currentQuizNo:j,correct:C,studentAnswer:P,partialRecord:w,answerCount:q};else O={mobile:x,studyId:l,studentHistoryId:p,bookType:S,step:`${b}`,quizId:v,quizNo:N,currentQuizNo:j,correct:C,studentAnswer:P,partialRecord:w,answerCount:q,isEnabledPenalty:q>=I?!0:void 0};return O},h=()=>{o([])},y=(x,l)=>{let p=[];return x.map(S=>{p.push({quizNo:S.CurrentQuizNo,maxCount:l,answerCount:S.AnswerCount,ox:S.OX==="1"})}),p},k=(x,l)=>{let p=[],S=1;return x.map(b=>{b.StudentAnswer.split(",").map(v=>{const N=v.charAt(v.length-1);p.push({quizNo:S++,maxCount:l,answerCount:v.split("").length,ox:N==="1"})})}),p},_=(x,l)=>{let p=[],S=1;return x.map(b=>{b.StudentAnswer.split("/").map(v=>{const N=v.charAt(v.length-1);p.push({quizNo:S++,maxCount:l,answerCount:v.split("").length,ox:N==="1"})})}),p};return{scoreBoardData:n,setStudentAnswers:r,setStudentAnswersPartial:u,addStudentAnswer:d,addStudentAnswers:a,getScore:m,makeUserAnswerData:g,makeUserPartialAnswerData:f,resetStudentAnswer:h,convertRecordToScoreBoard:y,convertPartialRecordToScoreBoard:k,convertPartialRecordToScoreBoardClozeTest3:_,convertPartialRecordToScoreBoardSummary2:(x,l)=>{let p=[],S=1;return x.map(b=>{b.StudentAnswer.split(",").map(v=>{const N=v.charAt(v.length-1);p.push({quizNo:S++,maxCount:l,answerCount:v.split("").length,ox:N==="1"})})}),p}}};function Pe(){const[t,i]=c.useState(""),n=c.useRef(new Audio);n.current.autoplay=!0;const o=n.current,r=c.useRef();c.useEffect(()=>{if(t==="playing"||t==="endFn"){const m=()=>{o.play()};o.addEventListener("canplaythrough",m);const g=()=>{t==="endFn"?r.current&&r.current():i("")};return o.addEventListener("ended",g),()=>{o.removeEventListener("canplaythrough",m),o.removeEventListener("ended",g),i(""),d()}}},[t]);const u=(m,g)=>{o.src=m,g?(r.current=g,i("endFn")):i("playing")},d=()=>{o.pause(),o.src="",o.currentTime=0,i("")};return{playState:t,changePlayState:m=>{i(m)},playAudio:u,stopAudio:d}}const ga="/study/BookReading/assets/next-4ea4479a.mp3";let bo;const ya=new Audio(ga),Rs=t=>{bo=new Audio(t),(()=>{bo.play()})()},fa=()=>{ya.play()},ka="/study/BookReading/assets/correct_sound-9efbca1b.mp3",ba="/study/BookReading/assets/incorrect_sound-3ea1a3ca.mp3";function Je(){const[t,i]=c.useState({isActive:!1,isCorrect:!1});return c.useEffect(()=>{t.isActive&&Rs(t.isCorrect?ka:ba)},[t]),{bottomPopupState:t,changeBottomPopupState:o=>{i(o)}}}const qe=()=>{const[t,i]=c.useState(!1);return{isResultShow:t,changeResultShow:o=>{i(o)}}},Sa="_stepIntro_19s00_1",wa="_container_19s00_8",va="_stepOrder_19s00_16",ja="_quizType_19s00_24",za="_comment_19s00_33",$a="_readingUnit_19s00_43",Ca="_startButton_19s00_50",Qa="_revisionIntro_19s00_73",Aa="_revisionBoard_19s00_115",Na="_txtLabel_19s00_128",Ta="_txtCount_19s00_140",Ia="_revisionFreeIntro_19s00_175",Ba="_selectBox_19s00_254",Ea="_passButton_19s00_259",Pa="_goButton_19s00_281",ns={stepIntro:Sa,container:wa,stepOrder:va,quizType:ja,comment:za,readingUnit:$a,startButton:Ca,revisionIntro:Qa,revisionBoard:Aa,txtLabel:Na,txtCount:Ta,revisionFreeIntro:Ia,selectBox:Ba,passButton:Ea,goButton:Pa},Ma="_stepIntro_3r5qb_1",La="_container_3r5qb_8",Ra="_stepOrder_3r5qb_16",qa="_quizType_3r5qb_24",Fa="_comment_3r5qb_36",Ha="_readingUnit_3r5qb_47",Oa="_startButton_3r5qb_54",Da="_revisionIntro_3r5qb_77",Wa="_revisionBoard_3r5qb_122",Va="_txtLabel_3r5qb_135",Ga="_txtCount_3r5qb_147",Ua="_revisionFreeIntro_3r5qb_182",Ka="_selectBox_3r5qb_264",Ja="_passButton_3r5qb_270",Ya="_goButton_3r5qb_292",ss={stepIntro:Ma,container:La,stepOrder:Ra,quizType:qa,comment:Fa,readingUnit:Ha,startButton:Oa,revisionIntro:Da,revisionBoard:Wa,txtLabel:Va,txtCount:Ga,revisionFreeIntro:Ua,selectBox:Ka,passButton:Ja,goButton:Ya},Xa=new Q(navigator.userAgent),Za=Xa.phone(),Tt=Za?ss:ns;function Ee({step:t,quizType:i,comment:n,onStepIntroClozeHandler:o}){const r=Vt();return e.jsx("div",{className:Tt.stepIntro,children:e.jsxs("div",{className:`${Tt.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:Tt.stepOrder,children:t==="R"?"Re Test":`Step ${t}`}),e.jsx("div",{className:Tt.quizType,children:i}),e.jsx("div",{className:Tt.comment,children:n}),e.jsx("div",{className:Tt.readingUnit,children:e.jsx("img",{src:`https://wcfresource.a1edu.com/newsystem/image/character/subcharacter/${r}_13.png`,alt:""})}),e.jsx("div",{className:Tt.startButton,onClick:o,children:"Start"})]})})}const ec="/study/BookReading/assets/icon_play_red-63042177.svg",tc="/study/BookReading/assets/icon_stop_gray-683765e6.svg",nc="/study/BookReading/assets/icon_heart-248c237d.svg",sc="/study/BookReading/assets/icon_return-9e97dd23.svg",oc="/study/BookReading/assets/arrow-right_white-10eaa94b.svg",Me=({width:t,height:i,isColor:n})=>e.jsx(e.Fragment,{children:n&&e.jsx("img",{src:ec,width:t,height:i})}),Le=({width:t,height:i,isColor:n})=>e.jsx(e.Fragment,{children:n&&e.jsx("img",{src:tc,width:t,height:i})}),ic=({width:t,height:i,isColor:n})=>e.jsx(e.Fragment,{children:n&&e.jsx("img",{src:nc,width:t,height:i})}),os=({width:t,height:i})=>e.jsx(e.Fragment,{children:e.jsx("img",{src:sc,width:t,height:i})}),rc=({width:t,height:i})=>e.jsx(e.Fragment,{children:e.jsx("img",{src:oc,width:t,height:i})}),ac="_quizTemplate_1fv6z_1",cc="_quizHeader_1fv6z_9",uc="_quizHeaderCol1_1fv6z_23",lc="_quizNumber_1fv6z_27",dc="_attempts_1fv6z_37",mc="_txtL_1fv6z_46",xc="_qMark_1fv6z_51",_c="_quizHeaderCol2_1fv6z_63",hc="_quizTimer_1fv6z_68",pc="_iconTimer_1fv6z_75",gc="_quizHeaderCol3_1fv6z_91",yc="_openMenuButton_1fv6z_96",fc="_quizBody_1fv6z_114",kc="_container_1fv6z_125",bc="_btnDelete_1fv6z_151",ao={quizTemplate:ac,quizHeader:cc,quizHeaderCol1:uc,quizNumber:lc,attempts:dc,txtL:mc,qMark:xc,quizHeaderCol2:_c,quizTimer:hc,iconTimer:pc,quizHeaderCol3:gc,openMenuButton:yc,quizBody:fc,container:kc,btnDelete:bc},Sc="_quizTemplate_1oz7u_2",wc="_quizHeader_1oz7u_33",vc="_quizHeaderCol1_1oz7u_47",jc="_quizNumber_1oz7u_51",zc="_attempts_1oz7u_61",$c="_txtL_1oz7u_70",Cc="_qMark_1oz7u_75",Qc="_quizHeaderCol2_1oz7u_87",Ac="_quizTimer_1oz7u_92",Nc="_iconTimer_1oz7u_100",Tc="_quizHeaderCol3_1oz7u_113",Ic="_openMenuButton_1oz7u_118",Bc="_quizBody_1oz7u_136",Ec="_container_1oz7u_147",Pc="_btnDelete_1oz7u_173",co={quizTemplate:Sc,quizHeader:wc,quizHeaderCol1:vc,quizNumber:jc,attempts:zc,txtL:$c,qMark:Cc,quizHeaderCol2:Qc,quizTimer:Ac,iconTimer:Nc,quizHeaderCol3:Tc,openMenuButton:Ic,quizBody:Bc,container:Ec,btnDelete:Pc},Mc=new Q(navigator.userAgent),Lc=Mc.phone(),kt=Lc?co:ao;function je({quizNumber:t,totalQuizCnt:i,life:n,timeMin:o,timeSec:r,changeSideMenu:u}){const d=`${o<=9?"0"+o:o}:${r<=9?"0"+r:r}`;return e.jsxs("div",{className:`${kt.quizHeader} animate__animated animate__slideInDown`,children:[e.jsxs("div",{className:kt.quizHeaderCol1,children:[e.jsxs("div",{className:kt.quizNumber,children:[t,e.jsx("span",{style:{fontSize:"16px"},children:"/"}),i,e.jsxs("div",{className:kt.attempts,children:[e.jsx(ic,{isColor:!0,width:18,height:18}),e.jsx("div",{className:kt.txtL,children:n})]})]}),e.jsx("div",{className:kt.qMark})]}),e.jsx("div",{className:kt.quizHeaderCol2,children:e.jsxs("div",{className:kt.quizTimer,children:[e.jsx("div",{className:kt.iconTimer}),d]})}),e.jsx("div",{className:kt.quizHeaderCol3,children:e.jsx("div",{className:kt.openMenuButton,onClick:()=>u(!0)})})]})}const Rc="_study_side_menu_l0bh9_1",qc="_study_side_menu_container_l0bh9_9",Fc="_study_side_menu_area_top_l0bh9_33",Hc="_close_side_menu_l0bh9_39",Oc="_btn_delete_l0bh9_44",Dc="_book_info_l0bh9_56",Wc="_book_code_l0bh9_56",Vc="_book_title_l0bh9_60",Gc="_label_l0bh9_65",Uc="_study_side_menu_area_bottom_l0bh9_72",Kc="_btn_exit_l0bh9_77",Jc="_txt_l0bh9_81",Yc="_screen_block_l0bh9_85",Xc="_select_study_menu_l0bh9_94",Zc="_select_study_menu_item_l0bh9_101",eu="_on_l0bh9_120",tu="_go_on_l0bh9_126",nu="_completed_l0bh9_132",su="_ebook_more_activity_l0bh9_146",ou="_ebook_more_activity_item_l0bh9_150",iu="_study_side_menu_quiz_scoreboard_l0bh9_167",ru="_step_info_l0bh9_167",au="_step_l0bh9_167",cu="_score_info_l0bh9_182",uu="_quiz_type_l0bh9_182",lu="_score_row_l0bh9_186",du="_header_l0bh9_189",mu="_score_col_l0bh9_193",me={study_side_menu:Rc,study_side_menu_container:qc,study_side_menu_area_top:Fc,close_side_menu:Hc,btn_delete:Oc,book_info:Dc,book_code:Wc,book_title:Vc,label:Gc,study_side_menu_area_bottom:Uc,btn_exit:Kc,txt:Jc,screen_block:Yc,select_study_menu:Xc,select_study_menu_item:Zc,on:eu,"move-it":"_move-it_l0bh9_1",go_on:tu,completed:nu,ebook_more_activity:su,ebook_more_activity_item:ou,study_side_menu_quiz_scoreboard:iu,step_info:ru,step:au,score_info:cu,quiz_type:uu,score_row:lu,header:du,score_col:mu},xu="/study/BookReading/assets/repeat-627ef06f.svg",pi="/study/BookReading/assets/delete-351e7fec.svg",gi="/study/BookReading/assets/exite-6d407d36.svg";function _u({currentStep:t,changeStep:i}){const{studyInfo:n}=c.useContext(oe);return e.jsx(e.Fragment,{children:n.openSteps.map((o,r)=>e.jsxs("div",{className:`${me.step} ${t===o?me.on:""}`,onClick:()=>{n.mode!=="Quiz"&&i(o)},children:[t===o?"Step":"",o]},`step-header-${r}`))})}function hu({maxAnswerCount:t}){const i=["1st","2nd","3rd","th"];let n=[];for(let o=0;o<t;o++)n.push(e.jsx("div",{className:`${me.score_col}`,children:i[o]},`col-header-side-menu-${o}`));return e.jsxs("div",{className:`${me.score_row} ${me.header}`,children:[e.jsx("div",{className:`${me.score_col}`,children:"Q"}),n]})}const pu="/study/BookReading/assets/icon_score_item_correct-30152e7d.svg",So="/study/BookReading/assets/icon_score_item_incorrect-c4ad3860.svg",gu=({maxAnswerCount:t,scoreBoardData:i})=>{let n=[];if(i){for(let o=1;o<=t;o++)o<i.answerCount?n.push(e.jsx("div",{className:`${me.score_col}`,children:e.jsx("img",{src:So,alt:""})})):o===i.answerCount?i.ox?n.push(e.jsx("div",{className:`${me.score_col}`,children:e.jsx("img",{src:pu,alt:""})})):n.push(e.jsx("div",{className:`${me.score_col}`,children:e.jsx("img",{src:So,alt:""})})):n.push(e.jsx("div",{className:`${me.score_col}`}));return n}else{for(let o=0;o<t;o++)n.push(e.jsx("div",{className:`${me.score_col}`}));return n}};function yu({quizLength:t,maxAnswerCount:i,scoreBoardData:n}){let o=[];for(let r=0;r<t;r++)o.push(e.jsxs("div",{className:`${me.score_row}`,children:[e.jsx("div",{className:`${me.score_col}`,children:r+1}),e.jsx(gu,{maxAnswerCount:i,scoreBoardData:n[r]})]},`smsbr-${r}`));return e.jsx(e.Fragment,{children:o})}function fu({currentStep:t,currentStepType:i,quizLength:n,maxAnswerCount:o,scoreBoardData:r,changeStep:u}){return e.jsxs("div",{className:me.study_side_menu_quiz_scoreboard,children:[e.jsx("div",{className:me.step_info,children:e.jsx(_u,{currentStep:t,changeStep:u})}),e.jsxs("div",{className:me.score_info,children:[e.jsx("div",{className:me.quiz_type,children:i}),i!=="Vocabulary Practice"&&e.jsxs(e.Fragment,{children:[e.jsx(hu,{maxAnswerCount:o}),e.jsx("div",{children:e.jsx(yu,{quizLength:n,maxAnswerCount:o,scoreBoardData:r})})]})]})]})}function ze({isSideOpen:t,currentStep:i,currentStepType:n,quizLength:o,maxAnswerCount:r,scoreBoardData:u,changeSideMenu:d,changeStep:a}){const{bookInfo:m,handler:g}=c.useContext(oe),[f,h]=c.useState("animate__fadeIn"),[y,k]=c.useState("animate__slideInRight"),_=()=>{h("animate__fadeOut"),k("animate__slideOutRight")},s=()=>{f==="animate__fadeOut"&&d(!1)};return e.jsx(e.Fragment,{children:t&&e.jsxs("div",{id:"study-side-menu",className:`${me.study_side_menu} ${f}`,onAnimationEnd:()=>{s()},children:[e.jsxs("div",{id:"study-side-menu-container",className:`${me.study_side_menu_container} ${y}`,children:[e.jsxs("div",{className:me.study_side_menu_area_top,children:[e.jsx("div",{className:me.close_side_menu,children:e.jsx("div",{className:me.btn_delete,onClick:()=>{_()},children:e.jsx("img",{src:pi,alt:""})})}),e.jsxs("div",{className:me.book_info,children:[e.jsx("div",{className:me.book_code,children:m.BookCode}),e.jsx("div",{className:me.book_title,children:m.Title})]}),m.BookCode.includes("EB")&&e.jsx("div",{className:me.select_study_menu,children:e.jsxs("div",{className:`${me.select_study_menu_item}`,onClick:()=>{g.changeView("story")},children:[e.jsx("img",{src:xu,alt:""}),"다시 읽기",e.jsxs("div",{className:"pyro",children:[e.jsx("div",{className:"before"}),e.jsx("div",{className:"after"})]})]})}),e.jsx(fu,{currentStep:i,currentStepType:n,quizLength:o,maxAnswerCount:r,scoreBoardData:u,changeStep:a})]}),e.jsx("div",{className:me.study_side_menu_area_bottom,children:e.jsxs("div",{className:me.btn_exit,onClick:()=>{try{window.onExitStudy()}catch{location.replace("/")}},children:[e.jsx("img",{src:gi,alt:""}),e.jsx("div",{className:"txt",children:"나가기"})]})})]}),e.jsx("div",{className:me.screen_block,onClick:()=>_()})]})})}const ku=new Q(navigator.userAgent),bu=ku.phone(),wo=bu?co:ao;function $e({children:t}){return e.jsx("div",{className:`${wo.quizBody} animate__animated animate__fadeIn`,children:e.jsx("div",{className:wo.container,children:t})})}function Ae({typeCSS:t,containerCSS:i,children:n}){return e.jsx("div",{className:`${t}`,children:e.jsx("div",{className:`${i}`,children:n})})}const Su="_correctPopup_10dqy_1",wu="_readingUnitArea_10dqy_16",vu="_txtL_10dqy_26",ju="_incorrectPopup_10dqy_38",zu="_screenBlock_10dqy_75",$u={correctPopup:Su,readingUnitArea:wu,txtL:vu,incorrectPopup:ju,screenBlock:zu},Cu="_correctPopup_4ircx_1",Qu="_readingUnitArea_4ircx_15",Au="_txtL_4ircx_25",Nu="_incorrectPopup_4ircx_38",Tu="_screenBlock_4ircx_75",Iu={correctPopup:Cu,readingUnitArea:Qu,txtL:Au,incorrectPopup:Nu,screenBlock:Tu},Bu=new Q(navigator.userAgent),Eu=Bu.phone(),on=Eu?Iu:$u;function Ye({bottomPopupState:t}){const i=Vt();return e.jsx(e.Fragment,{children:t.isActive&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${t.isCorrect?on.correctPopup:on.incorrectPopup}  animate__animated animate__slideInUp`,children:e.jsxs("div",{className:on.readingUnitArea,children:[e.jsx("div",{className:on.txtL,children:t.isCorrect?"Correct!":"Oops..."}),e.jsx("img",{src:`https://wcfresource.a1edu.com/newsystem/image/character/subcharacter/${i}_${t.isCorrect?"08":"09"}.png`,alt:"",className:`animate__animated ${t.isCorrect?"animate__tada":"animate__pulse"}`})]})}),e.jsx("div",{className:on.screenBlock})]})})}const Pu="_testResult_1rhuh_1",Mu="_scoreBoard_1rhuh_9",Lu="_score_1rhuh_9",Ru="_count1_1rhuh_26",qu="_count3_1rhuh_29",Fu="_wrongAnswers_1rhuh_44",Hu="_title_1rhuh_50",Ou="_quizQuestion_1rhuh_61",Du="_questionSentence_1rhuh_68",Wu="_answers_1rhuh_71",Vu="_correctAnswer_1rhuh_78",Gu="_txtL_1rhuh_85",Uu="_correctAnswerNum_1rhuh_88",Ku="_quizAnswer_1rhuh_98",Ju="_label_1rhuh_109",Yu="_correctIcon_1rhuh_114",Xu="_incorrectIcon_1rhuh_122",Zu="_wrongAnswer_1rhuh_44",el="_quizType_1rhuh_141",tl="_large_1rhuh_150",nl="_nextToVocaTest_1rhuh_153",sl="_totalScoreContainer_1rhuh_163",ol="_totalScore_1rhuh_163",il="_container_1rhuh_184",rl="_borderNone_1rhuh_202",al="_readingUnit_1rhuh_205",cl="_passmark_1rhuh_211",ul="_board1_1rhuh_220",ll="_correctScore_1rhuh_226",dl="_number_1rhuh_240",ml="_incorrectScore_1rhuh_244",xl="_board2_1rhuh_262",_l="_row_1rhuh_268",hl="_nextButton_1rhuh_280",pl="_shadow_1rhuh_1",gl="_goButton_1rhuh_311",yl="_notYetButton_1rhuh_333",fl="_submitRevision_1rhuh_357",kl="_stepOrder_1rhuh_372",bl="_comment_1rhuh_394",Sl="_revisionBoard_1rhuh_404",wl="_txtLabel_1rhuh_417",vl="_txtCount_1rhuh_429",jl="_selectBox_1rhuh_441",zl="_revisionDone_1rhuh_446",$l="_noButton_1rhuh_449",Cl="_yesButton_1rhuh_471",Ql="_heartbeat_1rhuh_494",Al="_btnDelete_1rhuh_567",Nl="_quizEndingPass_1rhuh_582",Tl="_groupGoodJob_1rhuh_608",Il="_imgUnit_1rhuh_617",Bl="_imgPointCoin_1rhuh_625",El="_txtAchivePoint_1rhuh_638",Pl="_imgGoodJobRibbon_1rhuh_644",Ml="_imgConfetti_1rhuh_652",Ll="_groupScore_1rhuh_663",Rl="_txtMessage_1rhuh_683",ql="_quizEndingFail_1rhuh_688",Fl="_groupTryAgin_1rhuh_714",Hl="_imgTryAgainRibbon_1rhuh_731",yt={testResult:Pu,scoreBoard:Mu,score:Lu,count1:Ru,count3:qu,wrongAnswers:Fu,title:Hu,quizQuestion:Ou,questionSentence:Du,answers:Wu,correctAnswer:Vu,txtL:Gu,correctAnswerNum:Uu,quizAnswer:Ku,label:Ju,correctIcon:Yu,incorrectIcon:Xu,wrongAnswer:Zu,quizType:el,large:tl,nextToVocaTest:nl,totalScoreContainer:sl,totalScore:ol,container:il,borderNone:rl,readingUnit:al,passmark:cl,board1:ul,correctScore:ll,number:dl,incorrectScore:ml,board2:xl,row:_l,nextButton:hl,shadow:pl,goButton:gl,notYetButton:yl,submitRevision:fl,stepOrder:kl,comment:bl,revisionBoard:Sl,txtLabel:wl,txtCount:vl,selectBox:jl,revisionDone:zl,noButton:$l,yesButton:Cl,heartbeat:Ql,btnDelete:Al,quizEndingPass:Nl,groupGoodJob:Tl,imgUnit:Il,imgPointCoin:Bl,txtAchivePoint:El,imgGoodJobRibbon:Pl,imgConfetti:Ml,groupScore:Ll,txtMessage:Rl,quizEndingFail:ql,groupTryAgin:Fl,imgTryAgainRibbon:Hl},Ol="_testResult_a04zm_1",Dl="_scoreBoard_a04zm_10",Wl="_score_a04zm_10",Vl="_count1_a04zm_27",Gl="_count3_a04zm_30",Ul="_wrongAnswers_a04zm_45",Kl="_title_a04zm_51",Jl="_quizQuestion_a04zm_63",Yl="_questionSentence_a04zm_70",Xl="_answers_a04zm_73",Zl="_correctAnswer_a04zm_80",ed="_txtL_a04zm_87",td="_correctAnswerNum_a04zm_90",nd="_quizAnswer_a04zm_100",sd="_label_a04zm_111",od="_correctIcon_a04zm_116",id="_incorrectIcon_a04zm_124",rd="_wrongAnswer_a04zm_45",ad="_quizType_a04zm_143",cd="_large_a04zm_152",ud="_nextToVocaTest_a04zm_155",ld="_totalScoreContainer_a04zm_165",dd="_totalScore_a04zm_165",md="_container_a04zm_186",xd="_borderNone_a04zm_204",_d="_readingUnit_a04zm_207",hd="_passmark_a04zm_213",pd="_board1_a04zm_222",gd="_correctScore_a04zm_228",yd="_number_a04zm_242",fd="_incorrectScore_a04zm_246",kd="_board2_a04zm_264",bd="_row_a04zm_270",Sd="_nextButton_a04zm_282",wd="_shadow_a04zm_1",vd="_goButton_a04zm_313",jd="_notYetButton_a04zm_335",zd="_submitRevision_a04zm_359",$d="_stepOrder_a04zm_373",Cd="_comment_a04zm_395",Qd="_revisionBoard_a04zm_405",Ad="_txtLabel_a04zm_418",Nd="_txtCount_a04zm_430",Td="_selectBox_a04zm_442",Id="_revisionDone_a04zm_448",Bd="_noButton_a04zm_451",Ed="_yesButton_a04zm_473",Pd="_heartbeat_a04zm_496",Md="_btnDelete_a04zm_569",Ld="_quizEndingPass_a04zm_584",Rd="_groupGoodJob_a04zm_610",qd="_imgUnit_a04zm_619",Fd="_imgPointCoin_a04zm_627",Hd="_txtAchivePoint_a04zm_640",Od="_imgGoodJobRibbon_a04zm_646",Dd="_imgConfetti_a04zm_654",Wd="_groupScore_a04zm_665",Vd="_txtMessage_a04zm_685",Gd="_quizEndingFail_a04zm_690",Ud="_groupTryAgin_a04zm_716",Kd="_imgTryAgainRibbon_a04zm_733",ft={testResult:Ol,scoreBoard:Dl,score:Wl,count1:Vl,count3:Gl,wrongAnswers:Ul,title:Kl,quizQuestion:Jl,questionSentence:Yl,answers:Xl,correctAnswer:Zl,txtL:ed,correctAnswerNum:td,quizAnswer:nd,label:sd,correctIcon:od,incorrectIcon:id,wrongAnswer:rd,quizType:ad,large:cd,nextToVocaTest:ud,totalScoreContainer:ld,totalScore:dd,container:md,borderNone:xd,readingUnit:_d,passmark:hd,board1:pd,correctScore:gd,number:yd,incorrectScore:fd,board2:kd,row:bd,nextButton:Sd,shadow:wd,goButton:vd,notYetButton:jd,submitRevision:zd,stepOrder:$d,comment:Cd,revisionBoard:Qd,txtLabel:Ad,txtCount:Nd,selectBox:Td,revisionDone:Id,noButton:Bd,yesButton:Ed,heartbeat:Pd,btnDelete:Md,quizEndingPass:Ld,groupGoodJob:Rd,imgUnit:qd,imgPointCoin:Fd,txtAchivePoint:Hd,imgGoodJobRibbon:Od,imgConfetti:Dd,groupScore:Wd,txtMessage:Vd,quizEndingFail:Gd,groupTryAgin:Ud,imgTryAgainRibbon:Kd};function X({height:t}){return e.jsx("div",{style:{height:`${t}px`}})}const Jd=new Q(navigator.userAgent),Yd=Jd.phone(),as=Yd?ft:yt;function Xd({studentAnswer:t,quizAnswerCount:i}){let n=0,o=[],r=[];return t.map(u=>{n!==u.quizNo&&(n=u.quizNo,r.push(e.jsx("div",{children:n})));for(let d=1;d<=i;d++)d<u.answerCount?r.push(e.jsx("div",{children:"X"})):d===u.answerCount?u.ox?r.push(e.jsx("div",{children:"O"})):r.push(e.jsx("div",{children:"X"})):r.push(e.jsx("div",{}));o.push(e.jsx("div",{className:`${as.score} ${i===3?as.count3:i===1?as.count1:""}`,children:r},`rows-result-${n}`)),r=[]}),e.jsx(e.Fragment,{children:o})}const Zd=new Q(navigator.userAgent),em=Zd.phone(),cs=em?ft:yt;function tm({quizAnswerCount:t}){const i=["1st","2nd","3rd","th"];let n=[];for(let o=0;o<t;o++)n.push(e.jsx("div",{children:i[o]},`col-header-test-result-${o}`));return e.jsxs("div",{className:`${cs.row} ${t===3?cs.count3:t===1?cs.count1:""}`,children:[e.jsx("div",{children:"Q"}),n]})}const nm=new Q(navigator.userAgent),sm=nm.phone(),om=sm?ft:yt;function yi({quizAnswerCount:t,studentAnswer:i}){return e.jsxs("div",{className:om.scoreBoard,children:[e.jsx(tm,{quizAnswerCount:t}),e.jsx(Xd,{studentAnswer:i,quizAnswerCount:t})]})}const im=new Q(navigator.userAgent),rm=im.phone(),Xe=rm?ft:yt;function tt({step:t,quizType:i,quizAnswerCount:n,studentAnswer:o,passMark:r,onFinishActivity:u}){const d=Vt();let a=0,m=0,g=0;const f=100/o.length;return o.map(h=>{if(h.ox)switch(m++,h.answerCount){case 1:a+=1*f;break;case 2:a+=.5*f;break;case 3:a+=.25*f;break}else h.answerCount>=n&&g++}),e.jsxs("div",{className:Xe.testResult,children:[e.jsxs("div",{className:Xe.quizType,children:["Step ",t,". ",i]}),e.jsxs("div",{className:Xe.totalScoreContainer,children:[e.jsx("div",{className:Xe.txtL,children:"SCORE: "}),e.jsx("div",{className:`${Xe.totalScore} ${Xe.heartbeat}`,children:Math.round(a)})]}),e.jsxs("div",{className:Xe.container,children:[e.jsx("div",{className:`${Xe.readingUnit} animate__animated animate__jackInTheBox`,children:e.jsx("img",{src:`https://wcfresource.a1edu.com/newsystem/image/character/subcharacter/${d}_10.png`,alt:""})}),r&&e.jsxs("div",{className:Xe.passmark,children:["Passmark: ",r]}),e.jsxs("div",{className:`${Xe.board1} animate__animated animate__fadeIn`,children:[e.jsxs("div",{className:Xe.correctScore,children:[e.jsx("div",{className:Xe.title,children:"correct"}),e.jsx("div",{className:Xe.number,children:m})]}),e.jsxs("div",{className:Xe.incorrectScore,children:[e.jsx("div",{className:Xe.title,children:"incorrect"}),e.jsx("div",{className:Xe.number,children:g})]})]}),e.jsx("div",{className:Xe.board2,children:e.jsx(yi,{quizAnswerCount:n,studentAnswer:o})}),e.jsx(X,{height:50})]}),e.jsx("div",{className:Xe.nextButton,onClick:()=>u(),children:"Next"})]})}const am=new Q(navigator.userAgent),cm=am.phone(),hn=cm?it:et;function um({index:t,correctText:i,example:n,checkAnswer:o}){const{bookInfo:r,studyInfo:u}=c.useContext(oe);return e.jsxs("div",{className:`${hn.textCard} 
      ${u.mode==="Review"&&Number(r.Average)>=70&&n.Text===i?hn.correct:""}`,onClick:d=>o(d.currentTarget,n.Text),children:[e.jsx("div",{className:hn.cardNumber,children:Number(t+1)}),e.jsx("div",{className:hn.awnserText,children:n.Text})]})}const lm=new Q(navigator.userAgent),dm=lm.phone(),vo=dm?it:et;function mm({correctText:t,exampleData:i,checkAnswer:n}){return e.jsx("div",{className:vo.answers,children:e.jsx("div",{className:vo.container,children:i.map((o,r)=>e.jsx(um,{index:r,correctText:t,example:o,checkAnswer:n}))})})}const xm=new Q(navigator.userAgent),_m=xm.phone(),jo=_m?it:et;function hm({playState:t,playSentence:i}){return e.jsxs("div",{className:jo.wordPlayButton,onClick:()=>i(),children:[t==="playing"?e.jsx(Le,{isColor:!0,width:34,height:34}):e.jsx(Me,{isColor:!0,width:34,height:34}),e.jsx("div",{className:jo.txtL,children:"Playback"})]})}const pm=new Q(navigator.userAgent),gm=pm.phone(),ym=gm?it:et;function fm({blankRef:t,correctAnswer:i}){return e.jsx("span",{ref:t,className:`${ym.answerBox}`,children:t.current&&t.current.classList.length>1&&i})}const km=new Q(navigator.userAgent),bm=km.phone(),Sm=bm?it:et;function wm({blankRef:t,question:i,correctAnswer:n}){return e.jsx("div",{className:Sm.questionBox,children:i.split(" ").map((o,r)=>o.includes("┒")?sn(o,"┒",()=>e.jsx(fm,{blankRef:t,correctAnswer:n})):e.jsx("span",{children:o}))})}const vm="_wordPlayButton_167cv_1",jm="_txtL_167cv_16",zm="_trueSentencePopup_167cv_28",$m="_title_167cv_31",Cm="_container_167cv_36",Qm="_sentence_167cv_50",Am="_nextButton_167cv_56",Nm={wordPlayButton:vm,txtL:jm,trueSentencePopup:zm,title:$m,container:Cm,sentence:Qm,nextButton:Am},Tm="_wordPlayButton_csjet_1",Im="_txtL_csjet_16",Bm="_trueSentencePopup_csjet_28",Em="_title_csjet_31",Pm="_container_csjet_36",Mm="_sentence_csjet_50",Lm="_nextButton_csjet_57",Rm={wordPlayButton:Tm,txtL:Im,trueSentencePopup:Bm,title:Em,container:Pm,sentence:Mm,nextButton:Lm},qm=new Q(navigator.userAgent),Fm=qm.phone(),It=Fm?Rm:Nm;function Hm({playState:t,sentence:i,changeCorrectSentenceState:n,playSentence:o}){return e.jsxs("div",{className:It.trueSentencePopup,children:[e.jsx("div",{className:It.title,children:"Correct Sentence"}),e.jsxs("div",{className:It.container,children:[e.jsxs("div",{className:It.wordPlayButton,onClick:()=>o(),children:[t==="playing"?e.jsx(Le,{isColor:!0,width:24,height:24}):e.jsx(Me,{isColor:!0,width:24,height:24}),e.jsx("div",{className:It.txtL,children:"Playback"})]}),e.jsx("div",{className:It.sentence,children:i})]}),e.jsx("div",{className:It.nextButton,onClick:()=>n(!1),children:"Next"})]})}const Om=new Q(navigator.userAgent),qs=Om.phone(),pn="Cloze Test",vt=qs?it:et;function Dm(t){const{bookInfo:i,handler:n,studyInfo:o}=c.useContext(oe),r=t.currentStep,u=Se(()=>{$()}),d=rt(),[a,m]=c.useState("animate__bounceInRight"),{isStepIntro:g,closeStepIntro:f}=be(),{isResultShow:h,changeResultShow:y}=qe(),[k,_]=c.useState(!1),s=c.useRef(null),x=c.useRef(!1),[l,p]=we(or,t,r),[S,b]=c.useState(1),{scoreBoardData:v,setStudentAnswers:N,addStudentAnswer:j,makeUserAnswerData:C}=ve(o.mode),[P,w]=c.useState([]),[q,I]=c.useState(0),[F,U]=c.useState(0),[L,H]=c.useState(!1),{bottomPopupState:T,changeBottomPopupState:O}=Je(),{playState:R,playAudio:Y,stopAudio:D}=Pe();if(c.useEffect(()=>{!g&&l&&(u.setup(l.QuizTime,!0),Y(l.Quiz[S-1].Question.Sound),x.current=!1)},[g]),c.useEffect(()=>{if(l){const[se,re]=ot(o.mode,p,l.QuizAnswerCount);I(re),U(re),o.mode==="Super"?w(l.Quiz[se-1].Examples):w(xe.shuffle(l.Quiz[se-1].Examples)),N(p,l.QuizAnswerCount),b(se)}},[l]),c.useEffect(()=>{l&&(D(),L?Y(l.Quiz[S-1].Question.Sound):S+1>l.Quiz.length?y(!0):b(S+1))},[L]),c.useEffect(()=>{!g&&!h&&l&&(u.setup(l.QuizTime,!0),U(0),I(0),o.mode==="Super"?w(l.Quiz[S-1].Examples):w(xe.shuffle(l.Quiz[S-1].Examples)),Y(l.Quiz[S-1].Question.Sound),x.current=!1)},[S]),!l)return e.jsx(e.Fragment,{children:"Loading..."});const W=async(se,re="")=>{var ce,Z;try{if(!x.current){x.current=!0,u.stop();const ae=l.Quiz[S-1].Examples[0].Text,E=ae===re,J={quizNo:S,maxCount:l.QuizAnswerCount,answerCount:q+1,ox:E},G=C({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:l.Quiz[S-1].QuizId,quizNo:l.Quiz[S-1].QuizNo,currentQuizNo:S,correct:ae,selectedAnswer:re,tryCount:q+1,maxQuizCount:l.QuizAnswerCount,quizLength:l.Quiz.length,isCorrect:E,answerData:J,isFinishStudy:t.lastStep===r}),V=await Ce(o.mode,G);Number(V.result)===0&&(V.resultMessage&&(n.finishStudy={id:Number(V.result),cause:V.resultMessage}),E?(d.play(se,[vt.correct,"animate__fadeIn"]),(ce=s.current)==null||ce.classList.add(vt.correctAnswer)):(d.play(se,[vt.incorrect,"animate__headShake"]),(Z=s.current)==null||Z.classList.add(vt.incorrectAnswer)),j(J),E||U(F+1),I(q+1),B(E,se))}}catch(ae){console.error(ae)}},B=(se,re)=>{O({isActive:!0,isCorrect:se}),setTimeout(()=>{O({isActive:!1,isCorrect:!1}),i.BookLevel.includes("1")?S+1>l.Quiz.length?y(!0):b(S+1):K(!0),d.remove(re,[vt.correct,vt.incorrect,"animate__fadeIn","animate__headShake"])},2e3)},$=async()=>{try{if(!x.current){x.current=!0,u.stop();const se=l.Quiz[S-1].Examples[0].Text,re={quizNo:S,maxCount:l.QuizAnswerCount,answerCount:q+1,ox:!1},ce=C({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:l.Quiz[S-1].QuizId,quizNo:l.Quiz[S-1].QuizNo,currentQuizNo:S,correct:se,selectedAnswer:"",tryCount:q+1,maxQuizCount:l.QuizAnswerCount,quizLength:l.Quiz.length,isCorrect:!1,answerData:re,isFinishStudy:t.lastStep===r}),Z=await Ce(o.mode,ce);Number(Z.result)===0&&(Z.resultMessage&&(n.finishStudy={id:Number(Z.result),cause:Z.resultMessage}),j(re),U(F+1),I(q+1),A())}}catch(se){console.error(se)}},A=()=>{O({isActive:!0,isCorrect:!1}),setTimeout(()=>{O({isActive:!1,isCorrect:!1}),i.BookLevel.includes("1")?S+1>l.Quiz.length?y(!0):b(S+1):K(!0)},2e3)},M=()=>{R===""?Y(l.Quiz[S-1].Question.Sound):D()},K=se=>{H(se)},te=se=>{_(se)};return e.jsx(e.Fragment,{children:g?e.jsx("div",{className:`animate__animated ${a}`,onAnimationEnd:()=>{a==="animate__bounceOutLeft"&&f()},children:e.jsx(Ee,{step:r,quizType:pn,comment:"문장을 읽고 빈칸에 들어갈 알맞은 답을 고르세요.",onStepIntroClozeHandler:()=>{m("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:h?e.jsx(tt,{step:r,quizType:pn,quizAnswerCount:l.QuizAnswerCount,studentAnswer:v,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:S,totalQuizCnt:Object.keys(l.Quiz).length,life:l.QuizAnswerCount-F,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:te}),e.jsx("div",{className:`${vt.comment} animate__animated animate__fadeInLeft`,children:pn}),e.jsx($e,{children:L?e.jsx(Hm,{playState:R,sentence:l.Quiz[S-1].Question.Text.replace("┒",l.Quiz[S-1].Examples[0].Text),changeCorrectSentenceState:K,playSentence:M}):e.jsxs(Ae,{typeCSS:vt.clozeTest1,containerCSS:vt.container,children:[qs?e.jsx(e.Fragment,{}):e.jsx(X,{height:0}),e.jsx(hm,{playState:R,playSentence:M}),e.jsx(wm,{blankRef:s,question:l.Quiz[S-1].Question.Text,correctAnswer:l.Quiz[S-1].Examples[0].Text}),qs?e.jsx(X,{height:20}):e.jsx(X,{height:30}),e.jsx(mm,{correctText:l.Quiz[S-1].Examples[0].Text,exampleData:P,checkAnswer:W})]})}),k&&e.jsx(ze,{isSideOpen:k,currentStep:r,currentStepType:pn,quizLength:l.Quiz.length,maxAnswerCount:l.QuizAnswerCount,changeSideMenu:te,scoreBoardData:v,changeStep:t.changeStep}),e.jsx(Ye,{bottomPopupState:T})]})})})}const Wm=new Q(navigator.userAgent),Vm=Wm.phone(),zo=Vm?it:et;function Gm({playState:t,playSentence:i}){return e.jsxs("div",{className:zo.wordPlayButton,onClick:()=>i(),children:[t==="playing"||t==="endFn"?e.jsx(Le,{isColor:!0,width:34,height:34}):e.jsx(Me,{isColor:!0,width:34,height:34}),e.jsx("div",{className:zo.txtL,children:"Playback"})]})}const Um=new Q(navigator.userAgent),Km=Um.phone(),gn=Km?it:et;function Jm({inputRefs:t,isWorking:i,inputIndex:n,currentIndex:o,inputValues:r,correctText:u,changeInputValue:d,checkAnswer:a,changeInputIndex:m}){const g=s=>{i&&s.preventDefault(),(s.key==="Tab"||s.altKey&&s.key==="Tab")&&(s.preventDefault(),t==null||t.current[o].focus())},f=s=>{s.preventDefault();const x=/^[a-zA-Z-' ]+(?:'){0,1}[a-zA-Z]?$/g;let l=s.currentTarget.value;x.test(l)||(l=l.slice(0,l.length-1)),d(o,l)},h=(s,x)=>{const l=s.currentTarget.value;if(s.key==="Enter"&&l!=="")if(k(t,x)===-1)m(-1),a();else{const S=y(t,x);m(S)}},y=(s,x)=>s==null?void 0:s.current.findIndex((p,S)=>!r[S].isCorrected&&S>x),k=(s,x)=>s==null?void 0:s.current.findLastIndex((p,S)=>!r[S].isCorrected&&S>x),_=()=>{m(n)};return e.jsx("div",{className:`${gn.answerBox} ${o===n?gn.currentOrder:""}`,children:o===n?e.jsx(e.Fragment,{children:e.jsx("div",{className:gn.currentInput,style:{width:"fit-contents"},children:e.jsx("input",{ref:s=>t.current[n]=s,id:"textFild",style:{width:`${u.length*15.6}px`},type:"text",value:r[o].text,onKeyDown:s=>g(s),onChange:s=>f(s),onKeyUp:s=>h(s,o),onCopy:s=>s.preventDefault(),onPaste:s=>s.preventDefault(),onCut:s=>s.preventDefault(),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search",autoFocus:!0,tabIndex:-1})})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:gn.otherInput,style:{width:"fit-contents"},children:e.jsx("input",{ref:s=>t.current[n]=s,style:{width:`${u.length*15.6}px`},value:r[n].text,onFocus:()=>_()})})})})}const Ym=new Q(navigator.userAgent),Xm=Ym.phone(),Ut=Xm?it:et;function Zm({inputRefs:t,penaltyState:i,inputIndex:n,currentIndex:o,correctText:r,changeInputIndex:u,changePenaltyState:d}){const[a,m]=c.useState(""),[g,f]=c.useState(0),[h,y]=c.useState(0),k=c.useRef(null),_=c.useRef(null),s=b=>{i!=="penalty"&&b.preventDefault(),(b.key==="Tab"||b.altKey&&b.key==="Tab")&&(b.preventDefault(),t.current[o].focus())},x=b=>{b.preventDefault();const v=/^[ㄱ-ㅎa-zA-Z-' ]+(?:'){0,1}[a-zA-Z]?$/g;let N=b.currentTarget.value;v.test(N)||(N=N.slice(0,N.length-1)),m(N)},l=(b,v)=>{if(b.currentTarget.value===r)if(S(t,v)===-1)u(-1),d("success");else{const C=p(t,v);u(C)}},p=(b,v)=>b.current.findIndex((j,C)=>(j==null?void 0:j.value)===""||C>v),S=(b,v)=>b.current.findLastIndex((j,C)=>C>v);return c.useEffect(()=>{k.current&&k.current.offsetWidth>0&&f(k.current.offsetWidth),_.current&&_.current.offsetWidth>0&&y(_.current.offsetWidth)}),e.jsx("span",{className:`${Ut.reviewAnswer} ${o===n?Ut.currentOrder:""}`,children:o===n?e.jsxs("span",{children:[e.jsx("span",{className:Ut.currentInput,children:e.jsx("input",{ref:b=>t.current[n]=b,id:"textFild",style:{width:`${g}px`},type:"text",value:a,onKeyDown:b=>s(b),onChange:b=>x(b),onKeyUp:b=>l(b,o),onCopy:b=>b.preventDefault(),onPaste:b=>b.preventDefault(),onCut:b=>b.preventDefault(),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search",autoFocus:!0,tabIndex:-1})}),e.jsx("div",{ref:k,className:Ut.hintText,children:r})]}):e.jsx(e.Fragment,{children:a===r||i==="success"?e.jsx("span",{style:{color:"#289EE4"},children:r}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:Ut.otherInput,children:e.jsx("input",{ref:b=>t.current[n]=b,style:{width:`${h}px`},disabled:!0})}),e.jsx("div",{ref:_,className:Ut.hintText,children:r})]})})})}const e0=new Q(navigator.userAgent),t0=e0.phone(),n0=t0?it:et;function s0({inputRefs:t,isWorking:i,exampleData:n,currentIndex:o,inputValues:r,penaltyState:u,changeInputValue:d,changeInputIndex:a,checkAnswer:m,changePenaltyState:g}){t.current=[];let f=-1;const h=n.Question.Text.split(" ").map(y=>({text:y,index:y.includes("┒")?++f:0}));return e.jsx("div",{className:n0.questionBox,children:h.map((y,k)=>y.text.includes("┒")?e.jsx(e.Fragment,{children:u==="none"?sn(y.text,"┒",()=>e.jsx(Jm,{inputRefs:t,isWorking:i,inputIndex:y.index,currentIndex:o,inputValues:r,correctText:n.Examples[y.index].Text,changeInputValue:d,checkAnswer:m,changeInputIndex:a},`text-input-${y.index}`)):sn(y.text,"┒",()=>e.jsx(Zm,{inputRefs:t,penaltyState:u,inputIndex:y.index,currentIndex:o,correctText:n.Examples[y.index].Text,changeInputIndex:a,changePenaltyState:g},`penalty-input-${y.index}`))}):e.jsx("span",{dangerouslySetInnerHTML:{__html:y.text}},`word-${k}`))})}const o0=new Q(navigator.userAgent),fi=o0.phone(),yn="Cloze Test",fn=fi?it:et;function i0(t){const{handler:i,studyInfo:n}=c.useContext(oe),o=t.currentStep,r=Se(()=>{$("timeout")}),[u,d]=c.useState("animate__bounceInRight"),{isStepIntro:a,closeStepIntro:m}=be(),{isResultShow:g,changeResultShow:f}=qe(),[h,y]=c.useState(!1),k=c.useRef(!0),[_,s]=we(ir,t,o),[x,l]=c.useState(1),{scoreBoardData:p,setStudentAnswers:S,addStudentAnswer:b,makeUserAnswerData:v}=ve(n.mode),[N,j]=c.useState(0),[C,P]=c.useState(0),w=c.useRef([]),[q,I]=c.useState([]),[F,U]=c.useState(0),[L,H]=c.useState("none"),{bottomPopupState:T,changeBottomPopupState:O}=Je(),{playState:R,playAudio:Y,stopAudio:D}=Pe();if(c.useEffect(()=>{!a&&_&&(L==="none"&&(r.setup(_.QuizTime,!0),Z()),k.current=!1)},[a]),c.useEffect(()=>{if(_){const[E,J]=ot(n.mode,s,_.QuizAnswerCount);if(s.length>0)if(n.mode==="Quiz")if(_.IsEnablePenaltyReview&&s[s.length-1].PenaltyWord!=="")I(new Array(_.Quiz[E-2].Examples.length).fill({text:"",isCorrected:!1})),H("penalty"),j(_.QuizAnswerCount),P(_.QuizAnswerCount),l(s[s.length-1].CurrentQuizNo);else{if(s[E-1]&&s[E-1].CurrentQuizNo===E&&s[E-1].StudentAnswer!==""){const G=s[s.length-1].StudentAnswer.split("┒"),V=ce(G,E);if(V){const ne=V.findIndex(ue=>!ue.isCorrected);U(ne)}I(V)}else I(new Array(_.Quiz[E-1].Examples.length).fill({text:"",isCorrected:!1}));j(J),P(J),l(E)}else{const G=_.Quiz[x-1].Examples;let V=[];for(let ne=0;ne<G.length;ne++)V.push({text:_.Quiz[E-1].Examples[ne].Text,isCorrected:!1});I(V)}else j(J),P(J),l(E),I([...ce(new Array(_.Quiz[E-1].Examples.length).fill(""),E)]);S(s,_.QuizAnswerCount)}},[_]),c.useEffect(()=>{if(!a&&!g&&_){if(r.setup(_.QuizTime,!0),Z(),U(0),n.mode!=="Quiz"){const E=_.Quiz[x-1].Examples;let J=[];for(let G=0;G<E.length;G++)J.push({text:_.Quiz[x-1].Examples[G].Text,isCorrected:!1});I(J)}k.current=!1}},[x]),c.useEffect(()=>{F>-1&&(w!=null&&w.current[F])&&(w==null||w.current[F].focus())},[F]),c.useEffect(()=>{_&&(L==="penalty"&&!a?r.stop():L==="success"&&re())},[L]),!_)return e.jsx(e.Fragment,{children:"Loading..."});const W=()=>{let E=[],J=[],G=[];for(let ne=0;ne<(w==null?void 0:w.current.length);ne++){const ue={example:_.Quiz[x-1].Examples[ne].Text,input:w==null?void 0:w.current[ne].value.trimStart().trimEnd(),isEqual:_.Quiz[x-1].Examples[ne].Text===(w==null?void 0:w.current[ne].value.trimStart().trimEnd())};G.push(ue.example),E.push(ue),J.push(ue.input.trimStart().trimEnd())}return[E.filter(ne=>ne.input.trimStart().trimEnd()==="").length>0,E,G.join("┒"),J.join("┒")]},B=E=>!E.find(J=>!J.isEqual),$=async E=>{try{if(!k.current){k.current=!0,r.stop();const[J,G,V,ne]=W();if(J&&!E)alert("빈칸이 존재하지 않아야 합니다."),k.current=!1,r.start();else{const ue=B(G),ie={quizNo:x,maxCount:_.QuizAnswerCount,answerCount:N+1,ox:ue},_e=v({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:o,quizId:_.Quiz[x-1].QuizId,quizNo:_.Quiz[x-1].QuizNo,currentQuizNo:x,correct:V,selectedAnswer:ne,tryCount:N+1,maxQuizCount:_.QuizAnswerCount,quizLength:_.Quiz.length,isCorrect:ue,answerData:ie,isEnabledPenalty:_.IsEnablePenaltyReview,isFinishStudy:t.lastStep===o}),Ne=await Ce(n.mode,_e);Number(Ne.result)===0&&(Ne.resultMessage&&(i.finishStudy={id:Number(Ne.result),cause:Ne.resultMessage}),b(ie),ue||P(C+1),j(N+1),A(ue,G))}}}catch(J){console.error(J)}},A=(E,J)=>{O({isActive:!0,isCorrect:E}),setTimeout(()=>{if(E)x+1>Object.keys(_.Quiz).length?(D(),f(!0)):(D(),te(),j(0),P(0),se("none"),l(x+1));else{let G=!0,V=0,ne=[];w==null||w.current.forEach((ue,ie)=>{J[ie].isEqual||G&&(G=!1,V=ie),ne.push({text:J[ie].input,isCorrected:J[ie].isEqual})}),I([...ne]),N===_.QuizAnswerCount-1?_.IsEnablePenaltyReview?(D(),U(0),se("penalty")):x+1>Object.keys(_.Quiz).length?(D(),f(!0)):(D(),te(),j(0),P(0),se("none"),l(x+1)):(r.setup(_.QuizTime,!0),U(V),k.current=!1)}O({isActive:!1,isCorrect:!1})},1500)},M=E=>{U(E)},K=(E,J)=>{const G=q.map((V,ne)=>E===ne?{text:J,isCorrected:V.isCorrected}:{text:V.text,isCorrected:V.isCorrected});I([...G])},te=()=>{_.Quiz[x-1]&&I([...new Array(_.Quiz[x-1].Examples.length).fill({text:"",isCorrected:!1})])},se=E=>{H(E)},re=async()=>{(async()=>{const J=x+1>_.Quiz.length,G=await es({mobile:"",bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${o}`,quizId:_.Quiz[x-1].QuizId,isLastQuiz:J,isFinishStudy:!!(J&&t.lastStep===o)});Number(G.result)===0&&(G.resultMessage&&(i.finishStudy={id:Number(G.result),cause:G.resultMessage}),Z(()=>{D(),x+1>Object.keys(_.Quiz).length?(D(),f(!0)):(D(),te(),j(0),P(0),se("none"),l(x+1))}))})()},ce=(E,J)=>{let G=[];for(let V=0;V<E.length;V++){const ne={text:E[V].slice(-1)==="1"?_.Quiz[J-1].Examples[V].Text:"",isCorrected:E[V].slice(-1)==="1"};G.push(ne)}return G},Z=E=>{L==="none"?R==="playing"?D():Y(_.Quiz[x-1].Question.Sound):L==="success"&&R===""&&Y(_.Quiz[x-1].Question.Sound,E)},ae=E=>{y(E)};return e.jsx(e.Fragment,{children:a?e.jsx("div",{className:`animate__animated ${u}`,onAnimationEnd:()=>{u==="animate__bounceOutLeft"&&m()},children:e.jsx(Ee,{step:o,quizType:yn,comment:"문장을 읽고 빈칸에 들어갈 답을 입력하세요.",onStepIntroClozeHandler:()=>{d("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:g?e.jsx(tt,{step:o,quizType:yn,quizAnswerCount:_.QuizAnswerCount,studentAnswer:p,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:x,totalQuizCnt:Object.keys(_.Quiz).length,life:_.QuizAnswerCount-C,timeMin:r.time.timeMin,timeSec:r.time.timeSec,changeSideMenu:ae}),e.jsx("div",{className:`${et.comment} animate__animated animate__fadeInLeft`,children:yn}),e.jsx($e,{children:e.jsxs(Ae,{typeCSS:fn.clozeTest2,containerCSS:fn.container,children:[fi?e.jsx(e.Fragment,{}):e.jsx(X,{height:0}),L==="none"?e.jsx(Gm,{playState:R,playSentence:Z}):e.jsx("div",{className:fn.testReview,children:e.jsx("div",{className:fn.title,children:"Test Review"})}),e.jsx(s0,{inputRefs:w,isWorking:k.current,exampleData:_.Quiz[x-1],currentIndex:F,inputValues:q,penaltyState:L,changeInputValue:K,changeInputIndex:M,checkAnswer:$,changePenaltyState:se})]})}),h&&e.jsx(ze,{isSideOpen:h,currentStep:o,currentStepType:yn,quizLength:_.Quiz.length,maxAnswerCount:_.QuizAnswerCount,changeSideMenu:ae,scoreBoardData:p,changeStep:t.changeStep}),e.jsx(Ye,{bottomPopupState:T})]})})})}const r0=new Q(navigator.userAgent),a0=r0.phone(),$o=a0?it:et;function c0({playState:t,playSentence:i}){return e.jsxs("div",{className:$o.wordPlayButton,onClick:()=>i(),children:[t==="playing"||t==="endFn"?e.jsx(Le,{isColor:!0,width:34,height:34}):e.jsx(Me,{isColor:!0,width:34,height:34}),e.jsx("div",{className:$o.txtL,children:"Playback"})]})}const u0=new Q(navigator.userAgent),l0=u0.phone(),rn=l0?it:et;function d0({inputRefs:t,isWorking:i,inputIndex:n,currentIndex:o,inputValues:r,correctText:u,changeInputValue:d,checkAnswer:a,changeInputIndex:m}){const g=s=>{i&&s.preventDefault(),(s.key==="Tab"||s.altKey&&s.key==="Tab")&&(s.preventDefault(),t==null||t.current[o].focus())},f=s=>{s.preventDefault();const x=/^[a-zA-Z-' ]+(?:'){0,1}[a-zA-Z]?$/g;let l=s.currentTarget.value;x.test(l)||(l=l.slice(0,l.length-1)),d(o,l)},h=(s,x)=>{const l=s.currentTarget.value;if(s.key==="Enter"&&l!=="")if(k(t,x)===-1)m(-1),a();else{const S=y(t,x);m(S)}},y=(s,x)=>s==null?void 0:s.current.findIndex((p,S)=>!r[S].isCorrected&&S>x),k=(s,x)=>s==null?void 0:s.current.findLastIndex((p,S)=>!r[S].isCorrected&&S>x),_=()=>{m(n)};return e.jsx("span",{className:`${rn.answerBox} ${o===n?rn.currentOrder:""}`,children:o===n?e.jsx(e.Fragment,{children:e.jsx("span",{className:rn.currentInput,children:e.jsx("input",{ref:s=>t.current[n]=s,id:"textFild",style:{width:`${u.length*15.6}px`},type:"text",value:r[o].text,onKeyDown:s=>g(s),onChange:s=>f(s),onKeyUp:s=>h(s,o),onCopy:s=>s.preventDefault(),onPaste:s=>s.preventDefault(),onCut:s=>s.preventDefault(),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search",autoFocus:!0,tabIndex:-1})})}):e.jsx(e.Fragment,{children:e.jsx("span",{className:`${rn.otherInput} ${r[n].isCorrected&&rn.correct}`,children:e.jsx("input",{ref:s=>t.current[n]=s,style:{width:`${u.length*15.6}px`},value:r[n].text,onFocus:()=>_(),disabled:!!(r[n].isCorrected||n>o&&r[n].text==="")})})})})}const m0=new Q(navigator.userAgent),x0=m0.phone(),Kt=x0?it:et;function _0({inputRefs:t,penaltyState:i,inputIndex:n,currentIndex:o,correctText:r,changeInputIndex:u,changePenaltyState:d}){const[a,m]=c.useState(""),[g,f]=c.useState(0),[h,y]=c.useState(0),k=c.useRef(null),_=c.useRef(null),s=b=>{i!=="penalty"&&b.preventDefault(),(b.key==="Tab"||b.altKey&&b.key==="Tab")&&(b.preventDefault(),t.current[o].focus())},x=b=>{b.preventDefault();const v=/^[ㄱ-ㅎa-zA-Z-' ]+(?:'){0,1}[a-zA-Z]?$/g;let N=b.currentTarget.value;v.test(N)||(N=N.slice(0,N.length-1)),m(N)},l=(b,v)=>{if(b.currentTarget.value===r)if(S(t,v)===-1)u(-1),d("success");else{const C=p(t,v);u(C)}},p=(b,v)=>b.current.findIndex((j,C)=>(j==null?void 0:j.value)===""||C>v),S=(b,v)=>b.current.findLastIndex((j,C)=>C>v);return c.useEffect(()=>{k.current&&k.current.offsetWidth>0&&f(k.current.offsetWidth),_.current&&_.current.offsetWidth>0&&y(_.current.offsetWidth)}),e.jsx("span",{className:`${Kt.reviewAnswer} ${o===n?Kt.currentOrder:""}`,children:o===n?e.jsxs("span",{children:[e.jsx("span",{className:Kt.currentInput,children:e.jsx("input",{ref:b=>t.current[n]=b,id:"textFild",style:{width:`${g+4}px`},type:"text",value:a,onKeyDown:b=>s(b),onChange:b=>x(b),onKeyUp:b=>l(b,o),onCopy:b=>b.preventDefault(),onPaste:b=>b.preventDefault(),onCut:b=>b.preventDefault(),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search",autoFocus:!0,tabIndex:-1})}),e.jsx("div",{ref:k,className:Kt.hintText,children:r})]}):e.jsx(e.Fragment,{children:a===r||i==="success"?e.jsx("span",{style:{color:"#289EE4"},children:r}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:Kt.otherInput,children:e.jsx("input",{ref:b=>t.current[n]=b,style:{width:`${h+4}px`},disabled:!0})}),e.jsx("div",{ref:_,className:Kt.hintText,children:r})]})})})}const h0=new Q(navigator.userAgent),p0=h0.phone(),g0=p0?it:et;function y0({inputRefs:t,isWorking:i,exampleData:n,currentIndex:o,inputValues:r,penaltyState:u,changeInputValue:d,changeInputIndex:a,checkAnswer:m,changePenaltyState:g}){t.current=[];let f=-1;const h=n.Question.Text.split(" ").map(y=>({text:y,index:y.includes("┒")?++f:0}));return e.jsx("div",{className:g0.questionBox,children:h.map((y,k)=>y.text.includes("┒")?e.jsx(e.Fragment,{children:u==="none"?sn(y.text,"┒",()=>e.jsx(d0,{inputRefs:t,isWorking:i,inputIndex:y.index,currentIndex:o,inputValues:r,correctText:n.Examples[y.index].Text,changeInputValue:d,checkAnswer:m,changeInputIndex:a},`text-input-${y.index}`)):sn(y.text,"┒",()=>e.jsx(_0,{inputRefs:t,penaltyState:u,inputIndex:y.index,currentIndex:o,correctText:n.Examples[y.index].Text,changeInputIndex:a,changePenaltyState:g},`penalty-input-${y.index}`))}):e.jsx("span",{dangerouslySetInnerHTML:{__html:y.text}},`word-${k}`))})}const f0=new Q(navigator.userAgent),ki=f0.phone(),kn="Cloze Test",bn=ki?it:et;function k0(t){const{handler:i,studyInfo:n}=c.useContext(oe),o=t.currentStep,r=Se(()=>{M("timeOut")}),[u,d]=c.useState("animate__bounceInRight"),{isStepIntro:a,closeStepIntro:m}=be(),{isResultShow:g,changeResultShow:f}=qe(),[h,y]=c.useState(!1),k=c.useRef(!0),[_,s]=we(rr,t,o),[x,l]=c.useState([]),[p,S]=c.useState(1),[b,v]=c.useState([]),{scoreBoardData:N,setStudentAnswersPartial:j,makeUserPartialAnswerData:C}=ve(n.mode,"clozeTest"),[P,w]=c.useState(0),[q,I]=c.useState(0),F=c.useRef([]),[U,L]=c.useState([]),[H,T]=c.useState(0),[O,R]=c.useState("none"),{bottomPopupState:Y,changeBottomPopupState:D}=Je(),{playState:W,playAudio:B,stopAudio:$}=Pe();if(c.useEffect(()=>{!a&&_&&(O==="none"&&(r.setup(_.QuizTime,!0),J()),k.current=!1)},[a]),c.useEffect(()=>{if(_){const[V,ne]=ha(n.mode,s,_.QuizAnswerCount);if(s.length>0)if(j(ae(s),_.QuizAnswerCount),l(s),n.mode==="Quiz")if(_.IsEnablePenaltyReview&&s[s.length-1].PenaltyWord!=="")L(new Array(_.Quiz[V-2].Examples.length).fill({text:"",isCorrected:!1})),v(new Array(_.Quiz[V-2].Examples.length).fill("")),R("penalty"),S(s[s.length-1].CurrentQuizNo);else{if(s[V-1]&&s[V-1].CurrentQuizNo===V&&s[V-1].StudentAnswer!==""){const ue=s[s.length-1].StudentAnswer.split("/"),ie=E(ue,V);if(v(s[s.length-1].StudentAnswer.split("/")),ie){const _e=ie.findIndex(Ne=>!Ne.isCorrected);T(_e)}L(ie)}else L(new Array(_.Quiz[V-1].Examples.length).fill({text:"",isCorrected:!1})),v(new Array(_.Quiz[V-1].Examples.length).fill(""));w(ne),I(ne),S(V)}else{const ue=_.Quiz[p-1].Examples;let ie=[];for(let _e=0;_e<ue.length;_e++)ie.push({text:_.Quiz[V-1].Examples[_e].Text,isCorrected:!1});v(new Array(_.Quiz[V-1].Examples.length).fill("")),L(ie)}else w(ne),I(ne),S(V),v(new Array(_.Quiz[V-1].Examples.length).fill("")),L([...E(new Array(_.Quiz[V-1].Examples.length).fill(""),V)])}},[_]),c.useEffect(()=>{if(!a&&!g&&_){if(r.setup(_.QuizTime,!0),J(),T(0),n.mode!=="Quiz"){const V=_.Quiz[p-1].Examples;let ne=[];for(let ue=0;ue<V.length;ue++)ne.push({text:_.Quiz[p-1].Examples[ue].Text,isCorrected:!1});L(ne)}k.current=!1}},[p]),c.useEffect(()=>{H>-1&&(F!=null&&F.current[H])&&(F==null||F.current[H].focus())},[H]),c.useEffect(()=>{_&&(O==="penalty"&&!a?r.stop():O==="success"&&Z())},[O]),!_)return e.jsx(e.Fragment,{children:"Loading..."});const A=V=>{let ne=[],ue=[],ie=[],_e=[...b];for(let ye=0;ye<(F==null?void 0:F.current.length);ye++){const wt={example:_.Quiz[p-1].Examples[ye].Text,input:F==null?void 0:F.current[ye].value.trimStart().trimEnd(),isEqual:_.Quiz[p-1].Examples[ye].Text===(F==null?void 0:F.current[ye].value.trimStart().trimEnd())};_e[ye].length>0?_e[ye]=_e[ye].slice(-1)==="1"?_e[ye]:_e[ye]+=_.Quiz[p-1].Examples[ye].Text===(F==null?void 0:F.current[ye].value.trimStart().trimEnd())?"1":"2":_e[ye]=_.Quiz[p-1].Examples[ye].Text===(F==null?void 0:F.current[ye].value.trimStart().trimEnd())?"1":"2",ie.push(wt.example),ne.push(wt),ue.push(wt.input.trimStart().trimEnd())}const Ne=ne.filter(ye=>ye.input.trimStart().trimEnd()==="").length>0;return Ne&&!V?(_e=[],_e=[...b]):v(_e),[Ne,ne,ie.join("┒")===ue.join("┒"),ie.join("┒"),ue.join("┒"),_e.join("/")]},M=async V=>{try{if(!k.current){k.current=!0,r.stop();const[ne,ue,ie,_e,Ne,ye]=A(V);if(ne&&!V)alert("빈칸이 존재하지 않아야 합니다."),k.current=!1,r.start();else{const wt={quizNo:p,maxCount:_.QuizAnswerCount,answerCount:P+1,ox:ie},le=C({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:o,quizId:_.Quiz[p-1].QuizId,quizNo:_.Quiz[p-1].QuizNo,currentQuizNo:_.Quiz[p-1].QuizNo,correct:_e,selectedAnswer:Ne,partialRecord:ye,tryCount:P+1,maxQuizCount:_.QuizAnswerCount,quizLength:_.Quiz.length,isCorrect:ie,answerData:wt,isEnabledPenalty:_.IsEnablePenaltyReview,isFinishStudy:t.lastStep===o}),fe=await Ls(n.mode,le);if(Number(fe.result)===0){fe.resultMessage&&(i.finishStudy={id:Number(fe.result),cause:fe.resultMessage});const ke=x.filter(de=>de.QuizNo!==_.Quiz[p-1].QuizNo),Re={QuizId:`${_.Quiz[p-1].QuizId}`,QuizNo:_.Quiz[p-1].QuizNo,CurrentQuizNo:_.Quiz[p-1].QuizNo,OX:ie?"1":"2",TempText:"",PenaltyWord:"",Correct:_e,StudentAnswer:ye,AnswerCount:P+1},bt=[...ke,Re];l([...ke,Re]),j(ae(bt),_.QuizAnswerCount),ie||I(q+1),w(P+1),K(ie,ue)}}}}catch(ne){console.error(ne)}},K=(V,ne)=>{D({isActive:!0,isCorrect:V}),setTimeout(()=>{if(V)p+1>Object.keys(_.Quiz).length?($(),f(!0)):($(),re(),w(0),I(0),ce("none"),v(new Array(_.Quiz[p].Examples.length).fill("")),S(p+1));else{let ue=!0,ie=0,_e=[];F==null||F.current.forEach((Ne,ye)=>{ne[ye].isEqual||ue&&(ue=!1,ie=ye),_e.push({text:ne[ye].input,isCorrected:ne[ye].isEqual})}),L([..._e]),P===_.QuizAnswerCount-1?($(),T(0),ce("penalty")):(r.setup(_.QuizTime,!0),T(ie),k.current=!1)}D({isActive:!1,isCorrect:!1})},1500)},te=V=>{T(V)},se=(V,ne)=>{const ue=U.map((ie,_e)=>V===_e?{text:ne,isCorrected:ie.isCorrected}:{text:ie.text,isCorrected:ie.isCorrected});L([...ue])},re=()=>{_.Quiz[p-1]&&L([...new Array(_.Quiz[p].Examples.length).fill({text:"",isCorrected:!1})])},ce=V=>{R(V)},Z=async()=>{const V=p+1>_.Quiz.length;(async()=>{const ue=await es({mobile:"",bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${o}`,quizId:_.Quiz[p-1].QuizId,isLastQuiz:V,isFinishStudy:!!(V&&t.lastStep===o)});Number(ue.result)===0&&(ue.resultMessage&&(i.finishStudy={id:Number(ue.result),cause:ue.resultMessage}),$(),p+1>Object.keys(_.Quiz).length?f(!0):($(),re(),w(0),I(0),v(new Array(_.Quiz[p].Examples.length).fill("")),ce("none"),S(p+1)))})()},ae=V=>{let ne=[];return V.map(ue=>{ue.StudentAnswer.split("/").map(ie=>{ne.push({QuizId:`${ue.QuizId}`,QuizNo:ue.QuizNo,CurrentQuizNo:ue.CurrentQuizNo,OX:ie,TempText:"",PenaltyWord:"",Correct:ue.Correct,StudentAnswer:ie,AnswerCount:ie.length})})}),ne},E=(V,ne)=>{let ue=[];for(let ie=0;ie<V.length;ie++){const _e={text:V[ie].slice(-1)==="1"?_.Quiz[ne-1].Examples[ie].Text:"",isCorrected:V[ie].slice(-1)==="1"};ue.push(_e)}return ue},J=V=>{O==="none"?W==="playing"?$():B(_.Quiz[p-1].Question.Sound):O==="success"&&W===""&&B(_.Quiz[p-1].Question.Sound,V)},G=V=>{y(V)};return e.jsx(e.Fragment,{children:a?e.jsx("div",{className:`animate__animated ${u}`,onAnimationEnd:()=>{u==="animate__bounceOutLeft"&&m()},children:e.jsx(Ee,{step:o,quizType:kn,comment:"문장을 읽고 빈칸에 들어갈 답을 입력하세요.",onStepIntroClozeHandler:()=>{d("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:g?e.jsx(tt,{step:o,quizType:kn,quizAnswerCount:_.QuizAnswerCount,studentAnswer:N,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:p,totalQuizCnt:Object.keys(_.Quiz).length,life:_.QuizAnswerCount-q,timeMin:r.time.timeMin,timeSec:r.time.timeSec,changeSideMenu:G}),e.jsx("div",{className:`${et.comment} animate__animated animate__fadeInLeft`,children:kn}),e.jsx($e,{children:e.jsxs(Ae,{typeCSS:bn.clozeTest3,containerCSS:bn.container,children:[ki?e.jsx(e.Fragment,{}):e.jsx(X,{height:0}),O==="none"?e.jsx(c0,{playState:W,playSentence:J}):e.jsx("div",{className:bn.testReview,children:e.jsx("div",{className:bn.title,children:"Test Review"})}),e.jsx(y0,{inputRefs:F,isWorking:k.current,exampleData:_.Quiz[p-1],currentIndex:H,inputValues:U,penaltyState:O,changeInputValue:se,changeInputIndex:te,checkAnswer:M,changePenaltyState:ce})]})}),h&&e.jsx(ze,{isSideOpen:h,currentStep:o,currentStepType:kn,quizLength:_.Quiz.reduce((V,ne)=>V+ne.Examples.length,0),maxAnswerCount:_.QuizAnswerCount,changeSideMenu:G,scoreBoardData:N,changeStep:t.changeStep}),e.jsx(Ye,{bottomPopupState:Y})]})})})}async function b0(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Te}/listening-activity-1?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Quiz:a.Quiz.map(m=>({QuizId:m.QuizId.toString(),QuizNo:Number(m.QuizNo),Question:{Text:m.Question.Text,Sound:m.Question.Sound}})),Examples:a.Examples.map(m=>({Text:m.Text,Image:m.Image}))}))}async function S0(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Te}/listening-activity-2?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Quiz:a.Quiz.map(m=>({QuizId:m.QuizId.toString(),QuizNo:Number(m.QuizNo),Question:{Text:m.Question.Text,Sound:m.Question.Sound}})),Examples:a.Examples.map(m=>({Text:m.Text}))}))}async function w0(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Te}/listening-activity-3?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Quiz:a.Quiz.map(m=>({QuizId:m.QuizId.toString(),QuizNo:Number(m.QuizNo),Question:{Text:m.Question.Text,Sound:m.Question.Sound},Examples:m.Examples.map(g=>({Text:g.Text,Image:g.Image}))}))}))}async function v0(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Te}/listening-activity-4?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Quiz:a.Quiz.map(m=>({QuizId:m.QuizId.toString(),QuizNo:Number(m.QuizNo),Question:{Text:m.Question.Text,Image:m.Question.Image},Examples:m.Examples.map(g=>({Text:g.Text,Sound:g.Sound}))}))}))}const j0="_comment_jujn5_1",z0="_wordPlayButton_jujn5_20",$0="_txtL_jujn5_35",C0="_wordPlayButton2_jujn5_46",Q0="_cardNumber_jujn5_65",A0="_listeningActivity1_jujn5_80",N0="_container_jujn5_80",T0="_wordCard_jujn5_87",I0="_done_jujn5_118",B0="_correct_jujn5_131",E0="_incorrect_jujn5_135",P0="_word_jujn5_20",M0="_wordBlock_jujn5_152",L0="_listeningActivity2_jujn5_164",R0="_listeningActivity3_jujn5_231",q0="_imageCard_jujn5_237",F0="_cardNumberPosition_jujn5_285",H0="_listeningActivity4_jujn5_291",O0="_questionBox_jujn5_296",D0="_soundCard_jujn5_313",W0="_playSoundPosition_jujn5_366",V0="_enterButton_jujn5_372",G0="_answers_jujn5_399",ct={comment:j0,wordPlayButton:z0,txtL:$0,wordPlayButton2:C0,cardNumber:Q0,listeningActivity1:A0,container:N0,wordCard:T0,done:I0,correct:B0,incorrect:E0,word:P0,wordBlock:M0,listeningActivity2:L0,listeningActivity3:R0,imageCard:q0,cardNumberPosition:F0,listeningActivity4:H0,questionBox:O0,soundCard:D0,playSoundPosition:W0,enterButton:V0,answers:G0},U0="_comment_1cesw_1",K0="_wordPlayButton_1cesw_20",J0="_txtL_1cesw_35",Y0="_wordPlayButton2_1cesw_46",X0="_cardNumber_1cesw_65",Z0="_listeningActivity1_1cesw_80",e1="_container_1cesw_80",t1="_wordCard_1cesw_87",n1="_done_1cesw_113",s1="_correct_1cesw_120",o1="_incorrect_1cesw_124",i1="_word_1cesw_20",r1="_wordBlock_1cesw_141",a1="_listeningActivity2_1cesw_153",c1="_listeningActivity3_1cesw_215",u1="_imageCard_1cesw_221",l1="_cardNumberPosition_1cesw_261",d1="_listeningActivity4_1cesw_267",m1="_questionBox_1cesw_272",x1="_soundCard_1cesw_295",_1="_playSoundPosition_1cesw_343",h1="_enterButton_1cesw_349",p1="_answers_1cesw_376",ut={comment:U0,wordPlayButton:K0,txtL:J0,wordPlayButton2:Y0,cardNumber:X0,listeningActivity1:Z0,container:e1,wordCard:t1,done:n1,correct:s1,incorrect:o1,word:i1,wordBlock:r1,listeningActivity2:a1,listeningActivity3:c1,imageCard:u1,cardNumberPosition:l1,listeningActivity4:d1,questionBox:m1,soundCard:x1,playSoundPosition:_1,enterButton:h1,answers:p1},g1=new Q(navigator.userAgent),y1=g1.phone(),Co=y1?ut:ct;function f1({playState:t,onPlay:i}){return e.jsxs("div",{className:Co.wordPlayButton,onClick:()=>i(),children:[t===""?e.jsx(Me,{isColor:!0,width:34,height:34}):e.jsx(Le,{isColor:!0,width:34,height:34}),e.jsx("span",{className:Co.txtL,children:"Playback"})]})}const k1=new Q(navigator.userAgent),b1=k1.phone(),an=b1?ut:ct;function S1({imgSrc:t,text:i,correctText:n,isCorrected:o=!1,onCardAnimationEndHandler:r,onWordAnimationEndHandler:u,checkAnswer:d}){const{studyInfo:a}=c.useContext(oe),[m,g]=c.useState(!1),[f,h]=c.useState(a.mode==="Review"),y=_=>{(!o&&!m||f)&&d(_.currentTarget,i)},k=()=>{f&&n===i&&h(!1),g(!0)};return e.jsxs("div",{className:`animate__animated ${an.wordCard} ${(m||o)&&!f?an.done:""} 
      ${f&&n===i?an.correct:""}`,onClick:_=>{y(_)},onAnimationEnd:_=>{r(_,k)},children:[e.jsx("img",{src:t}),(m||o)&&!f&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${an.word}`,children:i}),e.jsx("div",{className:`${an.wordBlock} animate__animated animate__fadeIn`,onAnimationEnd:_=>{u(_,o)}})]})]})}const w1=new Q(navigator.userAgent),bi=w1.phone(),Sn="Listening Activity",us=bi?ut:ct;function v1(t){const{handler:i,studyInfo:n}=c.useContext(oe),o=t.currentStep,r=Se(()=>{window.onLogoutStudy()}),u=rt(),[d,a]=c.useState("animate__bounceInRight"),{isStepIntro:m,closeStepIntro:g}=be(),{isResultShow:f,changeResultShow:h}=qe(),[y,k]=c.useState(!1),[_,s]=we(b0,t,o),[x,l]=c.useState(1),{scoreBoardData:p,setStudentAnswers:S,addStudentAnswer:b,makeUserAnswerData:v}=ve(n.mode),[N,j]=c.useState(""),[C,P]=c.useState([]),[w,q]=c.useState(0),[I,F]=c.useState(0),{bottomPopupState:U,changeBottomPopupState:L}=Je(),{playState:H,playAudio:T,stopAudio:O}=Pe(),R=c.useRef(!0);if(c.useEffect(()=>{!m&&_&&(r.setup(_.QuizTime,!0),T(_.Quiz[x-1].Question.Sound),R.current=!1)},[m]),c.useEffect(()=>{if(_)try{const[M,K]=ot(n.mode,s,_.QuizAnswerCount);let te=[],se=[];te=s.map(re=>{var ce;return(ce=_.Quiz.find(Z=>re.OX==="1"&&re.QuizNo===Z.QuizNo))==null?void 0:ce.Question.Text}),se=_.Examples.slice(0,5).map(re=>({...re,IsCorrected:!!te.find(ce=>ce===re.Text)})),q(K),F(K),j(_.Quiz[M-1].Question.Text),S(s,_.QuizAnswerCount),n.mode==="Super"?P(se):P(xe.shuffle(se)),l(M)}catch(M){console.error(M)}},[_]),c.useEffect(()=>{!m&&!f&&_&&(O(),j(_.Quiz[x-1].Question.Text))},[x]),c.useEffect(()=>{!m&&!f&&_&&(T(_.Quiz[x-1].Question.Sound),r.setup(_.QuizTime,!0),R.current=!1)},[N]),c.useEffect(()=>{f&&r.stop()},[f]),!_)return e.jsx(e.Fragment,{children:"Loading..."});const Y=async(M,K)=>{if(!R.current){O(),R.current=!0;const te=N===K,se={quizNo:x,maxCount:_.QuizAnswerCount,answerCount:w+1,ox:te},re=v({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:o,quizId:_.Quiz[x-1].QuizId,quizNo:_.Quiz[x-1].QuizNo,currentQuizNo:x,correct:_.Quiz[x-1].Question.Text,selectedAnswer:K,tryCount:w+1,maxQuizCount:_.QuizAnswerCount,quizLength:_.Quiz.length,isCorrect:te,answerData:se,isFinishStudy:t.lastStep===o}),ce=await Ce(n.mode,re);Number(ce.result)===0&&(ce.resultMessage&&(i.finishStudy={id:Number(ce.result),cause:ce.resultMessage}),b(se),te||F(I+1),q(w+1),D(M,te))}},D=(M,K)=>{L({isActive:!0,isCorrect:K}),K?u.play(M,["animate__fadeIn"]):u.play(M,["animate__headShake"])},W=(M,K)=>{M.preventDefault(),M.stopPropagation();const te=M.currentTarget,se=!!u.isContain(te,"animate__fadeIn");setTimeout(()=>{se?K():(u.remove(te,["animate__headShake"]),L({isActive:!1,isCorrect:!1}),w>=_.QuizAnswerCount?(q(0),F(0),x+1>_.Quiz.length?h(!0):l(x+1)):($(),R.current=!1))},1500)},B=(M,K)=>{M.preventDefault(),M.stopPropagation();const te=M.currentTarget;u.remove(te,["selected"]),L({isActive:!1,isCorrect:!1}),(!K||K===void 0||n.mode==="Review")&&setTimeout(()=>{q(0),F(0),x+1>_.Quiz.length?h(!0):l(x+1)},1e3)},$=()=>{H===""?T(_.Quiz[x-1].Question.Sound):O()},A=M=>{k(M)};return e.jsx(e.Fragment,{children:m?e.jsx("div",{className:`animate__animated ${d}`,onAnimationEnd:()=>{d==="animate__bounceOutLeft"&&g()},children:e.jsx(Ee,{step:o,quizType:Sn,comment:"소리를 듣고 알맞은 그림을 고르세요.",onStepIntroClozeHandler:()=>{a("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(tt,{step:o,quizType:Sn,quizAnswerCount:_.QuizAnswerCount,studentAnswer:p,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:x,totalQuizCnt:Object.keys(_.Quiz).length,life:_.QuizAnswerCount-I,timeMin:r.time.timeMin,timeSec:r.time.timeSec,changeSideMenu:A}),e.jsx("div",{className:`${us.comment} animate__animated animate__fadeInLeft`,children:Sn}),e.jsxs($e,{children:[e.jsx(f1,{playState:H,onPlay:$}),bi?e.jsx(X,{height:10}):e.jsx(X,{height:15}),e.jsx(Ae,{typeCSS:us.listeningActivity1,containerCSS:us.container,children:C.map(M=>e.jsx(S1,{imgSrc:M.Image,text:M.Text,correctText:N,isCorrected:M.IsCorrected,onCardAnimationEndHandler:W,onWordAnimationEndHandler:B,checkAnswer:Y}))}),e.jsx(X,{height:15})]}),y&&e.jsx(ze,{isSideOpen:y,currentStep:o,currentStepType:Sn,quizLength:_.Quiz.length,maxAnswerCount:_.QuizAnswerCount,changeSideMenu:A,scoreBoardData:p,changeStep:t.changeStep}),e.jsx(Ye,{bottomPopupState:U})]})})})}const j1=new Q(navigator.userAgent),z1=j1.phone(),Qo=z1?ut:ct;function $1({playState:t,onPlay:i}){return e.jsxs("div",{className:Qo.wordPlayButton,onClick:()=>i(),children:[t===""?e.jsx(Me,{isColor:!0,width:34,height:34}):e.jsx(Le,{isColor:!0,width:34,height:34}),e.jsx("span",{className:Qo.txtL,children:"Playback"})]})}const C1=new Q(navigator.userAgent),Q1=C1.phone(),wn=Q1?ut:ct;function A1({text:t,correctText:i,isCorrected:n=!1,checkAnswer:o,onCardAnimationEndHandler:r}){const{studyInfo:u}=c.useContext(oe),[d,a]=c.useState(!1),[m,g]=c.useState(u.mode==="Review"),f=y=>{(!n&&!d||m)&&o(y.currentTarget,t)},h=()=>{m&&i===t&&g(!1),a(!0)};return e.jsx("div",{className:`animate__animated ${wn.wordCard} ${(d||n)&&!m?wn.done:""} 
    ${m&&i===t?wn.correct:""}`,onClick:y=>{f(y)},onAnimationEnd:y=>r(y,h),children:e.jsx("div",{className:wn.txtL,children:t})})}const N1=new Q(navigator.userAgent),Fs=N1.phone(),vn="Listening Activity",Bt=Fs?ut:ct;function T1(t){const{handler:i,studyInfo:n}=c.useContext(oe),o=t.currentStep,r=Se(()=>{window.onLogoutStudy()}),u=rt(),[d,a]=c.useState("animate__bounceInRight"),{isStepIntro:m,closeStepIntro:g}=be(),{isResultShow:f,changeResultShow:h}=qe(),[y,k]=c.useState(!1),_=c.useRef(!0),[s,x]=we(S0,t,o),{scoreBoardData:l,setStudentAnswers:p,addStudentAnswer:S,makeUserAnswerData:b}=ve(n.mode),[v,N]=c.useState([]),[j,C]=c.useState(1),[P,w]=c.useState(0),[q,I]=c.useState(0),{bottomPopupState:F,changeBottomPopupState:U}=Je(),{playState:L,playAudio:H,stopAudio:T}=Pe();if(c.useEffect(()=>{!m&&s&&(r.setup(s.QuizTime,!0),H(s.Quiz[j-1].Question.Sound),_.current=!1)},[m]),c.useEffect(()=>{if(s)try{const[B,$]=ot(n.mode,x,s.QuizAnswerCount);let A=[],M=[];A=x.map(K=>{var te;return(te=s.Quiz.slice(0,6).find(se=>K.OX==="1"&&K.QuizNo===se.QuizNo))==null?void 0:te.Question.Text}),M=s.Examples.slice(0,6).map(K=>({...K,IsCorrected:!!A.find(te=>te===K.Text)})),w($),I($),p(x,s.QuizAnswerCount),n.mode==="Super"?N(M):N(xe.shuffle(M)),C(B)}catch(B){console.error(B)}},[s]),c.useEffect(()=>{!m&&!f&&s&&(r.setup(s.QuizTime,!0),w(0),I(0),H(s.Quiz[j-1].Question.Sound),_.current=!1)},[j]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const O=async(B,$)=>{if(!_.current){_.current=!0;const A=s.Quiz[j-1].Question.Text===$,M={quizNo:j,maxCount:s.QuizAnswerCount,answerCount:P+1,ox:A},K=b({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:o,quizId:s.Quiz[j-1].QuizId,quizNo:s.Quiz[j-1].QuizNo,currentQuizNo:j,correct:s.Quiz[j-1].Question.Text,selectedAnswer:$,tryCount:P+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:A,answerData:M,isFinishStudy:t.lastStep===o}),te=await Ce(n.mode,K);Number(te.result)===0&&(te.resultMessage&&(i.finishStudy={id:Number(te.result),cause:te.resultMessage}),S(M),A||I(q+1),w(P+1),R(B,A))}},R=(B,$)=>{U({isActive:!0,isCorrect:$}),$?u.play(B,["animate__fadeIn",Bt.correct]):u.play(B,["animate__headShake",Bt.incorrect])},Y=(B,$)=>{const A=B.currentTarget,M=!!u.isContain(A,"animate__fadeIn");setTimeout(()=>{u.remove(A,["animate__fadeIn","animate__headShake",Bt.correct,Bt.incorrect]),U({isActive:!1,isCorrect:!1}),M?($(),setTimeout(()=>{j+1>s.Quiz.length?h(!0):C(j+1)},300)):(u.remove(A,["animate__headShake"]),U({isActive:!1,isCorrect:!1}),P>=s.QuizAnswerCount?(w(0),I(0),j+1>s.Quiz.length?h(!0):C(j+1)):(r.setup(s.QuizTime,!0),_.current=!1))},1500)},D=()=>{L===""?H(s.Quiz[j-1].Question.Sound):T()},W=B=>{k(B)};return e.jsx(e.Fragment,{children:m?e.jsx("div",{className:`animate__animated ${d}`,onAnimationEnd:()=>{d==="animate__bounceOutLeft"&&g()},children:e.jsx(Ee,{step:o,quizType:vn,comment:"소리를 듣고 알맞은 단어를 고르세요.",onStepIntroClozeHandler:()=>{a("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(tt,{step:o,quizType:vn,quizAnswerCount:s.QuizAnswerCount,studentAnswer:l,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:j,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-q,timeMin:r.time.timeMin,timeSec:r.time.timeSec,changeSideMenu:W}),e.jsx("div",{className:`${Bt.comment} animate__animated animate__fadeInLeft`,children:vn}),e.jsxs($e,{children:[e.jsx($1,{playState:L,onPlay:D}),Fs?e.jsx(X,{height:10}):e.jsx(X,{height:15}),e.jsx(Ae,{typeCSS:Bt.listeningActivity2,containerCSS:Bt.container,children:v.map((B,$)=>e.jsx(A1,{text:B.Text,correctText:s.Quiz[j-1].Question.Text,isCorrected:B.IsCorrected,checkAnswer:O,onCardAnimationEndHandler:Y}))}),Fs?e.jsx(X,{height:10}):e.jsx(X,{height:15})]}),y&&e.jsx(ze,{isSideOpen:y,currentStep:o,currentStepType:vn,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:W,scoreBoardData:l,changeStep:t.changeStep}),e.jsx(Ye,{bottomPopupState:F})]})})})}const I1=new Q(navigator.userAgent),B1=I1.phone(),Ao=B1?ut:ct;function E1({playState:t,onPlay:i}){return e.jsxs("div",{className:Ao.wordPlayButton,onClick:()=>i(),children:[t===""?e.jsx(Me,{isColor:!0,width:34,height:34}):e.jsx(Le,{isColor:!0,width:34,height:34}),e.jsx("span",{className:Ao.txtL,children:"Playback"})]})}const P1=new Q(navigator.userAgent),Hs=P1.phone(),jn=Hs?ut:ct;function M1({correctText:t,example:i,index:n,checkAnswer:o,onWrapperAnimationEndHandler:r}){const{bookInfo:u,studyInfo:d}=c.useContext(oe);return e.jsxs("div",{className:`${jn.imageCard} 
      ${d.mode==="Review"&&Number(u.Average)>=70&&i.Text===t?jn.correct:""}`,onClick:a=>o(a.currentTarget,i.Text),onAnimationEnd:a=>{r(a)},children:[e.jsx("img",{src:i.Image,width:Hs?"auto":"100%",height:Hs?"100%":"auto"}),e.jsx("div",{className:jn.cardNumberPosition,children:e.jsx("div",{className:jn.cardNumber,children:Number(n+1)})})]})}const L1=new Q(navigator.userAgent),R1=L1.phone(),No=R1?ut:ct;function q1({correctText:t,exampleData:i,checkAnswer:n,onWrapperAnimationEndHandler:o}){return e.jsx("div",{className:No.listeningActivity3,children:e.jsx("div",{className:No.container,children:i.map((r,u)=>e.jsx(M1,{correctText:t,example:r,index:u,checkAnswer:n,onWrapperAnimationEndHandler:o},`example-0${u+1}`))})})}const F1=new Q(navigator.userAgent),Os=F1.phone(),zn="Listening Activity",cn=Os?ut:ct;function H1(t){const{handler:i,studyInfo:n}=c.useContext(oe),o=t.currentStep,r=Se(()=>{window.onLogoutStudy()}),u=rt(),[d,a]=c.useState("animate__bounceInRight"),{isStepIntro:m,closeStepIntro:g}=be(),{isResultShow:f,changeResultShow:h}=qe(),[y,k]=c.useState(!1),_=c.useRef(!0),[s,x]=we(w0,t,o),[l,p]=c.useState(1),{scoreBoardData:S,setStudentAnswers:b,addStudentAnswer:v,makeUserAnswerData:N}=ve(n.mode),[j,C]=c.useState([]),[P,w]=c.useState(0),[q,I]=c.useState(0),{bottomPopupState:F,changeBottomPopupState:U}=Je(),{playState:L,playAudio:H,stopAudio:T}=Pe();if(c.useEffect(()=>{!m&&s&&(r.setup(s.QuizTime,!0),H(s.Quiz[l-1].Question.Sound),_.current=!1)},[m]),c.useEffect(()=>{if(s)try{const[B,$]=ot(n.mode,x,s.QuizAnswerCount);b(x,s.QuizAnswerCount),n.mode==="Super"?C(s.Quiz[B-1].Examples):C(xe.shuffle(s.Quiz[B-1].Examples)),b(x,s.QuizAnswerCount),p(B)}catch(B){console.error(B)}},[s]),c.useEffect(()=>{!m&&!f&&s&&(n.mode==="Super"?C(s.Quiz[l-1].Examples):C(xe.shuffle(s.Quiz[l-1].Examples)),w(0),I(0),r.setup(s.QuizTime,!0),H(s.Quiz[l-1].Question.Sound),_.current=!1)},[l]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const O=async(B,$)=>{if(!_.current){_.current=!0,T();const A=s.Quiz[l-1].Question.Text===$,M={quizNo:l,maxCount:s.QuizAnswerCount,answerCount:P+1,ox:A},K=N({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:o,quizId:s.Quiz[l-1].QuizId,quizNo:s.Quiz[l-1].QuizNo,currentQuizNo:l,correct:s.Quiz[l-1].Question.Text,selectedAnswer:$,tryCount:P+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:A,answerData:M,isFinishStudy:t.lastStep===o});r.stop();const te=await Ce(n.mode,K);Number(te.result)===0&&(te.resultMessage&&(i.finishStudy={id:Number(te.result),cause:te.resultMessage}),v(M),A||I(q+1),w(P+1),R(B,A))}},R=(B,$)=>{r.stop(),U({isActive:!0,isCorrect:$}),$?u.play(B,["animate__fadeIn",cn.correct]):u.play(B,["animate__headShake",cn.incorrect])},Y=B=>{const $=B.currentTarget;setTimeout(()=>{u.remove($,["selected","animate__fadeIn","animate__headShake",cn.correct,cn.incorrect]),U({isActive:!1,isCorrect:!1}),l+1>s.Quiz.length?h(!0):p(l+1)},1e3)},D=()=>{L===""?H(s.Quiz[l-1].Question.Sound):T()},W=B=>{k(B)};return e.jsx(e.Fragment,{children:m?e.jsx("div",{className:`animate__animated ${d}`,onAnimationEnd:()=>{d==="animate__bounceOutLeft"&&g()},children:e.jsx(Ee,{step:o,quizType:zn,comment:"소리를 듣고 알맞은 카드를 고르세요.",onStepIntroClozeHandler:()=>{a("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(tt,{step:o,quizType:zn,quizAnswerCount:s.QuizAnswerCount,studentAnswer:S,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:l,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-q,timeMin:r.time.timeMin,timeSec:r.time.timeSec,changeSideMenu:W}),e.jsx("div",{className:`${cn.comment} animate__animated animate__fadeInLeft`,children:zn}),e.jsxs($e,{children:[e.jsx(E1,{playState:L,onPlay:D}),Os?e.jsx(X,{height:10}):e.jsx(X,{height:15}),e.jsx(q1,{correctText:s.Quiz[l-1].Examples[0].Text,exampleData:j,checkAnswer:O,onWrapperAnimationEndHandler:Y}),Os?e.jsx(X,{height:0}):e.jsx(X,{height:15})]}),y&&e.jsx(ze,{isSideOpen:y,currentStep:o,currentStepType:zn,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:W,scoreBoardData:S,changeStep:t.changeStep}),e.jsx(Ye,{bottomPopupState:F})]})})})}const O1=new Q(navigator.userAgent),Ds=O1.phone(),D1=Ds?ut:ct;function W1({src:t}){return e.jsx("div",{className:D1.questionBox,children:e.jsx("img",{src:t,width:Ds?"auto":"250px",height:Ds?"100%":"auto"})})}const V1=new Q(navigator.userAgent),G1=V1.phone(),U1=G1?ut:ct;function K1({multiPlayState:t,index:i,playWord:n}){return e.jsx("div",{className:U1.wordPlayButton2,onClick:()=>n(i),children:t.playState==="playing"&&t.seq===i?e.jsx(Le,{isColor:!0,width:44,height:44}):e.jsx(Me,{isColor:!0,width:44,height:44})})}const J1=new Q(navigator.userAgent),Y1=J1.phone(),Jt=Y1?ut:ct;function X1({index:t,multiPlayState:i,correctText:n,exampleData:o,playWord:r,checkAnswer:u,onAnimationEndHandler:d}){const{bookInfo:a,studyInfo:m}=c.useContext(oe),g=c.useRef(null),f=()=>{u(g,o.Text)};return e.jsxs("div",{ref:g,className:`${Jt.soundCard} 
      ${m.mode==="Review"&&Number(a.Average)>=70&&o.Text===n?Jt.correct:""}`,onAnimationEnd:h=>d(h),children:[e.jsx("div",{className:Jt.cardNumberPosition,children:e.jsx("div",{className:Jt.cardNumber,children:Number(t+1)})}),e.jsx("div",{className:Jt.playSoundPosition,children:e.jsx(K1,{multiPlayState:i,index:t,playWord:r})}),e.jsx("span",{className:Jt.enterButton,onClick:()=>f(),children:e.jsx("span",{children:e.jsx(os,{width:15,height:15})})})]})}const Z1=new Q(navigator.userAgent),ex=Z1.phone(),tx=ex?ut:ct;function nx({multiPlayState:t,correctText:i,exampleData:n,playWord:o,checkAnswer:r,onAnimationEndHandler:u}){return e.jsx("div",{className:tx.answers,children:n.map((d,a)=>e.jsx(X1,{index:a,multiPlayState:t,correctText:i,exampleData:d,playWord:o,checkAnswer:r,onAnimationEndHandler:u},`e-0${a}`))})}const sx=new Q(navigator.userAgent),Ws=sx.phone(),$n="Listening Activity",Et=Ws?ut:ct;function ox(t){const{handler:i,studyInfo:n}=c.useContext(oe),o=t.currentStep,r=Se(()=>{window.onLogoutStudy()}),u=rt(),[d,a]=c.useState("animate__bounceInRight"),{isStepIntro:m,closeStepIntro:g}=be(),{isResultShow:f,changeResultShow:h}=qe(),[y,k]=c.useState(!1),_=c.useRef(!0),[s,x]=we(v0,t,o),[l,p]=c.useState(1),{scoreBoardData:S,setStudentAnswers:b,addStudentAnswer:v,makeUserAnswerData:N}=ve(n.mode),[j,C]=c.useState([]),[P,w]=c.useState(0),[q,I]=c.useState(0),{bottomPopupState:F,changeBottomPopupState:U}=Je(),{playAudio:L,stopAudio:H}=Pe(),[T,O]=c.useState({playState:"",playType:"",seq:-1});if(c.useEffect(()=>{!m&&s&&(r.setup(s.QuizTime,!0),$(),_.current=!1)},[m]),c.useEffect(()=>{if(s)try{s.Quiz.sort((K,te)=>Number(K.QuizNo)-Number(te.QuizNo));const[A,M]=ot(n.mode,x,s.QuizAnswerCount);w(M),I(M),n.mode==="Super"?C(s.Quiz[A-1].Examples):C(xe.shuffle(s.Quiz[A-1].Examples)),b(x,s.QuizAnswerCount),p(A)}catch(A){console.error(A)}},[s]),c.useEffect(()=>{!m&&!f&&s&&(r.setup(s.QuizTime,!0),w(0),I(0),n.mode==="Super"?C(s.Quiz[l-1].Examples):C(xe.shuffle(s.Quiz[l-1].Examples)),$(),_.current=!1)},[l]),c.useEffect(()=>{if(H(),s&&T.seq>-1){if(T.playType==="sentence"){const A=()=>{O({playState:"",playType:"",seq:-1})};L(j[T.seq].Sound,A)}else if(T.playType==="all"){const A=()=>{T.seq<s.Quiz[l-1].Examples.length-1?O({playState:"playing",playType:"all",seq:T.seq+1}):(H(),O({playState:"",playType:"",seq:-1}))};L(j[T.seq].Sound,A)}}},[T]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const R=async(A,M)=>{try{if(!_.current){_.current=!0,H(),O({playState:"",playType:"",seq:-1});const K=s.Quiz[l-1].Question.Text===M,te={quizNo:l,maxCount:s.QuizAnswerCount,answerCount:P+1,ox:K},se=N({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:o,quizId:s.Quiz[l-1].QuizId,quizNo:s.Quiz[l-1].QuizNo,currentQuizNo:l,correct:s.Quiz[l-1].Question.Text,selectedAnswer:M,tryCount:P+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:K,answerData:te,isFinishStudy:t.lastStep===o});r.stop();const re=await Ce(n.mode,se);if(Number(re.result)===0){re.resultMessage&&(i.finishStudy={id:Number(re.result),cause:re.resultMessage});const ce={quizNo:l,maxCount:s.QuizAnswerCount,answerCount:P+1,ox:K};K||I(q+1),w(P+1),v(ce),Y(A,K)}}}catch(K){console.error(K)}},Y=(A,M)=>{r.stop(),U({isActive:!0,isCorrect:M}),A.current&&(M?u.play(A.current,["animate__fadeIn",Et.correct]):u.play(A.current,["animate__headShake",Et.incorrect]))},D=A=>{const M=A.currentTarget,K=!!u.isContain(M,"animate__fadeIn");setTimeout(()=>{U({isActive:!1,isCorrect:!1}),u.remove(M,[Et.correct,Et.incorrect,"animate__fadeIn","animate__headShake"]),K||P>=s.QuizAnswerCount?l+1>s.Quiz.length?h(!0):p(l+1):(r.setup(s.QuizTime,!0),_.current=!1)},1e3)},W=A=>{k(A)},B=A=>{T.playState===""&&A>-1?O({playState:"playing",playType:"sentence",seq:A}):T.playState==="playing"&&T.seq===A?O({playState:"",playType:"",seq:-1}):T.playState==="playing"&&T.seq!==A&&O({playState:"playing",playType:"sentence",seq:A})},$=()=>{H(),T.playState==="playing"?O({playState:"",playType:"",seq:-1}):O({playState:"playing",playType:"all",seq:0})};return e.jsx(e.Fragment,{children:m?e.jsx("div",{className:`animate__animated ${d}`,onAnimationEnd:()=>{d==="animate__bounceOutLeft"&&g()},children:e.jsx(Ee,{step:o,quizType:$n,comment:"그림을 보고 알맞은 소리를 고르세요.",onStepIntroClozeHandler:()=>{a("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(tt,{step:o,quizType:$n,quizAnswerCount:s.QuizAnswerCount,studentAnswer:S,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:l,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-q,timeMin:r.time.timeMin,timeSec:r.time.timeSec,changeSideMenu:W}),e.jsx("div",{className:`${Et.comment} animate__animated animate__fadeInLeft`,children:$n}),e.jsxs($e,{children:[Ws?e.jsx(X,{height:0}):e.jsx(X,{height:15}),e.jsxs(Ae,{typeCSS:Et.listeningActivity4,containerCSS:Et.container,children:[e.jsx(W1,{src:s.Quiz[l-1].Question.Image}),e.jsx(X,{height:15}),e.jsx(nx,{multiPlayState:T,correctText:s.Quiz[l-1].Examples[0].Text,exampleData:j,playWord:B,checkAnswer:R,onAnimationEndHandler:D})]}),Ws?e.jsx(X,{height:5}):e.jsx(X,{height:15})]}),y&&e.jsx(ze,{isSideOpen:y,currentStep:o,currentStepType:$n,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:W,scoreBoardData:S,changeStep:t.changeStep}),e.jsx(Ye,{bottomPopupState:F})]})})})}async function ix(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Te}/reading-comprehension-1?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Quiz:a.Quiz.map(m=>({QuizId:m.QuizId.toString(),QuizNo:Number(m.QuizNo),Question:{Text:m.Question.Text,Sound:m.Question.Sound},Examples:m.Examples.map(g=>({Text:g.Text,Image:g.Image}))}))}))}async function rx(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Te}/reading-comprehension-2?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Quiz:a.Quiz.map(m=>({QuizId:m.QuizId.toString(),QuizNo:Number(m.QuizNo),Question:{Text:m.Question.Text,Image:m.Question.Image},Examples:m.Examples.map(g=>({Text:g.Text,Sound:g.Sound}))}))}))}async function ax(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Te}/reading-comprehension-3?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Quiz:a.Quiz.map(m=>({QuizId:m.QuizId.toString(),QuizNo:Number(m.QuizNo),Question:{Text:m.Question.Text,Image:m.Question.Image,Sound:m.Question.Sound},Examples:m.Examples.map(g=>({Text:g.Text,Sound:g.Sound}))}))}))}async function cx(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Te}/reading-comprehension-4?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),IsModeRetest:!!a.IsModeRetest,PassMark:Number(a.PassMark),IsHideQuestionText:!!a.IsHideQuestionText,Quiz:a.Quiz.map(m=>({QuizId:m.QuizId.toString(),QuizNo:Number(m.QuizNo),Question:{Text:m.Question.Text,Sound:m.Question.Sound},Examples:m.Examples.map(g=>({Text:g.Text}))}))}))}const ux="_comment_1s1kv_1",lx="_wordPlayButton_1s1kv_20",dx="_txtL_1s1kv_35",mx="_wordPlayButton2_1s1kv_40",xx="_cardNumber_1s1kv_61",_x="_readingComprehension1_1s1kv_76",hx="_container_1s1kv_76",px="_imageCard_1s1kv_82",gx="_correct_1s1kv_116",yx="_incorrect_1s1kv_121",fx="_cardNumberPosition_1s1kv_130",kx="_readingComprehension2_1s1kv_136",bx="_questionBox_1s1kv_141",Sx="_wordImage_1s1kv_156",wx="_wordText_1s1kv_165",vx="_textCard_1s1kv_171",jx="_awnserText_1s1kv_214",zx="_enterButton_1s1kv_218",$x="_answers_1s1kv_242",Cx="_readingComprehension3_1s1kv_250",Qx="_questionImage_1s1kv_259",Ax="_questionText_1s1kv_270",Nx="_readingComprehension4_1s1kv_352",nt={comment:ux,wordPlayButton:lx,txtL:dx,wordPlayButton2:mx,cardNumber:xx,readingComprehension1:_x,container:hx,imageCard:px,correct:gx,incorrect:yx,cardNumberPosition:fx,readingComprehension2:kx,questionBox:bx,wordImage:Sx,wordText:wx,textCard:vx,awnserText:jx,enterButton:zx,answers:$x,readingComprehension3:Cx,questionImage:Qx,questionText:Ax,readingComprehension4:Nx},Tx="_comment_8s2bt_1",Ix="_wordPlayButton_8s2bt_20",Bx="_txtL_8s2bt_35",Ex="_wordPlayButton2_8s2bt_40",Px="_cardNumber_8s2bt_61",Mx="_readingComprehension1_8s2bt_76",Lx="_container_8s2bt_76",Rx="_imageCard_8s2bt_82",qx="_correct_8s2bt_109",Fx="_incorrect_8s2bt_114",Hx="_cardNumberPosition_8s2bt_123",Ox="_readingComprehension2_8s2bt_129",Dx="_questionBox_8s2bt_134",Wx="_wordImage_8s2bt_155",Vx="_wordText_8s2bt_170",Gx="_textCard_8s2bt_176",Ux="_awnserText_8s2bt_215",Kx="_enterButton_8s2bt_219",Jx="_answers_8s2bt_243",Yx="_readingComprehension3_8s2bt_250",Xx="_questionImage_8s2bt_261",Zx="_questionText_8s2bt_284",e_="_readingComprehension4_8s2bt_362",st={comment:Tx,wordPlayButton:Ix,txtL:Bx,wordPlayButton2:Ex,cardNumber:Px,readingComprehension1:Mx,container:Lx,imageCard:Rx,correct:qx,incorrect:Fx,cardNumberPosition:Hx,readingComprehension2:Ox,questionBox:Dx,wordImage:Wx,wordText:Vx,textCard:Gx,awnserText:Ux,enterButton:Kx,answers:Jx,readingComprehension3:Yx,questionImage:Xx,questionText:Zx,readingComprehension4:e_},t_=new Q(navigator.userAgent),n_=t_.phone(),To=n_?st:nt;function s_({playState:t,question:i,onPlay:n}){return e.jsxs("div",{className:To.wordPlayButton,onClick:()=>n(),children:[t===""?e.jsx(Me,{isColor:!0,width:34,height:34}):e.jsx(Le,{isColor:!0,width:34,height:34}),e.jsx("div",{className:To.txtL,children:i})]})}const o_=new Q(navigator.userAgent),Vs=o_.phone(),Cn=Vs?st:nt;function i_({index:t,img:i,text:n,correctText:o,checkAnswer:r,onAnimationEndHandler:u}){const{bookInfo:d,studyInfo:a}=c.useContext(oe);return e.jsxs("div",{className:`${Cn.imageCard} ${a.mode==="Review"&&Number(d.Average)>=70&&o===n?Cn.correct:""} animate__animated`,onClick:m=>r(m.currentTarget,n),onAnimationEnd:m=>u(m),children:[e.jsx("img",{src:i,width:Vs?"auto":"100%",height:Vs?"100%":"auto"}),e.jsx("div",{className:Cn.cardNumberPosition,children:e.jsx("div",{className:Cn.cardNumber,children:t})})]})}const r_=new Q(navigator.userAgent),Zn=r_.phone(),Qn="Reading Comprehension",Pt=Zn?st:nt;function a_(t){const{handler:i,studyInfo:n}=c.useContext(oe),o=t.currentStep,r=Se(()=>{window.onLogoutStudy()}),u=rt(),[d,a]=c.useState("animate__bounceInRight"),{isStepIntro:m,closeStepIntro:g}=be(),{isResultShow:f,changeResultShow:h}=qe(),[y,k]=c.useState(!1),_=c.useRef(!0),[s,x]=we(ix,t,o),[l,p]=c.useState(1),{scoreBoardData:S,setStudentAnswers:b,addStudentAnswer:v,makeUserAnswerData:N}=ve(n.mode),[j,C]=c.useState([]),[P,w]=c.useState(0),[q,I]=c.useState(0),{bottomPopupState:F,changeBottomPopupState:U}=Je(),{playState:L,playAudio:H,stopAudio:T}=Pe();if(c.useEffect(()=>{!m&&s&&(r.setup(s.QuizTime,!0),H(s.Quiz[l-1].Question.Sound),_.current=!1)},[m]),c.useEffect(()=>{if(s){const[B,$]=ot(n.mode,x,s.QuizAnswerCount);w($),I($),n.mode==="Super"?C(s.Quiz[B-1].Examples):C(xe.shuffle(s.Quiz[B-1].Examples)),b(x,s.QuizAnswerCount),p(B)}},[s]),c.useEffect(()=>{!m&&!f&&s&&(n.mode==="Super"?C(s.Quiz[l-1].Examples):C(xe.shuffle(s.Quiz[l-1].Examples)),w(0),I(0),r.setup(s.QuizTime,!0),H(s.Quiz[l-1].Question.Sound),_.current=!1)},[l]),c.useEffect(()=>{f&&r.stop()},[f]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const O=async(B,$)=>{try{if(!_.current){_.current=!0;const A=s.Quiz[l-1].Question.Text===$,M={quizNo:l,maxCount:s.QuizAnswerCount,answerCount:P+1,ox:A},K=N({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:o,quizId:s.Quiz[l-1].QuizId,quizNo:s.Quiz[l-1].QuizNo,currentQuizNo:l,correct:s.Quiz[l-1].Question.Text,selectedAnswer:$,tryCount:P+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:A,answerData:M,isFinishStudy:t.lastStep===o});r.stop();const te=await Ce(n.mode,K);Number(te.result)===0&&(te.resultMessage&&(i.finishStudy={id:Number(te.result),cause:te.resultMessage}),v(M),A||I(q+1),w(P+1),R(B,A))}}catch(A){console.error(A)}},R=(B,$)=>{r.stop(),U({isActive:!0,isCorrect:$}),$?u.play(B,["animate__fadeIn",Pt.correct]):u.play(B,["animate__headShake",Pt.incorrect])},Y=B=>{const $=B.currentTarget;setTimeout(()=>{u.remove($,["animate__fadeIn","animate__headShake",Pt.correct,Pt.incorrect]),U({isActive:!1,isCorrect:!1}),w(0),I(0),l+1>s.Quiz.length?h(!0):p(l+1)},1500)},D=B=>{k(B)},W=()=>{L===""?H(s.Quiz[l-1].Question.Sound):T()};return e.jsx(e.Fragment,{children:m?e.jsx("div",{className:`animate__animated ${d}`,onAnimationEnd:()=>{d==="animate__bounceOutLeft"&&g()},children:e.jsx(Ee,{step:o,quizType:Qn,comment:"문장을 듣고 알맞은 카드를 고르세요.",onStepIntroClozeHandler:()=>{a("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(e.Fragment,{children:e.jsx(tt,{step:o,quizType:Qn,quizAnswerCount:s.QuizAnswerCount,studentAnswer:S,onFinishActivity:t.onFinishActivity})}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:l,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-q,timeMin:r.time.timeMin,timeSec:r.time.timeSec,changeSideMenu:D}),e.jsx("div",{className:`${Pt.comment} animate__animated animate__fadeInLeft`,children:Qn}),e.jsxs($e,{children:[Zn?e.jsx(X,{height:0}):e.jsx(X,{height:15}),e.jsx(s_,{playState:L,question:s.Quiz[l-1].Question.Text,onPlay:W}),Zn?e.jsx(X,{height:10}):e.jsx(X,{height:15}),e.jsx(Ae,{typeCSS:Pt.readingComprehension1,containerCSS:Pt.container,children:j.map((B,$)=>e.jsx(i_,{index:$+1,img:B.Image,text:B.Text,correctText:s.Quiz[l-1].Question.Text,checkAnswer:O,onAnimationEndHandler:Y}))}),Zn?e.jsx(e.Fragment,{}):e.jsx(X,{height:15})]}),y&&e.jsx(ze,{isSideOpen:y,currentStep:o,currentStepType:Qn,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:D,scoreBoardData:S,changeStep:t.changeStep}),e.jsx(Ye,{bottomPopupState:F})]})})})}const c_=new Q(navigator.userAgent),Gs=c_.phone(),Io=Gs?st:nt;function u_({src:t}){return e.jsx("div",{className:Io.questionBox,children:e.jsx("div",{className:Io.wordImage,children:e.jsx("img",{src:t,width:Gs?"auto":"100%",height:Gs?"100%":"auto"})})})}const l_=new Q(navigator.userAgent),d_=l_.phone(),Bo=d_?st:nt;function m_({multiPlayState:t,sentence:i,index:n,playSentence:o}){return e.jsxs("div",{className:Bo.wordPlayButton2,onClick:r=>{o(r,n)},children:[t.playState==="playing"&&t.seq===n?e.jsx(Le,{isColor:!0,width:24,height:24}):e.jsx(Me,{isColor:!0,width:24,height:24}),e.jsx("div",{className:Bo.txtL,children:i})]})}const x_=new Q(navigator.userAgent),__=x_.phone(),An=__?st:nt;function h_({multiPlayState:t,sentence:i,correctSentence:n,index:o,playSentence:r,checkAnswer:u,onAnimationEndHandler:d}){const{bookInfo:a,studyInfo:m}=c.useContext(oe),g=c.useRef(null),f=()=>{u(g,o)};return e.jsxs("div",{ref:g,className:`${An.textCard} ${m.mode==="Review"&&Number(a.Average)>=70&&n===i?An.correct:""}`,onAnimationEnd:h=>d(h),children:[e.jsx("div",{className:An.cardNumber,children:Number(o+1)}),e.jsx(m_,{multiPlayState:t,sentence:i,index:o,playSentence:r}),e.jsx("span",{className:An.enterButton,onClick:()=>f(),children:e.jsx("span",{children:e.jsx(os,{width:15,height:15})})})]})}const p_=new Q(navigator.userAgent),g_=p_.phone(),y_=g_?st:nt;function f_({multiPlayState:t,correctSentence:i,exampleData:n,playSentence:o,checkAnswer:r,onAnimationEndHandler:u}){return e.jsx("div",{className:y_.answers,children:n.map((d,a)=>e.jsx(h_,{multiPlayState:t,sentence:d.Text,correctSentence:i,index:a,playSentence:o,checkAnswer:r,onAnimationEndHandler:u}))})}const k_=new Q(navigator.userAgent),Us=k_.phone(),Nn="Reading Comprehension",Mt=Us?st:nt;function b_(t){const{handler:i,studyInfo:n}=c.useContext(oe),o=t.currentStep,r=Se(()=>{window.onLogoutStudy()}),u=rt(),[d,a]=c.useState("animate__bounceInRight"),{isStepIntro:m,closeStepIntro:g}=be(),{isResultShow:f,changeResultShow:h}=qe(),[y,k]=c.useState(!1),_=c.useRef(!0),[s,x]=we(rx,t,o),[l,p]=c.useState([]),{scoreBoardData:S,setStudentAnswers:b,addStudentAnswer:v,makeUserAnswerData:N}=ve(n.mode),[j,C]=c.useState(1),[P,w]=c.useState(0),[q,I]=c.useState(0),{bottomPopupState:F,changeBottomPopupState:U}=Je(),{playAudio:L,stopAudio:H}=Pe(),[T,O]=c.useState({playState:"",seq:-1});if(c.useEffect(()=>{!m&&s&&(r.setup(s.QuizTime,!0),_.current=!1)},[m]),c.useEffect(()=>{if(H(),T.seq>-1){const $=()=>{O({playState:"",seq:-1})};L(l[T.seq].Sound,$)}},[T]),c.useEffect(()=>{if(s){const[$,A]=ot(n.mode,x,s.QuizAnswerCount);w(A),I(A),n.mode==="Super"?p(s.Quiz[$-1].Examples):p(xe.shuffle(s.Quiz[$-1].Examples)),b(x,s.QuizAnswerCount),C($)}},[s]),c.useEffect(()=>{!m&&!f&&s&&(r.setup(s.QuizTime,!0),n.mode==="Super"?p(s.Quiz[j-1].Examples):p(xe.shuffle(s.Quiz[j-1].Examples)),_.current=!1)},[j]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const R=async($,A)=>{try{if(!_.current){_.current=!0,H(),O({playState:"",seq:-1});const M=s.Quiz[j-1].Question.Text===l[A].Text,K={quizNo:j,maxCount:s.QuizAnswerCount,answerCount:P+1,ox:M},te=N({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:o,quizId:s.Quiz[j-1].QuizId,quizNo:s.Quiz[j-1].QuizNo,currentQuizNo:j,correct:s.Quiz[j-1].Question.Text,selectedAnswer:l[A].Text,tryCount:P+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:M,answerData:K,isFinishStudy:t.lastStep===o});r.stop();const se=await Ce(n.mode,te);Number(se.result)===0&&(se.resultMessage&&(i.finishStudy={id:Number(se.result),cause:se.resultMessage}),M||I(q+1),w(P+1),v(K),Y($,M))}}catch{}},Y=($,A)=>{U({isActive:!0,isCorrect:A}),$.current&&(A?u.play($.current,[Mt.correct,"animate__fadeIn"]):u.play($.current,[Mt.incorrect,"animate__headShake"]))},D=$=>{const A=$.currentTarget;setTimeout(()=>{u.remove(A,[Mt.correct,Mt.incorrect,"animate__fadeIn","animate__headShake"]),U({isActive:!1,isCorrect:!1}),w(0),I(0),j+1>s.Quiz.length?h(!0):C(j+1)},1e3)},W=($,A)=>{T.playState===""&&A>-1?O({playState:"playing",seq:A}):T.playState==="playing"&&T.seq===A?O({playState:"",seq:-1}):T.playState==="playing"&&T.seq!==A&&O({playState:"playing",seq:A})},B=$=>{k($)};return e.jsx(e.Fragment,{children:m?e.jsx("div",{className:`animate__animated ${d}`,onAnimationEnd:()=>{d==="animate__bounceOutLeft"&&g()},children:e.jsx(Ee,{step:o,quizType:Nn,comment:"그림을 보고 알맞은 문장을 고르세요.",onStepIntroClozeHandler:()=>{a("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(tt,{step:o,quizType:Nn,quizAnswerCount:s.QuizAnswerCount,studentAnswer:S,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:j,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-q,timeMin:r.time.timeMin,timeSec:r.time.timeSec,changeSideMenu:B}),e.jsx("div",{className:`${Mt.comment} animate__animated animate__fadeInLeft`,children:Nn}),e.jsxs($e,{children:[Us?e.jsx(X,{height:0}):e.jsx(X,{height:15}),e.jsxs(Ae,{typeCSS:Mt.readingComprehension2,containerCSS:Mt.container,children:[e.jsx(u_,{src:s.Quiz[j-1].Question.Image}),e.jsx(X,{height:15}),e.jsx(f_,{multiPlayState:T,correctSentence:s.Quiz[j-1].Question.Text,exampleData:l,playSentence:W,checkAnswer:R,onAnimationEndHandler:D})]}),Us?e.jsx(X,{height:5}):e.jsx(X,{height:15})]}),y&&e.jsx(ze,{isSideOpen:y,currentStep:o,currentStepType:Nn,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:B,scoreBoardData:S,changeStep:t.changeStep}),e.jsx(Ye,{bottomPopupState:F})]})})})}const S_=new Q(navigator.userAgent),Ks=S_.phone(),w_=Ks?st:nt;function v_({src:t}){return e.jsx("div",{className:w_.questionImage,children:e.jsx("img",{src:t,width:Ks?"auto":"100%",height:Ks?"100%":"auto"})})}const j_=new Q(navigator.userAgent),z_=j_.phone(),Eo=z_?st:nt;function $_({multiPlayState:t,sentence:i,index:n,playSentence:o}){return e.jsxs("div",{className:Eo.wordPlayButton2,onClick:r=>{o(n)},children:[t.playState==="playing"&&t.seq===n?e.jsx(Le,{isColor:!0,width:24,height:24}):e.jsx(Me,{isColor:!0,width:24,height:24}),e.jsx("div",{className:Eo.txtL,children:i})]})}const C_=new Q(navigator.userAgent),Q_=C_.phone(),Tn=Q_?st:nt;function A_({index:t,multiPlayState:i,correctText:n,sentence:o,playSentence:r,checkAnswer:u,onAnimationEndHandler:d}){const{bookInfo:a,studyInfo:m}=c.useContext(oe),g=c.useRef(null),f=()=>{u(g,t)};return e.jsxs("div",{ref:g,className:`${Tn.textCard} 
      ${m.mode==="Review"&&Number(a.Average)>=70&&o===n?Tn.correct:""}`,onAnimationEnd:h=>d(h),children:[e.jsx("div",{className:Tn.cardNumber,children:Number(t+1)}),e.jsx($_,{multiPlayState:i,sentence:o,index:t,playSentence:r}),e.jsx("span",{className:Tn.enterButton,onClick:()=>f(),children:e.jsx("span",{children:e.jsx(os,{width:15,height:15})})})]})}function N_({multiPlayState:t,correctText:i,exampleData:n,playSentence:o,checkAnswer:r,onAnimationEndHandler:u}){return e.jsx(e.Fragment,{children:n.map((d,a)=>e.jsx(A_,{index:a,multiPlayState:t,correctText:i,sentence:d.Text,playSentence:o,checkAnswer:r,onAnimationEndHandler:u}))})}const T_=new Q(navigator.userAgent),Js=T_.phone(),Po=Js?st:nt;function I_({multiPlayState:t,question:i,correctText:n,exampleData:o,playSentence:r,checkAnswer:u,onAnimationEndHandler:d}){return e.jsxs("div",{className:Po.answers,children:[Js?e.jsx(e.Fragment,{}):e.jsx(X,{height:10}),i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:Po.questionText,children:i}),Js?e.jsx(e.Fragment,{}):e.jsx(X,{height:10})]}),e.jsx(N_,{multiPlayState:t,correctText:n,exampleData:o,playSentence:r,checkAnswer:u,onAnimationEndHandler:d})]})}const B_=new Q(navigator.userAgent),Ys=B_.phone(),In="Reading Comprehension",Lt=Ys?st:nt;function E_(t){const{handler:i,studyInfo:n}=c.useContext(oe),o=t.currentStep,r=Se(()=>{window.onLogoutStudy()}),u=rt(),[d,a]=c.useState("animate__bounceInRight"),{isStepIntro:m,closeStepIntro:g}=be(),{isResultShow:f,changeResultShow:h}=qe(),[y,k]=c.useState(!1),_=c.useRef(!0),[s,x]=we(ax,t,o),[l,p]=c.useState([]),{scoreBoardData:S,setStudentAnswers:b,addStudentAnswer:v,makeUserAnswerData:N}=ve(n.mode),[j,C]=c.useState(1),[P,w]=c.useState(0),[q,I]=c.useState(0),{bottomPopupState:F,changeBottomPopupState:U}=Je(),{playAudio:L,stopAudio:H}=Pe(),[T,O]=c.useState({playState:"",seq:-1});if(c.useEffect(()=>{!m&&s&&(r.setup(s.QuizTime,!0),W(4),_.current=!1)},[m]),c.useEffect(()=>{if(H(),T.seq>-1){const $=()=>{O({playState:"",seq:-1})};T.seq===4?s&&L(s==null?void 0:s.Quiz[j-1].Question.Sound,$):L(l[T.seq].Sound,$)}},[T]),c.useEffect(()=>{if(s){const[$,A]=ot(n.mode,x,s.QuizAnswerCount);w(A),I(A),n.mode==="Super"?p(s.Quiz[$-1].Examples):p(xe.shuffle(s.Quiz[$-1].Examples)),b(x,s.QuizAnswerCount),C($)}},[s]),c.useEffect(()=>{!m&&!f&&s&&(r.setup(s.QuizTime,!0),W(4),w(0),I(0),n.mode==="Super"?p(s.Quiz[j-1].Examples):p(xe.shuffle(s.Quiz[j-1].Examples)),_.current=!1)},[j]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const R=async($,A)=>{try{if(!_.current){_.current=!0,H(),O({playState:"",seq:-1});const M=s.Quiz[j-1].Examples[0].Text===l[A].Text,K={quizNo:j,maxCount:s.QuizAnswerCount,answerCount:P+1,ox:M},te=N({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:o,quizId:s.Quiz[j-1].QuizId,quizNo:s.Quiz[j-1].QuizNo,currentQuizNo:j,correct:s.Quiz[j-1].Examples[0].Text,selectedAnswer:l[A].Text,tryCount:P+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:M,answerData:K,isFinishStudy:t.lastStep===o});r.stop();const se=await Ce(n.mode,te);Number(se.result)===0&&(se.resultMessage&&(i.finishStudy={id:Number(se.result),cause:se.resultMessage}),M||I(q+1),w(P+1),v(K),Y($,M))}}catch{}},Y=($,A)=>{r.stop(),U({isActive:!0,isCorrect:A}),$.current&&(A?u.play($.current,[Lt.correct,"animate__fadeIn"]):u.play($.current,[Lt.incorrect,"animate__headShake"]))},D=$=>{const A=$.currentTarget,M=!!u.isContain(A,"animate__fadeIn");setTimeout(()=>{u.remove(A,[Lt.correct,Lt.incorrect,"animate__fadeIn","animate__headShake"]),U({isActive:!1,isCorrect:!1}),M||P>=s.QuizAnswerCount?j+1>s.Quiz.length?h(!0):C(j+1):(r.setup(s.QuizTime,!0),_.current=!1)},1e3)},W=$=>{T.playState===""&&$>-1?O({playState:"playing",seq:$}):T.playState==="playing"&&T.seq===$?O({playState:"",seq:-1}):T.playState==="playing"&&T.seq!==$&&O({playState:"playing",seq:$})},B=$=>{k($)};return e.jsx(e.Fragment,{children:m?e.jsx("div",{className:`animate__animated ${d}`,onAnimationEnd:()=>{d==="animate__bounceOutLeft"&&g()},children:e.jsx(Ee,{step:o,quizType:In,comment:"그림과 질문을 보고 알맞은 대답을 고르세요.",onStepIntroClozeHandler:()=>{a("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(tt,{step:o,quizType:In,quizAnswerCount:s.QuizAnswerCount,studentAnswer:S,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:j,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-q,timeMin:r.time.timeMin,timeSec:r.time.timeSec,changeSideMenu:B}),e.jsx("div",{className:`${Lt.comment} animate__animated animate__fadeInLeft`,children:In}),e.jsxs($e,{children:[Ys?e.jsx(X,{height:0}):e.jsx(X,{height:15}),e.jsxs(Ae,{typeCSS:Lt.readingComprehension3,containerCSS:Lt.container,children:[e.jsx(v_,{src:s.Quiz[j-1].Question.Image}),e.jsx(I_,{multiPlayState:T,question:s.Quiz[j-1].Question.Text,correctText:s.Quiz[j-1].Examples[0].Text,exampleData:l,playSentence:W,checkAnswer:R,onAnimationEndHandler:D})]}),Ys?e.jsx(X,{height:5}):e.jsx(X,{height:15})]}),y&&e.jsx(ze,{isSideOpen:y,currentStep:o,currentStepType:In,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:B,scoreBoardData:S,changeStep:t.changeStep}),e.jsx(Ye,{bottomPopupState:F})]})})})}const P_=new Q(navigator.userAgent),M_=P_.phone(),L_=M_?st:nt;function R_({question:t}){return e.jsx("div",{className:L_.questionText,dangerouslySetInnerHTML:{__html:t}})}const q_=new Q(navigator.userAgent),F_=q_.phone(),Bn=F_?st:nt;function H_({correctText:t,exampleData:i,index:n,checkAnswer:o}){const{bookInfo:r,studyInfo:u}=c.useContext(oe);return e.jsxs("div",{className:`${Bn.textCard} ${u.mode==="Review"&&Number(r.Average)>=70&&i.Text===t?Bn.correct:""}`,onClick:d=>o(i.Text,d.currentTarget),children:[e.jsx("div",{className:Bn.cardNumber,children:Number(n+1)}),e.jsx("div",{className:Bn.awnserText,dangerouslySetInnerHTML:{__html:i.Text}})]})}function O_({correctText:t,exampleData:i,checkAnswer:n}){return e.jsx(e.Fragment,{children:i.map((o,r)=>e.jsx(H_,{correctText:t,exampleData:o,index:r,checkAnswer:n},`e-0${r}`))})}const D_=new Q(navigator.userAgent),Xs=D_.phone(),W_=Xs?st:nt;function V_({isHideQuestion:t,question:i,correctText:n,exampleData:o,checkAnswer:r}){return e.jsxs("div",{className:W_.answers,children:[Xs?e.jsx(X,{height:5}):e.jsx(X,{height:10}),!t&&e.jsx(R_,{question:i}),Xs?e.jsx(X,{height:0}):e.jsx(X,{height:10}),e.jsx(O_,{correctText:n,exampleData:o,checkAnswer:r})]})}const G_=new Q(navigator.userAgent),U_=G_.phone(),pt=U_?ft:yt;function K_({index:t,question:i,correctAnswer:n,selectedAnswer:o}){return e.jsxs("div",{className:pt.quizQuestion,children:[e.jsxs("div",{className:pt.questionSentence,children:[e.jsxs("span",{className:pt.questionNum,children:[Number(t+1),". "]}),e.jsx("span",{className:pt.questionText,children:i})]}),e.jsx("div",{className:pt.answers,children:e.jsxs("div",{className:pt.quizAnswer,children:[e.jsxs("div",{className:pt.answers,children:[e.jsx("span",{className:pt.correctIcon}),e.jsx("span",{className:pt.correctAnswer,children:n})]}),o!==""&&!Number(o)&&e.jsxs("div",{className:pt.answers,children:[e.jsx("span",{className:pt.incorrectIcon}),e.jsx("div",{className:pt.wrongAnswer,children:o===""?"":o})]})]})})]})}const J_=new Q(navigator.userAgent),Y_=J_.phone(),Mo=Y_?ft:yt;function X_({quizData:t,failedExample:i}){return e.jsxs("div",{className:Mo.wrongAnswers,children:[i.length!=0&&e.jsx("div",{className:Mo.title,children:"Wrong Answers"}),i.map((n,o)=>e.jsx(K_,{index:o,question:t.Quiz[n.CurrentQuizNo-1].Question.Text,correctAnswer:t.Quiz[n.CurrentQuizNo-1].Examples[0].Text,selectedAnswer:n.StudentAnswer}))]})}const Z_=new Q(navigator.userAgent),eh=Z_.phone(),Ve=eh?ft:yt;function th({isReTest:t,isReTestFail:i,step:n,quizType:o,quizAnswerCount:r,studentAnswer:u,quizData:d,failedExample:a,passMark:m,doReTest:g,onFinishActivity:f}){const h=Vt();let y=0,k=0,_=0;const s=100/u.length;return u.map(x=>{if(x.ox)switch(k++,x.answerCount){case 1:y+=1*s;break;case 2:y+=.5*s;break;case 3:y+=.25*s;break}else x.answerCount===r&&_++}),e.jsxs("div",{className:Ve.testResult,children:[e.jsxs("div",{className:Ve.quizType,children:["Step ",n,". ",o]}),e.jsxs("div",{className:Ve.totalScoreContainer,children:[e.jsx("div",{className:Ve.txtL,children:"SCORE: "}),e.jsx("div",{className:`${Ve.totalScore} ${Ve.heartbeat}`,children:Math.round(y)})]}),e.jsxs("div",{className:Ve.container,children:[e.jsx("div",{className:`${Ve.readingUnit} animate__animated animate__jackInTheBox`,children:e.jsx("img",{src:`https://wcfresource.a1edu.com/newsystem/image/character/subcharacter/${h}_10.png`,alt:""})}),e.jsxs("div",{className:Ve.passmark,children:["Passmark: ",m]}),e.jsxs("div",{className:`${Ve.board1} animate__animated animate__fadeIn`,children:[e.jsxs("div",{className:Ve.correctScore,children:[e.jsx("div",{className:Ve.title,children:"correct"}),e.jsx("div",{className:Ve.number,children:k})]}),e.jsxs("div",{className:Ve.incorrectScore,children:[e.jsx("div",{className:Ve.title,children:"incorrect"}),e.jsx("div",{className:Ve.number,children:_})]})]}),e.jsx("div",{className:Ve.board2,children:t?e.jsx(yi,{quizAnswerCount:r,studentAnswer:u}):e.jsx(X_,{quizData:d,failedExample:a})}),e.jsx(X,{height:50})]}),t?i?e.jsx("div",{className:Ve.nextButton,onClick:()=>{try{window.onExitStudy()}catch{location.replace("/")}},children:"OK"}):e.jsx("div",{className:Ve.nextButton,onClick:()=>g(),children:"Re-Test"}):e.jsx("div",{className:Ve.nextButton,onClick:()=>f(),children:"Next"})]})}const nh=new Q(navigator.userAgent),sh=nh.phone(),Lo=sh?st:nt;function oh({playState:t,playSentence:i}){return e.jsxs("div",{className:Lo.wordPlayButton,onClick:()=>i(),children:[t==="playing"?e.jsx(Le,{isColor:!0,width:34,height:34}):e.jsx(Me,{isColor:!0,width:34,height:34}),e.jsx("div",{className:Lo.txtL,children:"Playback"})]})}const ih=new Q(navigator.userAgent),Zs=ih.phone(),En="Reading Comprehension",Rt=Zs?st:nt;function rh(t){const{bookInfo:i,handler:n,studyInfo:o}=c.useContext(oe),r=n.isReTest||t.isReTestYn?"R":t.currentStep,u=rt(),d=Se(()=>{K("")}),[a,m]=c.useState("animate__bounceInRight"),{isStepIntro:g,closeStepIntro:f}=be(),{isResultShow:h,changeResultShow:y}=qe(),[k,_]=c.useState(!1),s=c.useRef(!1),[x,l]=we(cx,t,r,t.isReTestYn),[p,S]=c.useState([...l]),{scoreBoardData:b,setStudentAnswers:v,addStudentAnswer:N,makeUserAnswerData:j,resetStudentAnswer:C,getScore:P}=ve(o.mode),[w,q]=c.useState(1),[I,F]=c.useState([]),[U,L]=c.useState(0),[H,T]=c.useState(0),{bottomPopupState:O,changeBottomPopupState:R}=Je(),[Y,D]=c.useState(!1),[W,B]=c.useState(!1),{playState:$,playAudio:A,stopAudio:M}=Pe();if(c.useEffect(()=>{if(!g&&x)if(o.availableQuizStatus===1){alert("Re Test는 하루에 한번만 시도할 수 있습니다. 내일 다시 시도해주세요.");try{window.onExitStudy()}catch{location.replace("/")}}else o.availableQuizStatus===0&&(d.setup(x.QuizTime,!0),(o.bookType==="PB"||i.BookLevel.includes("1"))&&Z(),s.current=!1)},[g]),c.useEffect(()=>{if(x){x.Quiz.sort((G,V)=>Number(G.QuizNo)-Number(V.QuizNo));const[ae,E]=ot(o.mode,l,x.QuizAnswerCount),J=l.filter(G=>G.OX==="2");D(x.IsModeRetest||t.isReTestYn?!0:n.isReTest),S([...J]),L(E),T(E),o.mode==="Super"?F(x.Quiz[ae-1].Examples):F(xe.shuffle(x.Quiz[ae-1].Examples)),v(l,x.QuizAnswerCount),q(ae)}},[x]),c.useEffect(()=>{!g&&!h&&x&&(o.mode==="Super"?F(x.Quiz[w-1].Examples):F(xe.shuffle(x.Quiz[w-1].Examples)),T(0),L(0),(o.bookType==="PB"||i.BookLevel.includes("1"))&&Z(),s.current=!1,d.setup(x.QuizTime,!0))},[w]),!x)return e.jsx(e.Fragment,{children:"Loading..."});const K=async(ae="",E)=>{try{if(!s.current){d.stop(),s.current=!0;const J=x.Quiz[w-1].Examples[0].Text,G=J===ae,V={quizNo:w,maxCount:x.QuizAnswerCount,answerCount:U+1,ox:G},ne=Y||t.isReTestYn||x.IsModeRetest?"R":t.currentStep,ue=j({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:ne,quizId:x.Quiz[w-1].QuizId,quizNo:x.Quiz[w-1].QuizNo,currentQuizNo:w,correct:J,selectedAnswer:ae,tryCount:U+1,maxQuizCount:x.QuizAnswerCount,quizLength:x.Quiz.length,isCorrect:G,answerData:V,isFinishStudy:t.lastStep===r});let ie=0;w+1>Object.keys(x.Quiz).length&&(ie=P(V,Object.keys(x.Quiz).length,x.QuizAnswerCount));const _e=await Ce(o.mode,ue);if(Number(_e.result)===0)if(_e.resultMessage&&(n.finishStudy={id:Number(_e.result),cause:_e.resultMessage}),N(V),!E||ae===""){R({isActive:!0,isCorrect:!1});const Ne={QuizId:x.Quiz[w-1].QuizId,QuizNo:x.Quiz[w-1].QuizNo,CurrentQuizNo:w,OX:"2",TempText:"",PenaltyWord:"",Correct:J,StudentAnswer:"",AnswerCount:U};o.mode==="Quiz"&&S([...p,Ne]),te(ie,void 0)}else{if(G)E&&u.play(E,["animate__fadeIn",Rt.correct]);else{E&&u.play(E,["animate__headShake",Rt.incorrect]);const Ne={QuizId:x.Quiz[w-1].QuizId,QuizNo:x.Quiz[w-1].QuizNo,CurrentQuizNo:w,OX:"2",TempText:"",PenaltyWord:"",Correct:J,StudentAnswer:ae,AnswerCount:U};o.mode==="Quiz"&&S([...p,Ne]),T(H+1)}R({isActive:!0,isCorrect:G}),L(U+1),te(ie,E)}}}catch(J){console.error(J)}},te=(ae,E)=>{setTimeout(()=>{R({isActive:!1,isCorrect:!1}),E&&u.remove(E,["animate__headShake","animate__fadeIn",Rt.correct,Rt.incorrect]),w+1>Object.keys(x.Quiz).length?ae<x.PassMark&&o.mode==="Quiz"?t.isReTestYn||Y||x.IsModeRetest||t.isReTestYn||Y||x.IsModeRetest?(B(!0),y(!0)):(n.changeReTest(!0),D(!0),y(!0)):(D(!1),re()):(M(),q(w+1))},2e3)},se=()=>{S([]),C(),q(1),y(!1)},re=()=>{y(!0)},ce=ae=>{_(ae)},Z=()=>{if($===""){const ae=x.Quiz[w-1].Question.Sound||"";A(ae)}else M()};return e.jsx(e.Fragment,{children:g?e.jsx("div",{className:`animate__animated ${a}`,onAnimationEnd:()=>{a==="animate__bounceOutLeft"&&f()},children:e.jsx(Ee,{step:r,quizType:En,comment:"질문을 보고 알맞은 대답을 고르세요.",onStepIntroClozeHandler:()=>{m("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:h?e.jsx(e.Fragment,{children:e.jsx(th,{isReTest:Y,isReTestFail:W,step:t.currentStep,quizType:En,quizAnswerCount:x.QuizAnswerCount,studentAnswer:b,quizData:x,failedExample:p,passMark:x.PassMark,doReTest:se,onFinishActivity:t.onFinishActivity})}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:w,totalQuizCnt:Object.keys(x.Quiz).length,life:x.QuizAnswerCount-H,timeMin:d.time.timeMin,timeSec:d.time.timeSec,changeSideMenu:ce}),e.jsx("div",{className:`${Rt.comment} animate__animated animate__fadeInLeft`,children:t.isReTestYn||Y||x.IsModeRetest?"Re-Test":En}),e.jsxs($e,{children:[Zs?e.jsx(X,{height:0}):e.jsx(X,{height:15}),i.BookCode.includes("PB")&&Number(i.BookLevel.substring(0,1))>3?e.jsx(oh,{playState:$,playSentence:Z}):e.jsx(e.Fragment,{}),e.jsx(Ae,{typeCSS:Rt.readingComprehension4,containerCSS:Rt.container,children:e.jsx(V_,{isHideQuestion:x.IsHideQuestionText,question:x.Quiz[w-1].Question.Text,correctText:x.Quiz[w-1].Examples[0].Text,exampleData:I,checkAnswer:K})}),Zs?e.jsx(X,{height:5}):e.jsx(X,{height:15})]}),k&&e.jsx(ze,{isSideOpen:k,currentStep:r,currentStepType:En,quizLength:x.Quiz.length,maxAnswerCount:x.QuizAnswerCount,changeSideMenu:ce,scoreBoardData:b,changeStep:t.changeStep}),e.jsx(Ye,{bottomPopupState:O})]})})})}async function ah(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Te}/summary-1?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),IsEnablePenaltyReview:!!a.IsEnablePenaltyReview,Hint:{IsEnabled:a.Hint.IsEnabled,Max:a.Hint.Max,Try:a.Hint.Try},Quiz:a.Quiz.map(m=>({QuizId:m.QuizId.toString(),QuizNo:Number(m.QuizNo),Question:{Text:m.Question.Text,Sound:m.Question.Sound}}))}))}async function ch(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Te}/summary-2?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Sentence:{Texts:a.Sentence.Texts,Sounds:a.Sentence.Sounds},Quiz:a.Quiz.map(m=>({QuizId:m.QuizId.toString(),QuizNo:Number(m.QuizNo),Examples:m.Examples.map(g=>({Text:g.Text}))}))}))}async function uh(t,i,n,o){const r=`${mi}/Summary?studentHistoryId=${i}&studyId=${t}&quizNo=${n}&step=${o}`;return di(r,async d=>({Type:d.Type,Hint:d.Hint,TryHint:d.TryHint,ErrorNo:d.ErrorNo}))}const lh="_comment_iakz1_1",dh="_wordPlayButton_iakz1_20",mh="_txtL_iakz1_35",xh="_cardNumber_iakz1_46",_h="_hintButton_iakz1_61",hh="_testReview_iakz1_83",ph="_title_iakz1_83",gh="_container_iakz1_88",yh="_sentence_iakz1_97",fh="_nextButton_iakz1_106",kh="_deactNextButton_iakz1_128",bh="_reviewAnswer_iakz1_149",Sh="_currentOrder_iakz1_159",wh="_blink_iakz1_1",vh="_correctAnswer_iakz1_171",jh="_incorrectAnswer_iakz1_182",zh="_currentInput_iakz1_201",$h="_otherInput_iakz1_202",Ch="_enterButton_iakz1_209",Qh="_hintText_iakz1_235",Ah="_btnNext_iakz1_244",Nh="_iconArrowUp_iakz1_267",Th="_summaryTest1_iakz1_281",Ih="_textCard_iakz1_288",Bh="_correct_iakz1_171",Eh="_incorrect_iakz1_182",Ph="_awnserText_iakz1_333",Mh="_answers_iakz1_338",Lh="_correctTextCard_iakz1_342",Rh="_question_iakz1_346",qh="_questionMark_iakz1_352",Fh="_playIcon_iakz1_387",Hh="_highlight_iakz1_400",Oh="_correctOrders_iakz1_439",Dh="_correctDirection_iakz1_467",Wh="_summaryTest2_iakz1_486",Vh="_questionBox_iakz1_564",Gh="_answerBox_iakz1_589",Uh="_word_iakz1_20",Kh="_blink1_iakz1_1",Ge={comment:lh,wordPlayButton:dh,txtL:mh,cardNumber:xh,hintButton:_h,testReview:hh,title:ph,container:gh,sentence:yh,nextButton:fh,deactNextButton:kh,reviewAnswer:bh,currentOrder:Sh,blink:wh,correctAnswer:vh,incorrectAnswer:jh,currentInput:zh,otherInput:$h,enterButton:Ch,hintText:Qh,btnNext:Ah,iconArrowUp:Nh,summaryTest1:Th,textCard:Ih,correct:Bh,incorrect:Eh,awnserText:Ph,answers:Mh,correctTextCard:Lh,question:Rh,questionMark:qh,playIcon:Fh,highlight:Hh,correctOrders:Oh,correctDirection:Dh,summaryTest2:Wh,questionBox:Vh,answerBox:Gh,word:Uh,blink1:Kh},Jh="_comment_7ew9o_1",Yh="_wordPlayButton_7ew9o_15",Xh="_txtL_7ew9o_30",Zh="_cardNumber_7ew9o_41",ep="_hintButton_7ew9o_55",tp="_testReview_7ew9o_77",np="_title_7ew9o_77",sp="_container_7ew9o_82",op="_sentence_7ew9o_91",ip="_nextButton_7ew9o_99",rp="_deactNextButton_7ew9o_121",ap="_reviewAnswer_7ew9o_142",cp="_currentOrder_7ew9o_152",up="_blink_7ew9o_1",lp="_correctAnswer_7ew9o_164",dp="_incorrectAnswer_7ew9o_175",mp="_currentInput_7ew9o_194",xp="_otherInput_7ew9o_195",_p="_enterButton_7ew9o_202",hp="_hintText_7ew9o_228",pp="_btnNext_7ew9o_237",gp="_iconArrowUp_7ew9o_260",yp="_summaryTest1_7ew9o_274",fp="_textCard_7ew9o_282",kp="_correct_7ew9o_164",bp="_incorrect_7ew9o_175",Sp="_awnserText_7ew9o_327",wp="_answers_7ew9o_332",vp="_correctTextCard_7ew9o_336",jp="_question_7ew9o_340",zp="_questionMark_7ew9o_349",$p="_playIcon_7ew9o_384",Cp="_highlight_7ew9o_397",Qp="_correctOrders_7ew9o_438",Ap="_correctDirection_7ew9o_465",Np="_summaryTest2_7ew9o_471",Tp="_questionBox_7ew9o_540",Ip="_answerBox_7ew9o_571",Bp="_blink1_7ew9o_1",Ue={comment:Jh,wordPlayButton:Yh,txtL:Xh,cardNumber:Zh,hintButton:ep,testReview:tp,title:np,container:sp,sentence:op,nextButton:ip,deactNextButton:rp,reviewAnswer:ap,currentOrder:cp,blink:up,correctAnswer:lp,incorrectAnswer:dp,currentInput:mp,otherInput:xp,enterButton:_p,hintText:hp,btnNext:pp,iconArrowUp:gp,summaryTest1:yp,textCard:fp,correct:kp,incorrect:bp,awnserText:Sp,answers:wp,correctTextCard:vp,question:jp,questionMark:zp,playIcon:$p,highlight:Cp,correctOrders:Qp,correctDirection:Ap,summaryTest2:Np,questionBox:Tp,answerBox:Ip,blink1:Bp},Ep=()=>({exampleManager:{getExamplesByQuizNo:(i,n,o="Quiz")=>{const r=xe.filter(i,(u,d)=>d>=n-1);return o==="Quiz"?xe.shuffle(r):r}}}),Pp=new Q(navigator.userAgent),Mp=Pp.phone(),ls=Mp?Ue:Ge;function Lp(){return e.jsx("div",{className:`${ls.correctTextCard} ${ls.question}`,children:e.jsx("div",{className:ls.questionMark,children:"Choose the sentences in the correct order."})})}const Rp=new Q(navigator.userAgent),qp=Rp.phone(),qt=qp?Ue:Ge;function Fp({multiPlayState:t,index:i,sentenceData:n,selectedData:o,playSentence:r}){return e.jsx("div",{className:`${qt.correctTextCard}`,children:o.ox?e.jsx(e.Fragment,{children:e.jsxs("div",{className:qt.correctAnswer,children:[e.jsx("span",{className:qt.playIcon}),e.jsx("span",{onClick:()=>r(i),className:`${t.playState==="playing"&&t.seq===i?qt.highlight:""}`,dangerouslySetInnerHTML:{__html:n.Question.Text}})]})}):e.jsx(e.Fragment,{children:o.answerCount===o.maxCount?e.jsxs("div",{className:qt.incorrectAnswer,children:[e.jsx("span",{className:qt.playIcon}),e.jsx("span",{onClick:()=>r(i),className:`sentence ${t.playState==="playing"&&t.seq===i?qt.highlight:""}`,dangerouslySetInnerHTML:{__html:n.Question.Text}})]}):e.jsx(e.Fragment,{})})})}const Hp=new Q(navigator.userAgent),Op=Hp.phone(),Dp=Op?Ue:Ge;function Wp({isStepEnd:t,multiPlayState:i,sentenceData:n,selectedData:o,playSentence:r}){const{studyInfo:u}=c.useContext(oe),d=c.useRef(null);return c.useEffect(()=>{d.current&&u.mode==="Quiz"&&d.current.scrollTo({top:d.current.scrollHeight,behavior:"smooth"})},[o]),e.jsxs("div",{ref:d,className:Dp.correctOrders,children:[n.map((a,m)=>o[m]?e.jsx(Fp,{multiPlayState:i,index:m,sentenceData:a,selectedData:o[m],playSentence:r},`$ss-0${m}`):e.jsx(e.Fragment,{})),!t&&e.jsx(Lp,{})]})}const Vp=new Q(navigator.userAgent),Gp=Vp.phone(),Ro=Gp?Ue:Ge;function Up(){return e.jsx("div",{className:Ro.correctDirection,children:e.jsx("div",{className:Ro.iconArrowUp})})}const Kp=new Q(navigator.userAgent),Jp=Kp.phone(),ds=Jp?Ue:Ge;function Yp({index:t,exampleData:i,checkAnswer:n,onAnimationEnd:o}){return e.jsxs("div",{className:`${ds.textCard}`,onClick:r=>n(r.currentTarget,i.Question.Text),onAnimationEnd:r=>o(r.currentTarget),children:[e.jsx("div",{className:ds.cardNumber,children:Number(t+1)}),e.jsx("div",{className:ds.awnserText,dangerouslySetInnerHTML:{__html:i.Question.Text}})]})}const Xp=new Q(navigator.userAgent),Zp=Xp.phone(),eg=Zp?Ue:Ge;function tg({exampleData:t,checkAnswer:i,onAnimationEnd:n}){return e.jsx("div",{className:eg.answers,children:t.map((o,r)=>e.jsx(Yp,{index:r,exampleData:o,checkAnswer:i,onAnimationEnd:n},`e-0${r}`))})}const ng=new Q(navigator.userAgent),sg=ng.phone(),og=sg?Ue:Ge;function ig({tryCnt:t=0,maxCnt:i=0,onClickHint:n}){return e.jsxs("div",{className:og.hintButton,onClick:()=>n(),children:["Chance ",i-t," / ",i]})}const rg=new Q(navigator.userAgent),ag=rg.phone(),qo=ag?Ue:Ge;function cg({multiPlayState:t,playAll:i}){return e.jsxs("div",{className:qo.wordPlayButton,onClick:()=>i(),children:[t.playState==="playing"?e.jsx(Le,{isColor:!0,width:24,height:24}):e.jsx(Me,{isColor:!0,width:24,height:24}),e.jsx("div",{className:qo.txtL,children:"Playback"})]})}const ug=new Q(navigator.userAgent),lg=ug.phone(),dg=lg?Ue:Ge;function mg({goNext:t}){return e.jsx("div",{onClick:()=>t(),className:`${dg.btnNext} animate__animated animate__flash`,children:"Next"})}const xg=new Q(navigator.userAgent),_g=xg.phone(),jt=_g?Ue:Ge;function hg({inputRefs:t,word:i,inputIndex:n,currentInputIndex:o,changeInputIndex:r}){const[u,d]=c.useState(""),[a,m]=c.useState(0),[g,f]=c.useState(0),h=c.useRef(null),y=c.useRef(null);c.useEffect(()=>{h.current&&h.current.offsetWidth>0&&m(h.current.offsetWidth),y.current&&y.current.offsetWidth>0&&f(y.current.offsetWidth)});const k=_=>{_.preventDefault();let s=_.currentTarget.value;s===i?(d(s),r(o+1)):d(s)};return e.jsxs(e.Fragment,{children:[n>o&&e.jsxs("span",{className:`${jt.reviewAnswer}`,children:[e.jsx("span",{className:jt.otherInput,children:e.jsx("input",{ref:_=>t.current[n]=_,style:{width:`${a+4}px`},disabled:!0})}),e.jsx("div",{ref:h,className:jt.hintText,children:i})]}),n===o&&e.jsxs("span",{className:`${jt.reviewAnswer} ${jt.currentOrder}`,children:[e.jsx("span",{className:jt.currentInput,children:e.jsx("input",{ref:_=>t.current[n]=_,type:"text",style:{width:`${g+4}px`},value:u,onChange:_=>k(_),onCopy:_=>_.preventDefault(),onPaste:_=>_.preventDefault(),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search",tabIndex:-1})}),e.jsx("div",{ref:y,className:jt.hintText,children:i})]}),n<o&&e.jsx("span",{className:`${jt.reviewAnswer} ${jt.correctAnswer}`,children:i})]})}const pg=new Q(navigator.userAgent),gg=pg.phone(),Yt=gg?Ue:Ge;function yg({isSideOpen:t,correctSentence:i,changePenaltyState:n}){const o=c.useRef([]),[r,u]=c.useState(0),[d,a]=c.useState(!1),m=/<[^>]*>/gi;c.useEffect(()=>{const h=()=>{o.current[r]&&(o.current[r].focus(),t&&o.current[r].blur())};return h(),window.addEventListener("click",h),()=>{window.removeEventListener("click",h)}},[r,t]);const g=h=>{h>=o.current.length?(u(h),f()):u(h)},f=()=>{a(!0)};return e.jsxs("div",{className:`${Yt.testReview}`,children:[e.jsx("div",{className:Yt.title,children:"Test Review"}),e.jsx("div",{className:Yt.container,children:e.jsx("div",{className:Yt.sentence,children:i.replace(m,"").split(" ").map((h,y)=>e.jsx(hg,{inputRefs:o,inputIndex:y,currentInputIndex:r,word:h,changeInputIndex:g}))})}),e.jsx(X,{height:10}),e.jsx("div",{className:`${d?Yt.nextButton:Yt.deactNextButton} ${d&&"animate__animated animate__bounce"}`,onClick:()=>{d&&n("none")},children:"Next"})]})}const fg=new Q(navigator.userAgent),kg=fg.phone(),Pn="Summary Test",Ft=kg?Ue:Ge;function bg(t){const{bookInfo:i,handler:n,studyInfo:o}=c.useContext(oe),r=t.currentStep,u=Se(()=>{i.BookCode.includes("EB")?i.BookLevel.includes("1")||i.BookLevel.includes("K")?window.onLogoutStudy():J():i.BookCode.includes("PB")&&J()}),d=rt(),[a,m]=c.useState("animate__bounceInRight"),{isStepIntro:g,closeStepIntro:f}=be(),{isResultShow:h,changeResultShow:y}=qe(),[k,_]=c.useState(!1),s=c.useRef(!0),[x,l]=we(ah,t,r),[p,S]=c.useState(1),[b,v]=c.useState(0),[N,j]=c.useState(0),[C,P]=c.useState({penaltyState:"none",sentence:""}),{bottomPopupState:w,changeBottomPopupState:q}=Je(),{scoreBoardData:I,setStudentAnswers:F,addStudentAnswer:U,makeUserAnswerData:L,convertRecordToScoreBoard:H}=ve(o.mode),{exampleManager:T}=Ep(),[O,R]=c.useState([]),[Y,D]=c.useState([]),{playAudio:W,stopAudio:B}=Pe(),[$,A]=c.useState({playState:"",seq:-1,playType:""}),[M,K]=c.useState({IsEnabled:!1,Max:0,Try:0}),[te,se]=c.useState(!1),[re,ce]=c.useState(!1);if(c.useEffect(()=>{!g&&x&&(o.mode==="Review"&&Number(i.Average)>=70?ce(!0):(C.penaltyState==="none"&&u.setup(x.QuizTime,!0),s.current=!1))},[g]),c.useEffect(()=>{if(x){const[le,fe]=ot(o.mode,l,x.QuizAnswerCount),ke=T.getExamplesByQuizNo(x.Quiz,le,t.mode);F(l,x.QuizAnswerCount),D(H(l,x.QuizAnswerCount)),o.mode!=="Review"&&R(ke),x.Hint.IsEnabled&&K({IsEnabled:x.Hint.IsEnabled,Max:x.Hint.Max,Try:x.Hint.Try}),l.length>0&&o.mode==="Quiz"?(x.IsEnablePenaltyReview&&l[l.length-1].PenaltyWord!==""?(P({penaltyState:"penalty",sentence:l[l.length-1].PenaltyWord}),S(le-1)):S(le),v(fe),j(fe)):(v(fe),j(fe),S(le))}},[x]),c.useEffect(()=>{if(B(),x&&$.seq>-1){if($.playType==="sentence"){const le=()=>{A({playState:"",playType:"",seq:-1})};W(x.Quiz[$.seq].Question.Sound,le)}else if($.playType==="all"){const le=()=>{$.seq<x.Quiz.length-1?A({playState:"playing",playType:"all",seq:$.seq+1}):(B(),A({playState:"",playType:"",seq:-1}))};W(x.Quiz[$.seq].Question.Sound,le)}}},[$]),c.useEffect(()=>{!g&&!h&&x&&(v(0),j(0),ie(p-2),C.penaltyState==="none"&&u.setup(x.QuizTime,!0),s.current=!1)},[p]),c.useEffect(()=>{te&&V()},[te]),c.useEffect(()=>{C.penaltyState==="penalty"&&x&&u.stop()},[C]),!x)return e.jsx(e.Fragment,{children:"Loading..."});const Z=async(le,fe)=>{try{if(!s.current){s.current=!0,B(),A({playState:"",playType:"",seq:-1});const ke=/<[^>]*>/gi,Re=x.Quiz[p-1].Question.Text===fe,bt={quizNo:p,maxCount:x.QuizAnswerCount,answerCount:b+1,ox:Re},de=L({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:x.Quiz[p-1].QuizId,quizNo:x.Quiz[p-1].QuizNo,currentQuizNo:p,correct:x.Quiz[p-1].Question.Text.replace(ke,""),selectedAnswer:fe.replace(ke,""),tryCount:b+1,maxQuizCount:x.QuizAnswerCount,quizLength:x.Quiz.length,isCorrect:Re,answerData:bt,isEnabledPenalty:x.IsEnablePenaltyReview,isFinishStudy:t.lastStep===r});u.stop();const he=await Ce(o.mode,de);Number(he.result)===0&&(he.resultMessage&&(n.finishStudy={id:Number(he.result),cause:he.resultMessage}),U(bt),Re||j(N+1),v(b+1),ae(le,Re))}}catch(ke){console.error(ke)}},ae=(le,fe)=>{q({isActive:!0,isCorrect:fe}),fe?le&&d.play(le,["animate__fadeIn",Ft.correct]):d.play(le,["animate__headShake",Ft.incorrect])},E=le=>{const fe=!!d.isContain(le,"animate__fadeIn");setTimeout(()=>{if(d.remove(le,["animate__fadeIn","animate__headShake",Ft.correct,Ft.incorrect]),q({isActive:!1,isCorrect:!1}),fe)setTimeout(()=>{const ke=O.filter(Re=>Re.QuizNo!==p);R([...ke]),D(I),p+1>x.Quiz.length?(ie(p-1),ne(!0)):S(p+1)},300);else if(b>=x.QuizAnswerCount){const ke=O.filter(Re=>Re.QuizNo!==p);R([...ke]),D(I),p+1>x.Quiz.length?x.IsEnablePenaltyReview?P({penaltyState:"penalty",sentence:x.Quiz[p-1].Question.Text}):(ie(p-1),ne(!0)):x.IsEnablePenaltyReview?P({penaltyState:"penalty",sentence:x.Quiz[p-1].Question.Text}):S(p+1)}else u.setup(x.QuizTime,!0),s.current=!1},1e3)},J=async()=>{try{if(!s.current){s.current=!0,B(),A({playState:"",playType:"",seq:-1});const le={quizNo:p,maxCount:x.QuizAnswerCount,answerCount:b+1,ox:!1},fe=L({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:x.Quiz[p-1].QuizId,quizNo:x.Quiz[p-1].QuizNo,currentQuizNo:p,correct:x.Quiz[p-1].Question.Text,selectedAnswer:"",tryCount:b+1,maxQuizCount:x.QuizAnswerCount,quizLength:x.Quiz.length,isCorrect:!1,answerData:le,isEnabledPenalty:x.IsEnablePenaltyReview,isFinishStudy:t.lastStep===r});u.stop();const ke=await Ce(o.mode,fe);Number(ke.result)===0&&(ke.resultMessage&&(n.finishStudy={id:Number(ke.result),cause:ke.resultMessage}),U(le),j(N+1),v(b+1),q({isActive:!0,isCorrect:!1}),setTimeout(()=>{if(q({isActive:!1,isCorrect:!1}),b+1>=x.QuizAnswerCount){const Re=O.filter(bt=>bt.QuizNo!==p);R(Re),D(bt=>[...bt,le]),p+1>x.Quiz.length?x.IsEnablePenaltyReview?P({penaltyState:"penalty",sentence:x.Quiz[p-1].Question.Text}):(ie(p-1),ne(!0)):x.IsEnablePenaltyReview?P({penaltyState:"penalty",sentence:x.Quiz[p-1].Question.Text}):S(p+1)}else u.setup(x.QuizTime,!0),s.current=!1},1e3))}}catch(le){console.error(le)}},G=async()=>{try{if(M.IsEnabled&&M&&M.Try!==void 0&&M.Max!==void 0&&M.Max-M.Try>0&&!s.current){s.current=!0,B(),A({playState:"",playType:"",seq:-1}),u.stop();const le=await uh(t.studyId,t.studentHistoryId,p,`${t.currentStep}`);if(le.ErrorNo===0){K({IsEnabled:x.Hint.IsEnabled,Max:x.Hint.Max,Try:le.TryHint});const fe={quizNo:p,maxCount:x.QuizAnswerCount,answerCount:b+1,ox:!0},ke=L({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:x.Quiz[p-1].QuizId,quizNo:x.Quiz[p-1].QuizNo,currentQuizNo:p,correct:x.Quiz[p-1].Question.Text,selectedAnswer:x.Quiz[p-1].Question.Text,tryCount:b+1,maxQuizCount:x.QuizAnswerCount,quizLength:x.Quiz.length,isCorrect:!0,answerData:fe,isEnabledPenalty:x.IsEnablePenaltyReview,isFinishStudy:t.lastStep===r}),Re=await Ce(o.mode,ke);Number(Re.result)===0&&(Re.resultMessage&&(n.finishStudy={id:Number(Re.result),cause:Re.resultMessage}),U(fe),v(b+1),se(!0))}}}catch(le){console.error(le)}},V=()=>{const le=O.filter(fe=>fe.QuizNo!==p);R([...le]),D(I),p+1>x.Quiz.length?(ie(p-1),ne(!0)):S(p+1),se(!1)},ne=le=>{u.setup(0),ce(le)},ue=le=>{_(le)},ie=le=>{$.playState===""&&le>-1?A({playState:"playing",playType:"sentence",seq:le}):$.playState==="playing"&&$.seq===le?A({playState:"",playType:"",seq:-1}):$.playState==="playing"&&$.seq!==le&&A({playState:"playing",playType:"sentence",seq:le})},_e=()=>{B(),$.playState==="playing"?A({playState:"",playType:"",seq:-1}):A({playState:"playing",playType:"all",seq:0})},Ne=()=>{B(),A({playState:"",playType:"",seq:-1}),y(!0)},ye=le=>{le==="none"?wt():P({penaltyState:le,sentence:x.Quiz[p-1].Question.Text})},wt=async()=>{(async()=>{const fe=p+1>x.Quiz.length,ke=await es({mobile:"",bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${r}`,quizId:x.Quiz[p-1].QuizId,isLastQuiz:fe,isFinishStudy:!!(fe&&t.lastStep===r)});Number(ke.result)===0&&(ke.resultMessage&&(n.finishStudy={id:Number(ke.result),cause:ke.resultMessage}),B(),fe?(P({penaltyState:"none",sentence:""}),ie(p-1),ne(!0)):(P({penaltyState:"none",sentence:""}),S(p+1)))})()};return e.jsx(e.Fragment,{children:g?e.jsx("div",{className:`animate__animated ${a}`,onAnimationEnd:()=>{a==="animate__bounceOutLeft"&&f()},children:e.jsx(Ee,{step:r,quizType:Pn,comment:"나열된 문장을 보고 올바른 순서대로 고르세요.",onStepIntroClozeHandler:()=>{m("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:h?e.jsx(tt,{step:r,quizType:Pn,quizAnswerCount:x.QuizAnswerCount,studentAnswer:I,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:p,totalQuizCnt:Object.keys(x.Quiz).length,life:x.QuizAnswerCount-N,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:ue}),e.jsx("div",{className:`${Ft.comment} animate__animated animate__fadeInLeft`,children:Pn}),e.jsx($e,{children:C.penaltyState==="none"?e.jsxs(Ae,{typeCSS:Ft.summaryTest1,containerCSS:Ft.container,children:[e.jsx(e.Fragment,{children:re&&e.jsx(cg,{multiPlayState:$,playAll:_e})}),e.jsx(Wp,{isStepEnd:re,multiPlayState:$,sentenceData:x.Quiz,selectedData:Y,playSentence:ie}),e.jsx(e.Fragment,{children:re?e.jsx(mg,{goNext:Ne}):e.jsxs(e.Fragment,{children:[e.jsx(Up,{}),e.jsx(tg,{exampleData:O,checkAnswer:Z,onAnimationEnd:E}),M.IsEnabled&&e.jsx(ig,{tryCnt:M.Try,maxCnt:M.Max,onClickHint:G})]})})]}):e.jsx(yg,{isSideOpen:k,correctSentence:C.sentence,changePenaltyState:ye})}),k&&e.jsx(ze,{isSideOpen:k,currentStep:r,currentStepType:Pn,quizLength:x.Quiz.length,maxAnswerCount:x.QuizAnswerCount,changeSideMenu:ue,scoreBoardData:I,changeStep:t.changeStep}),e.jsx(Ye,{bottomPopupState:w})]})})})}const Sg=new Q(navigator.userAgent),wg=Sg.phone(),Mn=wg?Ue:Ge;function vg({isComplete:t,wordData:i,questionNo:n}){const o=c.useRef(null);c.useEffect(()=>{i.QuestionIndex===n&&o.current!==null&&o.current.scrollIntoView()},[n]);let r="";return i.State==="none"&&i.QuestionIndex>0?i.QuestionIndex===n&&(r="?"):r=i.Word,e.jsx("span",{ref:o,className:`
        ${Mn.answerBox}
        ${i.QuestionIndex===n&&!t?Mn.currentOrder:""}
        ${i.State==="correct"?Mn.correctAnswer:""}        
        ${i.State==="incorrect"?Mn.incorrectAnswer:""}
      `,dangerouslySetInnerHTML:{__html:r}})}const jg=new Q(navigator.userAgent),zg=jg.phone(),Fo=zg?Ue:Ge;function $g({isComplete:t,sentenceData:i,questionNo:n}){const o=c.useRef(null);return c.useEffect(()=>{t&&o.current&&o.current.scrollTo({top:0,behavior:"smooth"})},[t]),e.jsx("div",{ref:o,className:Fo.questionBox,children:i.map((r,u)=>r.QuestionIndex>0?e.jsx(vg,{isComplete:t,wordData:r,questionNo:n},`answer-${u}`):e.jsx("span",{className:Fo.word,dangerouslySetInnerHTML:{__html:r.Word}},`answer-${u}`))})}const Cg=new Q(navigator.userAgent),Qg=Cg.phone(),Ho=Qg?Ue:Ge;function Ag(){return e.jsx("div",{className:Ho.correctDirection,children:e.jsx("div",{className:Ho.iconArrowUp})})}const Ng=new Q(navigator.userAgent),Tg=Ng.phone(),ms=Tg?Ue:Ge;function Ig({index:t,exampleData:i,checkAnswer:n,onAnimationEnd:o}){return e.jsxs("div",{className:`${ms.textCard}`,onClick:r=>n(r.currentTarget,i.Text),onAnimationEnd:r=>o(r.currentTarget),children:[e.jsx("div",{className:ms.cardNumber,children:Number(t+1)}),e.jsx("div",{className:ms.awnserText,children:i.Text})]})}const Bg=new Q(navigator.userAgent),Eg=Bg.phone(),Oo=Eg?Ue:Ge;function Pg({exampleData:t,checkAnswer:i,onAnimationEnd:n}){return e.jsx("div",{className:Oo.answers,children:e.jsx("div",{className:Oo.container,children:t.map((o,r)=>e.jsx(Ig,{index:r,exampleData:o,checkAnswer:i,onAnimationEnd:n},`example-${r}`))})})}const Mg=new Q(navigator.userAgent),Lg=Mg.phone(),Do=Lg?Ue:Ge;function Rg({playState:t,playSentence:i}){return e.jsxs("div",{className:Do.wordPlayButton,onClick:()=>i(),children:[t==="playing"?e.jsx(Le,{isColor:!0,width:24,height:24}):e.jsx(Me,{isColor:!0,width:24,height:24}),e.jsx("div",{className:Do.txtL,children:"Playback (completed sentence)"})]})}const qg=new Q(navigator.userAgent),Fg=qg.phone(),Hg=Fg?Ue:Ge;function Og({showResult:t}){return e.jsx("div",{className:`${Hg.btnNext}`,onClick:()=>t(),children:"Next"})}const Dg=new Q(navigator.userAgent),Wg=Dg.phone(),Ln="Summary Test",Ht=Wg?Ue:Ge;function Vg(t){const{bookInfo:i,handler:n,studyInfo:o}=c.useContext(oe),r=t.currentStep,u=Se(()=>{G()}),d=rt(),[a,m]=c.useState("animate__bounceInRight"),{isStepIntro:g,closeStepIntro:f}=be(),{isResultShow:h,changeResultShow:y}=qe(),[k,_]=c.useState(!1),s=c.useRef(!0),[x,l]=we(ch,t,r),[p,S]=c.useState(1),[b,v]=c.useState(1),[N,j]=c.useState([]),[C,P]=c.useState([]),[w,q]=c.useState([]),[I,F]=c.useState([]),[U,L]=c.useState(""),[H,T]=c.useState(0),[O,R]=c.useState(0),{scoreBoardData:Y,addStudentAnswer:D,addStudentAnswers:W,convertPartialRecordToScoreBoardSummary2:B,convertPartialRecordToScoreBoard:$,makeUserPartialAnswerData:A}=ve(o.mode),{bottomPopupState:M,changeBottomPopupState:K}=Je(),{playState:te,playAudio:se,stopAudio:re}=Pe(),[ce,Z]=c.useState(!1);if(c.useEffect(()=>{!g&&x&&(o.mode==="Review"&&Number(i.Average)>=70?Z(!0):(u.setup(x.QuizTime,!0),s.current=!1))},[g]),c.useEffect(()=>{if(x){let[de,he,pe]=[1,1,0];if(l&&l.length>0){const Qt=x.Quiz.find(Nt=>Nt.QuizNo===l[l.length-1].QuizNo),at=(Qt==null?void 0:Qt.Examples.length)||0;[de,he,pe]=_a(o.mode,l,at,x.QuizAnswerCount)}const ge=wt(x.Quiz),Ke=ie(x.Sentence,l,ge);if(de>1||pe>0){const[Qt,at]=le(ge,de-1);S(he),v(de),ue(l,he),q(Qt),F(xe.shuffle(at))}else o.mode==="Super"?F(ge):F(xe.shuffle(ge));const lt=B(l,x.QuizAnswerCount);W([...lt]),R(pe),T(pe),j(Ke),P(ge)}},[x]),c.useEffect(()=>{x&&!g&&(T(0),R(0),u.setup(x.QuizTime,!0),s.current=!1)},[b]),c.useEffect(()=>{ce&&x&&fe()},[ce]),!x)return e.jsx(e.Fragment,{children:"Loading..."});const ae=async(de,he)=>{try{if(!s.current){s.current=!0;const pe=C[b-1].Text===he;u.stop();let Ke=U+(pe?"1":"2");const lt={quizNo:b,maxCount:x.QuizAnswerCount,answerCount:H+1,ox:pe},Qt=A({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:x.Quiz[p-1].QuizId,quizNo:x.Quiz[p-1].QuizNo,currentQuizNo:b,correct:C[b-1].Text,selectedAnswer:he,partialRecord:Ke,tryCount:H+1,maxQuizCount:x.QuizAnswerCount,quizLength:C.length,isCorrect:pe,answerData:lt,isFinishStudy:t.lastStep===r}),at=await Ls(o.mode,Qt);Number(at.result)===0&&(at.resultMessage&&(n.finishStudy={id:Number(at.result),cause:at.resultMessage}),D(lt),pe||R(O+1),L(Ke),T(H+1),E(pe,de))}}catch(pe){console.error(pe)}},E=(de,he)=>{K({isActive:!0,isCorrect:de}),de?d.play(he,[Ht.correct,"animate__fadeIn"]):d.play(he,[Ht.incorrect,"animate__headShake"])},J=de=>{const he=!!d.isContain(de,"animate__fadeIn");setTimeout(()=>{if(d.remove(de,["animate__fadeIn","animate__headShake",Ht.correct,Ht.incorrect]),K({isActive:!1,isCorrect:!1}),he){const pe=_e(b,he),ge=Ne(b),Ke=ye(b);if(j(pe),q(ge),F(Ke),b+1<=C.length){const lt=ne();p!==lt?(L(""),S(lt)):L(U+","),v(b+1)}else Z(!0)}else if(H<x.QuizAnswerCount)u.setup(x.QuizTime,!0),s.current=!1;else{const pe=_e(b,he),ge=Ne(b),Ke=ye(b);if(j(pe),q(ge),F(Ke),b+1<=C.length){const lt=ne();p!==lt?(L(""),S(lt)):L(U+","),v(b+1)}else Z(!0)}},1e3)},G=async()=>{try{if(!s.current){s.current=!0,u.stop();let de=U+"2";const he={quizNo:b,maxCount:x.QuizAnswerCount,answerCount:H+1,ox:!1},pe=A({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:x.Quiz[p-1].QuizId,quizNo:x.Quiz[p-1].QuizNo,currentQuizNo:b,correct:"2",selectedAnswer:de,partialRecord:de,tryCount:H+1,maxQuizCount:x.QuizAnswerCount,quizLength:C.length,isCorrect:!1,answerData:he,isFinishStudy:t.lastStep===r}),ge=await Ls(o.mode,pe);Number(ge.result)===0&&(ge.resultMessage&&(n.finishStudy={id:Number(ge.result),cause:ge.resultMessage}),D(he),R(O+1),L(de),T(H+1),K({isActive:!0,isCorrect:!1}),V(H+1,de))}}catch(de){console.error(de)}},V=(de,he)=>{setTimeout(()=>{if(K({isActive:!1,isCorrect:!1}),de>=x.QuizAnswerCount){const pe=_e(b,!1),ge=Ne(b),Ke=ye(b);if(j(pe),q(ge),F(Ke),b+1<=C.length){const lt=ne();p!==lt?(L(""),S(lt)):L(he+","),v(b+1)}else Z(!0)}else u.setup(x.QuizTime,!0),s.current=!1},1e3)},ne=()=>{let de=1;return x.Quiz.map((he,pe)=>{he.Examples.length>0&&he.Examples.map(ge=>{ge.Text===C[b].Text&&(de=pe+1)})}),de},ue=(de,he)=>{let pe="";de.filter(ge=>{ge.QuizNo===he&&(ge.AnswerCount===x.QuizAnswerCount||ge.StudentAnswer.slice(-1)==="1"?pe=ge.StudentAnswer+",":pe=ge.StudentAnswer)}),L(pe)},ie=(de,he,pe)=>{const ge=$(he,x.QuizAnswerCount);let Ke=0;return de.Texts.map(at=>at.split(" ")).reduce((at,Nt)=>[...at,...Nt]).map(at=>{if(at.includes("┒")){let Nt="none";return ge[Ke]&&(ge[Ke].ox?Nt="correct":!ge[Ke].ox&&ge[Ke].answerCount===x.QuizAnswerCount&&(Nt="incorrect")),{Word:pe[Ke].Text,QuestionIndex:++Ke,State:Nt}}else return{Word:at,QuestionIndex:0,State:"none"}})},_e=(de,he)=>{let pe=[...N];const ge=N.findIndex(Ke=>Ke.QuestionIndex===de);return pe[ge].State=he?"correct":"incorrect",pe},Ne=de=>[...w,C[de-1]],ye=de=>{const he=C[de-1].Text;return I.filter(ge=>ge.Text!==he)},wt=de=>de.map(pe=>pe.Examples).reduce((pe,ge)=>[...pe,...ge]),le=(de,he)=>{const pe=de.slice(0,he),ge=de.slice(he,de.length);return[pe,ge]},fe=()=>{te==="playing"?re():se(x.Sentence.Sounds[0])},ke=()=>{re(),y(!0)},Re=de=>{_(de)},bt=x.Quiz.reduce((de,he)=>de+he.Examples.length,0);return e.jsx(e.Fragment,{children:g?e.jsx("div",{className:`animate__animated ${a}`,onAnimationEnd:()=>{a==="animate__bounceOutLeft"&&f()},children:e.jsx(Ee,{step:r,quizType:Ln,comment:"지문을 보고 빈칸에 들어갈 알맞은 답을 순서대로 고르세요.",onStepIntroClozeHandler:()=>{m("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:h?e.jsx(tt,{step:r,quizType:Ln,quizAnswerCount:x.QuizAnswerCount,studentAnswer:Y,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:b,totalQuizCnt:C.length,life:x.QuizAnswerCount-O,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:Re}),e.jsx("div",{className:`${Ht.comment} animate__animated animate__fadeInLeft`,children:Ln}),e.jsx($e,{children:e.jsxs(Ae,{typeCSS:Ht.summaryTest2,containerCSS:Ht.container,children:[e.jsx(e.Fragment,{children:ce&&e.jsx(Rg,{playState:te,playSentence:fe})}),e.jsx($g,{isComplete:ce,sentenceData:N,questionNo:b}),e.jsx(e.Fragment,{children:ce?e.jsx(Og,{showResult:ke}):e.jsxs(e.Fragment,{children:[e.jsx(Ag,{}),e.jsx(Pg,{exampleData:I,checkAnswer:ae,onAnimationEnd:J})]})})]})}),k&&e.jsx(ze,{isSideOpen:k,currentStep:r,currentStepType:Ln,quizLength:bt,maxAnswerCount:x.QuizAnswerCount,changeSideMenu:Re,scoreBoardData:Y,changeStep:t.changeStep}),e.jsx(Ye,{bottomPopupState:M})]})})})}async function Gg(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Te}/true-or-false?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Quiz:a.Quiz.map(m=>({QuizId:m.QuizId.toString(),QuizNo:Number(m.QuizNo),Question:{Text:m.Question.Text,Sound:m.Question.Sound},Examples:m.Examples.map(g=>({Text:g.Text,Sound:g.Sound}))}))}))}const Ug="_comment_1kqy6_1",Kg="_trueOrFalse_1kqy6_20",Jg="_container_1kqy6_20",Yg="_questionText_1kqy6_27",Xg="_textCard_1kqy6_32",Zg="_correct_1kqy6_66",ey="_incorrect_1kqy6_71",ty="_answer_1kqy6_76",ny="_awnserText_1kqy6_87",sy="_answers_1kqy6_91",oy="_wordPlayButton_1kqy6_97",iy="_txtL_1kqy6_112",ry="_trueSentencePopup_1kqy6_124",ay="_title_1kqy6_127",cy="_sentence_1kqy6_146",uy="_nextButton_1kqy6_152",Ct={comment:Ug,trueOrFalse:Kg,container:Jg,questionText:Yg,textCard:Xg,correct:Zg,incorrect:ey,answer:ty,true:"_true_1kqy6_20",false:"_false_1kqy6_83",awnserText:ny,answers:sy,wordPlayButton:oy,txtL:iy,trueSentencePopup:ry,title:ay,sentence:cy,nextButton:uy},ly="_comment_mb20r_1",dy="_trueOrFalse_mb20r_15",my="_container_mb20r_18",xy="_questionText_mb20r_25",_y="_textCard_mb20r_30",hy="_correct_mb20r_64",py="_incorrect_mb20r_69",gy="_answer_mb20r_74",yy="_awnserText_mb20r_85",fy="_answers_mb20r_89",ky="_wordPlayButton_mb20r_95",by="_txtL_mb20r_110",Sy="_trueSentencePopup_mb20r_122",wy="_title_mb20r_125",vy="_sentence_mb20r_144",jy="_nextButton_mb20r_150",Gt={comment:ly,trueOrFalse:dy,container:my,questionText:xy,textCard:_y,correct:hy,incorrect:py,answer:gy,true:"_true_mb20r_15",false:"_false_mb20r_81",awnserText:yy,answers:fy,wordPlayButton:ky,txtL:by,trueSentencePopup:Sy,title:wy,sentence:vy,nextButton:jy},zy=new Q(navigator.userAgent),$y=zy.phone(),Cy=$y?Gt:Ct;function Qy({text:t}){return e.jsx("div",{className:Cy.questionText,dangerouslySetInnerHTML:{__html:t}})}const Ay=new Q(navigator.userAgent),Ny=Ay.phone(),Rn=Ny?Gt:Ct;function Ty({isCorrect:t,checkAnswer:i}){const{bookInfo:n,studyInfo:o}=c.useContext(oe);return e.jsx("div",{className:`${Rn.textCard} ${o.mode==="Review"&&Number(n.Average)>=70&&t?Ct.correct:""}`,onClick:r=>i(r.currentTarget,!0),children:e.jsxs("div",{className:Rn.answer,children:[e.jsx("div",{className:Rn.true,children:"O"}),e.jsx("div",{className:Rn.answerText,children:"True"})]})})}const Iy=new Q(navigator.userAgent),By=Iy.phone(),qn=By?Gt:Ct;function Ey({isCorrect:t,checkAnswer:i}){const{bookInfo:n,studyInfo:o}=c.useContext(oe);return e.jsx("div",{className:`${qn.textCard}  ${o.mode==="Review"&&Number(n.Average)>=70&&!t?Ct.correct:""}`,onClick:r=>i(r.currentTarget,!1),children:e.jsxs("div",{className:qn.answer,children:[e.jsx("div",{className:qn.false,children:"X"}),e.jsx("div",{className:qn.answerText,children:"False"})]})})}const Py=new Q(navigator.userAgent),My=Py.phone(),Ly=My?Gt:Ct;function Ry({isCorrect:t,checkAnswer:i}){return e.jsxs("div",{className:Ly.answers,children:[e.jsx(Ty,{isCorrect:t,checkAnswer:i}),e.jsx(Ey,{isCorrect:t,checkAnswer:i})]})}const qy=new Q(navigator.userAgent),Fy=qy.phone(),Wo=Fy?Gt:Ct;function Hy({playState:t,playTrueSentence:i}){return e.jsxs("div",{className:Wo.wordPlayButton,onClick:()=>i(),children:[t==="playing"?e.jsx(Le,{isColor:!0,width:24,height:24}):e.jsx(Me,{isColor:!0,width:24,height:24}),e.jsx("div",{className:Wo.txtL,children:"Playback"})]})}const Oy=new Q(navigator.userAgent),Dy=Oy.phone(),un=Dy?Gt:Ct;function Wy({playState:t,sentence:i,playTrueSentence:n,goNextQuiz:o}){return e.jsxs("div",{className:un.trueSentencePopup,children:[e.jsx("div",{className:un.title,children:"True Sentence"}),e.jsxs("div",{className:un.container,children:[e.jsx(Hy,{playState:t,playTrueSentence:n}),e.jsx("div",{className:un.sentence,dangerouslySetInnerHTML:{__html:i}})]}),e.jsx("div",{className:un.nextButton,onClick:()=>o(),children:"Next"})]})}const Vy=new Q(navigator.userAgent),Gy=Vy.phone(),Fn="True or False",Ot=Gy?Gt:Ct;function Uy(t){const{handler:i,studyInfo:n}=c.useContext(oe),o=t.currentStep,r=Se(()=>{s&&(s.QuizTime>300?window.onLogoutStudy():R())}),u=rt(),[d,a]=c.useState("animate__bounceInRight"),{isStepIntro:m,closeStepIntro:g}=be(),{isResultShow:f,changeResultShow:h}=qe(),[y,k]=c.useState(!1),_=c.useRef(!0),[s,x]=we(Gg,t,o),{scoreBoardData:l,setStudentAnswers:p,addStudentAnswer:S,makeUserAnswerData:b}=ve(n.mode),[v,N]=c.useState(1),[j,C]=c.useState(0),[P,w]=c.useState(0),{bottomPopupState:q,changeBottomPopupState:I}=Je(),[F,U]=c.useState(!1),{playState:L,playAudio:H,stopAudio:T}=Pe();if(c.useEffect(()=>{!m&&s&&(r.setup(s.QuizTime,!0),B(),_.current=!1)},[m]),c.useEffect(()=>{if(s){const[A,M]=ot(n.mode,x,s.QuizAnswerCount);C(M),w(M),p(x,s.QuizAnswerCount),N(A)}},[s]),c.useEffect(()=>{!m&&!f&&s&&(r.setup(s.QuizTime,!0),C(0),w(0),B(),_.current=!1)},[v]),c.useEffect(()=>{s&&!m&&!f&&(F?$():v+1>s.Quiz.length?h(!0):N(v+1))},[F]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const O=async(A,M)=>{try{if(!_.current){_.current=!0,T(),r.stop();const K=/<[^>]*>/gi,te=s.Quiz[v-1].Question.Text,se=s.Quiz[v-1].Examples[0].Text,re=te===se,ce=re===M,Z={quizNo:v,maxCount:s.QuizAnswerCount,answerCount:j+1,ox:ce},ae=b({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:o,quizId:s.Quiz[v-1].QuizId,quizNo:s.Quiz[v-1].QuizNo,currentQuizNo:v,correct:se.replace(K,""),selectedAnswer:ce?se.replace(K,""):"user has the wrong opinion.",tryCount:j+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:ce,answerData:Z,isFinishStudy:t.lastStep===o}),E=await Ce(n.mode,ae);Number(E.result)===0&&(E.resultMessage&&(i.finishStudy={id:Number(E.result),cause:E.resultMessage}),S(Z),ce?u.play(A,["animate__fadeIn",Ot.correct]):(u.play(A,["animate__pulse",Ot.incorrect]),w(P+1)),C(j+1),Y(ce,re,A))}}catch(K){console.error(K)}},R=async()=>{try{if(!_.current){_.current=!0,T(),r.stop();const A=/<[^>]*>/gi,M=s.Quiz[v-1].Question.Text,K=s.Quiz[v-1].Examples[0].Text,te=M===K,se=!1,re={quizNo:v,maxCount:s.QuizAnswerCount,answerCount:j+1,ox:!1},ce=b({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:o,quizId:s.Quiz[v-1].QuizId,quizNo:s.Quiz[v-1].QuizNo,currentQuizNo:v,correct:s.Quiz[v-1].Question.Text.replace(A,""),selectedAnswer:"user has the wrong opinion",tryCount:j+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:se,answerData:re,isFinishStudy:t.lastStep===o}),Z=await Ce(n.mode,ce);Number(Z.result)===0&&(Z.resultMessage&&(i.finishStudy={id:Number(Z.result),cause:Z.resultMessage}),S(re),w(P+1),C(j+1),Y(!1,te))}}catch(A){console.error(A)}},Y=(A,M,K)=>{I({isActive:!0,isCorrect:A}),setTimeout(()=>{I({isActive:!1,isCorrect:!1}),K&&u.remove(K,["animate__fadeIn","animate__headShake",Ot.correct,Ot.incorrect]),M?v+1>s.Quiz.length?h(!0):N(v+1):U(!0)},2e3)},D=()=>{T(),U(!1)},W=A=>{k(A)},B=()=>{L==="playing"?T():H(s.Quiz[v-1].Question.Sound)},$=()=>{L==="playing"?T():H(s.Quiz[v-1].Examples[0].Sound)};return e.jsx(e.Fragment,{children:m?e.jsx("div",{className:`animate__animated ${d}`,onAnimationEnd:()=>{d==="animate__bounceOutLeft"&&g()},children:e.jsx(Ee,{step:o,quizType:Fn,comment:"문장을 읽고 맞으면 O, 틀리면 X를 누르세요.",onStepIntroClozeHandler:()=>{a("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(tt,{step:o,quizType:Fn,quizAnswerCount:s.QuizAnswerCount,studentAnswer:l,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:v,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-P,timeMin:r.time.timeMin,timeSec:r.time.timeSec,changeSideMenu:W}),e.jsx("div",{className:`${Ot.comment} animate__animated animate__fadeInLeft`,children:Fn}),e.jsx($e,{children:F?e.jsx(Wy,{playState:L,sentence:s.Quiz[v-1].Examples[0].Text,playTrueSentence:$,goNextQuiz:D}):e.jsxs(e.Fragment,{children:[e.jsx(X,{height:15}),e.jsxs(Ae,{typeCSS:Ot.trueOrFalse,containerCSS:Ot.container,children:[e.jsx(X,{height:10}),e.jsx(Qy,{text:s.Quiz[v-1].Question.Text}),e.jsx(X,{height:10}),e.jsx(Ry,{isCorrect:s.Quiz[v-1].Question.Text===s.Quiz[v-1].Examples[0].Text,checkAnswer:O})]}),e.jsx(X,{height:15})]})}),y&&e.jsx(ze,{isSideOpen:y,currentStep:o,currentStepType:Fn,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,scoreBoardData:l,changeSideMenu:W,changeStep:t.changeStep}),e.jsx(Ye,{bottomPopupState:q})]})})})}const Ky="_comment_1krve_1",Jy="_wordPlayButton_1krve_20",Yy="_txtL_1krve_34",Xy="_txtP_1krve_38",Zy="_wordPlayButton2_1krve_43",ef="_btnNext_1krve_66",tf="_reTryButton_1krve_89",nf="_iconChevLeft_1krve_112",sf="_iconChevRight_1krve_127",of="_vocabularyPractice1_1krve_142",rf="_container_1krve_148",af="_wordCard_1krve_156",cf="_wordImage_1krve_173",uf="_wordText_1krve_179",lf="_indicator_1krve_185",df="_goNextStepBox_1krve_251",mf="_vocabularyPractice2_1krve_269",xf="_vocabularyPractice3_1krve_398",_f="_wordTyping_1krve_411",hf="_textField_1krve_415",pf="_inputField_1krve_420",gf="_overLength_1krve_438",yf="_count_1krve_467",ff="_enterButton_1krve_475",kf="_enterIcon_1krve_489",bf="_skipButton_1krve_513",Sf="_meaning_1krve_540",wf="_vocabularyPractice4_1krve_571",vf="_sentence_1krve_615",jf="_studyModeSelectTab_1krve_694",zf="_btnTab_1krve_700",$f="_active_1krve_705",Cf="_speakQuestionText_1krve_717",Qf="_word_1krve_20",Af="_recProgress_1krve_748",Nf="_btnRec_1krve_759",Tf="_recIcon_1krve_773",If="_speakResult_1krve_799",Bf="_phonemes_1krve_822",Ef="_phonemeItem_1krve_832",Pf="_phoneme_1krve_822",Mf="_red_1krve_840",Lf="_orange_1krve_843",Rf="_green_1krve_846",qf="_phonemeScore_1krve_849",Ff="_speakResultSign_1krve_857",Hf="_signBox_1krve_867",Of="_goodJob_1krve_876",Df="_tryAgain_1krve_879",Wf="_txt_1krve_34",Vf="_iconArrow_1krve_888",Ie={comment:Ky,wordPlayButton:Jy,txtL:Yy,txtP:Xy,wordPlayButton2:Zy,btnNext:ef,reTryButton:tf,iconChevLeft:nf,iconChevRight:sf,vocabularyPractice1:of,container:rf,wordCard:af,wordImage:cf,wordText:uf,indicator:lf,goNextStepBox:df,vocabularyPractice2:mf,vocabularyPractice3:xf,wordTyping:_f,textField:hf,inputField:pf,overLength:gf,count:yf,enterButton:ff,enterIcon:kf,skipButton:bf,meaning:Sf,vocabularyPractice4:wf,sentence:vf,studyModeSelectTab:jf,btnTab:zf,active:$f,speakQuestionText:Cf,word:Qf,recProgress:Af,btnRec:Nf,recIcon:Tf,speakResult:If,phonemes:Bf,phonemeItem:Ef,phoneme:Pf,red:Mf,orange:Lf,green:Rf,phonemeScore:qf,speakResultSign:Ff,signBox:Hf,goodJob:Of,tryAgain:Df,txt:Wf,iconArrow:Vf},Gf="_comment_s4pqi_1",Uf="_wordPlayButton_s4pqi_20",Kf="_txtL_s4pqi_34",Jf="_txtP_s4pqi_38",Yf="_wordPlayButton2_s4pqi_43",Xf="_btnNext_s4pqi_64",Zf="_reTryButton_s4pqi_86",ek="_iconChevLeft_s4pqi_108",tk="_iconChevRight_s4pqi_123",nk="_vocabularyPractice1_s4pqi_138",sk="_container_s4pqi_141",ok="_wordCard_s4pqi_149",ik="_wordImage_s4pqi_166",rk="_wordText_s4pqi_172",ak="_indicator_s4pqi_178",ck="_goNextStepBox_s4pqi_243",uk="_vocabularyPractice2_s4pqi_261",lk="_vocabularyPractice3_s4pqi_378",dk="_wordTyping_s4pqi_394",mk="_textField_s4pqi_400",xk="_inputField_s4pqi_405",_k="_overLength_s4pqi_423",hk="_count_s4pqi_454",pk="_enterButton_s4pqi_467",gk="_enterIcon_s4pqi_482",yk="_skipButton_s4pqi_505",fk="_meaning_s4pqi_531",kk="_vocabularyPractice4_s4pqi_565",bk="_sentence_s4pqi_609",Sk="_studyModeSelectTab_s4pqi_687",wk="_btnTab_s4pqi_693",vk="_active_s4pqi_698",jk="_speakQuestionText_s4pqi_710",zk="_word_s4pqi_20",$k="_recProgress_s4pqi_738",Ck="_btnRec_s4pqi_749",Qk="_recIcon_s4pqi_764",Ak="_speakResult_s4pqi_789",Nk="_phonemes_s4pqi_812",Tk="_phonemeItem_s4pqi_822",Ik="_phoneme_s4pqi_812",Bk="_red_s4pqi_830",Ek="_orange_s4pqi_833",Pk="_green_s4pqi_836",Mk="_phonemeScore_s4pqi_839",Lk="_speakResultSign_s4pqi_847",Rk="_signBox_s4pqi_857",qk="_goodJob_s4pqi_866",Fk="_tryAgain_s4pqi_869",Hk="_txt_s4pqi_34",Ok="_iconArrow_s4pqi_878",Be={comment:Gf,wordPlayButton:Uf,txtL:Kf,txtP:Jf,wordPlayButton2:Yf,btnNext:Xf,reTryButton:Zf,iconChevLeft:ek,iconChevRight:tk,vocabularyPractice1:nk,container:sk,wordCard:ok,wordImage:ik,wordText:rk,indicator:ak,goNextStepBox:ck,vocabularyPractice2:uk,vocabularyPractice3:lk,wordTyping:dk,textField:mk,inputField:xk,overLength:_k,count:hk,enterButton:pk,enterIcon:gk,skipButton:yk,meaning:fk,vocabularyPractice4:kk,sentence:bk,studyModeSelectTab:Sk,btnTab:wk,active:vk,speakQuestionText:jk,word:zk,recProgress:$k,btnRec:Ck,recIcon:Qk,speakResult:Ak,phonemes:Nk,phonemeItem:Tk,phoneme:Ik,red:Bk,orange:Ek,green:Pk,phonemeScore:Mk,speakResultSign:Lk,signBox:Rk,goodJob:qk,tryAgain:Fk,txt:Hk,iconArrow:Ok};async function Si(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,r=`${Te}/vocabulary-1-practice?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(r,async d=>({ContentsId:Number(d.ContentsId),IsQuizTimeoutIncorrect:!!d.isQuizTimeoutIncorrect,QuizAnswerCount:Number(d.QuizAnswerCount),QuizTime:Number(d.QuizTime),MainMeanLanguage:d.MainMeanLanguage,SubMeanLanguage:d.SubMeanLanguage,Quiz:d.Quiz.map(a=>({QuizId:a.QuizId.toString(),QuizNo:Number(a.QuizNo),Question:{Text:a.Question.Text,Image:a.Question.Image,Sound:a.Question.Sound,SpeechPart:a.Question.SpeechPart,Korean:a.Question.Korean,Chinese:a.Question.Chinese,Japanese:a.Question.Japanese,Vietnamese:a.Question.Vietnamese,Indonesian:a.Question.Indonesian,English:a.Question.English,Britannica:a.Question.Britannica},Examples:a.Examples.map(m=>({Text:m.Text}))}))}))}async function Dk(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,r=`${Te}/vocabulary-1?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(r,async d=>({ContentsId:Number(d.ContentsId),IsQuizTimeoutIncorrect:!!d.isQuizTimeoutIncorrect,QuizAnswerCount:Number(d.QuizAnswerCount),QuizTime:Number(d.QuizTime),MainMeanLanguage:d.MainMeanLanguage,SubMeanLanguage:d.SubMeanLanguage,Quiz:d.Quiz.map(a=>({QuizId:a.QuizId.toString(),QuizNo:Number(a.QuizNo),Question:{Text:a.Question.Text,Image:a.Question.Image,Sound:a.Question.Sound,SpeechPart:a.Question.SpeechPart,Korean:a.Question.Korean,Chinese:a.Question.Chinese,Japanese:a.Question.Japanese,Vietnamese:a.Question.Vietnamese,Indonesian:a.Question.Indonesian,English:a.Question.English,Britannica:a.Question.Britannica},Examples:a.Examples.map(m=>({Text:m.Text}))}))}))}async function wi(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,r=`${Te}/vocabulary-2-practice?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(r,async d=>({ContentsId:Number(d.ContentsId),IsQuizTimeoutIncorrect:!!d.isQuizTimeoutIncorrect,QuizAnswerCount:Number(d.QuizAnswerCount),QuizTime:Number(d.QuizTime),MainMeanLanguage:d.MainMeanLanguage,SubMeanLanguage:d.SubMeanLanguage,Quiz:d.Quiz.map(a=>({QuizId:a.QuizId.toString(),QuizNo:Number(a.QuizNo),Question:{Text:a.Question.Text,Image:a.Question.Image,Sound:a.Question.Sound,Word:a.Question.Word,WordSound:a.Question.WordSound,SpeechPart:a.Question.SpeechPart,Korean:a.Question.Korean,Chinese:a.Question.Chinese,Japanese:a.Question.Japanese,Vietnamese:a.Question.Vietnamese,Indonesian:a.Question.Indonesian,English:a.Question.English,Britannica:a.Question.Britannica},Examples:a.Examples.map(m=>({Text:m.Text}))}))}))}async function Wk(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,r=`${Te}/vocabulary-2?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(r,async d=>({ContentsId:Number(d.ContentsId),IsQuizTimeoutIncorrect:!!d.isQuizTimeoutIncorrect,QuizAnswerCount:Number(d.QuizAnswerCount),QuizTime:Number(d.QuizTime),MainMeanLanguage:d.MainMeanLanguage,SubMeanLanguage:d.SubMeanLanguage,Quiz:d.Quiz.map(a=>({QuizId:a.QuizId.toString(),QuizNo:Number(a.QuizNo),Question:{Text:a.Question.Text,Image:a.Question.Image,Sound:a.Question.Sound,Word:a.Question.Word,WordSound:a.Question.WordSound,SpeechPart:a.Question.SpeechPart,Korean:a.Question.Korean,Chinese:a.Question.Chinese,Japanese:a.Question.Japanese,Vietnamese:a.Question.Vietnamese,Indonesian:a.Question.Indonesian,English:a.Question.English,Britannica:a.Question.Britannica},Examples:a.Examples.map(m=>({Text:m.Text}))}))}))}async function vi(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,r=`${Te}/vocabulary-3-practice?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(r,async d=>({ContentsId:Number(d.ContentsId),IsQuizTimeoutIncorrect:!!d.isQuizTimeoutIncorrect,QuizAnswerCount:Number(d.QuizAnswerCount),QuizTime:Number(d.QuizTime),IsEnabledTyping:d.IsEnabledTyping,IsSkipAvailable:d.IsSkipAvailable,MainMeanLanguage:d.MainMeanLanguage,SubMeanLanguage:d.SubMeanLanguage,Quiz:d.Quiz.map(a=>({QuizId:a.QuizId.toString(),QuizNo:Number(a.QuizNo),Question:{Text:a.Question.Text,Sound:a.Question.Sound,SpeechPart:a.Question.SpeechPart,Korean:a.Question.Korean,Chinese:a.Question.Chinese,Japanese:a.Question.Japanese,Vietnamese:a.Question.Vietnamese,Indonesian:a.Question.Indonesian,English:a.Question.English,Britannica:a.Question.Britannica}}))}))}async function Vk(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,r=`${Te}/vocabulary-3?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(r,async d=>({ContentsId:Number(d.ContentsId),IsQuizTimeoutIncorrect:!!d.isQuizTimeoutIncorrect,QuizAnswerCount:Number(d.QuizAnswerCount),QuizTime:Number(d.QuizTime),MainMeanLanguage:d.MainMeanLanguage,SubMeanLanguage:d.SubMeanLanguage,IsEnablePenaltyReview:!!d.IsEnablePenaltyReview,Hint:{IsEnabled:d.Hint.IsEnabled,Max:d.Hint.Max,Try:d.Hint.Try},Quiz:d.Quiz.map(a=>({QuizId:a.QuizId.toString(),QuizNo:Number(a.QuizNo),Question:{Text:a.Question.Text,Sound:a.Question.Sound,SpeechPart:a.Question.SpeechPart,Korean:a.Question.Korean,Chinese:a.Question.Chinese,Japanese:a.Question.Japanese,Vietnamese:a.Question.Vietnamese,Indonesian:a.Question.Indonesian,English:a.Question.English,Britannica:a.Question.Britannica}}))}))}async function Gk(t,i,n){const o=`${mi}/Vocabulary?studentHistoryId=${i}&studyId=${t}&quizNo=${n}`;return di(o,async u=>({Type:u.Type,Hint:u.Hint,TryHint:u.TryHint,ErrorNo:u.ErrorNo}))}async function ji(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,r=`${Te}/vocabulary-4-practice?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(r,async d=>({ContentsId:Number(d.ContentsId),IsQuizTimeoutIncorrect:!!d.isQuizTimeoutIncorrect,QuizAnswerCount:Number(d.QuizAnswerCount),QuizTime:Number(d.QuizTime),MainMeanLanguage:d.MainMeanLanguage,SubMeanLanguage:d.SubMeanLanguage,Quiz:d.Quiz.map(a=>({QuizId:a.QuizId.toString(),QuizNo:Number(a.QuizNo),Question:{Text:a.Question.Text,Sound:a.Question.Sound,SpeechPart:a.Question.SpeechPart,Korean:a.Question.Korean,Chinese:a.Question.Chinese,Japanese:a.Question.Japanese,Vietnamese:a.Question.Vietnamese,Indonesian:a.Question.Indonesian,English:a.Question.English,Britannica:a.Question.Britannica},Examples:a.Examples.map(m=>({Text:m.Text}))}))}))}async function Uk(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,r=`${Te}/vocabulary-4?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(r,async d=>({ContentsId:Number(d.ContentsId),IsQuizTimeoutIncorrect:!!d.isQuizTimeoutIncorrect,QuizAnswerCount:Number(d.QuizAnswerCount),QuizTime:Number(d.QuizTime),MainMeanLanguage:d.MainMeanLanguage,SubMeanLanguage:d.SubMeanLanguage,Quiz:d.Quiz.map(a=>({QuizId:a.QuizId.toString(),QuizNo:Number(a.QuizNo),Question:{Text:a.Question.Text,Sound:a.Question.Sound,SpeechPart:a.Question.SpeechPart,Korean:a.Question.Korean,Chinese:a.Question.Chinese,Japanese:a.Question.Japanese,Vietnamese:a.Question.Vietnamese,Indonesian:a.Question.Indonesian,English:a.Question.English,Britannica:a.Question.Britannica},Examples:a.Examples.map(m=>({Text:m.Text}))}))}))}const Kk=new Q(navigator.userAgent),Jk=Kk.phone(),Vo=Jk?Be:Ie;function Yk({playState:t,cardInfo:i,playWord:n}){return e.jsxs("div",{className:Vo.wordPlayButton,onClick:()=>n(),children:[t===""?e.jsx(Me,{isColor:!0,width:24,height:24}):e.jsx(Le,{isColor:!0,width:24,height:24}),e.jsx("div",{className:Vo.txtL,children:i.Question.Text})]})}const Xk=new Q(navigator.userAgent),Zk=Xk.phone(),xs=Zk?Be:Ie;function eb({playState:t,cardInfo:i,playWord:n}){return e.jsxs("div",{className:`${xs.wordCard} animate__animated`,children:[e.jsx("div",{className:xs.wordImage,children:e.jsx("img",{src:i.Question.Image,width:"100%"})}),e.jsx("div",{className:xs.wordText,children:e.jsx(Yk,{playState:t,cardInfo:i,playWord:n})})]})}const tb=new Q(navigator.userAgent),nb=tb.phone(),_s=nb?Be:Ie;function sb({isLastPage:t,quizNo:i,totalQuizCnt:n,changeQuizNo:o}){return e.jsxs("div",{className:_s.indicator,children:[e.jsx("span",{style:t||i>1?{opacity:"1"}:{opacity:".2"},onClick:()=>o(i-1),children:e.jsx("div",{className:_s.iconChevLeft})}),e.jsxs("span",{children:[i," / ",n]}),e.jsx("span",{onClick:()=>o(i+1),children:e.jsx("div",{className:_s.iconChevRight})})]})}const ob=new Q(navigator.userAgent),ib=ob.phone(),rb=ib?Be:Ie;function ab({goTest:t}){return e.jsx("div",{className:`${rb.btnNext} animate__animated animate__flash`,onClick:()=>t(),children:"Next"})}const hs="Vocabulary Practice",cb=new Q(navigator.userAgent),ub=cb.phone(),ps=ub?Be:Ie;function lb(t){const{studyInfo:i}=c.useContext(oe),n=t.currentStep,o=Se(()=>{window.onLogoutStudy()}),[r,u]=c.useState("animate__bounceInRight"),{isStepIntro:d,closeStepIntro:a}=be(),[m,g]=c.useState(!1),{scoreBoardData:f}=ve(i.mode),[h,y]=we(Si,t,n),[k,_]=c.useState(1),[s,x]=c.useState(!1),{playState:l,playAudio:p,stopAudio:S}=Pe();if(c.useEffect(()=>{!d&&h&&(o.setup(h.QuizTime,!0),v())},[d]),c.useEffect(()=>{!d&&h&&(S(),k===h.Quiz.length&&x(!0),v())},[k]),c.useEffect(()=>{h&&l===""&&k===Object.keys(h.Quiz).length&&x(!0)},[l]),c.useEffect(()=>{!d&&!s&&_(1)},[s]),!h)return e.jsx("div",{children:"Loading..."});const b=C=>{S(),C<1?s&&_(Object.keys(h.Quiz).length):C>Object.keys(h.Quiz).length?_(1):_(C)},v=()=>{l===""?p(h.Quiz[k-1].Question.Sound):S()},N=C=>{g(C)},j=()=>{S(),t.changeVocaState(!1)};return e.jsx(e.Fragment,{children:d?e.jsx("div",{className:`animate__animated ${r}`,onAnimationEnd:()=>{r==="animate__bounceOutLeft"&&a()},children:e.jsx(Ee,{step:n,quizType:hs,comment:"카드를 넘기면서 단어를 학습하세요.",onStepIntroClozeHandler:()=>{u("animate__bounceOutLeft")}})}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:k,totalQuizCnt:Object.keys(h.Quiz).length,life:h.QuizAnswerCount,timeMin:o.time.timeMin,timeSec:o.time.timeSec,changeSideMenu:N}),e.jsx("div",{className:`${ps.comment} animate__animated animate__fadeInLeft`,children:hs}),e.jsx($e,{children:e.jsxs(Ae,{typeCSS:ps.vocabularyPractice1,containerCSS:ps.container,children:[e.jsx(eb,{playState:l,cardInfo:h.Quiz[k-1],playWord:v}),e.jsx(sb,{isLastPage:s,quizNo:k,totalQuizCnt:h.Quiz.length,changeQuizNo:b}),e.jsx(e.Fragment,{children:s&&e.jsx(ab,{goTest:j})})]})}),m&&e.jsx(ze,{isSideOpen:m,currentStep:n,currentStepType:hs,quizLength:h.Quiz.length,maxAnswerCount:h.QuizAnswerCount,changeSideMenu:N,scoreBoardData:f,changeStep:t.changeStep})]})})}const db="_comment_asjyi_1",mb="_wordPlayButton_asjyi_20",xb="_txtL_asjyi_35",_b="_cardNumber_asjyi_46",hb="_hintButton_asjyi_61",pb="_hintPopup_asjyi_84",gb="_screenBlock_asjyi_121",yb="_testReview_asjyi_131",fb="_title_asjyi_134",kb="_container_asjyi_139",bb="_sentence_asjyi_148",Sb="_nextButton_asjyi_158",wb="_deactNextButton_asjyi_180",vb="_reviewAnswer_asjyi_206",jb="_currentOrder_asjyi_217",zb="_blink_asjyi_1",$b="_currentInput_asjyi_237",Cb="_otherInput_asjyi_238",Qb="_enterButton_asjyi_245",Ab="_hintText_asjyi_271",Nb="_correctAnswer_asjyi_279",Tb="_vocabularyTest1_asjyi_295",Ib="_questionBox_asjyi_300",Bb="_wordImage_asjyi_316",Eb="_wordText_asjyi_325",Pb="_textCard_asjyi_331",Mb="_correct_asjyi_279",Lb="_incorrect_asjyi_371",Rb="_awnserText_asjyi_380",qb="_answers_asjyi_384",Fb="_vocabularyTest2_asjyi_391",Hb="_blank_asjyi_438",Ob="_vocabularyTest3_asjyi_522",Db="_wordCard_asjyi_535",Wb="_wordTyping_asjyi_535",Vb="_textField_asjyi_539",Gb="_inputField_asjyi_547",Ub="_count_asjyi_604",Kb="_enterIcon_asjyi_626",Jb="_meaning_asjyi_636",Yb="_txtP_asjyi_644",Xb="_vocabularyTest4_asjyi_650",Fe={comment:db,wordPlayButton:mb,txtL:xb,cardNumber:_b,hintButton:hb,hintPopup:pb,screenBlock:gb,testReview:yb,title:fb,container:kb,sentence:bb,nextButton:Sb,deactNextButton:wb,reviewAnswer:vb,currentOrder:jb,blink:zb,currentInput:$b,otherInput:Cb,enterButton:Qb,hintText:Ab,correctAnswer:Nb,vocabularyTest1:Tb,questionBox:Ib,wordImage:Bb,wordText:Eb,textCard:Pb,correct:Mb,incorrect:Lb,awnserText:Rb,answers:qb,vocabularyTest2:Fb,blank:Hb,vocabularyTest3:Ob,wordCard:Db,wordTyping:Wb,textField:Vb,inputField:Gb,count:Ub,enterIcon:Kb,meaning:Jb,txtP:Yb,vocabularyTest4:Xb},Zb="_comment_yur7e_1",eS="_wordPlayButton_yur7e_20",tS="_txtL_yur7e_35",nS="_cardNumber_yur7e_47",sS="_hintButton_yur7e_62",oS="_hintPopup_yur7e_85",iS="_screenBlock_yur7e_122",rS="_testReview_yur7e_132",aS="_title_yur7e_132",cS="_container_yur7e_137",uS="_sentence_yur7e_146",lS="_nextButton_yur7e_155",dS="_deactNextButton_yur7e_177",mS="_reviewAnswer_yur7e_198",xS="_currentOrder_yur7e_209",_S="_blink_yur7e_1",hS="_currentInput_yur7e_229",pS="_otherInput_yur7e_230",gS="_enterButton_yur7e_237",yS="_hintText_yur7e_263",fS="_correctAnswer_yur7e_271",kS="_vocabularyTest1_yur7e_287",bS="_questionBox_yur7e_292",SS="_wordImage_yur7e_307",wS="_wordText_yur7e_316",vS="_textCard_yur7e_322",jS="_correct_yur7e_271",zS="_incorrect_yur7e_356",$S="_awnserText_yur7e_365",CS="_answers_yur7e_369",QS="_vocabularyTest2_yur7e_376",AS="_blank_yur7e_422",NS="_vocabularyTest3_yur7e_501",TS="_wordCard_yur7e_514",IS="_wordTyping_yur7e_517",BS="_textField_yur7e_521",ES="_inputField_yur7e_529",PS="_count_yur7e_586",MS="_enterIcon_yur7e_608",LS="_meaning_yur7e_618",RS="_txtP_yur7e_627",qS="_vocabularyTest4_yur7e_633",He={comment:Zb,wordPlayButton:eS,txtL:tS,cardNumber:nS,hintButton:sS,hintPopup:oS,screenBlock:iS,testReview:rS,title:aS,container:cS,sentence:uS,nextButton:lS,deactNextButton:dS,reviewAnswer:mS,currentOrder:xS,blink:_S,currentInput:hS,otherInput:pS,enterButton:gS,hintText:yS,correctAnswer:fS,vocabularyTest1:kS,questionBox:bS,wordImage:SS,wordText:wS,textCard:vS,correct:jS,incorrect:zS,awnserText:$S,answers:CS,vocabularyTest2:QS,blank:AS,vocabularyTest3:NS,wordCard:TS,wordTyping:IS,textField:BS,inputField:ES,count:PS,enterIcon:MS,meaning:LS,txtP:RS,vocabularyTest4:qS},FS=new Q(navigator.userAgent),HS=FS.phone(),Go=HS?He:Fe;function OS({img:t}){return e.jsx("div",{className:Go.questionBox,children:e.jsx("div",{className:Go.wordImage,children:e.jsx("img",{src:t,width:"100%"})})})}const DS=new Q(navigator.userAgent),WS=DS.phone(),Hn=WS?He:Fe;function VS({index:t,text:i,correctText:n,checkAnswer:o,onAnimationEndHandler:r}){const{bookInfo:u,studyInfo:d}=c.useContext(oe);return e.jsxs("div",{className:`${Hn.textCard} 
      ${d.mode==="Review"&&Number(u.Average)>=70&&i===n?Hn.correct:""}
      animate__animated`,onClick:a=>o(a.currentTarget,i),onAnimationEnd:a=>r(a),children:[e.jsx("div",{className:Hn.cardNumber,children:t}),e.jsx("div",{className:Hn.awnserText,children:i})]})}const GS=new Q(navigator.userAgent),US=GS.phone(),KS=US?He:Fe;function JS({exampleData:t,correctText:i,checkAnswer:n,onAnimationEndHandler:o}){return e.jsx("div",{className:KS.answers,children:t.map((r,u)=>e.jsx(VS,{index:u+1,text:r.Text,correctText:i,checkAnswer:n,onAnimationEndHandler:o}))})}const YS=new Q(navigator.userAgent),eo=YS.phone(),On="Vocabulary Test",zt=eo?He:Fe;function XS(t){const{handler:i,studyInfo:n}=c.useContext(oe),o=t.currentStep,r=Se(()=>{O(void 0)}),u=rt(),[d,a]=c.useState("animate__bounceInRight"),{isStepIntro:m,closeStepIntro:g}=be(),{isResultShow:f,changeResultShow:h}=qe(),[y,k]=c.useState(!1),_=c.useRef(!1),[s,x]=we(Dk,t,o),[l,p]=c.useState(1),{scoreBoardData:S,setStudentAnswers:b,addStudentAnswer:v,makeUserAnswerData:N}=ve(n.mode),[j,C]=c.useState([]),[P,w]=c.useState(0),[q,I]=c.useState(0),{bottomPopupState:F,changeBottomPopupState:U}=Je(),{playAudio:L}=Pe(),H=c.useRef(null),T=c.useRef(null);if(c.useEffect(()=>{!m&&s&&(r.setup(s.QuizTime,!0),H.current&&T.current&&(r.setup(s.QuizTime,!0),u.remove(H.current,["animate__fadeInRight"]),u.remove(T.current,["animate__fadeInRight"])),_.current=!1)},[m]),c.useEffect(()=>{if(s)try{const[B,$]=ot(n.mode,x,s.QuizAnswerCount);w($),I($),n.mode==="Super"?C(s.Quiz[B-1].Examples):C(xe.shuffle(s.Quiz[B-1].Examples)),b(x,s.QuizAnswerCount),p(B)}catch(B){console.error(B)}},[s]),c.useEffect(()=>{!m&&!f&&s&&(r.setup(s.QuizTime,!0),H.current&&T.current&&(u.play(H.current,["animate__fadeInRight"]),u.play(T.current,["animate__fadeInRight"])),w(0),I(0),n.mode==="Super"?C(s.Quiz[l-1].Examples):C(xe.shuffle(s.Quiz[l-1].Examples)),setTimeout(()=>{H.current&&T.current&&(r.setup(s.QuizTime,!0),u.remove(H.current,["animate__fadeInRight"]),u.remove(T.current,["animate__fadeInRight"])),_.current=!1},1e3))},[l]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const O=async(B=void 0,$="quiz time over")=>{try{if(!_.current){_.current=!0;const A=s.Quiz[l-1].Question.Text===$,M={quizNo:l,maxCount:s.QuizAnswerCount,answerCount:P+1,ox:A},K=N({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:o,quizId:s.Quiz[l-1].QuizId,quizNo:s.Quiz[l-1].QuizNo,currentQuizNo:l,correct:s.Quiz[l-1].Question.Text,selectedAnswer:$,tryCount:P+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:A,answerData:M,isFinishStudy:t.lastStep===o});r.stop();const te=await Ce(n.mode,K);Number(te.result)===0&&(te.resultMessage&&(i.finishStudy={id:Number(te.result),cause:te.resultMessage}),A||I(q+1),w(P+1),v(M),R(B,A,P+1))}}catch(A){console.error(A)}},R=(B,$,A)=>{r.stop(),U({isActive:!0,isCorrect:$}),B?$?u.play(B,["animate__fadeIn",zt.correct]):u.play(B,["animate__headShake",zt.incorrect]):D(A)},Y=B=>{const $=B.currentTarget;setTimeout(()=>{if(U({isActive:!1,isCorrect:!1}),!!u.isContain($,"animate__fadeIn")){const M=()=>{u.remove($,["animate__fadeIn",zt.correct]),l+1>s.Quiz.length?h(!0):p(l+1)};L(s.Quiz[l-1].Question.Sound,M)}else if(P>=s.QuizAnswerCount)if(l+1>s.Quiz.length){const M=()=>{u.remove($,["animate__headShake",zt.incorrect]),h(!0)};L(s.Quiz[l-1].Question.Sound,M)}else{const M=()=>{u.remove($,["animate__headShake",zt.incorrect]),p(l+1)};L(s.Quiz[l-1].Question.Sound,M)}else u.remove($,["animate__headShake",zt.incorrect]),r.setup(s.QuizTime,!0),_.current=!1},1500)},D=B=>{setTimeout(()=>{if(U({isActive:!1,isCorrect:!1}),B>=s.QuizAnswerCount)if(l+1>s.Quiz.length){const $=()=>{h(!0)};L(s.Quiz[l-1].Question.Sound,$)}else{const $=()=>{p(l+1)};L(s.Quiz[l-1].Question.Sound,$)}else r.setup(s.QuizTime,!0),_.current=!1},1e3)},W=B=>{k(B)};return e.jsx(e.Fragment,{children:m?e.jsx("div",{className:`animate__animated ${d}`,onAnimationEnd:()=>{d==="animate__bounceOutLeft"&&g()},children:e.jsx(Ee,{step:o,quizType:On,comment:"그림을 보고 알맞은 단어를 고르세요.",onStepIntroClozeHandler:()=>{a("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(e.Fragment,{children:e.jsx(tt,{step:o,quizType:On,quizAnswerCount:s.QuizAnswerCount,studentAnswer:S,onFinishActivity:t.onFinishActivity})}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:l,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-q,timeMin:r.time.timeMin,timeSec:r.time.timeSec,changeSideMenu:W}),e.jsx("div",{className:`${zt.comment} animate__animated animate__fadeInLeft`,children:On}),e.jsxs($e,{children:[eo?e.jsx(e.Fragment,{}):e.jsx(X,{height:15}),e.jsxs(Ae,{typeCSS:zt.vocabularyTest1,containerCSS:zt.container,children:[e.jsx(OS,{img:s.Quiz[l-1].Question.Image}),e.jsx(X,{height:20}),e.jsx(JS,{exampleData:j,correctText:s.Quiz[l-1].Question.Text,checkAnswer:O,onAnimationEndHandler:Y})]}),eo?e.jsx(X,{height:5}):e.jsx(X,{height:15})]}),y&&e.jsx(ze,{isSideOpen:y,currentStep:o,currentStepType:On,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:W,scoreBoardData:S,changeStep:t.changeStep}),e.jsx(Ye,{bottomPopupState:F})]})})})}const ZS=new Q(navigator.userAgent),ew=ZS.phone(),Uo=ew?Be:Ie;function tw({multiPlayState:t,cardInfo:i,playWord:n}){return e.jsxs("div",{className:Uo.wordPlayButton,onClick:()=>n(),children:[t.playState==="playing"&&t.playType==="word"?e.jsx(Le,{isColor:!0,width:24,height:24}):e.jsx(Me,{isColor:!0,width:24,height:24}),e.jsx("div",{className:Uo.txtL,children:i.Question.Word})]})}const nw=new Q(navigator.userAgent),sw=nw.phone(),Ko=sw?Be:Ie;function ow({multiPlayState:t,cardInfo:i,playSentence:n}){return e.jsxs("div",{className:Ko.wordPlayButton,onClick:()=>n(),children:[t.playState==="playing"&&t.playType==="sentence"?e.jsx(Le,{isColor:!0,width:24,height:24}):e.jsx(Me,{isColor:!0,width:24,height:24}),e.jsx("div",{className:Ko.txtP,children:sn(i.Question.Text,i.Question.Word,()=>e.jsx("span",{style:{color:"#f15144"},children:i.Question.Word}))})]})}const iw=new Q(navigator.userAgent),rw=iw.phone(),Dn=rw?Be:Ie;function aw({cardInfo:t,multiPlayState:i,playWord:n,playSentence:o}){return e.jsxs("div",{className:`${Dn.wordCard} animate__animated animate__slideInRight`,children:[e.jsx("div",{className:Dn.wordImage,children:e.jsx("img",{src:t.Question.Image,width:"100%"})}),e.jsx("div",{className:Dn.wordText,children:e.jsx(tw,{multiPlayState:i,cardInfo:t,playWord:n})}),e.jsx("div",{className:Dn.wordText,children:e.jsx(ow,{multiPlayState:i,cardInfo:t,playSentence:o})})]})}const cw=new Q(navigator.userAgent),uw=cw.phone(),gs=uw?Be:Ie;function lw({isLastPage:t,quizNo:i,totalQuizCnt:n,changeQuizNo:o}){return e.jsxs("div",{className:gs.indicator,children:[e.jsx("span",{style:t||i>1?{opacity:"1"}:{opacity:".2"},onClick:()=>o(i-1),children:e.jsx("div",{className:gs.iconChevLeft})}),e.jsxs("span",{children:[i," / ",n]}),e.jsx("span",{onClick:()=>o(i+1),children:e.jsx("div",{className:gs.iconChevRight})})]})}const dw=new Q(navigator.userAgent),mw=dw.phone(),xw=mw?Be:Ie;function _w({goTest:t}){return e.jsx("div",{className:`${xw.btnNext} animate__animated animate__flash`,onClick:()=>t(),children:"Next"})}const hw=new Q(navigator.userAgent),pw=hw.phone(),ys="Vocabulary Practice",fs=pw?Be:Ie;function gw(t){const{studyInfo:i}=c.useContext(oe),n=t.currentStep,o=Se(()=>{window.onLogoutStudy()}),[r,u]=c.useState("animate__bounceInRight"),{isStepIntro:d,closeStepIntro:a}=be(),[m,g]=c.useState(!1),{scoreBoardData:f}=ve(i.mode),[h,y]=we(wi,t,n),[k,_]=c.useState(1),[s,x]=c.useState(!1),{playState:l,playAudio:p,stopAudio:S}=Pe(),[b,v]=c.useState({playState:"",playType:""});if(c.useEffect(()=>{!d&&h&&(o.setup(h.QuizTime,!0),setTimeout(()=>{P()},500))},[d]),c.useEffect(()=>{!d&&h&&(S(),k===h.Quiz.length&&x(!0),P())},[k]),c.useEffect(()=>{h&&b.playState===""&&k===Object.keys(h.Quiz).length&&(x(!0),b.playState===""&&S())},[b]),c.useEffect(()=>{!d&&!s&&_(1)},[s]),!h)return e.jsx("div",{children:"Loading..."});const N=I=>{I<1?s&&_(Object.keys(h.Quiz).length):I>Object.keys(h.Quiz).length?_(1):_(I)},j=()=>{if(S(),b.playState==="playing"&&b.playType==="word")v({playState:"",playType:""});else{v({playState:"playing",playType:"word"});const I=()=>{v({playState:"",playType:""})};p(h.Quiz[k-1].Question.WordSound,I)}},C=()=>{if(S(),b.playState==="playing"&&b.playType==="sentence")v({playState:"",playType:""});else{v({playState:"playing",playType:"sentence"});const I=()=>{v({playState:"",playType:""})};p(h.Quiz[k-1].Question.Sound,I)}},P=()=>{S(),v({playState:"playing",playType:"word"});const I=()=>{v({playState:"",playType:""})},F=()=>{v({playState:"playing",playType:"sentence"}),p(h.Quiz[k-1].Question.Sound,I)};p(h.Quiz[k-1].Question.WordSound,F)},w=I=>{g(I)},q=()=>{S(),t.changeVocaState(!1)};return e.jsx(e.Fragment,{children:d?e.jsx("div",{className:`animate__animated ${r}`,onAnimationEnd:()=>{r==="animate__bounceOutLeft"&&a()},children:e.jsx(Ee,{step:n,quizType:ys,comment:"카드를 넘기면서 단어를 학습하세요.",onStepIntroClozeHandler:()=>{u("animate__bounceOutLeft")}})}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:k,totalQuizCnt:Object.keys(h.Quiz).length,life:h.QuizAnswerCount,timeMin:o.time.timeMin,timeSec:o.time.timeSec,changeSideMenu:w}),e.jsx("div",{className:`${fs.comment} animate__animated animate__fadeInLeft`,children:ys}),e.jsx($e,{children:e.jsxs(Ae,{typeCSS:fs.vocabularyPractice2,containerCSS:fs.container,children:[e.jsx(aw,{cardInfo:h.Quiz[k-1],multiPlayState:b,playWord:j,playSentence:C}),e.jsx(lw,{isLastPage:s,quizNo:k,totalQuizCnt:h.Quiz.length,changeQuizNo:N}),e.jsx(e.Fragment,{children:s&&e.jsx(_w,{goTest:q})})]})}),m&&e.jsx(ze,{isSideOpen:m,currentStep:n,currentStepType:ys,quizLength:h.Quiz.length,maxAnswerCount:h.QuizAnswerCount,changeSideMenu:w,scoreBoardData:f,changeStep:t.changeStep})]})})}const yw=new Q(navigator.userAgent),fw=yw.phone(),ks=fw?He:Fe;function kw({src:t,sentence:i,blankWord:n}){let o="";for(let r=0;r<n.length;r++)o+="_";return e.jsxs("div",{className:ks.questionBox,children:[e.jsx("div",{className:ks.wordImage,children:e.jsx("img",{src:t,width:"100%"})}),e.jsxs("div",{className:ks.wordText,children:[i.split(n)[0]," ",o,i.split(n)[1]]})]})}const bw=new Q(navigator.userAgent),Sw=bw.phone(),Wn=Sw?He:Fe;function ww({index:t,correctText:i,exampleData:n,checkAnswer:o,onAnimationEndHandler:r}){const{bookInfo:u,studyInfo:d}=c.useContext(oe);return e.jsxs("div",{className:`${Wn.textCard}
      ${d.mode==="Review"&&Number(u.Average)>=70&&n.Text===i?Wn.correct:""}`,onClick:a=>o(a.currentTarget,n.Text),onAnimationEnd:a=>r(a),children:[e.jsx("div",{className:Wn.cardNumber,children:Number(t+1)}),e.jsx("div",{className:Wn.awnserText,children:n.Text})]})}const vw=new Q(navigator.userAgent),jw=vw.phone(),zw=jw?He:Fe;function $w({correctText:t,exampleData:i,checkAnswer:n,onAnimationEndHandler:o}){return e.jsx("div",{className:zw.answers,children:i.map((r,u)=>e.jsx(ww,{index:u,correctText:t,exampleData:r,checkAnswer:n,onAnimationEndHandler:o},`e-0${u}`))})}const Cw=new Q(navigator.userAgent),to=Cw.phone(),Vn="Vocabulary Test",$t=to?He:Fe;function Qw(t){const{handler:i,studyInfo:n}=c.useContext(oe),o=t.currentStep,r=Se(()=>{window.onLogoutStudy()}),u=rt(),[d,a]=c.useState("animate__bounceInRight"),{isStepIntro:m,closeStepIntro:g}=be(),{isResultShow:f,changeResultShow:h}=qe(),[y,k]=c.useState(!1),_=c.useRef(!0),[s,x]=we(Wk,t,o),[l,p]=c.useState(1),{scoreBoardData:S,setStudentAnswers:b,addStudentAnswer:v,makeUserAnswerData:N}=ve(n.mode),[j,C]=c.useState([]),[P,w]=c.useState(0),[q,I]=c.useState(0),{bottomPopupState:F,changeBottomPopupState:U}=Je(),{playAudio:L}=Pe(),H=c.useRef(null),T=c.useRef(null);if(c.useEffect(()=>{!m&&s&&(r.setup(s.QuizTime,!0),H.current&&T.current&&(u.remove(H.current,["animate__fadeInRight"]),u.remove(T.current,["animate__fadeInRight"])),_.current=!1)},[m]),c.useEffect(()=>{if(s)try{const[W,B]=ot(n.mode,x,s.QuizAnswerCount);w(B),I(B),n.mode==="Super"?C(s.Quiz[W-1].Examples):C(xe.shuffle(s.Quiz[W-1].Examples)),b(x,s.QuizAnswerCount),p(W)}catch(W){console.error(W)}},[s]),c.useEffect(()=>{!m&&!f&&s&&(r.setup(s.QuizTime,!0),H.current&&T.current&&(u.play(H.current,["animate__fadeInRight"]),u.play(T.current,["animate__fadeInRight"])),w(0),I(0),n.mode==="Super"?C(s.Quiz[l-1].Examples):C(xe.shuffle(s.Quiz[l-1].Examples)),setTimeout(()=>{H.current&&T.current&&(u.remove(H.current,["animate__fadeInRight"]),u.remove(T.current,["animate__fadeInRight"])),_.current=!1},1e3))},[l]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const O=async(W,B)=>{try{if(!_.current){_.current=!0;const $=s.Quiz[l-1].Examples[0].Text===B,A={quizNo:l,maxCount:s.QuizAnswerCount,answerCount:P+1,ox:$},M=N({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:o,quizId:s.Quiz[l-1].QuizId,quizNo:s.Quiz[l-1].QuizNo,currentQuizNo:l,correct:s.Quiz[l-1].Examples[0].Text,selectedAnswer:B,tryCount:P+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:$,answerData:A,isFinishStudy:t.lastStep===o});r.stop();const K=await Ce(n.mode,M);Number(K.result)===0&&(K.resultMessage&&(i.finishStudy={id:Number(K.result),cause:K.resultMessage}),$||I(q+1),w(P+1),v(A),R(W,$))}}catch($){console.error($)}},R=(W,B)=>{U({isActive:!0,isCorrect:B}),B?u.play(W,["animate__fadeIn",$t.correct]):u.play(W,["animate__headShake",$t.incorrect])},Y=W=>{const B=W.currentTarget,$=!!u.isContain(B,"animate__fadeIn");setTimeout(()=>{if(U({isActive:!1,isCorrect:!1}),$){const A=()=>{u.remove(B,["animate__fadeIn",$t.correct]),l+1>s.Quiz.length?h(!0):p(l+1)};L(s.Quiz[l-1].Question.Sound,A)}else P>=s.QuizAnswerCount?l+1>s.Quiz.length?L(s.Quiz[l-1].Question.Sound,()=>{u.remove(B,["animate__headShake",$t.incorrect]),h(!0)}):L(s.Quiz[l-1].Question.Sound,()=>{u.remove(B,["animate__headShake",$t.incorrect]),p(l+1)}):(u.remove(B,["animate__headShake",$t.incorrect]),r.setup(s.QuizTime,!0),H.current&&T.current&&(u.remove(H.current,["animate__fadeInRight"]),u.remove(T.current,["animate__fadeInRight"])),_.current=!1)},1e3)},D=W=>{k(W)};return e.jsx(e.Fragment,{children:m?e.jsx("div",{className:`animate__animated ${d}`,onAnimationEnd:()=>{d==="animate__bounceOutLeft"&&g()},children:e.jsx(Ee,{step:o,quizType:Vn,comment:"그림과 문장의 빈칸을 보고 알맞은 단어를 고르세요.",onStepIntroClozeHandler:()=>{a("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(e.Fragment,{children:e.jsx(tt,{step:o,quizType:Vn,quizAnswerCount:s.QuizAnswerCount,studentAnswer:S,onFinishActivity:t.onFinishActivity})}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:l,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-q,timeMin:r.time.timeMin,timeSec:r.time.timeSec,changeSideMenu:D}),e.jsx("div",{className:`${$t.comment} animate__animated animate__fadeInLeft`,children:Vn}),e.jsxs($e,{children:[to?e.jsx(e.Fragment,{}):e.jsx(X,{height:15}),e.jsxs(Ae,{typeCSS:$t.vocabularyTest2,containerCSS:$t.container,children:[e.jsx(kw,{src:s.Quiz[l-1].Question.Image,sentence:s.Quiz[l-1].Question.Text,blankWord:s.Quiz[l-1].Examples[0].Text}),e.jsx(X,{height:20}),e.jsx($w,{correctText:s.Quiz[l-1].Examples[0].Text,exampleData:j,checkAnswer:O,onAnimationEndHandler:Y})]}),to?e.jsx(X,{height:5}):e.jsx(X,{height:15})]}),y&&e.jsx(ze,{isSideOpen:y,currentStep:o,currentStepType:Vn,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:D,scoreBoardData:S,changeStep:t.changeStep}),e.jsx(Ye,{bottomPopupState:F})]})})})}const Aw=new Q(navigator.userAgent),Nw=Aw.phone(),At=Nw?ft:yt;function Tw({goVocaTest:t,changeRetry:i}){const n=Vt();return e.jsxs("div",{className:At.testResult,children:[e.jsx("div",{className:`${At.quizType} ${At.nextToVocaTest}`,children:"Begin Vocabulary Test?"}),e.jsx(X,{height:30}),e.jsxs("div",{className:`${At.container} ${At.borderNone}`,children:[e.jsx("div",{className:`${At.readingUnit} animate__animated animate__jackInTheBox`,children:e.jsx("img",{src:`https://wcfresource.a1edu.com/newsystem/image/character/subcharacter/${n}_10.png`,alt:""})}),e.jsx(X,{height:50})]}),e.jsx("div",{className:At.goButton,onClick:()=>{t()},children:"Go!"}),e.jsx(X,{height:20}),e.jsx("div",{className:At.notYetButton,onClick:()=>{i(!0)},children:"Not yet"})]})}const Iw="https://api.readinggate.elasolution.com",Bw="e874641aac784ff6b9d62c3483f7aaaa";function Ew(){const t=(n,o,r,u)=>{try{const d=new Audio(o),a=()=>{const m=d.duration>=5?1.4:1.2,g=Math.ceil(d.duration*1e3*m);if(navigator.mediaDevices.getUserMedia){console.log("The mediaDevices.getUserMedia() method is supported.");const f=k=>{r("recording");const _=new MediaRecorder(k),s=[];_.ondataavailable=x=>{s.push(x.data)},_.onstop=()=>{k.getTracks().forEach(function(p){p.stop()});const x=new Blob(s,{type:_.mimeType}),l=new File([x],"student_audio.mp3",{type:"audio/mp3"});i(l,o,n,u)},_.onerror=x=>{alert(x)},_.start(),setTimeout(()=>{_.stop()},g)},h=k=>{r("reset"),console.error("The following error occured: "+k)},y={audio:!0};navigator.mediaDevices.getUserMedia(y).then(f,h).catch(k=>{console.log(k.name),console.log(k.message)})}else r("reset"),alert("MediaDevices.getUserMedia() not supported on your browser!")};ro?d.addEventListener("loadedmetadata",a):d.addEventListener("canplaythrough",a)}catch(d){alert(d)}},i=async(n,o,r,u)=>{const d=await Pw(o),a=new FormData;a.append("student_audio",n),a.append("text",r),a.append("get_phoneme_result",!0),a.append("native_audio",d),ts.post(`${Iw}/pron_v2/`,a,{headers:{"X-API-Key":Bw,"Content-Type":"multipart/form-data"}}).then(m=>{switch(console.log(m),m.status){case 200:u(m.data);break;case 401:alert("인증키가 잘못되었습니다. 리딩게이트로 전화주세요. 1599-0533");break;case 403:alert(m.data);break;case 422:alert(m.data);break}}).catch(m=>{console.error(m)})};return{startRecording:t}}const Pw=async t=>{const n=await(await fetch(t)).blob(),o=t.split(".").pop(),r=t.split("/").pop(),u={type:`image/${o}`};return new File([n],r,u)},Mw="Comp 1",Lw="",Rw=[{ty:4,nm:"Shape Layer 2",mn:"",sr:1,st:0,op:41.0000016699642,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[127,127,100],t:0},{o:{x:.333,y:0},i:{x:.667,y:1},s:[147,147,100],t:10},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[127,127,100],t:20.0000008146167}],ix:6},sk:{a:0,k:0},p:{a:0,k:[31.524,31.524,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Group",nm:"Ellipse 1",ix:1,cix:2,np:3,it:[{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0],ix:3},s:{a:0,k:[26.25,26.25],ix:2}},{ty:"fl",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.9882,.3333,.3333],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[.375,.375],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:1},{ty:4,nm:"Shape Layer 1",mn:"",sr:1,st:0,op:41.0000016699642,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[127,127,100],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[250,250,100],t:40.0000016292334}],ix:6},sk:{a:0,k:0},p:{a:0,k:[31.524,31.524,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[100],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:40.0000016292334}],ix:11}},ef:[],shapes:[{ty:"gr",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Group",nm:"Ellipse 1",ix:1,cix:2,np:3,it:[{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0],ix:3},s:{a:0,k:[26.25,26.25],ix:2}},{ty:"fl",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.9882,.3333,.3333],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[.375,.375],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:2}],qw=0,Fw=64,Hw=64,Ow={a:"",k:"",d:"",g:"LottieFiles AE 1.0.0",tc:"#000000"},Dw="4.8.0",Ww=29.9700012207031,Vw=41.0000016699642,Gw=0,Uw=[],zi={nm:Mw,mn:Lw,layers:Rw,ddd:qw,h:Fw,w:Hw,meta:Ow,v:Dw,fr:Ww,op:Vw,ip:Gw,assets:Uw},Kw="5.5.8",Jw=30,Yw=0,Xw=60,Zw=128,e2=128,t2="Comp 1",n2=0,s2=[],o2=[{ddd:0,ind:1,ty:4,nm:"Shape Layer 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[102.49999999999999,113.99999999999999,0],ix:2},a:{a:0,k:[0,50,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.665,y:1},o:{x:.088,y:0},t:0,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,-8.75],[10,45],[5,50],[-5,50],[-10,45],[-10,-8.75],[-5,-13.75],[5,-13.75]],c:!0}]},{i:{x:.888,y:.992},o:{x:.315,y:0},t:15,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,-29.5],[10,45],[5,50],[-5,50],[-10,45],[-10,-29.5],[-5,-34.5],[5,-34.5]],c:!0}]},{i:{x:.777,y:1},o:{x:.117,y:.013},t:30,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,-8.75],[10,45],[5,50],[-5,50],[-10,45],[-10,-8.75],[-5,-13.75],[5,-13.75]],c:!0}]},{i:{x:.853,y:1},o:{x:.098,y:0},t:46,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,18.75],[10,45],[5,50],[-5,50],[-10,45],[-10,18.75],[-5,13.75],[5,13.75]],c:!0}]},{t:60,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,-8.75],[10,45],[5,50],[-5,50],[-10,45],[-10,-8.75],[-5,-13.75],[5,-13.75]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9568627450980393,.9411764705882353,.9568627450980393,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:0,op:61,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Shape Layer 3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[62.5,113.99999999999999,0],ix:2},a:{a:0,k:[0,50,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.631,y:1},o:{x:.167,y:0},t:0,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,-33],[10,45],[5,50],[-5,50],[-10,45],[-10,-33],[-5,-38],[5,-38]],c:!0}]},{i:{x:.667,y:1},o:{x:.391,y:0},t:13.846,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,4],[10,45],[5,50],[-5,50],[-10,45],[-10,4],[-5,-1],[5,-1]],c:!0}]},{i:{x:.88,y:1},o:{x:.093,y:0},t:27,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,-33],[10,45],[5,50],[-5,50],[-10,45],[-10,-33],[-5,-38],[5,-38]],c:!0}]},{i:{x:.873,y:1},o:{x:.165,y:0},t:45,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,11.875],[10,45],[5,50],[-5,50],[-10,45],[-10,11.875],[-5,6.875],[5,6.875]],c:!0}]},{t:60,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,-33],[10,45],[5,50],[-5,50],[-10,45],[-10,-33],[-5,-38],[5,-38]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9568627450980393,.9411764705882353,.9568627450980393,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:0,op:61,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Shape Layer 4",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[22.5,113.99999999999999,0],ix:2},a:{a:0,k:[0,50,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.562,y:1},o:{x:.46,y:0},t:0,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,29.25],[10,45],[5,50],[-5,50],[-10,45],[-10,29.25],[-5,24.25],[5,24.25]],c:!0}]},{i:{x:.505,y:1},o:{x:.402,y:0},t:15,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,13],[10,45],[5,50],[-5,50],[-10,45],[-10,13],[-5,8],[5,8]],c:!0}]},{i:{x:.407,y:1},o:{x:.167,y:0},t:32,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,29.25],[10,45],[5,50],[-5,50],[-10,45],[-10,29.25],[-5,24.25],[5,24.25]],c:!0}]},{i:{x:.599,y:1},o:{x:.526,y:0},t:47,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,3],[10,45],[5,50],[-5,50],[-10,45],[-10,3],[-5,-2],[5,-2]],c:!0}]},{t:60,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,29.25],[10,45],[5,50],[-5,50],[-10,45],[-10,29.25],[-5,24.25],[5,24.25]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9568627450980393,.9411764705882353,.9568627450980393,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:0,op:61,st:0,bm:0}],i2=[],r2={v:Kw,fr:Jw,ip:Yw,op:Xw,w:Zw,h:e2,nm:t2,ddd:n2,assets:s2,layers:o2,markers:i2},a2="best-seller",c2=0,u2=700,l2=700,d2={g:"@lottiefiles/toolkit-js 0.33.2"},m2=[{ty:4,nm:"Layer 2 Outlines",sr:1,st:0,op:61,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[34.732,47.8,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[34.733,-6.771,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0],[0,0],[9.278,2.974],[.372,.093],[3.698,-7.396],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[2.974,-9.279],[-.366,-.117],[-8.022,-2.006],[0,0],[0,0],[0,0],[0,0]],v:[[-16.8,47.55],[21.791,7.264],[31.508,-23.045],[20.093,-45.23],[18.988,-45.545],[-1.071,-36.318],[-10.742,-16.979],[-34.482,7.021],[-16.329,45.669]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.9843,.8588,.5529],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[34.732,47.8],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:1,parent:3},{ty:4,nm:"Layer 3 Outlines",sr:1,st:0,op:61,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[36.38,56.411,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[-35.879,56.089,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[6.624,.007],[0,-6.627],[-6.627,0],[0,6.627]],o:[[-6.627,0],[0,6.627],[6.627,0],[-.007,-6.624]],v:[[0,-12],[-12,0],[0,12],[12,0]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.1765,.2784,.3608],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[36.25,76.573],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 2",ix:2,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-36.13,-56.161],[36.13,-56.161],[36.13,56.161],[-36.13,56.161]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.2588,.4078,.5294],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[36.38,56.411],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:2,parent:3},{ty:4,nm:"Layer 4 Outlines",sr:1,st:0,op:61,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[-35.879,77.25,0],ix:1},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[0,0,100],t:18},{s:[100,100,100],t:28}],ix:6},sk:{a:0,k:0},p:{a:0,k:[290.13,371,0],ix:2},r:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[15],t:22},{o:{x:.333,y:0},i:{x:.667,y:1},s:[-12],t:26},{s:[0],t:35}],ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0],[0,0],[0,13.255],[0,0],[0,0],[0,3.005],[10.69,0],[.025,0],[0,0]],o:[[0,0],[0,0],[13.255,0],[0,0],[0,0],[1.344,-2.688],[.001,-10.69],[-.025,0],[0,0],[0,0]],v:[[-59.871,-56],[-59.871,56],[27.87,56],[51.87,32],[51.87,-16],[57.826,-27.913],[59.87,-36.569],[40.515,-55.926],[40.44,-55.926],[-3.597,-55.758]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.9843,.8588,.5529],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[60.121,56.25],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:3},{ty:4,nm:"Layer 5 Outlines",sr:1,st:0,op:61,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[144.25,144.25,0],ix:1},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[0,0,100],t:4},{o:{x:.333,y:0},i:{x:.667,y:1},s:[110,110,100],t:11},{s:[100,100,100],t:19}],ix:6},sk:{a:0,k:0},p:{a:0,k:[350,342,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-79.529,0],[0,-79.529],[79.529,0],[0,79.529]],o:[[79.529,0],[0,79.529],[-79.529,0],[0,-79.529]],v:[[0,-144],[144,0],[0,144],[-144,0]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[1,1,1],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[144.25,144.25],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:4},{ty:4,nm:"Layer 6 Outlines",sr:1,st:0,op:61,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[195.385,195.385,0],ix:1},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[0,0,100],t:0},{o:{x:.333,y:0},i:{x:.667,y:1},s:[110,110,100],t:7},{s:[100,100,100],t:15}],ix:6},sk:{a:0,k:0},p:{a:0,k:[350,342,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-18.346,-12.541],[-12.224,.931],[-9.617,-20.034],[-11.052,-5.305],[1.689,-22.159],[-6.919,-10.121],[12.541,-18.346],[-.931,-12.224],[20.034,-9.617],[5.305,-11.052],[22.159,1.689],[10.121,-6.919],[18.346,12.541],[12.224,-.931],[9.617,20.034],[11.052,5.305],[-1.689,22.159],[6.919,10.121],[-12.541,18.346],[.931,12.224],[-20.034,9.617],[-5.305,11.052],[-22.159,-1.689],[-10.121,6.919]],o:[[10.121,6.919],[22.159,-1.689],[5.305,11.052],[20.034,9.617],[-.931,12.224],[12.541,18.346],[-6.919,10.121],[1.689,22.159],[-11.052,5.305],[-9.617,20.034],[-12.224,-.931],[-18.346,12.541],[-10.121,-6.919],[-22.159,1.689],[-5.305,-11.052],[-20.034,-9.617],[.931,-12.224],[-12.541,-18.346],[6.919,-10.121],[-1.689,-22.159],[11.052,-5.305],[9.617,-20.034],[12.224,.931],[18.346,-12.541]],v:[[30.426,-182.594],[64.947,-173.344],[117.647,-142.918],[142.918,-117.647],[173.344,-64.947],[182.594,-30.426],[182.594,30.426],[173.344,64.947],[142.918,117.647],[117.647,142.918],[64.947,173.344],[30.426,182.594],[-30.426,182.594],[-64.947,173.344],[-117.647,142.918],[-142.918,117.647],[-173.344,64.947],[-182.594,30.426],[-182.594,-30.426],[-173.344,-64.947],[-142.918,-117.647],[-117.647,-142.918],[-64.947,-173.344],[-30.426,-182.594]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[1,.7059,.1922],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[195.385,195.385],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:5},{ty:4,nm:"Layer 7 Outlines",sr:1,st:0,op:61,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[144.25,20.25,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[310,386,0],ix:2},r:{a:1,k:[{o:{x:.925,y:0},i:{x:.865,y:.826},s:[117],t:3},{o:{x:.215,y:-3.017},i:{x:.509,y:1},s:[-10],t:17},{s:[0],t:29}],ix:10},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[0],t:3},{s:[100],t:29}],ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[8,-108],[-96,68],[-40,60],[-8,108],[96,-68]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.8706,.3333,.251],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[96.25,108.25],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:6},{ty:4,nm:"Layer 8 Outlines",sr:1,st:0,op:61,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[42.25,20.25,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[384,386,0],ix:2},r:{a:1,k:[{o:{x:.925,y:0},i:{x:.865,y:.826},s:[-115],t:3},{o:{x:.215,y:-2.965},i:{x:.509,y:1},s:[10],t:17},{s:[0],t:29}],ix:10},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[0],t:3},{s:[100],t:29}],ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[-8,-108],[96,68],[40,60],[8,108],[-96,-68]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.8706,.3333,.251],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[96.25,108.25],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:7},{ty:0,nm:"crackers",sr:1,st:9,op:39,ip:9,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[500,500,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[350,350,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],w:1e3,h:1e3,refId:"comp_0",ind:8}],x2="5.7.4",_2=30,h2=60,p2=0,g2=[{nm:"",id:"comp_0",layers:[{ty:4,nm:"Layer 20 Outlines",sr:1,st:0,op:30,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[257.117,257.118,0],ix:1},s:{a:1,k:[{o:{x:.823,y:0},i:{x:.079,y:1},s:[0,0,100],t:0},{s:[174,174,100],t:28}],ix:6},sk:{a:0,k:0},p:{a:0,k:[500,500,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.333,y:0},i:{x:0,y:1},s:[0],t:0},{o:{x:.333,y:0},i:{x:.667,y:1},s:[50],t:10},{s:[0],t:23}],ix:11}},ef:[{ty:21,mn:"ADBE Fill",nm:"Fill",ix:1,en:1,ef:[{ty:10,mn:"ADBE Fill-0001",nm:"Fill Mask",ix:1,v:{a:0,k:0,ix:1}},{ty:7,mn:"ADBE Fill-0007",nm:"All Masks",ix:2,v:{a:0,k:0,ix:2}},{ty:2,mn:"ADBE Fill-0002",nm:"Color",ix:3,v:{a:0,k:[1,0,0],ix:3}},{ty:7,mn:"ADBE Fill-0006",nm:"Invert",ix:4,v:{a:0,k:0,ix:4}},{ty:0,mn:"ADBE Fill-0003",nm:"Horizontal Feather",ix:5,v:{a:0,k:0,ix:5}},{ty:0,mn:"ADBE Fill-0004",nm:"Vertical Feather",ix:6,v:{a:0,k:0,ix:6}},{ty:0,mn:"ADBE Fill-0005",nm:"Opacity",ix:7,v:{a:0,k:1,ix:7}}]}],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,-100.581],[100.581,0],[0,100.581],[-100.58,0]],o:[[0,100.581],[-100.58,0],[0,-100.581],[100.581,0]],v:[[182.117,0],[-.001,182.118],[-182.117,0],[-.001,-182.118]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:5,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[257.117,257.118],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:1},{ty:4,nm:"Layer 5 Outlines",sr:1,st:0,op:30,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[335.642,330.771,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[500,505.182,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[{ty:21,mn:"ADBE Fill",nm:"Fill",ix:1,en:1,ef:[{ty:10,mn:"ADBE Fill-0001",nm:"Fill Mask",ix:1,v:{a:0,k:0,ix:1}},{ty:7,mn:"ADBE Fill-0007",nm:"All Masks",ix:2,v:{a:0,k:0,ix:2}},{ty:2,mn:"ADBE Fill-0002",nm:"Color",ix:3,v:{a:0,k:[1,.6627,.102],ix:3}},{ty:7,mn:"ADBE Fill-0006",nm:"Invert",ix:4,v:{a:0,k:0,ix:4}},{ty:0,mn:"ADBE Fill-0003",nm:"Horizontal Feather",ix:5,v:{a:0,k:0,ix:5}},{ty:0,mn:"ADBE Fill-0004",nm:"Vertical Feather",ix:6,v:{a:0,k:0,ix:6}},{ty:0,mn:"ADBE Fill-0005",nm:"Opacity",ix:7,v:{a:0,k:1,ix:7}}]}],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[335.642,15],[335.642,325.588]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[0,0],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 2",ix:2,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-99.821,-118.962],[99.821,118.962]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[226.179,210.135],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 3",ix:3,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-152.935,-26.966],[152.935,26.966]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[167.935,311.017],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 4",ix:4,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-134.488,77.647],[134.488,-77.647]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[188.163,425.735],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 5",ix:5,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-53.114,145.928],[53.113,-145.928]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[277.398,500.613],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 6",ix:6,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[53.113,145.928],[-53.113,-145.928]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[393.886,500.613],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 7",ix:7,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[134.488,77.647],[-134.488,-77.647]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[483.121,425.735],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 8",ix:8,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[152.935,-26.966],[-152.935,26.966]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[503.349,311.017],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 9",ix:9,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[99.821,-118.962],[-99.821,118.962]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[445.105,210.135],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"tm",bm:0,hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:10,e:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[100],t:7},{s:[0],t:25}],ix:2},o:{a:0,k:0,ix:3},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[100],t:0},{s:[0],t:20}],ix:1},m:1}],ind:2},{ty:4,nm:"Layer 5 Outlines 2",sr:1,st:2,op:32,ip:2,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[335.642,330.771,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[500,505.182,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[{ty:21,mn:"ADBE Fill",nm:"Fill",ix:1,en:1,ef:[{ty:10,mn:"ADBE Fill-0001",nm:"Fill Mask",ix:1,v:{a:0,k:0,ix:1}},{ty:7,mn:"ADBE Fill-0007",nm:"All Masks",ix:2,v:{a:0,k:0,ix:2}},{ty:2,mn:"ADBE Fill-0002",nm:"Color",ix:3,v:{a:0,k:[.9647,1,0],ix:3}},{ty:7,mn:"ADBE Fill-0006",nm:"Invert",ix:4,v:{a:0,k:0,ix:4}},{ty:0,mn:"ADBE Fill-0003",nm:"Horizontal Feather",ix:5,v:{a:0,k:0,ix:5}},{ty:0,mn:"ADBE Fill-0004",nm:"Vertical Feather",ix:6,v:{a:0,k:0,ix:6}},{ty:0,mn:"ADBE Fill-0005",nm:"Opacity",ix:7,v:{a:0,k:1,ix:7}}]}],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[335.642,15],[335.642,325.588]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[0,0],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 2",ix:2,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-99.821,-118.962],[99.821,118.962]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[226.179,210.135],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 3",ix:3,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-152.935,-26.966],[152.935,26.966]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[167.935,311.017],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 4",ix:4,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-134.488,77.647],[134.488,-77.647]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[188.163,425.735],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 5",ix:5,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-53.114,145.928],[53.113,-145.928]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[277.398,500.613],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 6",ix:6,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[53.113,145.928],[-53.113,-145.928]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[393.886,500.613],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 7",ix:7,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[134.488,77.647],[-134.488,-77.647]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[483.121,425.735],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 8",ix:8,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[152.935,-26.966],[-152.935,26.966]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[503.349,311.017],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 9",ix:9,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[99.821,-118.962],[-99.821,118.962]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[445.105,210.135],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"tm",bm:0,hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:10,e:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[100],t:9},{s:[0],t:27}],ix:2},o:{a:0,k:0,ix:3},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[100],t:2},{s:[0],t:22}],ix:1},m:1}],ind:3}]}],y2={nm:a2,ddd:c2,h:u2,w:l2,meta:d2,layers:m2,v:x2,fr:_2,op:h2,ip:p2,assets:g2},f2="5.5.7",k2={g:"LottieFiles AE 0.1.20",a:"",k:"",d:"",tc:""},b2=29.9700012207031,S2=0,w2=30.0000012219251,v2=240,j2=120,z2="spot_celebration",$2=0,C2=[],Q2=[{ddd:0,ind:1,ty:4,nm:"hand-1 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.389,y:0},t:0,s:[110.657,60.209,0],to:[.724,0,0],ti:[0,0,0]},{i:{x:.623,y:1},o:{x:.167,y:.167},t:2.024,s:[115,60.209,0],to:[0,0,0],ti:[.724,0,0]},{i:{x:0,y:0},o:{x:.333,y:.333},t:4.048,s:[110.657,60.209,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.333,y:0},t:6.476,s:[110.657,60.209,0],to:[.724,0,0],ti:[0,0,0]},{i:{x:.665,y:1},o:{x:.167,y:.167},t:8.5,s:[115,60.209,0],to:[0,0,0],ti:[.724,0,0]},{i:{x:0,y:0},o:{x:.333,y:.333},t:10.524,s:[110.657,60.209,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.333,y:0},t:12.953,s:[110.657,60.209,0],to:[.724,0,0],ti:[0,0,0]},{i:{x:.673,y:1},o:{x:.167,y:.167},t:14.976,s:[115,60.209,0],to:[0,0,0],ti:[.724,0,0]},{t:17.0000006924242,s:[110.657,60.209,0]}],ix:2},a:{a:0,k:[32.553,37.706,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.429,.24],[-2.884,5.153],[-.429,-.24],[2.885,-5.151]],o:[[-.43,-.24],[2.885,-5.151],[.429,.24],[-2.885,5.152]],v:[[-5.223,9.328],[-.777,-.436],[5.223,-9.328],[.777,.435]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9686274509803922,.7647058823529411,.2823529411764706,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[53.708,31.209],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.419,.258],[-4.27,6.936],[-.419,-.258],[4.269,-6.935]],o:[[-.419,-.258],[4.269,-6.936],[.419,.258],[-4.269,6.936]],v:[[-7.73,12.558],[-.758,-.467],[7.73,-12.558],[.758,.467]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9686274509803922,.7647058823529411,.2823529411764706,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[47.387,21.728],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.405,.279],[-4.573,6.65],[-.406,-.278],[4.572,-6.65]],o:[[-.405,-.279],[4.573,-6.65],[.405,.279],[-4.573,6.65]],v:[[-8.28,12.04],[-.735,-.506],[8.28,-12.042],[.734,.505]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9686274509803922,.7647058823529411,.2823529411764706,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[37.738,16.357],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-6.325,8.378],[-1.545,.86],[-1.401,-.707],[-.22,-1.281],[-2.303,-1.33],[1.017,-1.762],[-1.904,-1.099],[.438,-2.609],[0,0],[-1.884,-1.46],[.706,-2.636],[8.825,-14.156],[10.784,5.694],[-.367,10.607],[-2.949,2.041],[-.571,-3.589]],o:[[0,0],[6.324,-8.378],[1.545,-.86],[1.402,.706],[1.596,-1.939],[2.304,1.33],[0,0],[1.904,1.099],[-.459,2.736],[0,0],[1.945,1.507],[-.707,2.636],[-9.158,14.689],[-11.407,-6.023],[.346,-10.016],[2.841,-1.965],[.691,4.346]],v:[[-17.535,-7.632],[-6.74,-22.076],[6.333,-36.38],[10.971,-36.749],[13.465,-33.391],[20.363,-34.589],[22.563,-28.538],[26.479,-28.079],[28.655,-22.57],[26.377,-15.826],[30.358,-14.93],[30.987,-7.947],[16.788,21.879],[-17.294,31.762],[-31.936,3.014],[-23.617,-22.577],[-17.156,-17.087]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.984313725490196,.8588235294117647,.5490196078431373,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[32.553,37.706],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"hand-2 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.389,y:0},t:0,s:[129.637,60.209,0],to:[-.94,0,0],ti:[0,0,0]},{i:{x:.623,y:1},o:{x:.167,y:.167},t:2.024,s:[124,60.209,0],to:[0,0,0],ti:[-.94,0,0]},{i:{x:0,y:0},o:{x:.333,y:.333},t:4.048,s:[129.637,60.209,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.333,y:0},t:6.476,s:[129.637,60.209,0],to:[-.94,0,0],ti:[0,0,0]},{i:{x:.665,y:1},o:{x:.167,y:.167},t:8.5,s:[124,60.209,0],to:[0,0,0],ti:[-.94,0,0]},{i:{x:0,y:0},o:{x:.333,y:.333},t:10.524,s:[129.637,60.209,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.333,y:0},t:12.953,s:[129.637,60.209,0],to:[-.94,0,0],ti:[0,0,0]},{i:{x:.673,y:1},o:{x:.167,y:.167},t:14.976,s:[124,60.209,0],to:[0,0,0],ti:[-.94,0,0]},{t:17.0000006924242,s:[129.637,60.209,0]}],ix:2},a:{a:0,k:[32.553,37.706,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-6.324,8.378],[-1.545,.86],[-1.402,-.707],[-.22,-1.281],[-2.303,-1.33],[1.017,-1.762],[-1.905,-1.099],[.438,-2.609],[0,0],[-1.884,-1.46],[.707,-2.636],[8.826,-14.156],[10.784,5.694],[-.366,10.607],[-2.949,2.041],[-.571,-3.589]],o:[[0,0],[6.325,-8.378],[1.545,-.86],[1.401,.706],[1.596,-1.939],[2.304,1.33],[0,0],[1.904,1.099],[-.459,2.736],[0,0],[1.945,1.507],[-.706,2.636],[-9.157,14.689],[-11.407,-6.023],[.347,-10.016],[2.841,-1.965],[.692,4.346]],v:[[-17.535,-7.632],[-6.742,-22.076],[6.333,-36.38],[10.971,-36.749],[13.464,-33.391],[20.363,-34.589],[22.563,-28.538],[26.479,-28.079],[28.655,-22.57],[26.377,-15.826],[30.358,-14.93],[30.986,-7.947],[16.786,21.879],[-17.294,31.762],[-31.938,3.014],[-23.617,-22.577],[-17.158,-17.087]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9764705882352941,.807843137254902,.3843137254901961,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[32.553,37.706],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"particle-8 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:6.4,s:[100]},{t:22.4000009123707,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.138,y:1},o:{x:.167,y:.167},t:0,s:[161.579,70.143,0],to:[2.5,.542,0],ti:[-2.5,-.542,0]},{t:17.0000006924242,s:[176.579,73.393,0]}],ix:2},a:{a:0,k:[4.076,4.076,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.789,-1.677],[-1.677,-.789],[-.788,1.678],[1.677,.789]],o:[[-.789,1.677],[1.678,.789],[.789,-1.677],[-1.677,-.788]],v:[[-3.036,-1.428],[-1.429,3.036],[3.036,1.428],[1.428,-3.038]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.25882352941176473,.5843137254901961,.9764705882352941,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[4.076,4.076],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"particle-7 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:6.4,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:13,s:[100]},{t:24.00000097754,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.212,y:1},o:{x:.167,y:.167},t:4.8,s:[173.53,67.136,0],to:[5.854,-.5,0],ti:[-5.854,.5,0]},{t:20.0000008146167,s:[208.655,64.136,0]}],ix:2},a:{a:0,k:[5.942,5.942,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.505,-2.865],[-2.864,-.506],[-.505,2.865],[2.864,.505]],o:[[-.505,2.865],[2.865,.505],[.505,-2.864],[-2.865,-.505]],v:[[-5.187,-.915],[-.915,5.187],[5.187,.914],[.915,-5.187]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.43529411764705883,.7098039215686275,.984313725490196,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[5.942,5.942],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"particle-6 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:6.4,s:[100]},{t:22.4000009123707,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.138,y:1},o:{x:.167,y:.167},t:0,s:[168.108,53.605,0],to:[4.583,-.875,0],ti:[-4.583,.875,0]},{t:17.0000006924242,s:[195.608,48.355,0]}],ix:2},a:{a:0,k:[4.804,4.804,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.404,-2.292],[-2.292,-.404],[-.404,2.292],[2.292,.404]],o:[[-.404,2.292],[2.291,.404],[.404,-2.291],[-2.292,-.404]],v:[[-4.149,-.732],[-.731,4.15],[4.15,.732],[.732,-4.15]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.32941176470588235,.6431372549019608,.984313725490196,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[4.803,4.804],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:6,ty:4,nm:"particle-5 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:6.4,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:13,s:[100]},{t:24.00000097754,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.212,y:1},o:{x:.167,y:.167},t:4.8,s:[163.17,58.428,0],to:[2.771,-.562,0],ti:[-2.771,.562,0]},{t:20.0000008146167,s:[179.795,55.053,0]}],ix:2},a:{a:0,k:[2.982,2.982,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.242,-1.375],[-1.375,-.242],[-.242,1.375],[1.375,.243]],o:[[-.243,1.375],[1.375,.243],[.243,-1.375],[-1.376,-.242]],v:[[-2.49,-.439],[-.439,2.489],[2.49,.439],[.439,-2.49]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.5882352941176471,.792156862745098,.9921568627450981,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[2.982,2.982],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"particle-4 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:6.4,s:[100]},{t:22.4000009123707,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.138,y:1},o:{x:.167,y:.167},t:0,s:[73.269,64.839,0],to:[-4.458,.625,0],ti:[4.458,-.625,0]},{t:17.0000006924242,s:[46.519,68.589,0]}],ix:2},a:{a:0,k:[3.164,3.163,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.601,-1.278],[-1.277,-.601],[-.601,1.277],[1.277,.6]],o:[[-.601,1.277],[1.278,.6],[.601,-1.278],[-1.278,-.601]],v:[[-2.313,-1.088],[-1.088,2.313],[2.313,1.089],[1.088,-2.312]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.5882352941176471,.792156862745098,.9921568627450981,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[3.164,3.164],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:8,ty:4,nm:"particle-3 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:6.4,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:13,s:[100]},{t:24.00000097754,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.212,y:1},o:{x:.167,y:.167},t:4.8,s:[75.582,55.3,0],to:[-2.375,-.333,0],ti:[2.375,.333,0]},{t:20.0000008146167,s:[61.332,53.3,0]}],ix:2},a:{a:0,k:[4.016,4.015,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[1.497,1.055],[1.055,-1.497],[-1.497,-1.056],[-1.055,1.497]],o:[[-1.497,-1.055],[-1.056,1.497],[1.497,1.055],[1.056,-1.496]],v:[[1.911,-2.711],[-2.71,-1.911],[-1.911,2.71],[2.71,1.91]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.43529411764705883,.7098039215686275,.984313725490196,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[4.016,4.015],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:9,ty:4,nm:"particle-2 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:6.4,s:[100]},{t:22.4000009123707,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.138,y:1},o:{x:.167,y:.167},t:0,s:[73.293,48.233,0],to:[-3.708,-.958,0],ti:[3.708,.958,0]},{t:17.0000006924242,s:[51.043,42.483,0]}],ix:2},a:{a:0,k:[5.368,5.368,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[2.197,-1.138],[1.138,2.197],[-2.198,1.139],[-1.138,-2.198]],o:[[-2.197,1.139],[-1.139,-2.198],[2.197,-1.138],[1.139,2.197]],v:[[2.062,3.979],[-3.979,2.061],[-2.062,-3.98],[3.979,-2.062]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.32941176470588235,.6431372549019608,.984313725490196,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[5.368,5.368],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:10,ty:4,nm:"particle-1 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:6.4,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:13,s:[100]},{t:24.00000097754,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.212,y:1},o:{x:.167,y:.167},t:4.8,s:[62.37,58.549,0],to:[-5.25,-.25,0],ti:[5.25,.25,0]},{t:20.0000008146167,s:[30.87,57.049,0]}],ix:2},a:{a:0,k:[4.349,4.348,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.364,-2.063],[-2.062,-.364],[-.364,2.062],[2.063,.364]],o:[[-.364,2.063],[2.063,.364],[.364,-2.063],[-2.062,-.364]],v:[[-3.734,-.659],[-.659,3.734],[3.734,.658],[.659,-3.734]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.25882352941176473,.5843137254901961,.9764705882352941,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[4.348,4.348],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0}],A2=[],N2={v:f2,meta:k2,fr:b2,ip:S2,op:w2,w:v2,h:j2,nm:z2,ddd:$2,assets:C2,layers:Q2,markers:A2};function $i(){const t={loop:!0,autoplay:!0,animationData:zi,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return e.jsx(e.Fragment,{children:e.jsx(_n,{isClickToPauseDisabled:!0,options:t,height:40,width:40})})}function T2(){const t={loop:!0,autoplay:!0,animationData:zi,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return e.jsx(e.Fragment,{children:e.jsx(_n,{isClickToPauseDisabled:!0,options:t,height:200,width:200})})}function I2(){const t={loop:!0,autoplay:!0,animationData:r2,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return e.jsx(e.Fragment,{children:e.jsx(_n,{isClickToPauseDisabled:!0,options:t,height:40,width:50})})}function B2({width:t,height:i}){const n={loop:!1,autoplay:!0,animationData:y2,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return e.jsx(e.Fragment,{children:e.jsx(_n,{isClickToPauseDisabled:!0,options:n,width:t,height:i})})}function E2({width:t,height:i}){const n={loop:!1,autoplay:!0,animationData:N2,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return e.jsx(e.Fragment,{children:e.jsx(_n,{isClickToPauseDisabled:!0,options:n,width:t,height:i})})}const P2=new Q(navigator.userAgent),M2=P2.phone(),L2=M2?Be:Ie;function R2({playState:t,playWord:i}){return e.jsx("div",{className:L2.wordPlayButton2,onClick:()=>i(),tabIndex:-1,children:t==="playing"?e.jsx(Le,{isColor:!0,width:34,height:34}):e.jsx(Me,{isColor:!0,width:34,height:34})})}const q2=new Q(navigator.userAgent),F2=q2.phone(),Xt=F2?Be:Ie;function H2({isSideOpen:t,isEnabledTyping:i,quizData:n,quizNo:o,tryCount:r,inputVal:u,disabled:d,changeInputVal:a,checkAnswer:m}){const g=c.useRef(null);c.useEffect(()=>{const y=()=>{g.current&&(t?g.current.blur():g.current.focus())};return y(),window.addEventListener("click",y),()=>{window.removeEventListener("click",y)}},[t]);const f=y=>{y.preventDefault();const k=/^[ㄱ-ㅎa-zA-Z-' ]+(?:'){0,1}[a-zA-Z]?$/g;let _=y.currentTarget.value;k.test(_)||(_=_.slice(0,_.length-1)),a(_)},h=y=>{(y.currentTarget.value===n.Quiz[o-1].Question.Text||y.key==="Enter")&&m()};return e.jsxs("div",{className:Xt.textField,children:[e.jsx("input",{ref:g,className:`${Xt.inputField} ${n.Quiz[o-1].Question.Text.length>20?Xt.overLength:""}`,type:"text",value:u,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search",onChange:y=>f(y),onKeyUp:y=>h(y),onCopy:y=>y.preventDefault(),onPaste:y=>y.preventDefault(),disabled:!i||d,autoFocus:!0,tabIndex:-1}),e.jsx("div",{className:`${Xt.wordText} ${n.Quiz[o-1].Question.Text.length>20?Xt.overLength:""}`,children:n.Quiz[o-1].Question.Text}),e.jsxs("div",{className:Xt.count,children:[r+1," / ",n.QuizAnswerCount]})]})}const O2=new Q(navigator.userAgent),D2=O2.phone(),uo=D2?Be:Ie,W2=({meanData:t,mainMeanLang:i})=>{const n=xe.upperFirst(i);let o="";switch(n){case"Korean":case"Chinese":case"Japanese":case"Vietnamese":case"Indonesian":o=t.Question[n];break;case"English":t.Question.English!==""&&t.Question.Britannica!==""||t.Question.English===""&&t.Question.Britannica!==""?o=t.Question.Britannica:t.Question.English!==""&&t.Question.Britannica===""&&(o=t.Question[n]);break;default:o=t.Question.Korean}return e.jsxs("div",{className:uo.txtL,children:[t.Question.SpeechPart,". ",o]})},V2=({meanData:t,mainMeanLang:i})=>{const n=xe.upperFirst(i);let o="";return n==="English"?e.jsx(e.Fragment,{}):(o=t.Question.Britannica!==""?t.Question.Britannica:t.Question.English,e.jsxs("div",{className:uo.txtP,children:[t.Question.SpeechPart,". ",o]}))};function G2({meanData:t,mainMeanLang:i}){return e.jsxs("div",{className:uo.meaning,children:[e.jsx(W2,{meanData:t,mainMeanLang:i}),e.jsx(X,{height:10}),e.jsx(V2,{meanData:t,mainMeanLang:i})]})}const U2=new Q(navigator.userAgent),K2=U2.phone(),Ze=K2?Be:Ie;function J2({sentenceScore:t,tryCount:i,changePlayBarState:n}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:Ze.speakResult,children:t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:Ze.word,children:t.best_answer}),e.jsx("div",{className:Ze.phonemes,children:t.phoneme_result.words.map(o=>e.jsx(e.Fragment,{children:o.phonemes.map(r=>e.jsxs("div",{className:Ze.phonemeItem,children:[e.jsx("div",{className:`${Ze.phoneme} 
                        ${r.score<30&&Ze.red}
                        ${r.score>=30&&r.score<70&&Ze.orange}  
                        ${r.score>=70&&Ze.green}  
                        `,children:r.phoneme}),e.jsxs("div",{className:Ze.phonemeScore,children:[Math.floor(r.score),"%"]})]}))}))})]})}),e.jsx("div",{className:Ze.speakResultSign,onClick:()=>n(""),children:t&&t.total_score>=40?e.jsxs("div",{className:`${Ze.signBox} ${Ze.goodJob}`,children:[e.jsx("div",{className:Ze.txt,children:"Good Job"}),e.jsx("div",{className:Ze.iconArrow})]}):e.jsxs("div",{className:`${Ze.signBox} ${Ze.tryAgain}`,children:[e.jsx("div",{className:Ze.txt,children:"Try Again"}),e.jsx("div",{className:Ze.iconArrow})]})})]})}const Y2=new Q(navigator.userAgent),X2=Y2.phone(),Z2=X2?Be:Ie;function ev({checkAnswer:t}){return e.jsxs("div",{className:Z2.skipButton,onClick:()=>t("user press skip"),children:[e.jsx("span",{children:"SKIP"}),e.jsx(rc,{width:14,height:14})]})}const tv=new Q(navigator.userAgent),Ci=tv.phone(),Zt=Ci?Be:Ie;function nv({isSideOpen:t,inputVal:i,playBarState:n,playState:o,quizData:r,quizNo:u,tryCount:d,isSpeakResult:a,sentenceScore:m,playWord:g,startRecord:f,checkAnswer:h,changeInputVal:y,changePlayBarState:k}){return e.jsxs("div",{className:Zt.wordCard,children:[e.jsxs("div",{className:Zt.wordTyping,children:[e.jsx(R2,{playState:o,playWord:g}),e.jsx(H2,{isSideOpen:t,isEnabledTyping:r.IsEnabledTyping,quizData:r,quizNo:u,tryCount:d,inputVal:i,disabled:n==="recording",changeInputVal:y,checkAnswer:h}),i===""?e.jsx("div",{className:Zt.btnRec,onClick:()=>{f()},children:n==="recording"?e.jsx($i,{}):e.jsx("div",{className:Zt.recIcon})}):e.jsx("div",{className:Zt.enterButton,onClick:()=>h(),children:e.jsx("div",{className:Zt.enterIcon})})]}),r.IsSkipAvailable&&e.jsx(ev,{checkAnswer:h}),e.jsx(X,{height:Ci?30:20}),a?e.jsx(e.Fragment,{children:e.jsx(J2,{sentenceScore:m,tryCount:d,changePlayBarState:k})}):e.jsx(e.Fragment,{children:e.jsx(G2,{meanData:r.Quiz[u-1],mainMeanLang:r.MainMeanLanguage})})]})}const sv=new Q(navigator.userAgent),ov=sv.phone(),bs="Vocabulary Practice",Ss=ov?Be:Ie;function iv(t){const{handler:i,studyInfo:n}=c.useContext(oe),o=t.currentStep,{startRecording:r}=Ew(),u=Se(()=>{window.onLogoutStudy()}),[d,a]=c.useState("animate__bounceInRight"),{isStepIntro:m,closeStepIntro:g}=be(),{isResultShow:f,changeResultShow:h}=qe(),[y,k]=c.useState(!1),_=c.useRef(!0),[s,x]=we(vi,t,`${o}P`),[l,p]=c.useState(1),{scoreBoardData:S,setStudentAnswers:b,addStudentAnswer:v,resetStudentAnswer:N,makeUserAnswerData:j}=ve(n.mode),[C,P]=c.useState(0),[w,q]=c.useState(""),{playState:I,playAudio:F,stopAudio:U}=Pe(),[L,H]=c.useState(!1),[T,O]=c.useState(""),[R,Y]=c.useState(),[D,W]=c.useState(!1);if(c.useEffect(()=>{!m&&s&&(u.setup(s.QuizTime,!0),A(),_.current=!1)},[m]),c.useEffect(()=>{if(s){const[Z,ae]=pa(n.mode,x,s.QuizAnswerCount);s.Quiz.length<Z?K():(x.length>0&&b(x,s.QuizAnswerCount),P(ae),p(Z))}},[s]),c.useEffect(()=>{s&&!m&&(q(""),P(0),A(),_.current=!1)},[l]),c.useEffect(()=>{f&&H(!1)},[f]),c.useEffect(()=>{L&&(N(),p(1),h(!1))},[L]),c.useEffect(()=>{R&&W(!0)},[R]),c.useEffect(()=>{T===""&&R?(_.current=!1,Y(void 0),W(!1),R.total_score>=40&&B("speaking correctly")):T==="reset"&&re("")},[T]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const B=async Z=>{try{if(!_.current)if(_.current=!0,s.IsEnabledTyping){let ae=s.Quiz[l-1].Question.Text===w;if(Z==="speaking correctly"&&(ae=!0),ae){let E;const J={quizNo:l,maxCount:s.QuizAnswerCount,answerCount:C+1,ox:ae},G=j({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:"2P",quizId:s.Quiz[l-1].QuizId,quizNo:s.Quiz[l-1].QuizNo,currentQuizNo:l,correct:s.Quiz[l-1].Question.Text,selectedAnswer:s.Quiz[l-1].Question.Text,tryCount:C+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:ae,answerData:J,isFinishStudy:`${t.lastStep}`=="2P"});L?C+1>=s.QuizAnswerCount?l+1>s.Quiz.length?E={result:"0",resultMessage:"finish"}:E={result:"0",resultMessage:""}:E={result:"0",resultMessage:""}:E=await Ce(n.mode,G),Number(E.result)===0&&(E.resultMessage&&(i.finishStudy={id:Number(E.result),cause:E.resultMessage}),v(J),P(C+1),C+1>=s.QuizAnswerCount?l+1>s.Quiz.length?h(!0):p(l+1):(q(""),A(),_.current=!1))}else if(s.IsSkipAvailable&&Z){U();const E={quizNo:l,maxCount:s.QuizAnswerCount,answerCount:C+1,ox:Z==="speaking correctly"?!0:ae};let J;const G=j({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:"2P",quizId:s.Quiz[l-1].QuizId,quizNo:s.Quiz[l-1].QuizNo,currentQuizNo:l,correct:s.Quiz[l-1].Question.Text,selectedAnswer:Z==="speaking correctly"?s.Quiz[l-1].Question.Text:w,tryCount:Z==="user press skip"?s.QuizAnswerCount:C+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:ae,answerData:E,isFinishStudy:`${t.lastStep}`=="2P"});L?C+1>=s.QuizAnswerCount?l+1>s.Quiz.length?J={result:"0",resultMessage:"finish"}:J={result:"0",resultMessage:""}:J={result:"0",resultMessage:""}:J=await Ce(n.mode,G),Number(J.result)===0&&(v(E),l+1>s.Quiz.length?Z==="user press skip"?h(!0):Z==="speaking correctly"&&(C+1>=s.QuizAnswerCount?h(!0):(P(C+1),q(""),A(),_.current=!1)):Z==="user press skip"?p(l+1):Z==="speaking correctly"&&(C+1>=s.QuizAnswerCount?p(l+1):(P(C+1),q(""),A(),_.current=!1)))}else q(""),_.current=!1}else{const ae={quizNo:l,maxCount:s.QuizAnswerCount,answerCount:C+1,ox:!0};let E;const J=j({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:"2P",quizId:s.Quiz[l-1].QuizId,quizNo:s.Quiz[l-1].QuizNo,currentQuizNo:l,correct:s.Quiz[l-1].Question.Text,selectedAnswer:w,tryCount:C+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:!0,answerData:ae,isFinishStudy:`${t.lastStep}`=="2P"});L?C+1>=s.QuizAnswerCount?l+1>s.Quiz.length?E={result:"0",resultMessage:"finish"}:E={result:"0",resultMessage:""}:E={result:"0",resultMessage:""}:E=await Ce(n.mode,J),Number(E.result)===0&&(v(ae),l+1>s.Quiz.length?h(!0):p(l+1))}}catch(ae){console.error(ae)}},$=Z=>{q(Z)},A=()=>{I===""&&T===""?F(s.Quiz[l-1].Question.Sound):U()},M=Z=>{k(Z)},K=()=>{t.changeVocaState(!1)},te=Z=>{H(Z)},se=()=>{_.current||(_.current=!0,U(),r(s.Quiz[l-1].Question.Text,s.Quiz[l-1].Question.Sound,re,ce))},re=Z=>{O(Z)},ce=Z=>{Y(Z)};return e.jsx(e.Fragment,{children:m?e.jsx("div",{className:`animate__animated ${d}`,onAnimationEnd:()=>{d==="animate__bounceOutLeft"&&g()},children:e.jsx(Ee,{step:o,quizType:bs,comment:"단어를 보고 듣고 따라서 입력하세요.",onStepIntroClozeHandler:()=>{a("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(Tw,{goVocaTest:K,changeRetry:te}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:l,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:M}),e.jsx("div",{className:`${Ss.comment} animate__animated animate__fadeInLeft`,children:bs}),e.jsxs($e,{children:[e.jsx(X,{height:10}),e.jsxs(Ae,{typeCSS:Ss.vocabularyPractice3,containerCSS:Ss.container,children:[e.jsx(X,{height:20}),e.jsx(nv,{isSideOpen:y,quizData:s,quizNo:l,tryCount:C,inputVal:w,playBarState:T,playState:I,isSpeakResult:D,sentenceScore:R,playWord:A,changeInputVal:$,startRecord:se,checkAnswer:B,changePlayBarState:re})]})]}),y&&e.jsx(ze,{isSideOpen:y,currentStep:o,currentStepType:bs,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:M,scoreBoardData:S,changeStep:t.changeStep})]})})})}const rv=new Q(navigator.userAgent),av=rv.phone(),ln=av?He:Fe;function cv({isWorking:t,bottomPopupState:i,isSideOpen:n,isHint:o,inputVal:r,correctAnswer:u,changeInputVal:d,checkAnswer:a}){const m=c.useRef(null);c.useEffect(()=>{const h=()=>{m.current&&(n||o?m.current.blur():m.current.focus())};return h(),window.addEventListener("click",h),()=>{window.removeEventListener("click",h)}},[n,o]);const g=h=>{if(!t){h.preventDefault();const y=/^[ㄱ-ㅎa-zA-Z-' ]+(?:'){0,1}[a-zA-Z]?$/g;let k=h.currentTarget.value;y.test(k)||(k=k.slice(0,k.length-1)),d(k)}},f=h=>{h.key==="Enter"&&!t&&r!==""&&a(r===u,r)};return e.jsx("div",{className:`${ln.textField} animate__animated} ${i.isActive&&!i.isCorrect?`animate__headShake ${ln.incorrect}`:""}`,children:i.isActive&&i.isCorrect?e.jsx("div",{className:`${ln.correctAnswer} animate__animated animate__flipInX`,children:u}):e.jsxs(e.Fragment,{children:[e.jsx("input",{ref:m,className:ln.inputField,type:"text",value:r,onChange:h=>g(h),onKeyUp:h=>f(h),onCopy:h=>h.preventDefault(),onPaste:h=>h.preventDefault(),tabIndex:-1,autoFocus:!0,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search"}),e.jsx("div",{className:ln.wordText})]})})}const uv=new Q(navigator.userAgent),lv=uv.phone(),lo=lv?He:Fe,dv=({meanData:t,mainMeanLang:i})=>{const n=xe.upperFirst(i);let o="";switch(n){case"Korean":case"Chinese":case"Japanese":case"Vietnamese":case"Indonesian":o=t.Question[n];break;case"English":t.Question.English!==""&&t.Question.Britannica!==""||t.Question.English===""&&t.Question.Britannica!==""?o=t.Question.Britannica:t.Question.English!==""&&t.Question.Britannica===""&&(o=t.Question[n]);break;default:o=t.Question.Korean}return e.jsxs("div",{className:lo.txtL,children:[t.Question.SpeechPart,". ",o]})},mv=({meanData:t,mainMeanLang:i})=>{const n=xe.upperFirst(i);let o="";return n==="English"?e.jsx(e.Fragment,{}):(o=t.Question.Britannica!==""?t.Question.Britannica:t.Question.English,e.jsxs("div",{className:lo.txtP,children:[t.Question.SpeechPart,". ",o]}))};function xv({meanData:t,mainMeanLang:i}){return e.jsxs("div",{className:lo.meaning,children:[e.jsx(dv,{meanData:t,mainMeanLang:i}),e.jsx(X,{height:10}),e.jsx(mv,{meanData:t,mainMeanLang:i})]})}const _v=new Q(navigator.userAgent),Qi=_v.phone(),dn=Qi?He:Fe;function hv({isWorking:t,bottomPopupState:i,isSideOpen:n,isHint:o,quizData:r,quizNo:u,inputVal:d,changeInputVal:a,checkAnswer:m}){return e.jsxs("div",{className:dn.wordCard,children:[e.jsxs("div",{className:dn.wordTyping,children:[e.jsx("div",{style:{width:Qi?0:70}}),e.jsx(cv,{isWorking:t,bottomPopupState:i,isSideOpen:n,isHint:o,inputVal:d,correctAnswer:r.Quiz[u-1].Question.Text,changeInputVal:a,checkAnswer:m}),i.isActive&&i.isCorrect?e.jsx("div",{className:dn.enterButton}):e.jsx(e.Fragment,{children:e.jsx("div",{className:dn.enterButton,onClick:()=>{d!==""&&m(d===r.Quiz[u-1].Question.Text,d)},children:e.jsx("div",{className:dn.enterIcon,children:e.jsx(os,{width:20,height:20})})})})]}),e.jsx(X,{height:20}),e.jsx(xv,{meanData:r.Quiz[u-1],mainMeanLang:r.MainMeanLanguage})]})}const pv=new Q(navigator.userAgent),gv=pv.phone(),St=gv?He:Fe;function ws({inputRefs:t,correctAnswer:i,inputIndex:n,currentInputIndex:o,changeInputIndex:r,playPenalty:u,changeNextButton:d}){const[a,m]=c.useState(""),g=f=>{f.preventDefault();const h=/^[ㄱ-ㅎa-zA-Z-' ]+(?:'){0,1}[a-zA-Z]?$/g;let y=f.currentTarget.value;h.test(y)||(y=y.slice(0,y.length-1)),y===i?(m(y),r(o+1),o+1>2&&u(()=>{d()})):m(y)};return e.jsxs(e.Fragment,{children:[n>o&&e.jsxs("span",{className:`${St.reviewAnswer} ${n===o?St.currentOrder:""}`,children:[e.jsx("span",{className:St.otherInput,children:e.jsx("input",{disabled:!0})}),e.jsx("div",{className:St.hintText,children:i})]}),n===o&&e.jsxs("span",{className:`${St.reviewAnswer} ${n===o?St.currentOrder:""}`,children:[e.jsx("span",{className:St.currentInput,children:e.jsx("input",{ref:f=>t.current[n]=f,type:"text",value:a,onChange:f=>g(f),onCopy:f=>f.preventDefault(),onPaste:f=>f.preventDefault(),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search",tabIndex:-1})}),e.jsx("div",{className:St.hintText,children:i})]}),n<o&&e.jsx("span",{className:`${St.reviewAnswer} ${St.correctAnswer} animate__animated animate__flipInX`,children:i})]})}const yv=new Q(navigator.userAgent),fv=yv.phone(),en=fv?He:Fe;function kv({isSideOpen:t,correctAnswer:i,playPenalty:n,changePenaltyState:o}){const r=c.useRef([]),[u,d]=c.useState(0),[a,m]=c.useState(!1);c.useEffect(()=>{const h=()=>{r.current[u]&&(r.current[u].focus(),t&&r.current[u].blur())};return h(),window.addEventListener("click",h),()=>{window.removeEventListener("click",h)}},[u,t]);const g=h=>{d(h)},f=()=>{m(!0)};return e.jsxs("div",{className:`${en.testReview}`,children:[e.jsx("div",{className:en.title,children:"Test Review"}),e.jsx("div",{className:en.container,children:e.jsxs("div",{className:en.sentence,children:[e.jsx(ws,{inputRefs:r,inputIndex:0,currentInputIndex:u,correctAnswer:i,changeInputIndex:g,playPenalty:n,changeNextButton:f}),e.jsx(ws,{inputRefs:r,inputIndex:1,currentInputIndex:u,correctAnswer:i,changeInputIndex:g,playPenalty:n,changeNextButton:f}),e.jsx(ws,{inputRefs:r,inputIndex:2,currentInputIndex:u,correctAnswer:i,changeInputIndex:g,playPenalty:n,changeNextButton:f})]})}),e.jsx(X,{height:10}),e.jsx("div",{className:`${a?en.nextButton:en.deactNextButton} ${a&&"animate__animated animate__bounce"}`,onClick:()=>a&&o(!1),children:"Next"})]})}const bv=new Q(navigator.userAgent),Sv=bv.phone(),Jo=Sv?He:Fe;function wv({playState:t,playHint:i}){return e.jsxs("div",{className:Jo.wordPlayButton,onClick:()=>i(),children:[t==="playing"?e.jsx(Le,{isColor:!0,width:40,height:40}):e.jsx(Me,{isColor:!0,width:40,height:40}),e.jsx("span",{className:Jo.txtL,children:"Playback"})]})}const vv=new Q(navigator.userAgent),jv=vv.phone(),vs=jv?He:Fe;function zv({isHint:t,playState:i,remainCount:n,totalCount:o,toggleHint:r,playHint:u}){return e.jsxs("div",{style:{position:"relative"},children:[e.jsx("div",{className:vs.hintButton,onClick:()=>r(),children:e.jsxs("span",{children:["Hint"," ",o!==void 0&&n!==void 0?o-n:0," ","/",o]})}),t&&e.jsxs("div",{style:{position:"relative",zIndex:3},className:"animate__animated animate__fadeIn",children:[e.jsx("div",{className:vs.hintPopup,children:e.jsx(wv,{playState:i,playHint:u})}),e.jsx("div",{className:vs.screenBlock,onClick:()=>r()})]})]})}const $v=new Q(navigator.userAgent),Cv=$v.phone(),Gn="Vocabulary Test",js=Cv?He:Fe;function Qv(t){const{bookInfo:i,handler:n,studyInfo:o}=c.useContext(oe),r=t.currentStep,u=Se(()=>{M(!1,"")}),[d,a]=c.useState("animate__bounceInRight"),{isStepIntro:m,closeStepIntro:g}=be(),{isResultShow:f,changeResultShow:h}=qe(),[y,k]=c.useState(!1),_=c.useRef(!0),[s,x]=we(Vk,t,r),[l,p]=c.useState(1),{scoreBoardData:S,setStudentAnswers:b,addStudentAnswer:v,makeUserAnswerData:N}=ve(o.mode),[j,C]=c.useState(0),[P,w]=c.useState(0),[q,I]=c.useState(!1),[F,U]=c.useState(0),[L,H]=c.useState(!1),[T,O]=c.useState(!1),{bottomPopupState:R,changeBottomPopupState:Y}=Je(),[D,W]=c.useState(""),{playState:B,playAudio:$,stopAudio:A}=Pe();if(c.useEffect(()=>{!m&&s&&!T&&(u.setup(s.QuizTime,!0),o.mode==="Review"&&Number(i.Average)>=70?W(s.Quiz[l-1].Question.Text):W(""),_.current=!1)},[m]),c.useEffect(()=>{if(s){const[E,J]=ot(o.mode,x,s.QuizAnswerCount);x.length>0&&s.IsEnablePenaltyReview&&x[x.length-1].PenaltyWord!==""?(O(!0),C(s.QuizAnswerCount),w(s.QuizAnswerCount),p(x[x.length-1].CurrentQuizNo)):(C(J),w(J),p(E)),s.Hint.IsEnabled&&s.Hint.Try&&U(s.Hint.Try),b(x,s.QuizAnswerCount)}},[s]),c.useEffect(()=>{!m&&!f&&s&&(o.mode==="Review"&&Number(i.Average)>=70?W(s.Quiz[l-1].Question.Text):W(""),C(0),w(0),H(!1),I(!1),m||u.setup(s.QuizTime,!0),_.current=!1)},[l]),c.useEffect(()=>{!T&&s&&(async()=>{const J=l+1>s.Quiz.length,G=await es({mobile:"",bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${r}`,quizId:s.Quiz[l-1].QuizId,isLastQuiz:J,isFinishStudy:!!(J&&t.lastStep===r)});Number(G.result)===0&&(G.resultMessage&&(n.finishStudy={id:Number(G.result),cause:G.resultMessage}),l+1>s.Quiz.length?h(!0):(u.setup(s.QuizTime,!0),p(l+1)))})()},[T]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const M=async(E,J)=>{try{if(!_.current){_.current=!0,E&&te(J);const G={quizNo:l,maxCount:s.QuizAnswerCount,answerCount:j+1,ox:E},V=N({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:s.Quiz[l-1].QuizId,quizNo:s.Quiz[l-1].QuizNo,currentQuizNo:l,correct:s.Quiz[l-1].Question.Text,selectedAnswer:J,tryCount:j+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:E,answerData:G,isEnabledPenalty:s.IsEnablePenaltyReview,isFinishStudy:t.lastStep===r});u.stop(),Y({isActive:!0,isCorrect:E});const ne=await Ce(o.mode,V);Number(ne.result)===0&&(ne.resultMessage&&(n.finishStudy={id:Number(ne.result),cause:ne.resultMessage}),E||w(P+1),C(j+1),v(G),K(E,j+1))}}catch(G){console.error(G)}},K=(E,J)=>{setTimeout(()=>{E?l+1>s.Quiz.length?$(s.Quiz[l-1].Question.Sound,()=>{Y({isActive:!1,isCorrect:!1}),h(!0)}):$(s.Quiz[l-1].Question.Sound,()=>{Y({isActive:!1,isCorrect:!1}),p(l+1)}):(Y({isActive:!1,isCorrect:!1}),J>=s.QuizAnswerCount?s.IsEnablePenaltyReview?(W(""),se(!0)):l+1>s.Quiz.length?h(!0):(u.setup(s.QuizTime,!0),p(l+1)):(u.setup(s.QuizTime,!0),!s.Hint.IsEnabled&&J===s.QuizAnswerCount-1&&$(s.Quiz[l-1].Question.Sound),_.current=!1))},1e3)},te=E=>{W(E)},se=E=>{O(E)},re=async()=>{try{if(q)A(),I(!1);else if(L)I(!0);else{const E=await Gk(t.studyId,t.studentHistoryId,l);(E.ErrorNo===0||L)&&(H(!0),I(!0),U(E.TryHint))}}catch(E){console.error(E)}},ce=()=>{B==="playing"?A():$(s.Quiz[l-1].Question.Sound)},Z=E=>{A();const J=()=>{E()};$(s.Quiz[l-1].Question.Sound,J)},ae=E=>{k(E)};return e.jsx(e.Fragment,{children:m?e.jsx("div",{className:`animate__animated ${d}`,onAnimationEnd:()=>{d==="animate__bounceOutLeft"&&g()},children:e.jsx(Ee,{step:r,quizType:Gn,comment:"뜻을 보고 올바른 단어를 입력하세요.",onStepIntroClozeHandler:()=>{a("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(tt,{step:r,quizType:Gn,quizAnswerCount:s.QuizAnswerCount,studentAnswer:S,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:l,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-P,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:ae}),e.jsx("div",{className:`${js.comment} animate__animated animate__fadeInLeft`,children:Gn}),e.jsx($e,{children:T?e.jsx(kv,{isSideOpen:y,correctAnswer:s.Quiz[l-1].Question.Text,playPenalty:Z,changePenaltyState:se}):e.jsxs(Ae,{typeCSS:js.vocabularyTest3,containerCSS:js.container,children:[e.jsx(X,{height:20}),e.jsx(hv,{isWorking:_.current,bottomPopupState:R,isSideOpen:y,isHint:q,quizData:s,quizNo:l,inputVal:D,changeInputVal:te,checkAnswer:M}),e.jsx(e.Fragment,{children:s.Hint.IsEnabled&&e.jsx(zv,{isHint:q,playState:B,remainCount:F,totalCount:s.Hint.Max,toggleHint:re,playHint:ce})})]})}),y&&e.jsx(ze,{isSideOpen:y,currentStep:r,currentStepType:Gn,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:ae,scoreBoardData:S,changeStep:t.changeStep}),e.jsx(Ye,{bottomPopupState:R})]})})})}const Av=new Q(navigator.userAgent),Nv=Av.phone(),zs=Nv?Be:Ie;function Tv({playState:t,word:i,playWord:n}){return e.jsx("div",{className:zs.wordText,children:e.jsxs("div",{className:zs.wordPlayButton,onClick:()=>n(),children:[t==="playing"?e.jsx(Le,{isColor:!0,width:24,height:24}):e.jsx(Me,{isColor:!0,width:24,height:24}),e.jsx("div",{className:zs.txtL,children:i})]})})}const Iv=new Q(navigator.userAgent),Bv=Iv.phone(),Ai=Bv?Be:Ie,Ev=({meanData:t,lang:i})=>{const n=xe.upperFirst(i);let o="";switch(n){case"Korean":case"Chinese":case"Japanese":case"Vietnamese":case"Indonesian":case"English":case"Britannica":o=t.Question[n];break;default:o=t.Question.Korean}return e.jsxs("div",{className:Ai.meaning,children:[t.Question.SpeechPart,". ",o]})},Pv=({meanData:t,lang:i})=>{const n=xe.upperFirst(i);let o="";switch(n){case"Korean":case"Chinese":case"Japanese":case"Vietnamese":case"Indonesian":case"English":case"Britannica":o=t.Question.Britannica?t.Question.Britannica:t.Question[n];break;default:o=t.Question.Britannica}return e.jsxs("div",{className:Ai.sentence,children:[t.Question.SpeechPart,". ",o]})};function Mv({meanData:t,mainMeanLang:i,subMeanLang:n}){return e.jsxs(e.Fragment,{children:[e.jsx(Ev,{meanData:t,lang:i}),e.jsx(Pv,{meanData:t,lang:n})]})}const Lv=new Q(navigator.userAgent),Rv=Lv.phone(),qv=Rv?Be:Ie;function Fv({playState:t,quizData:i,quizNo:n,playWord:o}){return e.jsxs("div",{className:`${qv.wordCard} animate__animated animate__slideInRight`,children:[e.jsx(Tv,{playState:t,word:i.Quiz[n-1].Question.Text,playWord:o}),e.jsx(X,{height:10}),e.jsx(Mv,{meanData:i.Quiz[n-1],mainMeanLang:i.MainMeanLanguage,subMeanLang:i.SubMeanLanguage})]})}const Hv=new Q(navigator.userAgent),Ov=Hv.phone(),$s=Ov?Be:Ie;function Dv({isLastPage:t,quizNo:i,totalQuizCnt:n,changeQuizNo:o}){return e.jsxs("div",{className:$s.indicator,children:[e.jsx("span",{style:t||i>1?{opacity:"1"}:{opacity:".2"},onClick:()=>o(i-1),children:e.jsx("div",{className:$s.iconChevLeft})}),e.jsxs("span",{children:[i," / ",n]}),e.jsx("span",{onClick:()=>o(i+1),children:e.jsx("div",{className:$s.iconChevRight})})]})}const Wv=new Q(navigator.userAgent),Vv=Wv.phone(),Gv=Vv?Be:Ie;function Uv({goTest:t}){return e.jsx("div",{className:`${Gv.btnNext} animate__animated animate__flash`,onClick:()=>t(),children:"Next"})}const Kv=new Q(navigator.userAgent),Jv=Kv.phone(),Cs="Vocabulary Practice",Qs=Jv?Be:Ie;function Yv(t){const{studyInfo:i}=c.useContext(oe),n=t.currentStep,o=Se(()=>{window.onLogoutStudy()}),[r,u]=c.useState("animate__bounceInRight"),{isStepIntro:d,closeStepIntro:a}=be(),[m,g]=c.useState(!1),f=rt(),[h,y]=we(ji,t,n),[k,_]=c.useState(1),{scoreBoardData:s}=ve(i.mode),[x,l]=c.useState(!1),{playState:p,playAudio:S,stopAudio:b}=Pe(),v=c.useRef(null);if(c.useEffect(()=>{!d&&h&&(o.setup(h.QuizTime,!0),v.current&&f.remove(v.current,["animate__fadeInRight","animate__fadeInLeft"]),setTimeout(()=>{j()},500))},[d]),c.useEffect(()=>{!d&&h&&(b(),k===h.Quiz.length&&l(!0),v.current&&f.remove(v.current,["animate__fadeInRight","animate__fadeInLeft"]),j())},[k]),c.useEffect(()=>{!d&&!x&&_(1)},[x]),!h)return e.jsx(e.Fragment,{children:"Loading..."});const N=w=>{b(),w<1?x&&_(Object.keys(h.Quiz).length):w>Object.keys(h.Quiz).length?_(1):_(w)},j=()=>{p==="playing"?b():S(h.Quiz[k-1].Question.Sound)},C=w=>{g(w)},P=()=>{b(),t.changeVocaState(!1)};return e.jsx(e.Fragment,{children:d?e.jsx("div",{className:`animate__animated ${r}`,onAnimationEnd:()=>{r==="animate__bounceOutLeft"&&a()},children:e.jsx(Ee,{step:n,quizType:Cs,comment:"카드를 넘기면서 단어를 학습하세요.",onStepIntroClozeHandler:()=>{u("animate__bounceOutLeft")}})}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:k,totalQuizCnt:Object.keys(h.Quiz).length,life:h.QuizAnswerCount,timeMin:o.time.timeMin,timeSec:o.time.timeSec,changeSideMenu:C}),e.jsx("div",{className:`${Qs.comment} animate__animated animate__fadeInLeft`,children:Cs}),e.jsx($e,{children:e.jsxs(Ae,{typeCSS:Qs.vocabularyPractice4,containerCSS:Qs.container,children:[e.jsx(Fv,{playState:p,quizData:h,quizNo:k,playWord:j}),e.jsx(Dv,{isLastPage:x,quizNo:k,totalQuizCnt:h.Quiz.length,changeQuizNo:N}),e.jsx(e.Fragment,{children:x&&e.jsx(Uv,{goTest:P})})]})}),m&&e.jsx(ze,{isSideOpen:m,currentStep:n,currentStepType:Cs,quizLength:h.Quiz.length,maxAnswerCount:h.QuizAnswerCount,changeSideMenu:C,scoreBoardData:s,changeStep:t.changeStep})]})})}const Xv=new Q(navigator.userAgent),Zv=Xv.phone(),Un=Zv?He:Fe;function ej({index:t,correctText:i,exampleData:n,checkAnswer:o,onExampleAnimationEndHandler:r}){const{bookInfo:u,studyInfo:d}=c.useContext(oe);return e.jsxs("div",{className:`${Un.textCard} 
      ${d.mode==="Review"&&Number(u.Average)>=70&&n.Text===i?Un.correct:""}`,onClick:a=>o(a.currentTarget,n.Text),onAnimationEnd:a=>r(a.currentTarget),children:[e.jsx("div",{className:Un.cardNumber,children:Number(t+1)}),e.jsx("div",{className:Un.awnserText,children:n.Text})]})}const tj=new Q(navigator.userAgent),nj=tj.phone(),sj=nj?He:Fe;function oj({correctText:t,exampleData:i,checkAnswer:n,onExampleAnimationEndHandler:o}){return e.jsx("div",{className:sj.answers,children:i.map((r,u)=>e.jsx(ej,{index:u,correctText:t,exampleData:r,checkAnswer:n,onExampleAnimationEndHandler:o}))})}const ij=new Q(navigator.userAgent),rj=ij.phone(),Ni=rj?He:Fe,aj=({meanData:t,lang:i})=>{const n=xe.upperFirst(i);let o="";switch(n){case"Korean":case"Chinese":case"Japanese":case"Vietnamese":case"Indonesian":case"English":case"Britannica":o=t.Question[n];break;default:o=t.Question.Korean}return e.jsxs("div",{className:Ni.meaning,children:[t.Question.SpeechPart,". ",o]})},cj=({meanData:t,lang:i})=>{const n=xe.upperFirst(i);let o="";switch(n){case"Korean":case"Chinese":case"Japanese":case"Vietnamese":case"Indonesian":case"English":case"Britannica":o=t.Question.Britannica?t.Question.Britannica:t.Question[n];break;default:o=t.Question.Britannica}return e.jsxs("div",{className:Ni.sentence,children:[t.Question.SpeechPart,". ",o]})};function uj({meanData:t,mainMeanLang:i,subMeanLang:n}){return e.jsxs(e.Fragment,{children:[e.jsx(aj,{meanData:t,lang:i}),e.jsx(cj,{meanData:t,lang:n})]})}const lj=new Q(navigator.userAgent),dj=lj.phone(),mj=dj?He:Fe;function xj({quizData:t,quizNo:i}){return e.jsx("div",{className:mj.questionBox,children:e.jsx(uj,{meanData:t.Quiz[i-1],mainMeanLang:t.MainMeanLanguage,subMeanLang:t.SubMeanLanguage})})}const _j=new Q(navigator.userAgent),no=_j.phone(),Kn="Vocabulary Test",Dt=no?He:Fe;function hj(t){const{handler:i,studyInfo:n}=c.useContext(oe),o=t.currentStep,r=Se(()=>{O()}),u=rt(),[d,a]=c.useState("animate__bounceInRight"),{isStepIntro:m,closeStepIntro:g}=be(),{isResultShow:f,changeResultShow:h}=qe(),[y,k]=c.useState(!1),_=c.useRef(!0),[s,x]=we(Uk,t,o),[l,p]=c.useState(1),{scoreBoardData:S,setStudentAnswers:b,addStudentAnswer:v,makeUserAnswerData:N}=ve(n.mode),[j,C]=c.useState([]),[P,w]=c.useState(0),[q,I]=c.useState(0),{bottomPopupState:F,changeBottomPopupState:U}=Je();if(c.useEffect(()=>{!m&&s&&(r.setup(s.QuizTime,!0),_.current=!1)},[m]),c.useEffect(()=>{if(s)try{const[D,W]=ot(n.mode,x,s.QuizAnswerCount);r.setup(s.QuizTime,!0),w(W),I(W),n.mode==="Super"?C(s.Quiz[D-1].Examples):C(xe.shuffle(s.Quiz[D-1].Examples)),b(x,s.QuizAnswerCount),p(D)}catch(D){console.error(D)}},[s]),c.useEffect(()=>{!m&&!f&&s&&(r.setup(s.QuizTime,!0),w(0),I(0),n.mode==="Super"?C(s.Quiz[l-1].Examples):C(xe.shuffle(s.Quiz[l-1].Examples)),_.current=!1)},[l]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const L=async(D,W)=>{try{if(!_.current){_.current=!0;const B=s.Quiz[l-1].Question.Text===W,$={quizNo:l,maxCount:s.QuizAnswerCount,answerCount:P+1,ox:B},A=N({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:o,quizId:s.Quiz[l-1].QuizId,quizNo:s.Quiz[l-1].QuizNo,currentQuizNo:l,correct:s.Quiz[l-1].Question.Text,selectedAnswer:W,tryCount:P+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:B,answerData:$,isFinishStudy:t.lastStep===o});r.stop();const M=await Ce(n.mode,A);Number(M.result)===0&&(M.resultMessage&&(i.finishStudy={id:Number(M.result),cause:M.resultMessage}),B||I(q+1),w(P+1),v($),H(D,B))}}catch(B){console.error(B)}},H=(D,W)=>{U({isActive:!0,isCorrect:W}),W?u.play(D,["animate__fadeIn",Dt.correct]):u.play(D,["animate__headShake",Dt.incorrect])},T=D=>{setTimeout(()=>{U({isActive:!1,isCorrect:!1}),u.remove(D,[Dt.correct,Dt.incorrect,"animate__fadeIn","animate__headShake"]),l+1<=s.Quiz.length?p(l+1):h(!0)},1e3)},O=async()=>{try{if(!_.current){_.current=!0;const D={mobile:"",studentHistoryId:t.studentHistoryId,studyId:t.studyId,bookType:t.bookType,step:`${o}`,quizId:s.Quiz[l-1].QuizId,quizNo:s.Quiz[l-1].QuizNo,currentQuizNo:l,correct:s.Quiz[l-1].Question.Text,studentAnswer:"",answerCount:P+1};r.stop();const W=await Ce(n.mode,D);if(Number(W.result)===0){W.resultMessage&&(i.finishStudy={id:Number(W.result),cause:W.resultMessage});const B={quizNo:l,maxCount:s.QuizAnswerCount,answerCount:P+1,ox:!1};I(q+1),w(P+1),v(B),U({isActive:!0,isCorrect:!1}),R()}}}catch(D){console.error(D)}},R=()=>{setTimeout(()=>{U({isActive:!1,isCorrect:!1}),l+1>s.Quiz.length?h(!0):p(l+1)},1500)},Y=D=>{k(D)};return e.jsx(e.Fragment,{children:m?e.jsx("div",{className:`animate__animated ${d}`,onAnimationEnd:()=>{d==="animate__bounceOutLeft"&&g()},children:e.jsx(Ee,{step:o,quizType:Kn,comment:"뜻을 보고 올바른 단어를 고르세요.",onStepIntroClozeHandler:()=>{a("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(e.Fragment,{children:e.jsx(tt,{step:o,quizType:Kn,quizAnswerCount:s.QuizAnswerCount,studentAnswer:S,onFinishActivity:t.onFinishActivity})}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:l,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-q,timeMin:r.time.timeMin,timeSec:r.time.timeSec,changeSideMenu:Y}),e.jsx("div",{className:`${Dt.comment} animate__animated animate__fadeInLeft`,children:Kn}),e.jsxs($e,{children:[no?e.jsx(e.Fragment,{}):e.jsx(X,{height:15}),e.jsxs(Ae,{typeCSS:Dt.vocabularyTest4,containerCSS:Dt.container,children:[e.jsx(xj,{quizData:s,quizNo:l}),e.jsx(X,{height:20}),e.jsx(oj,{correctText:s.Quiz[l-1].Question.Text,exampleData:j,checkAnswer:L,onExampleAnimationEndHandler:T})]}),no?e.jsx(X,{height:5}):e.jsx(X,{height:15})]}),y&&e.jsx(ze,{isSideOpen:y,currentStep:o,currentStepType:Kn,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:Y,scoreBoardData:S,changeStep:t.changeStep}),e.jsx(Ye,{bottomPopupState:F})]})})})}const pj="_comment_yqua8_1",gj="_wordPlayButton_yqua8_20",yj="_txtL_yqua8_35",fj="_goNextButton_yqua8_46",kj="_iconArrowUp_yqua8_69",bj="_writingActivity1_yqua8_83",Sj="_container_yqua8_83",wj="_enterBox_yqua8_90",vj="_correctText_yqua8_101",jj="_textCard_yqua8_106",zj="_incorrectText_yqua8_113",$j="_send_yqua8_155",Cj="_awnserText_yqua8_177",Qj="_answers_yqua8_181",Aj="_correctDirection_yqua8_186",Nj="_writingActivity2_yqua8_192",Tj="_tabs_yqua8_199",Ij="_tabButton_yqua8_203",Bj="_active_yqua8_217",Ej="_questionText_yqua8_222",Pj="_writingArea_yqua8_226",Mj="_wordLimitIndicator_yqua8_250",Lj="_limit_yqua8_253",Rj="_words_yqua8_254",qj="_saveButton_yqua8_265",Fj="_submitButton_yqua8_287",Hj="_goNextStepBox_yqua8_309",Oj="_groupButtons_yqua8_315",Dj="_revisionReport_yqua8_321",Oe={comment:pj,wordPlayButton:gj,txtL:yj,goNextButton:fj,iconArrowUp:kj,writingActivity1:bj,container:Sj,enterBox:wj,correctText:vj,textCard:jj,incorrectText:zj,send:$j,awnserText:Cj,answers:Qj,correctDirection:Aj,writingActivity2:Nj,tabs:Tj,tabButton:Ij,active:Bj,questionText:Ej,writingArea:Pj,wordLimitIndicator:Mj,limit:Lj,words:Rj,saveButton:qj,submitButton:Fj,goNextStepBox:Hj,groupButtons:Oj,revisionReport:Dj},Wj="_comment_heq11_1",Vj="_wordPlayButton_heq11_20",Gj="_txtL_heq11_34",Uj="_goNextButton_heq11_45",Kj="_iconArrowUp_heq11_68",Jj="_writingActivity1_heq11_82",Yj="_container_heq11_82",Xj="_enterBox_heq11_89",Zj="_correctText_heq11_105",ez="_textCard_heq11_110",tz="_incorrectText_heq11_117",nz="_send_heq11_153",sz="_awnserText_heq11_175",oz="_answers_heq11_179",iz="_correctDirection_heq11_184",rz="_writingActivity2_heq11_190",az="_tabs_heq11_197",cz="_tabButton_heq11_201",uz="_active_heq11_215",lz="_questionText_heq11_220",dz="_writingArea_heq11_224",mz="_wordLimitIndicator_heq11_247",xz="_limit_heq11_250",_z="_words_heq11_251",hz="_saveButton_heq11_262",pz="_submitButton_heq11_284",gz="_goNextStepBox_heq11_306",yz="_groupButtons_heq11_313",fz="_revisionReport_heq11_319",De={comment:Wj,wordPlayButton:Vj,txtL:Gj,goNextButton:Uj,iconArrowUp:Kj,writingActivity1:Jj,container:Yj,enterBox:Xj,correctText:Zj,textCard:ez,incorrectText:tz,send:nz,awnserText:sz,answers:oz,correctDirection:iz,writingActivity2:rz,tabs:az,tabButton:cz,active:uz,questionText:lz,writingArea:dz,wordLimitIndicator:mz,limit:xz,words:_z,saveButton:hz,submitButton:pz,goNextStepBox:gz,groupButtons:yz,revisionReport:fz};async function kz(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Te}/writing-activity-1?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Quiz:a.Quiz.map(m=>({QuizId:m.QuizId.toString(),QuizNo:Number(m.QuizNo),Question:{Text:m.Question.Text,Sound:m.Question.Sound},Examples:m.Examples.map(g=>({Text:g.Text}))}))}))}async function mo(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Te}/writing-activity-2?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Qe(u,async a=>({QuizTime:a.QuizTime,Title:a.Title,Author:a.Author,Writing:a.Writing,Rewriting:a.Rewriting}))}const bz=new Q(navigator.userAgent),Sz=bz.phone(),Yo=Sz?De:Oe;function wz({playState:t,onPlay:i}){return e.jsxs("div",{className:Yo.wordPlayButton,onClick:()=>i(),children:[t===""?e.jsx(Me,{isColor:!0,width:34,height:34}):e.jsx(Le,{isColor:!0,width:34,height:34}),e.jsx("span",{className:Yo.txtL,children:"Playback"})]})}const vz=new Q(navigator.userAgent),jz=vz.phone(),Xo=jz?De:Oe;function zz(){return e.jsx("div",{className:Xo.correctDirection,children:e.jsx("div",{className:Xo.iconArrowUp})})}const $z=new Q(navigator.userAgent),Cz=$z.phone(),Zo=Cz?De:Oe;function Qz({exampleRefs:t,index:i,example:n,selectWord:o}){return e.jsx("div",{ref:r=>t.current[i]=r,className:`${Zo.textCard}`,onClick:()=>o(i,n.Text),children:e.jsx("div",{className:Zo.awnserText,children:n.Text})})}const Az=new Q(navigator.userAgent),Nz=Az.phone(),Tz=Nz?De:Oe;function Iz({exampleRefs:t,exampleData:i,selectWord:n}){return e.jsx("div",{className:Tz.answers,children:i.map((o,r)=>e.jsx(Qz,{exampleRefs:t,index:r,example:o,selectWord:n}))})}const Bz=new Q(navigator.userAgent),Ez=Bz.phone(),ei=Ez?De:Oe;function Pz({text:t,removeWord:i}){return e.jsx("div",{className:`${ei.textCard}`,onClick:()=>i(t),children:e.jsx("div",{className:ei.awnserText,children:t})})}const Mz=new Q(navigator.userAgent),Lz=Mz.phone(),As=Lz?De:Oe;function Rz({sentenceState:t,sentenceData:i,removeWord:n}){return e.jsx("div",{className:`${As.enterBox} ${t==="correct"?As.correctText:t==="incorrect"?As.incorrectText:""}`,children:i.map((o,r)=>e.jsx(Pz,{text:o,removeWord:n}))})}const qz=new Q(navigator.userAgent),Fz=qz.phone(),Hz=Fz?De:Oe;function Oz({goNextQuiz:t}){return e.jsx("div",{onClick:()=>t(),className:`${Hz.goNextButton} animate__animated animate__flash`,children:"Next"})}const Dz=new Q(navigator.userAgent),Ti=Dz.phone(),Jn="Writing Activity",tn=Ti?De:Oe;function Wz(t){const{bookInfo:i,handler:n,studyInfo:o}=c.useContext(oe),r=t.currentStep,u=Se(()=>{window.onLogoutStudy()}),[d,a]=c.useState("animate__bounceInRight"),{isStepIntro:m,closeStepIntro:g}=be(),{isResultShow:f,changeResultShow:h}=qe(),[y,k]=c.useState(!1),_=c.useRef(!0),[s,x]=we(kz,t,r),[l,p]=c.useState(1),{scoreBoardData:S,setStudentAnswers:b,addStudentAnswer:v,makeUserAnswerData:N}=ve(o.mode),[j,C]=c.useState(0),[P,w]=c.useState(0),[q,I]=c.useState(""),F=c.useRef([]),[U,L]=c.useState([]),[H,T]=c.useState([]),{bottomPopupState:O,changeBottomPopupState:R}=Je(),[Y,D]=c.useState(!1),{playState:W,playAudio:B,stopAudio:$}=Pe();if(c.useEffect(()=>{!m&&s&&(u.setup(s.QuizTime,!0),i.BookLevel.includes("K")&&B(s.Quiz[l-1].Question.Sound),_.current=!1)},[m]),c.useEffect(()=>{if(s)try{const[E,J]=ot(o.mode,x,s.QuizAnswerCount);C(J),w(J),o.mode==="Quiz"?L(xe.shuffle(s.Quiz[E-1].Examples)):L(s.Quiz[E-1].Examples),b(x,s.QuizAnswerCount),p(E)}catch(E){console.error(E)}},[s]),c.useEffect(()=>{s&&q===""&&H.length===s.Quiz[l-1].Examples.length&&te()},[H]),c.useEffect(()=>{!m&&!f&&s&&(o.mode==="Quiz"?L(xe.shuffle(s.Quiz[l-1].Examples)):L(s.Quiz[l-1].Examples),w(0),C(0),I(""),K(),i.BookLevel.includes("K")&&B(s.Quiz[l-1].Question.Sound),_.current=!1)},[l]),c.useEffect(()=>{Y&&s&&_.current&&$()},[Y]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const A=(E,J)=>{F.current[E].classList.add(tn.send);const G=[...H,J];T(G)},M=E=>{if(!_.current){const J=U.findIndex(V=>V.Text===E),G=H.filter(V=>V!==E);F.current[J].classList.remove(tn.send),T(G)}},K=()=>{try{F.current&&F.current.map(E=>E.classList.remove(tn.send))}catch{}finally{T([])}},te=async()=>{try{if(!_.current){_.current=!0,u.stop(),$();const E=s.Quiz[l-1].Question.Text,J=H.reduce((_e,Ne)=>_e+(" "+Ne)),G=E===J;let V=P;const ne={quizNo:l,maxCount:s.QuizAnswerCount,answerCount:j+1,ox:G},ue=N({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:s.Quiz[l-1].QuizId,quizNo:s.Quiz[l-1].QuizNo,currentQuizNo:l,correct:s.Quiz[l-1].Question.Text,selectedAnswer:J,tryCount:j+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:G,answerData:ne,isFinishStudy:t.lastStep===r}),ie=await Ce(o.mode,ue);Number(ie.result)===0&&(ie.resultMessage&&(n.finishStudy={id:Number(ie.result),cause:ie.resultMessage}),G||w(P+1),v(ne),C(j+1),se(G,V+1))}}catch(E){console.error(E)}},se=(E,J)=>{I(E?"correct":"incorrect"),R({isActive:!0,isCorrect:E}),setTimeout(()=>{if(R({isActive:!1,isCorrect:!1}),E)if(i.BookLevel.includes("K"))re();else{const G=()=>{D(!0)};B(s.Quiz[l-1].Question.Sound,G)}else if(J>=s.QuizAnswerCount){const G=s.Quiz[l-1].Examples.map(V=>V.Text);if(T([...G]),i.BookLevel.includes("K"))re();else{const V=()=>{D(!0)};B(s.Quiz[l-1].Question.Sound,V)}}else u.setup(s.QuizTime,!0),I(""),K(),i.BookLevel.includes("K")&&B(s.Quiz[l-1].Question.Sound),_.current=!1},2e3)},re=()=>{$();const E=()=>{if(K(),I(""),l+1>s.Quiz.length)h(!0);else if(i.BookLevel.includes("K"))u.setup(s.QuizTime,!0),$(),p(l+1);else{const J=()=>{D(!0)};B(s.Quiz[l-1].Question.Sound,J)}};B(s.Quiz[l-1].Question.Sound,E)},ce=()=>{l+1>s.Quiz.length?($(),u.stop(),h(!0)):(u.setup(s.QuizTime,!0),$(),p(l+1),D(!1))},Z=E=>{k(E)},ae=()=>{W===""?B(s.Quiz[l-1].Question.Sound):_.current||$()};return e.jsx(e.Fragment,{children:m?e.jsx("div",{className:`animate__animated ${d}`,onAnimationEnd:()=>{d==="animate__bounceOutLeft"&&g()},children:e.jsx(Ee,{step:r,quizType:Jn,comment:"카드를 순서대로 나열하여 올바른 문장을 완성하세요.",onStepIntroClozeHandler:()=>{a("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(tt,{step:r,quizType:Jn,quizAnswerCount:s.QuizAnswerCount,studentAnswer:S,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:l,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-P,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:Z}),e.jsx("div",{className:`${tn.comment} animate__animated animate__fadeInLeft`,children:Jn}),e.jsxs($e,{children:[e.jsx(wz,{playState:W,onPlay:ae}),e.jsx(X,{height:15}),e.jsxs(Ae,{typeCSS:tn.writingActivity1,containerCSS:tn.container,children:[e.jsx(Rz,{sentenceState:q,sentenceData:H,removeWord:M}),e.jsx(e.Fragment,{children:Y?e.jsx(Oz,{goNextQuiz:ce}):e.jsxs(e.Fragment,{children:[e.jsx(zz,{}),e.jsx(Iz,{exampleRefs:F,exampleData:U,selectWord:A})]})})]}),Ti?e.jsx(X,{height:5}):e.jsx(X,{height:15})]}),y&&e.jsx(ze,{isSideOpen:y,currentStep:r,currentStepType:Jn,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:Z,scoreBoardData:S,changeStep:t.changeStep}),e.jsx(Ye,{bottomPopupState:O})]})})})}const xo=()=>{const[t,i]=c.useState("loading");return{quizState:t,changeQuizState:o=>{if(t==="checking"&&o!=="studying")return!1;i(o)}}},Vz=new Q(navigator.userAgent),Gz=Vz.phone(),mt=Gz?ss:ns;function Ns({currentSubmitCount:t,maxSubmitCount:i,noWritingActivity:n,goWritingActivity:o}){return e.jsx("div",{className:mt.revisionFreeIntro,children:e.jsxs("div",{className:`${mt.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:mt.stepOrder,children:"Step5"}),e.jsx("div",{className:mt.quizType,children:"Writing Activity"}),e.jsx("div",{className:mt.comment,children:"글쓰기를 하시겠어요?"}),e.jsxs("div",{className:mt.revisionBoard,children:[e.jsx("div",{className:mt.txtLabel,children:"남은 첨삭:"}),e.jsxs("div",{className:mt.txtCount,children:[i-t," / ",i]}),e.jsx("div",{className:mt.txtLabel,children:"첨삭 완료:"}),e.jsx("div",{className:mt.txtCount,children:t})]}),e.jsxs("div",{className:mt.selectBox,children:[e.jsx("div",{className:mt.passButton,onClick:()=>n(),children:"Pass"}),e.jsx("div",{className:mt.goButton,onClick:()=>o(),children:"Go"})]})]})})}const Uz=new Q(navigator.userAgent),Kz=Uz.phone(),Wt=Kz?ss:ns;function Jz({unit:t,goWritingActivity:i}){return e.jsx("div",{className:Wt.stepIntro,children:e.jsxs("div",{className:`${Wt.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:Wt.stepOrder,children:"Step5"}),e.jsx("div",{className:Wt.quizType,children:"Writing Activity"}),e.jsx("div",{className:Wt.comment,children:"글쓰기 후 첨삭을 받으세요."}),e.jsx("div",{className:Wt.readingUnit,children:e.jsx("img",{src:`https://wcfresource.a1edu.com/newsystem/image/character/subcharacter/${t}_13.png`,alt:""})}),e.jsx("div",{className:Wt.startButton,onClick:()=>i(),children:"Start"})]})})}const Yz=new Q(navigator.userAgent),Xz=Yz.phone(),xt=Xz?ft:yt;function Zz({currentSubmitCount:t,maxSubmitCount:i,noWritingActivity:n}){return e.jsx("div",{className:xt.submitRevision,children:e.jsxs("div",{className:`${xt.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:xt.stepOrder,children:"Step5. Writing Activity"}),e.jsx("div",{className:xt.title,children:"이 달의 첨삭"}),e.jsx("div",{className:xt.comment,children:"수고했어요! 이달의 남은 첨삭은 모두 사용했어요."}),e.jsxs("div",{className:xt.revisionBoard,children:[e.jsx("div",{className:xt.txtLabel,children:"남은 첨삭:"}),e.jsxs("div",{className:xt.txtCount,children:[i-t," / ",i]}),e.jsx("div",{className:xt.txtLabel,children:"첨삭 완료:"}),e.jsx("div",{className:xt.txtCount,children:t})]}),e.jsx("div",{className:`${xt.selectBox} ${xt.revisionDone}`,children:e.jsx("div",{className:xt.noButton,onClick:()=>n(),children:"Done"})})]})})}function Ii({mode:t,type:i,currentSubmitCount:n,maxSubmitCount:o,goWritingActivity:r,noWritingActivity:u}){const d=Vt();let a;switch(i){case"In School":case"Overseas":switch(t){case"All":a=e.jsx(Jz,{unit:d,goWritingActivity:r});break;case"Free":a=e.jsx(Ns,{currentSubmitCount:n,maxSubmitCount:o,goWritingActivity:r,noWritingActivity:u});break;case"Limit":o-n<1?a=e.jsx(Zz,{currentSubmitCount:n,maxSubmitCount:o,noWritingActivity:u}):a=e.jsx(Ns,{currentSubmitCount:n,maxSubmitCount:o,goWritingActivity:r,noWritingActivity:u});break}break;case"No Revision":a=e.jsx(Ns,{currentSubmitCount:n,maxSubmitCount:o,goWritingActivity:r,noWritingActivity:u});break}return e.jsx(e.Fragment,{children:a})}const e$=new Q(navigator.userAgent),t$=e$.phone(),ti=t$?De:Oe;function n$({currentTabIndex:t,index:i,changeTabNo:n}){return e.jsx("div",{className:`${ti.tabButton} ${t===i?ti.active:""}`,onClick:()=>n(i),children:i+1})}const s$=new Q(navigator.userAgent),o$=s$.phone(),i$=o$?De:Oe;function r$({currentTabIndex:t,questionData:i,changeTabNo:n}){return e.jsx("div",{className:i$.tabs,children:i.map((o,r)=>e.jsx(n$,{currentTabIndex:t,index:r,changeTabNo:n}))})}const a$=new Q(navigator.userAgent),c$=a$.phone(),u$=c$?De:Oe;function l$({question:t}){return e.jsx("div",{className:u$.questionText,children:t})}const d$=new Q(navigator.userAgent),m$=d$.phone(),x$=m$?De:Oe;function _$({wordMinCount:t,wordMaxCount:i,answerData:n,onChangeHandler:o}){return e.jsx("div",{className:x$.writingArea,children:e.jsx("textarea",{placeholder:`Please fill out within ${t} to ${i} characters.`,value:n,onChange:r=>o(r.currentTarget.value)})})}const h$=new Q(navigator.userAgent),p$=h$.phone(),g$=p$?De:Oe;function y$({saveAnswer:t}){return e.jsx("div",{className:g$.saveButton,onClick:()=>t(),children:"Save"})}const f$=new Q(navigator.userAgent),k$=f$.phone(),b$=k$?De:Oe;function Bi({isSubmit:t,submitAnswer:i}){return e.jsx("div",{style:t?{}:{opacity:"0.5",cursor:"default"},className:b$.submitButton,onClick:()=>i(),children:"Submit"})}const S$=new Q(navigator.userAgent),w$=S$.phone(),Yn=w$?De:Oe;function v$({isSubmit:t,wordMinCount:i,wordMaxCount:n,answerLength:o,saveAnswer:r,submitAnswer:u}){return e.jsxs("div",{className:Yn.goNextStepBox,children:[e.jsxs("div",{className:Yn.wordLimitIndicator,children:[e.jsxs("div",{className:Yn.limit,children:["• Word Limit: ",i,"~",n]}),e.jsxs("div",{className:Yn.words,children:["• The number of words: ",o]})]}),e.jsx(y$,{saveAnswer:r}),e.jsx(Bi,{isSubmit:t,submitAnswer:u})]})}const j$=new Q(navigator.userAgent),z$=j$.phone(),_t=z$?ft:yt;function Ts({currentSubmitCount:t,maxSubmitCount:i,submitNoRevision:n}){return e.jsx("div",{className:_t.submitRevision,children:e.jsxs("div",{className:`${_t.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:_t.stepOrder,children:"Step5. Writing Activity"}),e.jsx("div",{className:_t.title,children:"이 달의 첨삭"}),e.jsx("div",{className:_t.comment,children:"수고했어요! 이달의 남은 첨삭은 모두 사용했어요."}),e.jsxs("div",{className:_t.revisionBoard,children:[e.jsx("div",{className:_t.txtLabel,children:"남은 첨삭:"}),e.jsxs("div",{className:_t.txtCount,children:[i-t," / ",i]}),e.jsx("div",{className:_t.txtLabel,children:"첨삭 완료:"}),e.jsx("div",{className:_t.txtCount,children:t})]}),e.jsx("div",{className:`${_t.selectBox} ${_t.revisionDone}`,children:e.jsx("div",{className:_t.noButton,onClick:()=>n(),children:"Done"})})]})})}const $$=new Q(navigator.userAgent),C$=$$.phone(),dt=C$?ft:yt;function Q$({currentSubmitCount:t,maxSubmitCount:i,submitWritingActivity:n}){return e.jsx("div",{className:dt.submitRevision,children:e.jsxs("div",{className:`${dt.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:dt.stepOrder,children:"Step5. Writing Activity"}),e.jsx("div",{className:dt.title,children:"이 달의 첨삭"}),e.jsxs("div",{className:dt.revisionBoard,children:[e.jsx("div",{className:dt.txtLabel,children:"목표 첨삭:"}),e.jsx("div",{className:dt.txtCount,children:i}),e.jsx("div",{className:dt.txtLabel,children:"남은 첨삭:"}),e.jsx("div",{className:dt.txtCount,children:i-t-1}),e.jsx("div",{className:dt.txtLabel,children:"첨삭 완료:"}),e.jsxs("div",{className:dt.txtCount,children:[t+1," / ",i]})]}),e.jsx("div",{className:`${dt.selectBox} ${dt.revisionDone}`,children:e.jsx("div",{className:dt.yesButton,onClick:()=>n(),children:"Done"})})]})})}const A$=new Q(navigator.userAgent),N$=A$.phone(),ht=N$?ft:yt;function ni({currentSubmitCount:t,maxSubmitCount:i,submitNoRevision:n,submitWritingActivity:o}){return e.jsx("div",{className:ht.submitRevision,children:e.jsxs("div",{className:`${ht.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:ht.stepOrder,children:"Step5. Writing Activity"}),e.jsx("div",{className:ht.title,children:"이 달의 첨삭"}),e.jsx("div",{className:ht.comment,children:"첨삭을 받으시겠어요?"}),e.jsxs("div",{className:ht.revisionBoard,children:[e.jsx("div",{className:ht.txtLabel,children:"남은 첨삭:"}),e.jsxs("div",{className:ht.txtCount,children:[i-t," / ",i]}),e.jsx("div",{className:ht.txtLabel,children:"첨삭 완료:"}),e.jsx("div",{className:ht.txtCount,children:t})]}),e.jsxs("div",{className:ht.selectBox,children:[e.jsx("div",{className:ht.noButton,onClick:()=>n(),children:"No"}),e.jsx("div",{className:ht.yesButton,onClick:()=>o(),children:"Yes"})]})]})})}function T$({mode:t,type:i,currentSubmitCount:n,maxSubmitCount:o,submitWritingActivity:r,submitNoRevision:u}){let d;switch(i){case"In School":case"Overseas":switch(t){case"All":case"Free":o-n<1?d=e.jsx(Ts,{currentSubmitCount:n,maxSubmitCount:o,submitNoRevision:u}):d=e.jsx(ni,{currentSubmitCount:n,maxSubmitCount:o,submitNoRevision:u,submitWritingActivity:r});break;case"Limit":o-n<1?d=e.jsx(Ts,{currentSubmitCount:n,maxSubmitCount:o,submitNoRevision:u}):d=e.jsx(Q$,{currentSubmitCount:n,maxSubmitCount:o,submitWritingActivity:r});break}break;case"No Revision":o-n<1?d=e.jsx(Ts,{currentSubmitCount:n,maxSubmitCount:o,submitNoRevision:u}):d=e.jsx(ni,{currentSubmitCount:n,maxSubmitCount:o,submitNoRevision:u,submitWritingActivity:r});break}return e.jsx(e.Fragment,{children:d})}const I$=new Q(navigator.userAgent),so=I$.phone(),si="Writing Activity",Is=so?De:Oe;function B$(t){const{studyInfo:i,handler:n}=c.useContext(oe),o=t.currentStep,r=Se(()=>{window.onLogoutStudy()}),[u,d]=c.useState("animate__bounceInRight"),{isStepIntro:a,closeStepIntro:m}=be(),{isResultShow:g,changeResultShow:f}=qe(),[h,y]=c.useState(!1),{quizState:k,changeQuizState:_}=xo(),[s,x]=we(mo,t,o),{scoreBoardData:l,setStudentAnswers:p}=ve(i.mode),[S,b]=c.useState(0),[v,N]=c.useState([]),[j,C]=c.useState(!1);if(c.useEffect(()=>{!a&&s&&(r.setup(s.QuizTime,!0),_("studying"))},[a]),c.useEffect(()=>{if(s)try{if(x.length>0){const R=[];x.map(Y=>R.push(Y.TempText)),N([...R])}else{const R=new Array(s.Writing.Question.length).fill("");switch(s.Writing.Activity){case"Book Report":R[0]=`The Title is ${s.Title}`,R[1]=`The author is ${s.Author}`;break;case"Book Review":R[0]="Describe briefly what happens in the book or the main idea.",R[1]="What are interesting features of the book?",R[2]="Describe some morals or new knowledge you've learnt from the book.";break;case"KWL Chart":R[0]="What I know",R[1]="What I want to know",R[2]="What I learned";break;case"Story Map":R[0]="What happened first?",R[1]="What happened next?",R[2]="What happened last?";break}N([...R])}p(x,0)}catch(R){console.error(R)}},[s]),c.useEffect(()=>{if(v&&s){const R=v.filter(D=>D==="").length,Y=H();R===0&&Y>=s.Writing.WordMinCount&&Y<=s.Writing.WordMaxCount?C(!0):C(!1)}},[v]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const P=()=>{d("animate__bounceOutLeft")},w=async()=>{if(_("checking"),k==="loading"){const R=v.join("┒"),Y={bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${o}`,saveType:"R",writeText:R,isFinishStudy:!0},D=await mn(i.mode,Y);Number(D.result)===0&&(n.finishStudy={id:Number(D.result),cause:D.resultMessage},t.onFinishActivity())}},q=async()=>{if(_("checking"),k==="studying"){const R=v.join("┒"),Y={bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${o}`,saveType:"S",writeText:R,isFinishStudy:!0},D=await mn(i.mode,Y);Number(D.result)===0&&(n.finishStudy={id:Number(D.result),cause:D.resultMessage},t.onFinishActivity())}},I=async()=>{if(_("checking"),k==="studying"){const R=v.join("┒"),Y={bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${o}`,saveType:"E",writeText:R,isFinishStudy:!0},D=await mn(i.mode,Y);Number(D.result)===0&&(n.finishStudy={id:Number(D.result),cause:D.resultMessage},t.onFinishActivity())}},F=()=>{j&&f(!0)},U=R=>{b(R)},L=(R="")=>{let Y=v!==void 0?[...v]:[R];Y[S]=R,N([...Y])},H=()=>v.reduce((Y,D)=>Y+(D===""?0:xe.trimStart(xe.trimEnd(D.replaceAll(/\s+/g," "))).split(" ").length),0),T=async()=>{try{_("checking");const R=v.join("┒");if(k==="studying"){const Y={bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${o}`,saveType:"X",writeText:R},D=await mn(i.mode,Y);Number(D.result)===0&&_("studying")}}catch(R){console.error(R)}},O=R=>{y(R)};return e.jsx(e.Fragment,{children:a?e.jsx("div",{className:`animate__animated ${u}`,onAnimationEnd:()=>{u==="animate__bounceOutLeft"&&m()},children:e.jsx(Ii,{mode:s.Writing.Mode,type:s.Writing.Type,currentSubmitCount:s.Writing.CurrentSubmitCount,maxSubmitCount:s.Writing.MaxSubmitCount,goWritingActivity:P,noWritingActivity:w})}):e.jsx(e.Fragment,{children:g?e.jsx("div",{className:"animate__animated ",children:e.jsx(T$,{mode:s.Writing.Mode,type:s.Writing.Type,currentSubmitCount:s.Writing.CurrentSubmitCount,maxSubmitCount:s.Writing.MaxSubmitCount,submitWritingActivity:q,submitNoRevision:I})}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:S+1,totalQuizCnt:s.Writing.Question.length,life:1,timeMin:r.time.timeMin,timeSec:r.time.timeSec,changeSideMenu:O}),e.jsx("div",{className:`${Is.comment} animate__animated animate__fadeInLeft`,children:si}),e.jsxs($e,{children:[so?e.jsx(e.Fragment,{}):e.jsx(X,{height:15}),e.jsxs(Ae,{typeCSS:Is.writingActivity2,containerCSS:Is.container,children:[e.jsx(r$,{currentTabIndex:S,questionData:s.Writing.Question,changeTabNo:U}),e.jsx(l$,{question:s.Writing.Question[S]}),e.jsx(_$,{wordMinCount:s.Writing.WordMinCount,wordMaxCount:s.Writing.WordMaxCount,answerData:v[S],onChangeHandler:L}),e.jsx(v$,{isSubmit:j,wordMinCount:s.Writing.WordMinCount,wordMaxCount:s.Writing.WordMaxCount,answerLength:H(),saveAnswer:T,submitAnswer:F})]}),so?e.jsx(X,{height:5}):e.jsx(X,{height:15})]}),h&&e.jsx(ze,{isSideOpen:h,currentStep:o,currentStepType:si,quizLength:0,maxAnswerCount:0,scoreBoardData:l,changeSideMenu:O,changeStep:t.changeStep})]})})})}const E$=new Q(navigator.userAgent),oo=E$.phone(),oi="Writing Activity",Bs=oo?De:Oe;function P$(t){const{studyInfo:i,handler:n}=c.useContext(oe),o=t.currentStep,r=Se(()=>{window.onLogoutStudy()}),[u,d]=c.useState("animate__bounceInRight"),{isStepIntro:a,closeStepIntro:m}=be(),[g,f]=c.useState(!1),{quizState:h,changeQuizState:y}=xo(),[k,_]=we(mo,t,"STEP"),{scoreBoardData:s,setStudentAnswers:x}=ve(i.mode),[l,p]=c.useState([]);if(c.useEffect(()=>{!a&&k&&(r.setup(k.QuizTime,!0),y("studying"))},[a]),c.useEffect(()=>{if(k)try{if(_.length>0){console.log(k),console.log(_);const N=[];_.map(j=>N.push(j.TempText)),p([...N])}else{const N=new Array(k.Writing.Question.length).fill("");switch(k.Writing.Activity){case"Book Report":N[0]=`The Title is ${k.Title}`,N[1]=`The author is ${k.Author}`;break;case"Book Review":N[0]="Describe briefly what happens in the book or the main idea.",N[1]="What are interesting features of the book?",N[2]="Describe some morals or new knowledge you've learnt from the book.";break;case"KWL Chart":N[0]="What I know",N[1]="What I want to know",N[2]="What I learned";break;case"Story Map":N[0]="What happened first?",N[1]="What happened next?",N[2]="What happened last?";break}p([...N])}x(_,0)}catch(N){console.error(N)}},[k]),!k)return e.jsx(e.Fragment,{children:"Loading..."});const S=()=>{d("animate__bounceOutLeft")},b=async()=>{if(y("checking"),h==="loading"){const N=l.join("┒"),j={bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${o}`,saveType:"R",writeText:N,isFinishStudy:!0},C=await mn(i.mode,j);Number(C.result)===0&&(n.finishStudy={id:Number(C.result),cause:C.resultMessage},t.onFinishActivity())}},v=N=>{f(N)};return e.jsx(e.Fragment,{children:a?e.jsx("div",{className:`animate__animated ${u}`,onAnimationEnd:()=>{u==="animate__bounceOutLeft"&&m()},children:e.jsx(Ii,{mode:k.Writing.Mode,type:k.Writing.Type,currentSubmitCount:k.Writing.CurrentSubmitCount,maxSubmitCount:k.Writing.MaxSubmitCount,goWritingActivity:S,noWritingActivity:b})}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:1,totalQuizCnt:k.Writing.Question.length,life:1,timeMin:r.time.timeMin,timeSec:r.time.timeSec,changeSideMenu:v}),e.jsx("div",{className:`${Bs.comment} animate__animated animate__fadeInLeft`,children:oi}),e.jsxs($e,{children:[oo?e.jsx(e.Fragment,{}):e.jsx(X,{height:15}),e.jsx(Ae,{typeCSS:Bs.writingActivity2,containerCSS:Bs.container,children:e.jsx("div",{children:k.Writing.Question.map((N,j)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{fontWeight:700},children:["Q. ",N]}),e.jsxs("div",{children:["A. ",_[j].TempText]}),e.jsx("br",{})]}))})}),oo?e.jsx(X,{height:5}):e.jsx(X,{height:15})]}),g&&e.jsx(ze,{isSideOpen:g,currentStep:o,currentStepType:oi,quizLength:0,maxAnswerCount:0,scoreBoardData:s,changeSideMenu:v,changeStep:t.changeStep})]})})}const M$=new Q(navigator.userAgent),L$=M$.phone(),gt=L$?ss:ns;function R$({currentSubmitCount:t,maxSubmitCount:i,goWritingActivity:n}){return e.jsx("div",{className:gt.revisionFreeIntro,children:e.jsxs("div",{className:`${gt.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:gt.stepOrder,children:"Step5"}),e.jsx("div",{className:gt.quizType,children:"Writing Activity(R)"}),e.jsx("div",{className:gt.comment,children:"글쓰기를 하시겠어요?"}),e.jsxs("div",{className:gt.revisionBoard,children:[e.jsx("div",{className:gt.txtLabel,children:"남은 첨삭:"}),e.jsxs("div",{className:gt.txtCount,children:[i-t," / ",i]}),e.jsx("div",{className:gt.txtLabel,children:"첨삭 완료:"}),e.jsx("div",{className:gt.txtCount,children:t})]}),e.jsx("div",{style:{display:"flex"},className:gt.selectBox,children:e.jsx("div",{className:gt.goButton,onClick:()=>n(),children:"Go"})})]})})}const q$=new Q(navigator.userAgent),F$=q$.phone(),H$=F$?De:Oe;function O$({wordMinCount:t,wordMaxCount:i,answerData:n,isRewriting:o,onChangeHandler:r}){return e.jsx("div",{className:H$.writingArea,children:e.jsx("textarea",{placeholder:`Please fill out within ${t} to ${i} characters.`,disabled:!o,onChange:u=>r(u.currentTarget.value),value:n.join(`

`)})})}const D$=new Q(navigator.userAgent),W$=D$.phone(),Xn=W$?De:Oe;function V$({isSubmit:t,wordMinCount:i,wordMaxCount:n,answerLength:o,submitAnswer:r}){return e.jsxs("div",{className:Xn.goNextStepBox,children:[e.jsxs("div",{className:Xn.wordLimitIndicator,children:[e.jsxs("div",{className:Xn.limit,children:["• Word Limit: ",i,"~",n]}),e.jsxs("div",{className:Xn.words,children:["• The number of words: ",o]})]}),e.jsx(Bi,{isSubmit:t,submitAnswer:r})]})}const G$=new Q(navigator.userAgent),U$=G$.phone(),K$=U$?De:Oe;function J$({revisionImageTop:t,revisionImageBottom:i,comment:n}){return e.jsxs("div",{className:K$.revisionReport,children:[e.jsx("img",{src:t,alt:""}),e.jsx("img",{src:i,alt:""}),e.jsx("span",{children:n})]})}const Y$=new Q(navigator.userAgent),io=Y$.phone(),ii="Writing Activity",Es=io?De:Oe;function X$(t){const{studyInfo:i,handler:n}=c.useContext(oe),o=t.currentStep,r=Se(()=>{window.onLogoutStudy()}),[u,d]=c.useState("animate__bounceInRight"),{isStepIntro:a,closeStepIntro:m}=be(),[g,f]=c.useState(!1),{quizState:h,changeQuizState:y}=xo(),[k,_]=we(mo,t,"7"),{scoreBoardData:s,setStudentAnswers:x}=ve(i.mode),[l,p]=c.useState([]),[S,b]=c.useState(!1);if(c.useEffect(()=>{!a&&k&&(r.setup(k.QuizTime,!0),y("studying"))},[a]),c.useEffect(()=>{if(k)try{if(_.length>0){console.log(k),console.log(_);const w=[];_.map(q=>w.push(q.TempText)),p([...w])}else{const w=new Array(k.Writing.Question.length).fill("");switch(k.Writing.Activity){case"Book Report":w[0]=`The Title is ${k.Title}`,w[1]=`The author is ${k.Author}`;break;case"Book Review":w[0]="Describe briefly what happens in the book or the main idea.",w[1]="What are interesting features of the book?",w[2]="Describe some morals or new knowledge you've learnt from the book.";break;case"KWL Chart":w[0]="What I know",w[1]="What I want to know",w[2]="What I learned";break;case"Story Map":w[0]="What happened first?",w[1]="What happened next?",w[2]="What happened last?";break}p([...w])}x(_,0)}catch(w){console.error(w)}},[k]),c.useEffect(()=>{if(l&&k){const w=l.filter(I=>I==="").length,q=C();w===0&&q>=k.Writing.WordMinCount&&q<=k.Writing.WordMaxCount?b(!0):b(!1)}},[l]),!k)return e.jsx(e.Fragment,{children:"Loading..."});const v=()=>{d("animate__bounceOutLeft")},N=async()=>{if(y("checking"),h==="studying"){const w=l.join(" "),q={bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,writeText:w},I=await tr(q);console.log(I),Number(I.result)===0&&(n.finishStudy={id:Number(I.result),cause:I.resultMessage},t.onFinishActivity())}},j=(w="")=>{let q=l!==void 0?[...l]:[w];q=w.split(`

`),p([...q])},C=()=>l.reduce((q,I)=>q+(I===""?0:xe.trimStart(xe.trimEnd(I.replaceAll(/\s+/g," "))).split(" ").length),0),P=w=>{f(w)};return e.jsx(e.Fragment,{children:a?e.jsx("div",{className:`animate__animated ${u}`,onAnimationEnd:()=>{u==="animate__bounceOutLeft"&&m()},children:e.jsx(R$,{currentSubmitCount:k.Writing.CurrentSubmitCount,maxSubmitCount:k.Writing.MaxSubmitCount,goWritingActivity:v})}):e.jsxs(e.Fragment,{children:[e.jsx(je,{quizNumber:1,totalQuizCnt:k.Writing.Question.length,life:1,timeMin:r.time.timeMin,timeSec:r.time.timeSec,changeSideMenu:P}),e.jsx("div",{className:`${Es.comment} animate__animated animate__fadeInLeft`,children:ii}),e.jsxs($e,{children:[io?e.jsx(e.Fragment,{}):e.jsx(X,{height:15}),e.jsx(Ae,{typeCSS:Es.writingActivity2,containerCSS:Es.container,children:k.Rewriting&&e.jsxs(e.Fragment,{children:[e.jsx(J$,{revisionImageTop:k.Rewriting.ReWritingImage1,revisionImageBottom:k.Rewriting.ReWritingImage2,comment:k.Rewriting.ReWritingComment}),e.jsx(O$,{wordMinCount:k.Writing.WordMinCount,wordMaxCount:k.Writing.WordMaxCount,answerData:l,isRewriting:k.Rewriting.IsReWriting,onChangeHandler:j}),k.Rewriting.IsReWriting&&e.jsx(V$,{isSubmit:S,wordMinCount:k.Writing.WordMinCount,wordMaxCount:k.Writing.WordMaxCount,answerLength:C(),submitAnswer:N})]})}),io?e.jsx(X,{height:5}):e.jsx(X,{height:15})]}),g&&e.jsx(ze,{isSideOpen:g,currentStep:o,currentStepType:ii,quizLength:0,maxAnswerCount:0,scoreBoardData:s,changeSideMenu:P,changeStep:t.changeStep})]})})}const Z$=new Q(navigator.userAgent),Ei=t=>{const i=Vt(),{studyInfo:n,bookInfo:o,handler:r}=c.useContext(oe);c.useEffect(()=>{if(n.availableQuizStatus===1){alert("ReTest 정책으로 당일 재학습 불가");try{window.onExitStudy()}catch{location.replace("/")}}else if(n.availableQuizStatus===2){alert("일일 획득 가능 포인트 초과");try{window.onExitStudy()}catch{location.replace("/")}}},[]);let u=n.startStep;o.RevisionStatusCode==="028010"&&(console.log(o.RevisionStatusCode),console.log(n),n.openSteps.find(b=>b===5)&&(u=5));const[d,a]=c.useState(u);c.useEffect(()=>{n.startStep=d},[d]);const[m,g]=c.useState(!n.isPassedVocabularyPractice||n.mode!=="Quiz"),f=n.mappedStepActivity[d-1],h=()=>{const S=n.openSteps.findIndex(b=>b===d);return S>=0&&n.openSteps.length>S+1?n.openSteps[S+1]:void 0},y=()=>{const S=h();if(S)a(S);else if(n.mode==="Quiz")r.actionFinishStudy(r.finishStudy,i);else try{window.onExitStudy()}catch{location.replace("/")}},k=S=>{n.isPassedVocabularyPractice=!S,g(S)},_=S=>{a(S)},s=Number(o.BookCode.substring(6));let x="";if(n.bookType==="EB"){if(o.BookLevel==="KA"){const S=["theme-zoo-2","theme-jungle","theme-antarctica","theme-zoo-1"];x=S[s%S.length]}else if(o.BookLevel==="KB"||o.BookLevel==="KC"){const S=["theme-farm","theme-forest","theme-kids-room","theme-space"];x=S[s%S.length]}}if(x===""){const S=["theme-camping","theme-season-spring","theme-season-summer","theme-season-autumn","theme-season-winter","theme-playground"];x=S[s%S.length]}const l={mode:n.mode,currentStep:d,studyId:n.studyId,studentHistoryId:n.studentHistoryId,bookType:n.bookType,studyTypeCode:n.bookType==="EB"?"001006":"001001",isEnabledPractice:n.isPassedVocabularyPractice&&n.mode==="Quiz",theme:x,lastStep:n.openSteps[n.openSteps.length-1],isReTestYn:n.isReTestYn,onFinishActivity:y,changeVocaState:k,changeStep:_};let p;switch(f){case We.LISTENING_1:p=e.jsx(v1,{...l});break;case We.LISTENING_2:p=e.jsx(T1,{...l});break;case We.LISTENING_3:p=e.jsx(H1,{...l});break;case We.LISTENING_4:p=e.jsx(ox,{...l});break;case We.VOCABULARY_1:m?p=e.jsx(lb,{...l}):p=e.jsx(XS,{...l});break;case We.VOCABULARY_2:m?p=e.jsx(gw,{...l}):p=e.jsx(Qw,{...l});break;case We.VOCABULARY_3:m?p=e.jsx(iv,{...l}):p=e.jsx(Qv,{...l});break;case We.VOCABULARY_4:m?p=e.jsx(Yv,{...l}):p=e.jsx(hj,{...l});break;case We.READING_COMP_1:p=e.jsx(a_,{...l});break;case We.READING_COMP_2:p=e.jsx(b_,{...l});break;case We.READING_COMP_3:p=e.jsx(E_,{...l});break;case We.READING_COMP_4:p=e.jsx(rh,{...l});break;case We.SUMMARY_1:p=e.jsx(bg,{...l});break;case We.SUMMARY_2:p=e.jsx(Vg,{...l});break;case We.TRUE_OR_FALSE:p=e.jsx(Uy,{...l});break;case We.CLOZE_1:p=e.jsx(Dm,{...l});break;case We.CLOZE_2:p=e.jsx(i0,{...l});break;case We.CLOZE_3:p=e.jsx(k0,{...l});break;case We.WRITING_1:p=e.jsx(Wz,{...l});break;case We.WRITING_2:n.isReview?o.RevisionStatusCode==="028010"||o.RevisionStatusCode==="028009"?p=e.jsx(X$,{...l}):p=e.jsx(P$,{...l}):p=e.jsx(B$,{...l});break}return e.jsx("div",{className:`${Z$.phone()?co.quizTemplate:ao.quizTemplate} ${x}`,children:p})};function eC(){const[t,i]=c.useState(!1),[n,o]=c.useState({width:1,height:1});return{imgSize:n,preloadImage:u=>{if(!t){const d=[...new Set(u.map(a=>a.ImagePath))];d.map((a,m)=>{const g=new Image;g.src=a,m===0&&a!==null&&o({width:g.width,height:g.height}),m===d.length-1&&i(!0)})}}}}const tC="_ebook_tgkc0_1",nC="_ebook_page_tgkc0_26",sC="_text_wrapper_tgkc0_29",oC="_ebook_header_tgkc0_36",iC="_menu_button_tgkc0_48",rC="_ebook_play_bar_drop_down_menu_tgkc0_57",aC="_read_mode_option_tgkc0_60",cC="_read_mode_option_menu_tgkc0_66",uC="_menu_name_tgkc0_80",lC="_menu_item_tgkc0_86",dC="_on_tgkc0_91",mC="_light_box_tgkc0_95",xC="_ebook_play_mode_mobile_tgkc0_105",_C="_slide_in_bottom_tgkc0_114",hC="_slide_out_bottom_tgkc0_138",pC="_label_tgkc0_162",gC="_select_box_tgkc0_168",yC="_select_button_tgkc0_173",fC="_radio_tgkc0_190",kC="_page_turning_mode_tgkc0_210",bC="_choose_button_tgkc0_219",SC="_container_tgkc0_231",wC="_ebook_progress_bar_tgkc0_275",vC="_progress_tgkc0_282",jC="_ebook_play_bar_tgkc0_57",zC="_ebook_play_bar_pc_area_l_tgkc0_301",$C="_read_mode_button_tgkc0_313",CC="_ebook_play_bar_pc_area_c_tgkc0_320",QC="_backward_tgkc0_327",AC="_forward_tgkc0_328",NC="_play_tgkc0_342",TC="_ebook_play_bar_pc_area_r_tgkc0_354",IC="_full_screen_button_tgkc0_361",BC="_word_button_tgkc0_369",EC="_landscape_tgkc0_389",PC="_mobile_tgkc0_420",MC="_ebook_page_arrows_tgkc0_439",LC="_left_arrow_tgkc0_439",RC="_right_arrow_tgkc0_440",qC="_ebook_body_pc_tgkc0_466",FC="_ebook_contents_tgkc0_471",HC="_pages_tgkc0_474",OC="_ebook_body_mobile_p_tgkc0_499",DC="_ebook_voca_list_tgkc0_516",WC="_voca_item_tgkc0_521",VC="_word_item_tgkc0_526",GC="_word_tgkc0_369",UC="_mean_tgkc0_535",KC="_ebook_vocabulary_note_tgkc0_541",JC="_ebook_vocabulary_note_container_tgkc0_549",YC="_ebook_vocabulary_note_area_top_tgkc0_566",XC="_close_vocabulary_note_tgkc0_569",ZC="_btn_delete_tgkc0_574",eQ="_btn_print_tgkc0_586",tQ="_book_info_tgkc0_597",nQ="_book_code_tgkc0_597",sQ="_book_title_tgkc0_600",oQ="_line_tgkc0_604",iQ="_ebook_vocabulary_note_screen_block_tgkc0_610",rQ="_chooseRating_tgkc0_619",aQ="_btnStarOn_tgkc0_625",cQ="_btnStarOff_tgkc0_633",uQ="_ebookRating_tgkc0_642",lQ="_groupBookcover_tgkc0_680",dQ="_imgBookcover_tgkc0_688",mQ="_groupChoose_tgkc0_698",xQ="_txtQuestion_tgkc0_708",_Q="_groupChooseRating_tgkc0_723",hQ="_groupConfirm_tgkc0_732",pQ="_btnConfirm_tgkc0_739",gQ="_blue_tgkc0_759",yQ="_gray_tgkc0_768",fQ="_groupComment_tgkc0_777",kQ="_icoExclamationMark_tgkc0_784",bQ="_txtComment_tgkc0_793",SQ="_warningMessage_tgkc0_799",wQ="_textWrapper_tgkc0_802",vQ="_movieContents_tgkc0_806",jQ="_btnDelete_tgkc0_826",z={ebook:tC,ebook_page:nC,text_wrapper:sC,ebook_header:oC,menu_button:iC,ebook_play_bar_drop_down_menu:rC,read_mode_option:aC,read_mode_option_menu:cC,menu_name:uC,menu_item:lC,on:dC,light_box:mC,ebook_play_mode_mobile:xC,slide_in_bottom:_C,"slide-in-bottom":"_slide-in-bottom_tgkc0_1",slide_out_bottom:hC,"slide-out-bottom":"_slide-out-bottom_tgkc0_1",label:pC,select_box:gC,select_button:yC,radio:fC,page_turning_mode:kC,choose_button:bC,container:SC,ebook_progress_bar:wC,progress:vC,ebook_play_bar:jC,ebook_play_bar_pc_area_l:zC,read_mode_button:$C,ebook_play_bar_pc_area_c:CC,backward:QC,forward:AC,play:NC,ebook_play_bar_pc_area_r:TC,full_screen_button:IC,word_button:BC,landscape:EC,mobile:PC,ebook_page_arrows:MC,left_arrow:LC,right_arrow:RC,ebook_body_pc:qC,ebook_contents:FC,pages:HC,ebook_body_mobile_p:OC,ebook_voca_list:DC,voca_item:WC,word_item:VC,word:GC,mean:UC,ebook_vocabulary_note:KC,ebook_vocabulary_note_container:JC,ebook_vocabulary_note_area_top:YC,close_vocabulary_note:XC,btn_delete:ZC,btn_print:eQ,book_info:tQ,book_code:nQ,book_title:sQ,line:oQ,ebook_vocabulary_note_screen_block:iQ,chooseRating:rQ,btnStarOn:aQ,btnStarOff:cQ,ebookRating:uQ,groupBookcover:lQ,imgBookcover:dQ,groupChoose:mQ,txtQuestion:xQ,groupChooseRating:_Q,groupConfirm:hQ,btnConfirm:pQ,blue:gQ,gray:yQ,groupComment:fQ,icoExclamationMark:kQ,txtComment:bQ,warningMessage:SQ,textWrapper:wQ,movieContents:vQ,btnDelete:jQ};function zQ({studyId:t,studentHistoryId:i,pageData:n,storyMode:o,changeSideMenu:r,changeStoryMode:u,changeReadingComplete:d}){const a=c.useMemo(()=>new Audio,[]);a.autoplay=!0;const[m,g]=c.useState(""),f=c.useRef(!0),[h,y]=c.useState(0),[k,_]=c.useState(1),s=c.useRef(!0),[x,l]=c.useState(1),[p,S]=c.useState({playPage:2,sequnce:0}),[b,v]=c.useState(0);c.useEffect(()=>{if(n){const H=n.find(T=>T.Page===x&&T.SoundPath);S({playPage:H?x:x+1,sequnce:0})}},[x]),c.useEffect(()=>{const H=()=>{f.current?(f.current=!1,C()):(a.play(),g("play"))};a.addEventListener("canplaythrough",H);const T=()=>{y(a.currentTime)};a.addEventListener("timeupdate",T);const O=()=>{};a.addEventListener("pause",O);const R=()=>{if(f.current)f.current=!1;else{const Y=s.current;p.playPage%2===1?S({playPage:p.playPage+1,sequnce:0}):Y?n.find(W=>W.Page===x+2)?l(x+2):(v(b+1),g("")):g("")}};return a.addEventListener("ended",R),N(p.playPage,p.sequnce),()=>{a.removeEventListener("canplaythrough",H),a.removeEventListener("timeupdate",T),a.removeEventListener("pause",O),a.removeEventListener("ended",R),j()}},[p]),c.useEffect(()=>{a.playbackRate=k},[k]),c.useEffect(()=>{b===1?o==="ListenAndRepeat"?l(3):(f.current=!0,r(!0),U(1),d(t,i)):b===2&&o==="ListenAndRepeat"&&(f.current=!0,u("Story"),r(!0),U(1),d(t,i))},[b]);const N=(H,T)=>{const O=n.filter(R=>R.Page===H&&R.SoundPath!=="");O.length>0&&O.length>T-1?(o==="ListenAndRepeat"&&b===1?a.src=O[0].SoundPath2:a.src=O[0].SoundPath,a.playbackRate=k,T>0&&(a.currentTime=O[T-1].StartTime/1e3)):(a.src="",a.currentTime=0)},j=()=>{a.pause(),a.src="",a.currentTime=0,g("")},C=()=>{a.pause(),g("pause")},P=()=>{a.pause()},w=()=>{g("play"),a.play()},q=H=>{_(H)},I=(H,T)=>{S({playPage:H,sequnce:T})},F=H=>{a.volume=H},U=H=>{H===1&&g(""),l(H)};return{pageNumber:x,playState:m,pageSeq:p,currentTime:h,readCnt:b,playAudio:N,stopAudio:j,pauseAudio:C,pauseAudioByWord:P,resumeAudio:w,changePlaySpeed:q,changeDuration:I,changeVolume:F,changePageNumber:U,changeAutoNextPage:H=>{s.current=H}}}function $Q({children:t}){var d,a,m;const n=(((m=(a=(d=c.useContext(oe))==null?void 0:d.bookInfo)==null?void 0:a.BookLevel)==null?void 0:m.substring(0,1))||"K")==="K"?480:525,o=window.matchMedia("(orientation: portrait)").matches,r=(window.innerHeight-100)/750,u=window.innerWidth/(n*2);return e.jsx("div",{className:z.ebook_body_pc,children:e.jsx("div",{className:z.ebook_contents,children:e.jsx("div",{style:{transform:`scale(${o?u:r})`},className:`${z.pages}`,children:t})})})}function ri({pageNumber:t,sentence:i,sequence:n,marginTop:o,marginLeft:r,clickSentence:u}){const d=m=>{const g=/id=\"t/g;let f=m.replace(g,`id="t_${t}_`);if(n!==999){const h=/ id=\"t/g;f=f.replace(h,` style='margin-top: ${o}px; margin-left: ${r}px; cursor:pointer;' id="t`)}else if(n===999){const h=/ id=\"t/g;f=f.replace(h,` style='margin-top: ${o}px; margin-left: ${r}px;' id="t`)}return f},a=()=>{n!==999&&u(t,n)};return e.jsx("div",{dangerouslySetInnerHTML:{__html:d(i)},onClick:()=>a()})}function CQ({pageNumber:t,sentence:i,marginTop:n,marginLeft:o,sequence:r,color:u,clickSentence:d}){const a=g=>{const f=/id=\"t/g;return g.replace(f,`style='margin-top: ${n}px; margin-left: ${o}px; background-color:${u}' id="t_${t}_`)},m=()=>{r!==999&&d(t,r)};return e.jsx("div",{dangerouslySetInnerHTML:{__html:a(i)},onClick:()=>m()})}function xn({isTextShow:t,pageSeq:i,pageNumber:n,storyData:o,currentTime:r,readCnt:u,isHighlight:d,clickSentence:a}){const{handler:m,bookInfo:g}=c.useContext(oe),[f,h]=c.useState(""),[y,k]=c.useState(),[_,s]=c.useState(),x=g.BookLevel.substring(0,1)||"K",[l,p]=c.useState(""),[S,b]=c.useState(n);return c.useEffect(()=>{},[t]),c.useEffect(()=>{var v,N;if(o){const j=(v=o.find(w=>w.Page===n&&w.Sequence===999))==null?void 0:v.Css;if(j){const w=/\#t/g,q=j.replace(w,`#t_${n}_`);h(q)}const C=(N=o.find(w=>w.Page===n&&w.Sequence===999))==null?void 0:N.ImagePath,P=o.filter(w=>w.Page===n);s(C),k(P),S<n?(b(n),p("slide-in-right"),setTimeout(()=>{p("")},100)):(b(n),p("slide-in-left"),setTimeout(()=>{p("")},100))}},[n]),e.jsx("div",{className:`${z.ebook_page} ${l}`,children:e.jsxs("div",{className:z.text_wrapper,style:{backgroundImage:`url(${_})`,width:x.toUpperCase()==="K"?"480px":"525px"},children:[e.jsx("div",{dangerouslySetInnerHTML:{__html:f}}),y&&t&&y.map(v=>m.storyMode==="ListenAndRepeat"&&u===1?e.jsx(ri,{pageNumber:n,sequence:v.Sequence,sentence:v.Contents,marginTop:v.MarginTop,marginLeft:v.MarginLeft,clickSentence:a}):i.playPage===n&&v.Sequence!==999&&r>=v.StartTime/1e3&&r<=v.EndTime/1e3&&d?e.jsx(CQ,{pageNumber:n,sequence:v.Sequence,sentence:v.Contents,marginTop:v.MarginTop,marginLeft:v.MarginLeft,color:v.FontColor,clickSentence:a}):e.jsx(ri,{pageNumber:n,sequence:v.Sequence,sentence:v.Contents,marginTop:v.MarginTop,marginLeft:v.MarginLeft,clickSentence:a}))]})})}const _o="/study/BookReading/assets/icon_chev_white_left-1ab06882.svg",ho="/study/BookReading/assets/icon_chev_white_right-ff1d2e9e.svg";function QQ({turnPageLeft:t,turnPageRight:i}){return e.jsxs("div",{className:z.ebook_page_arrows,children:[e.jsx("div",{className:z.left_arrow,children:e.jsx("button",{onClick:()=>{t()},children:e.jsx("img",{src:_o,width:60,alt:""})})}),e.jsx("div",{className:z.right_arrow,children:e.jsx("button",{onClick:()=>{i()},children:e.jsx("img",{src:ho,width:60,alt:""})})})]})}const po="/study/BookReading/assets/icon_chev_down-3920372e.svg";function AQ({changeTextShow:t,changeMuteAudio:i,changeHighlight:n}){const{handler:o}=c.useContext(oe),[r,u]=c.useState(!1),[d,a]=c.useState([{name:"Basic",selected:"on"},{name:"No Text",selected:""},{name:"No Audio",selected:""},{name:"No Highlight",selected:""}]),m=d.find(h=>h.selected==="on"),g=()=>{o.storyMode==="Story"?u(!r):alert("Listen & Repeat 모드에서는 지원하지 않는 기능입니다.")},f=h=>{const y=[...d];switch(y.map(k=>{k.selected=""}),y[h].selected="on",h){case 0:t(!0),i(!1),n(!0);break;case 1:t(!1),i(!1),n(!0);break;case 2:t(!0),i(!0),n(!1);break;case 3:t(!0),i(!1),n(!1);break}a(y),u(!1)};return e.jsxs("div",{className:z.ebook_play_bar_drop_down_menu,children:[e.jsxs("div",{className:z.read_mode_option,onClick:()=>g(),children:[e.jsx("span",{children:m==null?void 0:m.name}),e.jsx("img",{src:po,width:15,alt:""})]}),r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:z.read_mode_option_menu,children:[e.jsx("div",{className:z.menu_name,children:"Read Mode"}),d.map((h,y)=>e.jsx("div",{className:`${z.menu_item} ${h.selected?z.on:""}`,onClick:()=>f(y),children:h.name}))]}),e.jsx("div",{className:z.light_box,onClick:()=>{u(!1)}})]})]})}function NQ({changePlaySpeed:t}){const[i,n]=c.useState(!1),[o,r]=c.useState([{rate:.8,selected:""},{rate:1,selected:"on"},{rate:1.2,selected:""},{rate:1.5,selected:""}]),u=o.find(a=>a.selected==="on"),d=a=>{const m=[...o];m.map(g=>{g.selected=""}),m[a].selected="on",t(m[a].rate),r(m),n(!1)};return e.jsxs("div",{className:z.ebook_play_bar_drop_down_menu,children:[e.jsxs("div",{className:z.read_mode_option,onClick:()=>{n(!i)},children:[e.jsxs("span",{children:[u==null?void 0:u.rate,"x"]}),e.jsx("img",{src:po,width:15,alt:""})]}),i&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:z.read_mode_option_menu,children:[e.jsx("div",{className:z.menu_name,children:"Speed"}),o.map((a,m)=>e.jsxs("div",{className:`${z.menu_item} ${a.selected?z.on:""}`,onClick:()=>d(m),children:[a.rate,"x"]}))]}),e.jsx("div",{className:z.light_box,onClick:()=>{n(!1)}})]})]})}function TQ({menuName:t,menuItems:i,changeAutoNextPage:n}){const{handler:o}=c.useContext(oe),[r,u]=c.useState(!1),[d,a]=c.useState(i),m=d.filter(f=>f.selected==="on"),g=()=>{o.storyMode==="Story"?u(!r):alert("Listen & Repeat 모드에서는 지원하지 않는 기능입니다.")};return e.jsxs("div",{className:z.ebook_play_bar_drop_down_menu,children:[e.jsxs("div",{className:z.read_mode_option,onClick:()=>g(),children:[e.jsx("span",{children:m[0].name}),e.jsx("img",{src:po,width:15,alt:""})]}),r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:z.read_mode_option_menu,children:[e.jsx("div",{className:z.menu_name,children:t}),d.map((f,h)=>e.jsx("div",{className:`${z.menu_item} ${f.selected}`,onClick:()=>{const y=[...d];y.map(k=>{k.selected=""}),y[h].selected="on",n(h===0),a(y),u(!1)},children:f.name}))]}),e.jsx("div",{className:z.light_box,onClick:()=>{u(!1)}})]})]})}const Pi="/study/BookReading/assets/btn_play-ce293349.svg",Mi="/study/BookReading/assets/btn_pause-1b0dd29c.svg",Li="/study/BookReading/assets/icon_word-4b133954.svg",IQ="/study/BookReading/assets/icon_full_screen-e667f2e6.svg",BQ="/study/BookReading/assets/icon_full_screen_out-18188977.svg",Ri="/study/BookReading/assets/icon_menu-e46b7a18.svg",EQ=new Q(navigator.userAgent);function PQ({progressWidth:t,pageSeq:i,playState:n,isFullScreen:o,turnPageLeft:r,turnPageRight:u,changeTextShow:d,changeMuteAudio:a,changeHighlight:m,changePlaySpeed:g,changeAutoNextPage:f,playAudio:h,pauseAudio:y,resumeAudio:k,changeVocaOpen:_,changeSideMenu:s}){const{handler:x}=c.useContext(oe);return c.useEffect(()=>{},[o]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:z.ebook_progress_bar,children:e.jsx("div",{className:z.progress,style:{width:`${t}%`}})}),e.jsxs("div",{className:z.ebook_play_bar,children:[e.jsxs("div",{className:z.ebook_play_bar_pc_area_l,children:[e.jsx(AQ,{changeTextShow:d,changeMuteAudio:a,changeHighlight:m}),e.jsx(NQ,{changePlaySpeed:g}),e.jsx(TQ,{menuName:"페이지 넘기기",menuItems:[{name:"Auto",selected:"on"},{name:"Manually",selected:""}],changeAutoNextPage:f})]}),e.jsxs("div",{className:z.ebook_play_bar_pc_area_c,children:[x.storyMode==="Story"&&e.jsx("div",{className:z.backward,onClick:()=>{r()},children:e.jsx("img",{src:_o,width:40,alt:""})}),e.jsx("div",{className:z.play,onClick:()=>{switch(n){case"play":case"resume":y();break;case"":case"stop":h(i.playPage,i.sequnce);break;case"pause":k();break}},children:n!=="play"?e.jsx("img",{src:Pi,width:40}):e.jsx("img",{src:Mi,width:40})}),x.storyMode==="Story"&&e.jsx("div",{className:z.forward,onClick:()=>{u()},children:e.jsx("img",{src:ho,width:40,alt:""})})]}),e.jsxs("div",{className:z.ebook_play_bar_pc_area_r,children:[e.jsx("div",{className:z.word_button,onClick:()=>{_(!0)},children:e.jsx("img",{src:Li,width:28,height:28,alt:""})}),e.jsx("div",{className:z.menu_button,onClick:()=>{s(!0)},children:e.jsx("img",{src:Ri,width:24,height:24,alt:""})}),e.jsx("div",{style:{display:EQ.tablet()?"none":"flex"},className:z.full_screen_button,onClick:()=>{o?document.exitFullscreen():document.body.requestFullscreen()},children:o?e.jsx("img",{src:BQ,width:20,height:20,alt:""}):e.jsx("img",{src:IQ,width:20,height:20,alt:""})})]})]})]})}const MQ="/study/BookReading/assets/check_board-04b361f3.svg",LQ="/study/BookReading/assets/rec-236d3098.svg",RQ="/study/BookReading/assets/movie_book-0bc631c4.svg";function qi({isSideOpen:t,changeSideMenu:i,changeRatingShow:n,toggleMovieShow:o,submitBookMark:r}){const{studyInfo:u,bookInfo:d,handler:a}=c.useContext(oe),[m,g]=c.useState("animate__fadeIn"),[f,h]=c.useState();c.useEffect(()=>{g("animate__fadeIn"),h("animate__slideInRight")},[t]);const y=()=>{g("animate__fadeOut"),h("animate__slideOutRight"),setTimeout(()=>{i(!1)},300)};return e.jsx(e.Fragment,{children:t&&e.jsxs("div",{className:`${me.study_side_menu} animate__animated ${m}`,children:[e.jsxs("div",{className:`${me.study_side_menu_container} animate__animated ${f}`,children:[e.jsxs("div",{className:me.study_side_menu_area_top,children:[e.jsx("div",{className:me.close_side_menu,children:e.jsx("div",{className:me.btn_delete,onClick:()=>{y()},children:e.jsx("img",{src:pi,alt:""})})}),e.jsxs("div",{className:me.book_info,children:[e.jsx("div",{className:me.book_code,children:d.BookCode}),e.jsx("div",{className:me.book_title,children:d.Title})]}),e.jsx("div",{className:me.select_study_menu,children:e.jsxs("div",{className:`${me.select_study_menu_item} ${me.go_on} `,onClick:()=>{u.availableQuizStatus===0?a.isPreference?a.changeView("quiz"):a.isReadingComplete||a.storyMode==="Story"?(i(!1),n(!0)):alert("책을 완독한 후 학습을 진행할 수 있습니다."):u.availableQuizStatus===1&&alert("ReTest 정책으로 당일 재학습 불가")},children:[e.jsx("img",{src:MQ,alt:""}),"퀴즈 풀기"]})}),(d.AnimationPath!==""||u.isAvailableSpeaking)&&e.jsx("div",{className:me.label,children:"보너스 학습"}),e.jsxs("div",{className:me.ebook_more_activity,children:[d.AnimationPath!==""&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:me.ebook_more_activity_item,onClick:()=>{i(!1),o(!0)},children:[e.jsx("img",{src:RQ,alt:""}),"무비 시청"]})}),u.isAvailableSpeaking&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:me.ebook_more_activity_item,onClick:()=>{a.changeView("speaking")},children:[e.jsx("img",{src:LQ,alt:""}),"SPEAK (말하기 연습)"]})})]})]}),e.jsx("div",{className:me.study_side_menu_area_bottom,children:e.jsxs("div",{className:me.btn_exit,onClick:()=>r(),children:[e.jsx("img",{src:gi,alt:""}),e.jsx("div",{className:"txt",children:"나가기"})]})})]}),e.jsx("div",{className:me.screen_block,onClick:()=>y()})]})})}const is="/study/BookReading/assets/icon_speaker-32763dad.svg";function rs({playState:t,pauseStoryAudio:i,resumeStoryAudio:n}){const o=c.useRef(new Audio);o.current.autoplay=!0;const r=o.current;c.useEffect(()=>{const a=()=>{i(),r.play()};r.addEventListener("canplaythrough",a);const m=()=>{t==="play"&&n()};return r.addEventListener("ended",m),()=>{r.removeEventListener("canplaythrough",a),r.removeEventListener("ended",m),d()}},[]);const u=a=>{r.src=a},d=()=>{r.pause(),r.src="",r.currentTime=0};return{playAudio:u,stopAudio:d}}function qQ({vocaData:t,mainLang:i,playState:n,pauseStoryAudio:o,resumeStoryAudio:r}){var m;const{playAudio:u}=rs({playState:n,pauseStoryAudio:o,resumeStoryAudio:r});let d=(m=t.Examples[0])!=null&&m.Text?t.Examples[0].Text:t.Question.Text,a="";switch(i.toLowerCase()){case"korean":a=t.Question.Korean;break;case"chinese":a=t.Question.Chinese;break;case"japanese":a=t.Question.Japanese;break;case"vietnamese":a=t.Question.Vietnamese;break;case"indonesian":a=t.Question.Indonesian;break;case"english":a=t.Question.Britannica?t.Question.Britannica:"";break}return e.jsxs("div",{className:z.voca_item,children:[e.jsxs("div",{className:z.word_item,children:[e.jsx("div",{className:z.word,children:d}),e.jsx("img",{src:is,alt:"",onClick:()=>{u(t.Question.Sound)}})]}),e.jsx("div",{className:z.mean,children:a})]})}function FQ({vocaData:t,mainLang:i,playState:n,pauseStoryAudio:o,resumeStoryAudio:r}){var m;const{playAudio:u}=rs({playState:n,pauseStoryAudio:o,resumeStoryAudio:r});let d=(m=t.Examples[0])!=null&&m.Text?t.Examples[0].Text:t.Question.Text,a="";switch(i.toLowerCase()){case"korean":a=t.Question.Korean;break;case"chinese":a=t.Question.Chinese;break;case"japanese":a=t.Question.Japanese;break;case"vietnamese":a=t.Question.Vietnamese;break;case"indonesian":a=t.Question.Indonesian;break;case"english":a=t.Question.Britannica?t.Question.Britannica:"";break}return e.jsxs("div",{className:z.voca_item,children:[e.jsxs("div",{className:z.word_item,children:[e.jsx("div",{className:z.word,children:d}),e.jsx("img",{src:is,alt:"",onClick:()=>{u(t.Question.Sound)}})]}),e.jsx("div",{className:z.mean,children:a})]})}function HQ({vocaData:t,mainLang:i,playState:n,pauseStoryAudio:o,resumeStoryAudio:r}){const{playAudio:u}=rs({playState:n,pauseStoryAudio:o,resumeStoryAudio:r});let d=t.Question.Text,a="";switch(i.toLowerCase()){case"korean":a=t.Question.Korean;break;case"chinese":a=t.Question.Chinese;break;case"japanese":a=t.Question.Japanese;break;case"vietnamese":a=t.Question.Vietnamese;break;case"indonesian":a=t.Question.Indonesian;break;case"english":a=t.Question.Britannica?t.Question.Britannica:"";break}return e.jsxs("div",{className:z.voca_item,children:[e.jsxs("div",{className:z.word_item,children:[e.jsx("div",{className:z.word,children:d}),e.jsx("img",{src:is,alt:"",onClick:()=>{u(t.Question.Sound)}})]}),e.jsx("div",{className:z.mean,children:a})]})}function OQ({vocaData:t,mainLang:i,playState:n,pauseStoryAudio:o,resumeStoryAudio:r}){var m;const{playAudio:u}=rs({playState:n,pauseStoryAudio:o,resumeStoryAudio:r});let d=(m=t.Examples[0])!=null&&m.Text?t.Examples[0].Text:t.Question.Text,a="";switch(i.toLowerCase()){case"korean":a=t.Question.Korean;break;case"chinese":a=t.Question.Chinese;break;case"japanese":a=t.Question.Japanese;break;case"vietnamese":a=t.Question.Vietnamese;break;case"indonesian":a=t.Question.Indonesian;break;case"english":a=t.Question.Britannica?t.Question.Britannica:"";break}return e.jsxs("div",{className:z.voca_item,children:[e.jsxs("div",{className:z.word_item,children:[e.jsx("div",{className:z.word,children:d}),e.jsx("img",{src:is,alt:"",onClick:()=>{u(t.Question.Sound)}})]}),e.jsx("div",{className:z.mean,children:a})]})}const DQ=({playState:t,pauseStoryAudio:i,resumeStoryAudio:n})=>{const{studyInfo:o}=c.useContext(oe),[r,u]=c.useState(),[d,a]=c.useState(),[m,g]=c.useState(),[f,h]=c.useState();return c.useEffect(()=>{!r&&!d&&!m&&!f&&(async()=>{const k={mode:o.mode,currentStep:2,studyId:o.studyId,studentHistoryId:o.studentHistoryId,bookType:o.bookType,studyTypeCode:o.bookType==="EB"?"001006":"001001",isEnabledPractice:o.isPassedVocabularyPractice,theme:"theme-antarctica",lastStep:o.allSteps[o.allSteps.length-1],isReTestYn:o.isReTestYn,onFinishActivity:()=>{},changeVocaState:()=>{},changeStep:_=>{}};switch(o.mappedStepActivity[1]){case"Vocabulary1":u(await Si(k));break;case"Vocabulary2":a(await wi(k));break;case"Vocabulary3":g(await vi(k));break;case"Vocabulary4":h(await ji(k));break}})()},[]),e.jsxs("div",{className:z.ebook_voca_list,children:[r&&r.Quiz.map(y=>e.jsx(qQ,{vocaData:y,mainLang:r.MainMeanLanguage,playState:t,pauseStoryAudio:i,resumeStoryAudio:n})),d&&d.Quiz.map(y=>e.jsx(FQ,{vocaData:y,mainLang:d.MainMeanLanguage,playState:t,pauseStoryAudio:i,resumeStoryAudio:n})),m&&m.Quiz.map(y=>e.jsx(HQ,{vocaData:y,mainLang:m.MainMeanLanguage,playState:t,pauseStoryAudio:i,resumeStoryAudio:n})),f&&f.Quiz.map(y=>e.jsx(OQ,{vocaData:y,mainLang:f.MainMeanLanguage,playState:t,pauseStoryAudio:i,resumeStoryAudio:n}))]})},WQ="/study/BookReading/assets/icon_delete_black-5f381612.svg",VQ="/study/BookReading/assets/icon_printer-6fba39e5.svg";function Fi({isVocaOpen:t,playState:i,changeVocaOpen:n,pauseStoryAudio:o,resumeStoryAudio:r}){const{bookInfo:u}=c.useContext(oe),[d,a]=c.useState("animate__fadeIn"),[m,g]=c.useState("animate__slideInRight");c.useEffect(()=>{a("animate__fadeIn"),g("animate__slideInRight")},[t]);const f=()=>{a("animate__fadeOut"),g("animate__slideOutRight"),setTimeout(()=>{i==="play"&&r(),n(!1)},300)};return e.jsx(e.Fragment,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${z.ebook_vocabulary_note} animate__animated ${d}`,children:e.jsx("div",{id:"ebook-vocabulary-note-container",className:`${z.ebook_vocabulary_note_container} animate__animated ${m}`,children:e.jsxs("div",{className:z.ebook_vocabulary_note_area_top,children:[e.jsxs("div",{className:z.close_vocabulary_note,children:[u.VocabularyPath&&e.jsx("div",{className:z.btn_print,onClick:()=>{window.open(u.VocabularyPath)},children:e.jsx("img",{src:VQ,alt:""})}),e.jsx("div",{className:z.btn_delete,onClick:()=>{f()},children:e.jsx("img",{src:WQ,alt:""})})]}),e.jsxs("div",{className:z.book_info,children:[e.jsx("div",{className:z.book_code,children:u.BookCode}),e.jsx("div",{className:z.book_title,children:u.Title})]}),e.jsx("div",{className:z.line}),e.jsx("div",{className:z.voca_list,children:e.jsx(DQ,{playState:i,pauseStoryAudio:o,resumeStoryAudio:r})})]})})}),e.jsx("div",{className:z.ebook_vocabulary_note_screen_block,onClick:()=>{f()}})]})})}function GQ({isRatingShow:t,isMovieShow:i,storyData:n,imgSize:o,pageScale:r,changeRatingShow:u,toggleMovieShow:d}){const{bookInfo:a,studyInfo:m,handler:g}=c.useContext(oe),f=Z=>{I(Z)},{pageNumber:h,playState:y,pageSeq:k,currentTime:_,readCnt:s,playAudio:x,pauseAudio:l,pauseAudioByWord:p,resumeAudio:S,changePlaySpeed:b,changeDuration:v,changeVolume:N,changePageNumber:j,changeAutoNextPage:C}=zQ({studyId:m.studyId,studentHistoryId:m.studentHistoryId,pageData:n,storyMode:g.storyMode,changeSideMenu:f,changeStoryMode:g.changeStoryMode,changeReadingComplete:g.changeReadingComplete}),[P,w]=c.useState(""),[q,I]=c.useState(!1),[F,U]=c.useState(!0),[L,H]=c.useState(!1),[T,O]=c.useState(!0),[R,Y]=c.useState(!1),[D,W]=c.useState(!1),B=(h+1)/n[n.length-1].Page*100;c.useEffect(()=>{m.bookmarkPage>0&&h===1&&g.storyMode==="Story"&&!g.isReadingComplete&&Number(a.BookLevel.substring(0,1))>1&&confirm("마지막으로 읽은 곳부터 시작할까요?")&&j(m.bookmarkPage%2===0?m.bookmarkPage-1:m.bookmarkPage)},[]),c.useEffect(()=>{(t||i)&&l(),!t&&!i&&y==="pause"&&S()},[t,i]),c.useEffect(()=>{w("")},[h]),c.useEffect(()=>{if(n)switch(P){case"play":break;case"left":g.storyMode==="Story"&&j(h-2);break;case"right":g.storyMode==="Story"&&j(h+2);break}},[P]),c.useEffect(()=>{N(L?0:1)},[L]),c.useEffect(()=>{const Z=()=>{document.fullscreenElement?W(!0):W(!1)};return document.body.addEventListener("fullscreenchange",Z),()=>{document.body.removeEventListener("fullscreenchange",Z)}},[document.fullscreenElement]);const $=()=>{h>1&&P===""&&g.storyMode==="Story"&&w("left")},A=()=>{h+2<=n[n.length-1].Page&&P===""&&g.storyMode==="Story"&&w("right")},M=(Z,ae)=>{g.storyMode==="Story"&&v(Z,ae)},K=Z=>{U(Z)},te=Z=>{H(Z)},se=Z=>{O(Z)},re=Z=>{Y(Z)},ce=async()=>{if(Number(a.BookLevel.substring(0,1))>1)if((await xi(m.studyId,m.studentHistoryId,h)).success)try{window.onExitStudy()}catch{location.replace("/")}else{alert("책갈피 저장에 실패했습니다.");try{window.onExitStudy()}catch{location.replace("/")}}else try{window.onExitStudy()}catch{location.replace("/")}};return e.jsxs(e.Fragment,{children:[e.jsxs($Q,{children:[e.jsx(xn,{isTextShow:F,pageSeq:k,pageNumber:h,storyData:n,currentTime:_,readCnt:s,isHighlight:T,clickSentence:M},"page-1"),e.jsx(xn,{isTextShow:F,pageSeq:k,pageNumber:h+1,storyData:n,currentTime:_,readCnt:s,isHighlight:T,clickSentence:M},"page-2")]}),g.storyMode==="Story"&&e.jsx(QQ,{turnPageLeft:$,turnPageRight:A}),e.jsx(PQ,{progressWidth:B,pageSeq:k,playState:y,isFullScreen:D,turnPageLeft:$,turnPageRight:A,changeTextShow:K,changeMuteAudio:te,changeHighlight:se,changePlaySpeed:b,changeAutoNextPage:C,playAudio:x,pauseAudio:l,resumeAudio:S,changeVocaOpen:re,changeSideMenu:f}),e.jsx(qi,{isSideOpen:q,changeSideMenu:f,changeRatingShow:u,toggleMovieShow:d,submitBookMark:ce}),e.jsx(Fi,{isVocaOpen:R,playState:y,changeVocaOpen:re,pauseStoryAudio:p,resumeStoryAudio:S})]})}function Hi(){const[t,i]=c.useState(window.innerWidth>window.innerHeight);return c.useEffect(()=>{window.addEventListener("orientationchange",()=>{const n=screen.orientation;n.type.includes("portrait")?i(!1):n.type.includes("landscape")&&i(!0)})},[]),t}function UQ({studyId:t,studentHistoryId:i,pageData:n,storyMode:o,changeSideMenu:r,changeStoryMode:u,changeReadingComplete:d}){const a=c.useMemo(()=>new Audio,[]);a.autoplay=!0;const[m,g]=c.useState(""),f=c.useRef(!0),[h,y]=c.useState(0),[k,_]=c.useState(1),s=c.useRef(!0),[x,l]=c.useState(1),[p,S]=c.useState({playPage:1,sequnce:0}),[b,v]=c.useState(0),N=Hi();c.useEffect(()=>{n&&(n.find(O=>O.Page===x&&O.SoundPath)?S({playPage:x,sequnce:0}):setTimeout(()=>{l(x+1)},2e3))},[x]),c.useEffect(()=>{const T=()=>{f.current?(f.current=!1,P()):(a.play(),g("play"))};a.addEventListener("canplaythrough",T);const O=()=>{y(a.currentTime)};a.addEventListener("timeupdate",O);const R=()=>{};a.addEventListener("pause",R);const Y=()=>{if(f.current)f.current=!1;else{const D=s.current,W=n.find(B=>B.Page===p.playPage+1);N?D?W?p.playPage%2===1?S({playPage:p.playPage+1,sequnce:0}):l(x+2):(v(b+1),g("")):g(""):D&&(W?S({playPage:p.playPage+1,sequnce:0}):(v(b+1),g("")))}};return a.addEventListener("ended",Y),j(p.playPage,p.sequnce),()=>{a.removeEventListener("canplaythrough",T),a.removeEventListener("timeupdate",O),a.removeEventListener("pause",R),a.removeEventListener("ended",Y),C()}},[p]),c.useEffect(()=>{a.playbackRate=k},[k]),c.useEffect(()=>{b===1?o==="ListenAndRepeat"?l(3):(f.current=!0,r(!0),L(1),d(t,i)):b===2&&o==="ListenAndRepeat"&&(f.current=!0,u("Story"),r(!0),L(1),d(t,i))},[b]);const j=(T,O)=>{const R=n.filter(Y=>Y.Page===T&&Y.SoundPath!=="");R.length>0&&R.length>O-1?(o==="ListenAndRepeat"&&b===1?a.src=R[0].SoundPath2:a.src=R[0].SoundPath,a.playbackRate=k,O>0&&(a.currentTime=R[O-1].StartTime/1e3)):(a.src="",a.currentTime=0)},C=()=>{a.pause(),a.src="",a.currentTime=0,g("")},P=()=>{a.pause(),g("pause")},w=()=>{a.pause()},q=()=>{g("play"),a.play()},I=T=>{_(T)},F=(T,O)=>{S({playPage:T,sequnce:O})},U=T=>{a.volume=T},L=T=>{T===1&&g(""),l(T)};return{isAutoRef:s,pageNumber:x,playState:m,pageSeq:p,currentTime:h,readCnt:b,playAudio:j,stopAudio:C,pauseAudio:P,pauseAudioByWord:w,resumeAudio:q,changePlaySpeed:I,changeDuration:F,changeVolume:U,changePageNumber:L,changeAutoNextPage:T=>{s.current=T}}}function KQ({onTouchStartHandler:t,onTouchEndHandler:i,children:n}){var g,f,h;const o=((h=(f=(g=c.useContext(oe))==null?void 0:g.bookInfo)==null?void 0:f.BookLevel)==null?void 0:h.substring(0,1))||"K",r=window.matchMedia("(orientation: landscape)").matches,u=o==="K"?480:525,d=750,a=window.innerWidth/u,m=screen.height/d;return e.jsx("div",{className:z.ebook_body_mobile_p,onTouchStart:y=>t(y),onTouchEnd:y=>i(y),children:e.jsx("div",{className:z.container,style:{transform:`scale(${r?m:a})`},children:n})})}const JQ="/study/BookReading/assets/icon_speed10-0ef1da58.svg";function go({text:t}){return e.jsx("div",{className:z.label,children:t})}function Oi({children:t}){return e.jsx("div",{className:z.select_box,children:t})}function YQ({readTypeList:t,changeReadTypeList:i,changeTextShow:n,changeMuteAudio:o,changeHighlight:r}){const{handler:u}=c.useContext(oe),d=a=>{if(u.storyMode==="Story"){const m=[...t];switch(m.map(g=>{g.selected=""}),m[a].selected="on",a){case 0:n(!0),o(!1),r(!0);break;case 1:n(!1),o(!1),r(!0);break;case 2:n(!0),o(!0),r(!1);break;case 3:n(!0),o(!1),r(!1);break}i(m)}else alert("Listen & Repeat 모드에서는 지원하지 않는 기능입니다.")};return e.jsxs(e.Fragment,{children:[e.jsx(go,{text:"읽기 모드"}),e.jsx(Oi,{children:t.map((a,m)=>e.jsxs("div",{className:`${z.select_button} ${a.selected==="on"?z.on:""}`,onClick:()=>d(m),children:[e.jsx("div",{className:z.radio}),a.name]}))})]})}function XQ({isAutoNextPage:t,changeAutoNext:i}){const{handler:n}=c.useContext(oe),[o,r]=c.useState([{name:"수동으로 넘기기",selected:t?"":"on"},{name:"자동으로 넘기기",selected:t?"on":""}]),u=d=>{if(n.storyMode==="Story"){const a=[...o];a.map(m=>{m.selected=""}),a[d].selected="on",r(a),i(d!==0)}else alert("Listen & Repeat 모드에서는 지원하지 않는 기능입니다.")};return e.jsxs(e.Fragment,{children:[e.jsx(go,{text:"책장 넘기기"}),e.jsx("div",{className:z.page_turning_mode,children:o.map((d,a)=>e.jsx("div",{className:d.selected===""?z.choose_button:`${z.choose_button} ${z.on}`,onClick:()=>{u(a)},children:d.name}))})]})}function ZQ({speedList:t,changePlaySpeedList:i,changePlaySpeed:n}){t.find(r=>r.selected==="on");const o=r=>{const u=[...t];u.map(d=>{d.selected=""}),u[r].selected="on",n(u[r].rate),i(u)};return e.jsxs(e.Fragment,{children:[e.jsx(go,{text:"읽기 속도"}),e.jsx(Oi,{children:t.map((r,u)=>e.jsxs("div",{className:`${z.select_button} ${r.selected==="on"?z.on:""}`,onClick:()=>{o(u)},children:[e.jsx("div",{className:z.radio}),r.rate,"x"]}))})]})}function eA({isBottomLeftMenuOpen:t,isAutoNextPage:i,changeTextShow:n,changeMuteAudio:o,changeHighlight:r,changePlaySpeed:u,changeAutoNext:d,toggleBottomLeft:a}){const[m,g]=c.useState("slide-in-bottom"),[f,h]=c.useState([{name:"Basic",selected:"on"},{name:"No Text",selected:""},{name:"No Audio",selected:""},{name:"No Highlight",selected:""}]),[y,k]=c.useState([{rate:.8,selected:""},{rate:1,selected:"on"},{rate:1.2,selected:""},{rate:1.5,selected:""}]),_=()=>{g("slide-out-bottom"),setTimeout(()=>{g("slide-in-bottom"),a()},500)},s=l=>{h(l)},x=l=>{k(l)};return e.jsx(e.Fragment,{children:t&&e.jsxs("div",{className:`${z.ebook_play_mode_mobile}
      ${m==="slide-in-bottom"?z.slide_in_bottom:z.slide_out_bottom}`,children:[e.jsxs("div",{className:z.container,children:[e.jsx(YQ,{readTypeList:f,changeReadTypeList:s,changeTextShow:n,changeHighlight:r,changeMuteAudio:o}),e.jsx(ZQ,{speedList:y,changePlaySpeedList:x,changePlaySpeed:u}),e.jsx(XQ,{isAutoNextPage:i,changeAutoNext:d})]}),e.jsx("div",{className:z.light_box,onClick:()=>{_()}})]})})}function tA({progressWidth:t,isAutoNextPage:i,pageSeq:n,playState:o,turnPageLeft:r,turnPageRight:u,changeTextShow:d,changeMuteAudio:a,changeHighlight:m,changePlaySpeed:g,changeAutoNext:f,playAudio:h,pauseAudio:y,resumeAudio:k,changeVocaOpen:_,changeSideMenu:s}){const{handler:x}=c.useContext(oe),[l,p]=c.useState(!1),S=()=>{p(!l)},b=window.matchMedia("(orientation: landscape)").matches;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:z.ebook_progress_bar,children:e.jsx("div",{className:z.progress,style:{width:`${t}%`}})}),e.jsxs("div",{className:`${z.ebook_play_bar} ${z.mobile}`,children:[e.jsxs("div",{className:z.ebook_play_bar_pc_area_l,children:[e.jsx("div",{className:`${z.read_mode_button} ${b&&z.landscape}`,onClick:()=>{S()},children:e.jsx("img",{src:JQ,width:30,height:30})}),e.jsx(eA,{isBottomLeftMenuOpen:l,isAutoNextPage:i,changeTextShow:d,changeMuteAudio:a,changeHighlight:m,changePlaySpeed:g,changeAutoNext:f,toggleBottomLeft:S})]}),e.jsxs("div",{className:z.ebook_play_bar_pc_area_c,children:[x.storyMode==="Story"&&e.jsx("div",{className:`${z.backward} ${b&&z.landscape}`,onClick:()=>{r()},children:e.jsx("img",{src:_o,width:40,alt:""})}),e.jsx("div",{className:`${z.play} ${b&&z.landscape}`,onClick:()=>{switch(o){case"play":case"resume":y();break;case"":case"stop":h(n.playPage,n.sequnce);break;case"pause":k();break}},children:o!=="play"?e.jsx("img",{src:Pi,width:40}):e.jsx("img",{src:Mi,width:40})}),x.storyMode==="Story"&&e.jsx("div",{className:`${z.forward} ${b&&z.landscape}`,onClick:()=>{u()},children:e.jsx("img",{src:ho,width:40,alt:""})})]}),e.jsxs("div",{className:z.ebook_play_bar_pc_area_r,children:[e.jsx("div",{className:`${z.word_button} ${b&&z.landscape}`,onTouchEnd:()=>{_(!0)},children:e.jsx("img",{src:Li,width:28,height:28,alt:""})}),e.jsx("div",{className:`${z.menu_button} ${b&&z.landscape}`,onClick:()=>{s(!0)},children:e.jsx("img",{src:Ri,width:24,height:24,alt:""})})]})]})]})}function nA({isRatingShow:t,isMovieShow:i,storyData:n,changeRatingShow:o,toggleMovieShow:r}){const{bookInfo:u,studyInfo:d,handler:a}=c.useContext(oe),m=G=>{O(G)},{pageNumber:g,playState:f,pageSeq:h,currentTime:y,readCnt:k,playAudio:_,pauseAudio:s,pauseAudioByWord:x,resumeAudio:l,changePlaySpeed:p,changeDuration:S,changeVolume:b,changePageNumber:v,changeAutoNextPage:N}=UQ({studyId:d.studyId,studentHistoryId:d.studentHistoryId,pageData:n,storyMode:a.storyMode,changeSideMenu:m,changeStoryMode:a.changeStoryMode,changeReadingComplete:a.changeReadingComplete});c.useState("");const[j,C]=c.useState(!0),[P,w]=c.useState(!0),[q,I]=c.useState(!1),[F,U]=c.useState(!0),[L,H]=c.useState(!1),[T,O]=c.useState(!1),[R,Y]=c.useState(0),[D,W]=c.useState(0),B=Hi(),$=h.playPage/n[n.length-1].Page*100;c.useEffect(()=>{d.bookmarkPage>0&&g===1&&a.storyMode==="Story"&&!a.isReadingComplete&&Number(u.BookLevel.substring(0,1))>1&&confirm("마지막으로 읽은 곳부터 시작할까요?")&&v(d.bookmarkPage%2===0?d.bookmarkPage-1:d.bookmarkPage)},[]),c.useEffect(()=>{R-D>5?M():R-D<0&&A()},[D]),c.useEffect(()=>{(t||i)&&s(),!t&&!i&&f==="pause"&&l()},[t,i]);const A=()=>{g>1&&setTimeout(()=>{if(a.storyMode==="Story"){let G;B?G=h.playPage%2===0?h.playPage-3:h.playPage-2:G=h.playPage-1,v(G)}},160)},M=()=>{let G;B?g+2<=n[n.length-1].Page&&setTimeout(()=>{a.storyMode==="Story"&&(G=h.playPage%2===0?h.playPage+1:h.playPage+2,v(G))},160):g+1<=n[n.length-1].Page&&setTimeout(()=>{a.storyMode==="Story"&&(G=h.playPage+1,v(G))},160)};c.useEffect(()=>{b(q?0:1)},[q]);const K=G=>{const V=G.changedTouches[0].pageX;Y(V)},te=G=>{const V=G.changedTouches[0].pageX;W(V)},se=(G,V)=>{a.storyMode==="Story"&&S(G,V)},re=G=>{w(G)},ce=G=>{I(G)},Z=G=>{U(G)},ae=G=>{C(G),N(G)},E=G=>{H(G)},J=async()=>{if(Number(u.BookLevel.substring(0,1))>1)if((await xi(d.studyId,d.studentHistoryId,g)).success)try{window.onExitStudy()}catch{location.replace("/")}else{alert("책갈피 저장에 실패했습니다.");try{window.onExitStudy()}catch{location.replace("/")}}else try{window.onExitStudy()}catch{location.replace("/")}};return e.jsxs(e.Fragment,{children:[e.jsx(KQ,{onTouchStartHandler:K,onTouchEndHandler:te,children:e.jsx(e.Fragment,{children:B&&!ro?e.jsxs(e.Fragment,{children:[e.jsx(xn,{isTextShow:P,pageSeq:h,pageNumber:h.playPage%2===1?h.playPage:h.playPage-1,storyData:n,currentTime:y,readCnt:k,isHighlight:F,clickSentence:se}),e.jsx(xn,{isTextShow:P,pageSeq:h,pageNumber:h.playPage%2===1?h.playPage+1:h.playPage,storyData:n,currentTime:y,readCnt:k,isHighlight:F,clickSentence:se})]}):e.jsx(xn,{isTextShow:P,pageSeq:h,pageNumber:h.playPage,storyData:n,currentTime:y,readCnt:k,isHighlight:F,clickSentence:se})})}),e.jsx(tA,{progressWidth:$,isAutoNextPage:j,pageSeq:h,playState:f,turnPageLeft:A,turnPageRight:M,changeTextShow:re,changeMuteAudio:ce,changeHighlight:Z,changePlaySpeed:p,changeAutoNext:ae,playAudio:_,pauseAudio:s,resumeAudio:l,changeVocaOpen:E,changeSideMenu:m}),e.jsx(qi,{isSideOpen:T,changeSideMenu:m,changeRatingShow:o,toggleMovieShow:r,submitBookMark:J}),e.jsx(Fi,{isVocaOpen:L,playState:f,changeVocaOpen:E,pauseStoryAudio:x,resumeStoryAudio:l})]})}function Di({starCount:t,changeStarCount:i}){const n=[1,2,3,4,5];return e.jsx("div",{className:z.chooseRating,children:n.map((o,r)=>{const u=r+1;return e.jsx("div",{className:t>=u?z.btnStarOn:z.btnStarOff,onClick:()=>{i(u)}},r)})})}function sA({changeRatingShow:t}){const{bookInfo:i,studyInfo:n,handler:o}=c.useContext(oe),[r,u]=c.useState(3),d=m=>{u(m)},a=async()=>{(await _i(n.studyId,n.studentHistoryId,r*10)).success&&o.changeView("quiz")};return e.jsx("div",{className:`${z.ebookRating}`,children:e.jsxs("div",{className:`${z.container} animate__animated animate__zoomIn`,children:[e.jsx("div",{className:z.groupBookcover,children:e.jsx("img",{className:z.imgBookcover,src:`${i.SurfaceImage}`})}),e.jsxs("div",{className:z.groupChoose,children:[e.jsx("div",{className:z.txtQuestion,children:"How do you like this book?"}),e.jsx("div",{className:z.groupChooseRating,children:e.jsx(Di,{starCount:r,changeStarCount:d})}),e.jsxs("div",{className:z.groupConfirm,children:[e.jsx("button",{className:`${z.btnConfirm} ${z.gray}`,onClick:()=>{t(!1)},children:"다시읽기"}),e.jsx("button",{className:`${z.btnConfirm} ${z.blue}`,onClick:()=>{o.isPreference?o.changeView("quiz"):a()},children:"퀴즈 풀기"})]})]}),e.jsxs("div",{className:z.groupComment,children:[e.jsx("span",{className:z.icoExclamationMark}),e.jsxs("span",{className:z.txtComment,children:["모든 학습을 완료하고 ",e.jsx("b",{children:"평균 70점을 넘어야 포인트를 획득"}),"할 수 있습니다."]})]})]})})}function oA({toggleMovieShow:t}){const{studyInfo:i,bookInfo:n}=c.useContext(oe),o=()=>{nr(i.studyId,i.studentHistoryId)};return e.jsx("div",{className:z.movieContents,children:e.jsxs("div",{className:z.container,children:[JSON.parse(JSON.stringify(n.AnimationPath))===""||!n.AnimationPath?"No Movie Book":e.jsx("video",{width:"100%",height:"100%",controls:!0,onEnded:()=>{o()},children:e.jsx("source",{src:JSON.parse(JSON.stringify(n.AnimationPath)),type:"video/mp4"})}),e.jsx("div",{className:z.btnDelete,onClick:()=>t(!1)})]})})}function iA(){const{bookInfo:t,handler:i}=c.useContext(oe);return e.jsx("div",{className:`${z.ebookRating}`,children:e.jsxs("div",{className:`${z.container} animate__animated animate__zoomIn`,children:[e.jsx("div",{className:z.groupBookcover,children:e.jsx("img",{className:z.imgBookcover,src:`${t.SurfaceImage}`})}),e.jsx("div",{className:z.groupComment,children:e.jsxs("span",{className:z.txtComment,children:[e.jsxs("div",{children:["이미 한번 ",e.jsx("b",{children:"포인트를 획득한 학습"}),"입니다."]}),e.jsx("div",{children:"두번째 학습을 통과하여도 50% 포인트만 획득할 수 있습니다."}),e.jsx("div",{children:"계속 학습하시겠습니까?"})]})}),e.jsx("div",{className:z.groupChoose,children:e.jsxs("div",{className:z.groupConfirm,children:[e.jsx("button",{className:`${z.btnConfirm} ${z.blue}`,onClick:()=>{i.changeView("quiz")},children:"네"}),e.jsx("button",{className:`${z.btnConfirm} ${z.gray}`,onClick:()=>{try{window.onExitStudy()}catch{location.replace("/")}},children:"아니오"})]})})]})})}function rA(){const{bookInfo:t,handler:i}=c.useContext(oe);return e.jsx("div",{className:`${z.ebookRating}`,children:e.jsxs("div",{className:`${z.container} animate__animated animate__zoomIn`,children:[e.jsx("div",{className:z.groupBookcover,children:e.jsx("img",{className:z.imgBookcover,src:`${t.SurfaceImage}`})}),e.jsx("div",{className:z.groupComment,children:e.jsxs("span",{className:z.txtComment,children:[e.jsx("div",{children:"이미 두 번 포인트를 획득한 학습입니다."}),e.jsx("div",{children:e.jsx("b",{style:{color:"red"},children:"더 이상 포인트를 획득할 수 없습니다."})}),e.jsx("div",{children:"계속 학습하시겠습니까?"})]})}),e.jsx("div",{className:z.groupChoose,children:e.jsxs("div",{className:z.groupConfirm,children:[e.jsx("button",{className:`${z.btnConfirm} ${z.blue}`,onClick:()=>{i.changeView("quiz")},children:"네"}),e.jsx("button",{className:`${z.btnConfirm} ${z.gray}`,onClick:()=>{try{window.onExitStudy()}catch{location.replace("/")}},children:"아니오"})]})})]})})}const aA=new Q(navigator.userAgent),Ps=aA.phone();function ai(){const{bookInfo:t,studyInfo:i}=c.useContext(oe),[n,o]=c.useState(),[r,u]=c.useState(!1),[d,a]=c.useState(!1),{imgSize:m,preloadImage:g}=eC(),[f,h]=c.useState(window.innerHeight),[y,k]=c.useState(1);c.useEffect(()=>{n||(async()=>{const l=await sr(i.studyId,i.studentHistoryId);l&&(o(l),g(l))})()},[n]),c.useEffect(()=>{const x=()=>{Ps?(h(window.innerHeight),k(screen.width/m.width)):(h(window.innerHeight),k(window.innerHeight/m.height*.9))};return x(),window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x)}},[Ps,m,f]);const _=x=>{u(x)},s=x=>{a(x)};return n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:z.ebook,style:{backgroundImage:`url('${t.BackgroundImage}')`,height:f},children:Ps?e.jsx(nA,{isRatingShow:r,isMovieShow:d,storyData:n,changeRatingShow:_,toggleMovieShow:s}):e.jsx(GQ,{isRatingShow:r,isMovieShow:d,storyData:n,imgSize:m,pageScale:y,changeRatingShow:_,toggleMovieShow:s})}),r&&t.PassCount===0&&e.jsx(sA,{changeRatingShow:_,studyCount:t.StudyMode}),r&&t.PassCount===1&&e.jsx(iA,{}),r&&t.PassCount===2&&e.jsx(rA,{}),d&&e.jsx(oA,{toggleMovieShow:s})]}):e.jsx(e.Fragment,{children:"Loading..."})}const cA="_btnExit_1jkel_9",uA="_mobile_1jkel_25",lA="_active_1jkel_30",dA="_screenBlock_1jkel_34",mA="_screenBgColor_1jkel_48",xA="_speakButtonArea_1jkel_60",_A="_startButton_1jkel_68",hA="_recAni_1jkel_90",pA="_speackBodyBg_1jkel_98",gA="_speackBodyBgColor_1jkel_103",yA="_speakBody_1jkel_116",fA="_ebookViewer_1jkel_139",kA="_speakEbookPage_1jkel_154",bA="_levelK_1jkel_159",SA="_level1_1jkel_164",wA="_level2_1jkel_169",vA="_playBar_1jkel_176",jA="_progress_1jkel_189",zA="_progressBar_1jkel_194",$A="_recProgress_1jkel_199",CA="_runReady_1jkel_208",QA="_txtSome_1jkel_217",AA="_btnSpeakPlay_1jkel_224",NA="_icon_1jkel_239",TA="_play_1jkel_176",IA="_record_1jkel_250",BA="_txtWord_1jkel_253",EA="_runEbookAudioPlay_1jkel_260",PA="_runVoiceRecord_1jkel_267",MA="_txtLabel_1jkel_275",LA="_runVoicePlay_1jkel_281",RA="_lottieVoicePlay_1jkel_289",qA="_runCorrectSign_1jkel_296",FA="_runIncorrectSign_1jkel_313",HA="_t_1jkel_217",OA="_result_1jkel_337",DA="_groupResultMark_1jkel_350",WA="_txt_1jkel_217",VA="_popUp_1jkel_368",GA="_row1_1jkel_378",UA="_btn_1jkel_9",KA="_gray_1jkel_397",JA="_blue_1jkel_401",YA="_retry_1jkel_405",XA="_iconSpeaker_1jkel_411",ZA="_iconRetry_1jkel_419",eN="_row2_1jkel_427",tN="_graph_1jkel_436",nN="_wrapperProgress_1jkel_443",sN="_native_1jkel_454",oN="_progressArrow_1jkel_457",iN="_student_1jkel_468",rN="_sentence_1jkel_482",aN="_word_1jkel_489",cN="_red_1jkel_493",uN="_phonemes_1jkel_496",lN="_wordContainer_1jkel_507",dN="_phonemeResult_1jkel_531",mN="_phoneme_1jkel_496",xN="_orange_1jkel_542",_N="_green_1jkel_545",hN="_phonemeScore_1jkel_548",pN="_btnToggle_1jkel_561",gN="_icoChev_1jkel_574",yN="_rotate_1jkel_584",fN="_row3_1jkel_587",kN="_goodJob_1jkel_600",bN="_tryAgain_1jkel_603",SN="_iconArrow_1jkel_612",wN="_wrapperResult_1jkel_621",vN="_resultMark_1jkel_648",jN="_btnExitResult_1jkel_666",zN="_visualizer_1jkel_694",ee={btnExit:cA,mobile:uA,active:lA,screenBlock:dA,screenBgColor:mA,speakButtonArea:xA,startButton:_A,recAni:hA,speackBodyBg:pA,speackBodyBgColor:gA,speakBody:yA,ebookViewer:fA,speakEbookPage:kA,levelK:bA,level1:SA,level2:wA,playBar:vA,progress:jA,progressBar:zA,recProgress:$A,runReady:CA,txtSome:QA,btnSpeakPlay:AA,icon:NA,play:TA,record:IA,txtWord:BA,runEbookAudioPlay:EA,runVoiceRecord:PA,txtLabel:MA,runVoicePlay:LA,lottieVoicePlay:RA,runCorrectSign:qA,runIncorrectSign:FA,t:HA,result:OA,groupResultMark:DA,txt:WA,popUp:VA,row1:GA,btn:UA,gray:KA,blue:JA,retry:YA,iconSpeaker:XA,iconRetry:ZA,row2:eN,graph:tN,wrapperProgress:nN,native:sN,progressArrow:oN,student:iN,sentence:rN,word:aN,red:cN,phonemes:uN,wordContainer:lN,phonemeResult:dN,phoneme:mN,orange:xN,green:_N,phonemeScore:hN,btnToggle:pN,icoChev:gN,rotate:yN,row3:fN,goodJob:kN,tryAgain:bN,iconArrow:SN,wrapperResult:wN,resultMark:vN,btnExitResult:jN,"btn-exit":"_btn-exit_1jkel_688",visualizer:zN},$N="/study/BookReading/assets/dodo_23_1-f9dd096b.png";function CN({startRecord:t}){const[i,n]=c.useState(!1);return c.useEffect(()=>{setTimeout(()=>{n(!i)},3e3)},[]),e.jsxs("button",{className:`${ee.btnSpeakPlay} ${i&&"heartbeat"}`,onClick:()=>{n(!1),t()},children:[e.jsx("div",{className:`${ee.icon} ${ee.record}`}),e.jsx("div",{className:ee.txtWord,children:"Speak!"})]})}function QN({playSentence:t}){return e.jsxs("button",{className:ee.btnSpeakPlay,onClick:()=>t(),children:[e.jsx("div",{className:`${ee.icon} ${ee.play}`}),e.jsx("div",{className:ee.txtWord,children:"Listen"})]})}function AN({playSentence:t,startRecord:i}){return e.jsxs("div",{className:`${ee.runReady} animate__animated animate__slideInUp`,children:[e.jsx(QN,{playSentence:t}),e.jsx("div",{className:ee.txtSome,children:"&"}),e.jsx(CN,{startRecord:i})]})}function NN(){return e.jsx("div",{className:`${ee.runVoiceRecord} animate__animated animate__slideInUp`,children:e.jsx($i,{})})}function TN(){return e.jsx("div",{className:`${ee.runEbookAudioPlay} animate__animated animate__slideInUp`,children:e.jsx(I2,{})})}function Wi({progressWidth:t,playBarState:i,nativeAudio:n,playSentence:o,startRecord:r}){const d=c.useRef(new Audio(n)).current,a=c.useRef(null);let m;return c.useEffect(()=>{if(a.current&&i==="recording"&&n){let g=0;const f=d.duration>=5?1.4:1.2,h=d.duration*1e3*f;m=setInterval(()=>{g+=25,a.current&&(g/h>1?clearInterval(m):a.current.style.width=`${g/h*100}%`)},25)}else clearInterval(m);return()=>{clearInterval(m)}},[i]),e.jsx("div",{children:e.jsxs("div",{className:ee.playBar,children:[e.jsx("div",{className:ee.progress,children:e.jsx("div",{className:ee.progressBar,style:{width:`${t}%`}})}),e.jsxs("div",{className:ee.wrapperAnims,children:[i===""&&e.jsx(AN,{playSentence:o,startRecord:r}),i==="playing-sentence"&&e.jsx(TN,{}),i==="recording"&&e.jsxs(e.Fragment,{children:[e.jsx(NN,{}),e.jsx("div",{ref:a,className:ee.recProgress})]})]})]})})}function IN({pageNumber:t,sentence:i,sequence:n,marginTop:o,marginLeft:r}){const u=d=>{const a=/id=\"t/g;let m=d.replace(a,`id="t_${t}_`);if(n!==999){const g=/ id=\"t/g;m=m.replace(g,` style='margin-top: ${o}px; margin-left: ${r}px;' id="t`)}else if(n===999){const g=/ id=\"t/g;m=m.replace(g,` style='margin-top: ${o}px; margin-left: ${r}px;' id="t`)}return m};return e.jsx("div",{dangerouslySetInnerHTML:{__html:u(i)}})}function BN({pageNumber:t,sentence:i,marginTop:n,marginLeft:o,sequence:r,color:u,clickSentence:d}){const a=g=>{const f=/id=\"t/g;return g.replace(f,`style='margin-top: ${n}px; margin-left: ${o}px; background-color:${u}; cursor:pointer;' id="t_${t}_`)},m=()=>{r!==999&&d(t,r)};return e.jsx("div",{dangerouslySetInnerHTML:{__html:a(i)},onClick:()=>m()})}function Ms({pageNumber:t,pageSeq:i,speakData:n,clickSentence:o}){const[r,u]=c.useState(""),[d,a]=c.useState(),[m,g]=c.useState(),[f,h]=c.useState(""),[y,k]=c.useState(t);return c.useEffect(()=>{var _,s;if(n){const x=(_=n.find(S=>S.Page===t&&S.Sequence===999))==null?void 0:_.Css;if(x){const S=/\#t/g,b=x.replace(S,`#t_${t}_`);u(b)}const l=(s=n.find(S=>S.Page===t&&S.Sequence===999))==null?void 0:s.ImagePath,p=n.filter(S=>S.Page===t);g(l),a(p),y<t?(k(t),h("slide-in-right"),setTimeout(()=>{h("")},100)):(k(t),h("slide-in-left"),setTimeout(()=>{h("")},100))}},[t]),e.jsxs("div",{style:{backgroundImage:`url(${m})`},className:`${ee.speakEbookPage} ${ee.level1}`,children:[e.jsx("div",{dangerouslySetInnerHTML:{__html:r}}),d&&d.map(_=>i.playPage===t&&_.Sequence!==999&&_.Sequence===i.sequnce?e.jsx(BN,{pageNumber:t,sequence:_.Sequence,sentence:_.Contents,marginTop:_.MarginTop,marginLeft:_.MarginLeft,color:_.FontColor,clickSentence:o}):e.jsx(IN,{pageNumber:t,sequence:_.Sequence,sentence:_.Contents,marginTop:_.MarginTop,marginLeft:_.MarginLeft}))]})}const EN=new Q(navigator.userAgent),ci=EN.phone();function Vi({pageNumber:t,pageSeq:i,speakData:n,clickSentence:o}){var d,a,m;const r=((m=(a=(d=c.useContext(oe))==null?void 0:d.bookInfo)==null?void 0:a.BookLevel)==null?void 0:m.substring(0,1))||"K";let u;if(ci){const g=window.innerWidth,f=r==="k"?480:525,h=g/f,y=g/f*750/2;u={transform:`scale(${h})`,top:`calc(50% - ${y+4}px)`}}else u={transform:`scale(${(window.innerHeight-92)/750||1})`};return e.jsx("div",{className:ee.speakBody,children:e.jsx("div",{style:u,className:ee.ebookViewer,children:ci?e.jsx(Ms,{pageNumber:t,pageSeq:i,speakData:n,clickSentence:o}):e.jsxs(e.Fragment,{children:[e.jsx(Ms,{pageNumber:t%2===0?t-1:t,pageSeq:i,speakData:n,clickSentence:o}),e.jsx(Ms,{pageNumber:t%2===0?t:t+1,pageSeq:i,speakData:n,clickSentence:o})]})})})}function Gi(){return e.jsx("div",{children:e.jsx("button",{className:ee.btnExit,onClick:()=>window.onExitStudy()})})}function Ui({speakData:t,quizIndex:i,changeQuizIndex:n,changePlayBarState:o}){const u=c.useRef(new Audio).current;u.autoplay=!0;const[d,a]=c.useState({playPage:t[i].Page,sequnce:t[i].Sequence});c.useEffect(()=>{t&&(t[i].Sequence===999?n(i+1):a({playPage:t[i].Page,sequnce:t[i].Sequence}))},[i]),c.useEffect(()=>{const h=()=>{u.play().then(()=>{o("playing-sentence")}).catch(k=>{o("reset")}).finally(()=>{console.log("finally")})},y=()=>{o("")};return u.addEventListener("canplaythrough",h),u.addEventListener("ended",y),m("",d.playPage,d.sequnce),()=>{u.removeEventListener("canplaythrough",h),u.removeEventListener("ended",y),g()}},[d]);const m=async(h,y,k)=>{if(h===""){const _=t.find(s=>s.Page===y&&s.Sequence===d.sequnce);_?(await fetch(_.SoundPath)).ok&&(u.src=_.SoundPath):(u.src="",u.currentTime=0)}},g=()=>{u.pause(),u.src="",u.currentTime=0,o("")};return{pageSeq:d,playAudio:m,stopAudio:g,changePageSeq:(h,y)=>{a({playPage:h,sequnce:y})}}}const PN="https://api.readinggate.elasolution.com",MN="e874641aac784ff6b9d62c3483f7aaaa";function Ki(){const[t,i]=c.useState(""),n=(r,u,d,a)=>{try{const m=new Audio(u),g=()=>{const f=m.duration>=5?1.4:1.2,h=Math.ceil(m.duration*1e3*f);if(navigator.mediaDevices.getUserMedia){console.log("The mediaDevices.getUserMedia() method is supported.");const y=s=>{d("recording");const x=new MediaRecorder(s),l=[];x.ondataavailable=p=>{l.push(p.data)},x.onstop=()=>{s.getTracks().forEach(function(b){b.stop()});const p=new Blob(l,{type:x.mimeType}),S=new File([p],"student_audio.mp3",{type:"audio/mp3"});i(URL.createObjectURL(p)),o(S,u,r,a)},x.onerror=p=>{alert(p)},x.start(),setTimeout(()=>{x.stop()},h)},k=s=>{d("reset"),console.error("The following error occured: "+s)},_={audio:!0};navigator.mediaDevices.getUserMedia(_).then(y,k).catch(s=>{console.log(s.name),console.log(s.message)})}else d("reset"),alert("MediaDevices.getUserMedia() not supported on your browser!")};ro?m.addEventListener("loadedmetadata",g):m.addEventListener("canplaythrough",g)}catch(m){alert(m)}},o=async(r,u,d,a)=>{const m=await LN(u),g=new FormData;g.append("student_audio",r),g.append("text",d),g.append("get_phoneme_result",!0),g.append("native_audio",m),ts.post(`${PN}/pron_v2/`,g,{headers:{"X-API-Key":MN,"Content-Type":"multipart/form-data"}}).then(f=>{switch(console.log(f),f.status){case 200:a(f.data);break;case 401:alert("인증키가 잘못되었습니다. 리딩게이트로 전화주세요. 1599-0533");break;case 403:alert(f.data);break;case 422:alert(f.data);break}}).catch(f=>{console.error(f)})};return{userAudio:t,startRecording:n}}const LN=async t=>{const n=await(await fetch(t)).blob(),o=t.split(".").pop(),r=t.split("/").pop(),u={type:`image/${o}`};return new File([n],r,u)},RN=new Q(navigator.userAgent),qN=RN.phone();function ui({src:t,color:i}){const n=c.useRef(null);c.useEffect(()=>{(async()=>{try{const a=await fetch(t);if(a.status===200){const m=new AudioContext,g=new FileReader,f=await a.blob(),h=await f.arrayBuffer(),y=async()=>{m.decodeAudioData(h).then(k=>{u(r(o(k)))})};g.addEventListener("load",y),g.readAsArrayBuffer(f)}}catch(a){alert(a)}})()},[]);const o=d=>{const a=[],m=d.getChannelData(0),g=Math.floor(d.duration*10),f=Math.floor(m.length/g);for(let h=0;h<g;h++){let y=f*h,k=0;if(h===0)for(let _=0;_<f;_++)k=k+Math.abs(m[y+_]);else for(let _=0;_<f;_++)k=k+Math.abs(m[y-_]);a.push(k/f)}return a},r=d=>{const a=Math.max(...d),m=Math.pow(a,-1);return d.map(f=>f*m)},u=d=>{if(n.current){const a=n.current.getContext("2d"),m=800/window.innerWidth||1;if(a){n.current.style.width="100%",n.current.style.height="100%",n.current.width=n.current.offsetWidth,n.current.height=n.current.offsetHeight,a.scale(m,1),a.clearRect(0,0,n.current.width,n.current.height),a.lineWidth=qN?1:3,a.strokeStyle=i,a.beginPath();let g=n.current.width*(window.innerWidth/800)/(d.length-1),f=0;a.moveTo(f-1,n.current.height);for(let h=0;h<d.length-1;h++){let y=d[h]>.5?d[h]*.97:d[h],k=d[h+1]>.5?d[h+1]*.97:d[h+1],_=n.current.height*(1-y),s=n.current.height*(1-k);h===0&&a.lineTo(f-1,_);let x=f+g,l=(f+x)/2,p=(_+s)/2,S=(l+f)/2,b=(l+x)/2;a.quadraticCurveTo(S,_,l,p),a.quadraticCurveTo(b,s,x,s),f+=g}a.stroke(),a.lineTo(n.current.width,n.current.height)}}};return e.jsx("div",{className:ee.visualizer,children:e.jsx("canvas",{ref:n,style:{position:"relative"}})})}function Ji({isRetry:t,sentence:i,sentenceScore:n,tryCount:o,nativeAudio:r,userAudio:u,changeRecordResult:d,changeRetry:a}){const m=c.useRef(new Audio(r)),g=c.useRef(new Audio(u)),[f,h]=c.useState(0),y=m.current,k=g.current,[_,s]=c.useState(0),[x,l]=c.useState(!1);c.useEffect(()=>{fa();let v,N;const j=()=>{v=setInterval(()=>{const L=y.currentTime/y.duration;L===0?clearInterval(v):h(L)},25)},C=L=>{console.log(L.error),alert(L.error)},P=()=>{y.currentTime=0,clearInterval(v),h(0)},w=()=>{clearInterval(v),h(0)},q=()=>{const L=y.duration>=5?1.4:1.2,H=y.duration*L;N=setInterval(()=>{const T=k.currentTime/(k.duration===1/0?H:k.duration);T===0?clearInterval(N):s(T)},25)},I=L=>{console.log(L.error),alert(L.error)},F=()=>{k.currentTime=0,clearInterval(N),s(0)},U=()=>{clearInterval(N),s(0)};return y.addEventListener("playing",j),y.addEventListener("error",C),y.addEventListener("pause",P),y.addEventListener("ended",w),k.addEventListener("playing",q),k.addEventListener("error",I),k.addEventListener("pause",F),k.addEventListener("ended",U),()=>{y.removeEventListener("playing",j),y.removeEventListener("error",C),y.removeEventListener("pause",P),y.removeEventListener("ended",w),k.removeEventListener("playing",q),k.removeEventListener("error",I),k.removeEventListener("pause",F),k.removeEventListener("ended",U),y.pause(),k.pause(),clearInterval(v),clearInterval(N)}},[]);const p=()=>{k.pause(),y.play()},S=()=>{y.pause(),k.play()},b=()=>{d(!1)};return e.jsx("div",{className:ee.screenBlock,children:e.jsxs("div",{className:ee.popUp,children:[e.jsxs("div",{className:ee.row1,children:[e.jsxs("div",{className:`${ee.btn} ${ee.gray}`,onClick:()=>p(),children:[e.jsx("span",{children:"Native"}),e.jsx("span",{className:ee.iconSpeaker})]}),e.jsxs("div",{className:`${ee.btn} ${ee.gray}`,onClick:()=>S(),children:[e.jsx("span",{children:"My"}),e.jsx("span",{className:ee.iconSpeaker})]}),(n.total_score>=40||t)&&e.jsx(e.Fragment,{children:e.jsx("div",{className:`${ee.btn} ${ee.retry}`,onClick:()=>{t?b():a(!0)},children:e.jsx("span",{className:ee.iconRetry})})})]}),e.jsxs("div",{className:ee.row2,children:[e.jsxs("div",{className:ee.graph,children:[e.jsx(ui,{src:r,color:"#d2d2d2"}),e.jsx(ui,{src:u,color:n.total_score>40?"#3ab6ff":"#ff2424"}),e.jsxs("div",{className:ee.wrapperProgress,children:[e.jsx("div",{style:{left:`${f*100}%`},className:`${ee.progressBar} ${ee.native}`,children:e.jsx("div",{className:ee.progressArrow})}),e.jsx("div",{style:{left:`${_*100}%`},className:`${ee.progressBar} ${ee.student} ${n.total_score>40?ee.passed:null}`,children:e.jsx("div",{className:ee.progressArrow})})]})]}),e.jsx("div",{className:ee.sentence,children:n.phoneme_result.words.map((v,N)=>{const j=v.phonemes.reduce((P,w)=>P+w.score,0)/v.phonemes.length,C=i.split(" ");return e.jsx("div",{className:`${ee.word} ${j<30?ee.red:""}`,children:C[N]})})}),e.jsx("div",{className:ee.phonemes,style:{display:x?"flex":"none"},children:n.phoneme_result.words.map(v=>e.jsxs("div",{className:ee.wordContainer,children:[e.jsx("div",{className:ee.row1,children:v.word}),e.jsx("div",{className:ee.row2,children:v.phonemes.map(N=>e.jsxs("div",{className:ee.phonemeResult,children:[e.jsx("div",{className:`${ee.phoneme} 
                            ${N.score<30&&ee.red}
                            ${N.score>=30&&N.score<70&&ee.orange}  
                            ${N.score>=70&&ee.green}  
                            `,children:N.phoneme}),e.jsxs("div",{className:ee.phonemeScore,children:[Math.floor(N.score),"%"]})]}))})]}))}),e.jsxs("div",{className:ee.btnToggle,onClick:()=>{l(!x)},children:[x?"close":"detail",e.jsx("span",{className:`${ee.icoChev} ${x&&ee.rotate}`})]})]}),e.jsxs("div",{className:`${ee.row3} ${n.total_score>=40?ee.goodJob:ee.tryAgain}`,onClick:()=>{t?a(!1):b()},children:[n.total_score>=40?e.jsx("div",{className:ee.txt,children:"Good Job!"}):e.jsx(e.Fragment,{children:t?e.jsx(e.Fragment,{children:e.jsx("div",{className:ee.txt,children:"Try Again"})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:ee.txt,children:["Try Again (",o+1," / 3)"]})})}),e.jsx("div",{className:ee.iconArrow})]})]})})}const FN="/study/BookReading/assets/good_job-1825e699.mp3",HN="/study/BookReading/assets/good_effort-991632df.mp3",ON=new Q(navigator.userAgent),nn=ON.phone();function Yi({isPass:t}){const{handler:i,bookInfo:n}=c.useContext(oe);return c.useEffect(()=>{Rs(t?FN:HN)},[]),e.jsx("div",{className:`${ee.wrapperResult} ${nn?"mobile":""}`,style:{backgroundImage:`url(${n.BackgroundImage})`},children:e.jsxs("div",{className:ee.resultMark,children:[t?e.jsxs(e.Fragment,{children:[e.jsx(B2,{width:nn?300:450,height:nn?300:450}),e.jsx("div",{className:ee.txt,children:"Good Job!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(E2,{width:nn?320:500,height:nn?160:350}),e.jsx("div",{className:ee.txt,children:"Good Effort"})]}),e.jsx("button",{className:`${ee.btnExitResult} ${nn?"mobile":""}`,onClick:()=>{i.changeView("story")}})]})})}const DN=new Q(navigator.userAgent),WN=DN.phone();function VN({playBarState:t,tryCount:i,speakData:n,isRetry:o,quizIndex:r,changeQuizIndex:u,changePlayBarState:d,increaseTryCount:a,resetTryCount:m,changeTryCount:g,changeRetry:f}){const{studyInfo:h}=c.useContext(oe),y=c.useRef(!1),k=c.useRef(""),[_,s]=c.useState(!1),{pageSeq:x,playAudio:l,stopAudio:p,changePageSeq:S}=Ui({speakData:n,quizIndex:r,changeQuizIndex:u,changePlayBarState:d}),{userAudio:b,startRecording:v}=Ki(),[N,j]=c.useState(window.innerWidth),[C,P]=c.useState(window.innerHeight),[w,q]=c.useState(),[I,F]=c.useState(!1);c.useEffect(()=>{const W=()=>{j(window.innerWidth),P(window.innerHeight)};return W(),window.addEventListener("resize",W),()=>{window.removeEventListener("resize",W)}},[WN,C]),c.useEffect(()=>{w&&(w.total_score>=40||i+1>=3?O(w.total_score):F(!0))},[w]),c.useEffect(()=>{t===""?(q(void 0),y.current=!1):t==="reset"&&d("")},[t]),c.useEffect(()=>{if(w&&!I){const B=!(n.filter(($,A)=>$.Sentence!==null&&A>r&&$.QuizNo>0).length>0);o?(y.current=!1,g(-1),d(""),L(),q(void 0)):w.total_score>=40||i+1>=3||i===-1?B?s(!0):u(r+1):a()}},[I]),c.useEffect(()=>{(o||w)&&R(!1)},[o]),c.useEffect(()=>{q(void 0),m(),y.current=!1},[r]),c.useEffect(()=>{i>=3?F(!0):(y.current=!1,L(),d(""))},[i]);const U=()=>{y.current||L()},L=()=>{y.current||(y.current=!0,d("playing-sentence"),l("",x.playPage,x.sequnce))},H=W=>{q(W)},T=()=>{y.current||(y.current=!0,p(),v(n[r].Sentence,n[r].SoundPath,d,H))},O=async W=>{const $=!(n.filter((K,te)=>K.Sentence!==null&&te>r&&K.Sequence!==999).length>0),A={studyId:h.studyId,studentHistoryId:h.studentHistoryId,challengeNumber:n[0].ChallengeNumber,page:n[r].Page,sequence:n[r].Sequence,quizNo:n[r].QuizNo,sentence:n[r].Sentence,scoreOverall:W,wordsJson:JSON.stringify(w),isLastQuiz:$};let M;o?M={result:0,resultMessage:""}:M=await hi(A),Number(M.result)===0&&(F(!0),(M.resultMessage==="PASS"||M.resultMessage==="FAIL")&&(k.current=M.resultMessage))},R=W=>{F(W)},Y=n.filter(W=>W.QuizNo!==null&&W.QuizNo>0).length,D=n[r].QuizNo/Y*100;return e.jsx(e.Fragment,{children:_?e.jsx(Yi,{isPass:k.current==="PASS"}):e.jsx(e.Fragment,{children:e.jsxs("div",{style:{width:N,height:C},children:[e.jsx(Gi,{}),e.jsx(Vi,{pageNumber:x.playPage,pageSeq:x,speakData:n,clickSentence:U}),e.jsx(Wi,{progressWidth:D,playBarState:t,nativeAudio:n[r].SoundPath,playSentence:L,startRecord:T}),I?e.jsx(e.Fragment,{children:w&&e.jsx(Ji,{isRetry:o,sentence:n[r].Sentence,sentenceScore:w,tryCount:i,nativeAudio:n[r].SoundPath,userAudio:b,changeRecordResult:R,changeRetry:f})}):e.jsx(e.Fragment,{})]})})})}const GN=new Q(navigator.userAgent),UN=GN.phone();function KN({playBarState:t,tryCount:i,speakData:n,isRetry:o,quizIndex:r,changeQuizIndex:u,changePlayBarState:d,increaseTryCount:a,resetTryCount:m,changeTryCount:g,changeRetry:f}){const{studyInfo:h}=c.useContext(oe),y=c.useRef(!1),k=c.useRef(""),[_,s]=c.useState(!1),{pageSeq:x,playAudio:l,stopAudio:p,changePageSeq:S}=Ui({speakData:n,quizIndex:r,changeQuizIndex:u,changePlayBarState:d}),{userAudio:b,startRecording:v}=Ki(),[N,j]=c.useState(window.innerWidth),[C,P]=c.useState(window.innerHeight),[w,q]=c.useState(),[I,F]=c.useState(!1);c.useEffect(()=>{const D=()=>{j(window.innerWidth),P(window.innerHeight)};return D(),window.addEventListener("resize",D),()=>{window.removeEventListener("resize",D)}},[UN,C]),c.useEffect(()=>{w&&(w.total_score>=40||i+1>=3?O(w.total_score):F(!0))},[w]),c.useEffect(()=>{t===""?(q(void 0),y.current=!1):t==="reset"&&d("")},[t]),c.useEffect(()=>{if(w&&!I){const W=!(n.filter((B,$)=>B.Sentence!==null&&$>r&&B.QuizNo>0).length>0);o?(y.current=!1,g(-1),d(""),L(),q(void 0)):w.total_score>=40||i+1>=3||i===-1?W?s(!0):u(r+1):a()}},[I]),c.useEffect(()=>{(o||w)&&R(!1)},[o]),c.useEffect(()=>{q(void 0),m(),y.current=!1},[r]),c.useEffect(()=>{i>=3?F(!0):(y.current=!1,L(),d(""))},[i]);const U=()=>{y.current||L()},L=()=>{y.current||(y.current=!0,d("playing-sentence"),l("",x.playPage,x.sequnce))},H=D=>{q(D)},T=()=>{y.current||(y.current=!0,p(),v(n[r].Sentence,n[r].SoundPath,d,H))},O=async D=>{const B=!(n.filter((M,K)=>M.Sentence!==null&&K>r&&M.QuizNo>0).length>0),$={studyId:h.studyId,studentHistoryId:h.studentHistoryId,challengeNumber:n[0].ChallengeNumber,page:n[r].Page,sequence:n[r].Sequence,quizNo:n[r].QuizNo,sentence:n[r].Sentence,scoreOverall:D,wordsJson:JSON.stringify(w),isLastQuiz:B};let A;o?A={result:0,resultMessage:""}:A=await hi($),Number(A.result)===0&&(F(!0),(A.resultMessage==="PASS"||A.resultMessage==="FAIL")&&(k.current=A.resultMessage))},R=D=>{F(D)},Y=n[r].Page/n[n.length-1].Page*100;return e.jsx(e.Fragment,{children:_?e.jsx(Yi,{isPass:k.current==="PASS"}):e.jsx(e.Fragment,{children:e.jsxs("div",{style:{width:N,height:C},children:[e.jsx(Gi,{}),e.jsx(Vi,{pageNumber:x.playPage,pageSeq:x,speakData:n,clickSentence:U}),e.jsx(Wi,{progressWidth:Y,playBarState:t,nativeAudio:n[r].SoundPath,playSentence:L,startRecord:T}),I?e.jsx(e.Fragment,{children:w&&e.jsx(Ji,{isRetry:o,sentence:n[r].Sentence,sentenceScore:w,tryCount:i,nativeAudio:n[r].SoundPath,userAudio:b,changeRecordResult:R,changeRetry:f})}):e.jsx(e.Fragment,{})]})})})}const JN=new Q(navigator.userAgent),li=JN.phone();function YN(){const{handler:t,studyInfo:i,bookInfo:n}=c.useContext(oe),[o,r]=c.useState(window.innerWidth),[u,d]=c.useState(window.innerHeight),[a,m]=c.useState(!0),[g,f]=xa(ma,{mode:i.mode,studentHistoryId:i.studentHistoryId,studyId:i.studyId}),[h,y]=c.useState(!1),[k,_]=c.useState(0),[s,x]=c.useState(0),[l,p]=c.useState(""),[S,b]=c.useState(!0);c.useEffect(()=>{const I=()=>{r(window.innerWidth),d(window.innerHeight)};return I(),window.addEventListener("resize",I),()=>{window.removeEventListener("resize",I)}},[li,u]),c.useEffect(()=>{if(g){let I=0;if(f.length>0){const F=f[f.length-1];I=g.findIndex(L=>L.Page===F.Page&&L.Sequence===F.Sequence&&L.DataPath!=="")+1}for(;!(g[I].Contents!==""&&g[I].DataPath!=="");)I++;x(I)}},[g]);const v=I=>{x(I)},N=I=>{p(I)},j=()=>{_(k+1)},C=()=>{_(0)},P=I=>{_(I)},w=()=>{m(!1)},q=I=>{y(I)};return g?e.jsx(e.Fragment,{children:a?e.jsxs("div",{className:ee.screenBlock,style:{backgroundImage:`url(${n.BackgroundImage})`},children:[e.jsxs("div",{className:`${ee.speakButtonArea} animate__animated ${S?"animate__bounceInRight":"animate__bounceOutLeft"}`,children:[e.jsx("img",{src:$N,alt:"",width:150,height:"auto",style:{position:"relative",zIndex:2}}),e.jsx("div",{className:ee.startButton,onClick:()=>{b(!1),setTimeout(()=>{w()},1e3)},children:"Let's Speak!"}),e.jsx("div",{className:`${ee.recAni} animate__animated ${S?"animate__zoomIn":"animate__zoomOut"}`,children:e.jsx(T2,{})})]}),e.jsx("div",{className:ee.screenBgColor})]}):e.jsx(e.Fragment,{children:li?e.jsxs("div",{className:ee.speackBodyBg,style:{backgroundImage:`url(${n.BackgroundImage})`},children:[e.jsx("div",{style:{position:"relative",zIndex:2},children:e.jsx(KN,{playBarState:l,tryCount:k,speakData:g,isRetry:h,quizIndex:s,changeQuizIndex:v,changePlayBarState:N,increaseTryCount:j,resetTryCount:C,changeTryCount:P,changeRetry:q})}),e.jsx("div",{className:ee.speackBodyBgColor})]}):e.jsxs("div",{className:ee.speackBodyBg,style:{backgroundImage:`url(${n.BackgroundImage})`},children:[e.jsx("div",{style:{position:"relative",zIndex:2},children:e.jsx(VN,{playBarState:l,tryCount:k,speakData:g,isRetry:h,quizIndex:s,changeQuizIndex:v,changePlayBarState:N,increaseTryCount:j,resetTryCount:C,changeTryCount:P,changeRetry:q})}),e.jsx("div",{className:ee.speackBodyBgColor})]})})}):e.jsx(e.Fragment,{children:"Loading..."})}const XN=()=>{const{handler:t}=c.useContext(oe);c.useEffect(()=>{console.log(t.viewStudy)},[t.viewStudy]);let i;switch(t.viewStudy){case"story":i=e.jsx(ai,{});break;case"speaking":i=e.jsx(YN,{});break;case"quiz":i=e.jsx(Ei,{});break;default:i=e.jsx(ai,{})}return i};function ZN(){const{bookInfo:t,studyInfo:i,handler:n}=c.useContext(oe),[o,r]=c.useState(3),u=a=>{r(a)},d=async()=>{(await _i(i.studyId,i.studentHistoryId,o*10)).success&&n.changeView("quiz")};return e.jsx("div",{className:`${z.ebookRating}`,children:e.jsxs("div",{className:`${z.container} animate__animated animate__zoomIn`,children:[e.jsx("div",{className:z.groupBookcover,children:e.jsx("img",{className:z.imgBookcover,src:`${t.SurfaceImage}`})}),e.jsxs("div",{className:z.groupChoose,children:[e.jsx("div",{className:z.txtQuestion,children:"How do you like this book?"}),e.jsx("div",{className:z.groupChooseRating,children:e.jsx(Di,{starCount:o,changeStarCount:u})}),e.jsx("div",{className:z.groupConfirm,children:e.jsx("button",{className:`${z.btnConfirm} ${z.blue}`,onClick:()=>{n.isPreference?n.changeView("quiz"):d()},children:"퀴즈 풀기"})})]}),e.jsxs("div",{className:z.groupComment,children:[e.jsx("span",{className:z.icoExclamationMark}),e.jsxs("span",{className:z.txtComment,children:["모든 학습을 완료하고 ",e.jsx("b",{children:"평균 70점을 넘어야 포인트를 획득"}),"할 수 있습니다."]})]})]})})}const e3=t=>{const{handler:i}=c.useContext(oe);let n;return i.isPreference?n=e.jsx(Ei,{}):n=e.jsx(ZN,{}),n};function t3({onUpdateReviewInform:t}){const{bookInfo:i}=c.useContext(oe);return e.jsx("div",{className:`${z.ebookRating}`,children:e.jsxs("div",{className:`${z.container} animate__animated animate__zoomIn`,children:[e.jsx("div",{className:z.groupBookcover,children:e.jsx("img",{className:z.imgBookcover,src:`${i.SurfaceImage}`})}),e.jsxs("div",{className:z.groupChoose,children:[e.jsx("div",{className:z.txtQuestion,children:"Let's start the study review."}),e.jsx("div",{className:z.groupConfirm,children:e.jsx("button",{className:`${z.btnConfirm} ${z.blue}`,onClick:()=>{t()},children:"Go!"})})]}),e.jsxs("div",{className:z.groupComment,children:[e.jsx("span",{className:z.icoExclamationMark}),e.jsx("span",{className:z.txtComment,children:"다시 보기 모드에서는 학습을 완료해도 포인트가 제공되지 않아요."})]})]})})}const y3=()=>{const{studyInfo:t}=c.useContext(oe);let i="error";t.bookType==="EB"?i="ebook":t.bookType==="PB"&&(i="pbook");const n=i,[o,r]=c.useState(!1),u=()=>{r(!0)};let d;return n==="ebook"?d=e.jsx(XN,{}):n==="pbook"&&(d=e.jsx(e3,{})),e.jsx("div",{children:t.isReview&&!o?e.jsx(t3,{onUpdateReviewInform:u}):d})};export{y3 as default};
