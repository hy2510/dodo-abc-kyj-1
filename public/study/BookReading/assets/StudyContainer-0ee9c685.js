import{r as c,j as e}from"./react-ce8d195c.js";import{A as ie,g as Ie,G as Pe,a as ir,S as rr,b as ar,l as $o,s as Te,d as is,c as Ws,e as fi,f as bi,h as yn,i as cr,j as Ge,k as ki,m as Si,n as ur,o as lr}from"./index-5d65c576.js";import{M as A}from"./mobile-detect-94ae3acb.js";import{l as _e}from"./lodash-48c83d51.js";import{a as rs}from"./axios-78cd9fea.js";import{u as he,T as as}from"./react-i18next-6e4dcb24.js";import{r as ln}from"./react-string-replace-25f3c8e9.js";import{i as ho}from"./react-device-detect-3305d8de.js";import{_ as bn}from"./react-lottie-b1146b40.js";import"./babel-runtime-39d8758b.js";import"./core-js-badad737.js";import"./react-dom-6a1c6522.js";import"./scheduler-765c72db.js";/* empty css                    */import"./i18next-21d03132.js";import"./universal-cookie-ec792dfe.js";import"./html-parse-stringify-83c84716.js";import"./void-elements-bcca09a9.js";import"./ua-parser-js-ae9697f6.js";import"./prop-types-387d7a00.js";import"./lottie-web-5ecd6a22.js";const Yt=()=>{const{bookInfo:t}=c.useContext(ie),i=window.REF,n=i.Unit||i.unit;let s="baro";if(n!==void 0&&n!=="")s=n.replace("https://wcfresource.a1edu.com/newsystem/image/character/subcharacter/").replace(".png");else switch(t.BookLevel){case"6C":case"6B":case"6A":case"5C":case"5B":case"5A":s="dodo";break;case"4C":case"4B":case"4A":s="gino";break;case"3C":s="goma";break;case"3B":s="leoni";break;case"3A":s="edmond";break;case"2C":s="roro";break;case"2B":s="tori";break;case"2A":s="greenthumb";break;case"1C":s="blanc";break;case"1B":s="sheila";break;case"1A":s="jack";break;case"KC":s="millo";break;case"KB":s="chello";break;default:s="baro"}return s};async function dr(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,u=`${Pe}/cloze-test-1?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(u,async r=>({ContentsId:Number(r.ContentsId),IsQuizTimeoutIncorrect:!!r.isQuizTimeoutIncorrect,QuizAnswerCount:Number(r.QuizAnswerCount),QuizTime:Number(r.QuizTime),Quiz:r.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound},Examples:x.Examples.map(_=>({Text:_.Text}))}))}))}async function mr(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,u=`${Pe}/cloze-test-2?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(u,async r=>({ContentsId:Number(r.ContentsId),IsQuizTimeoutIncorrect:!!r.isQuizTimeoutIncorrect,QuizAnswerCount:Number(r.QuizAnswerCount),QuizTime:Number(r.QuizTime),IsEnablePenaltyReview:!!r.IsEnablePenaltyReview,Quiz:r.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound},Examples:x.Examples.map(_=>({Text:_.Text}))}))}))}async function xr(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,u=`${Pe}/cloze-test-3?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(u,async r=>({ContentsId:Number(r.ContentsId),IsQuizTimeoutIncorrect:!!r.isQuizTimeoutIncorrect,QuizAnswerCount:Number(r.QuizAnswerCount),QuizTime:Number(r.QuizTime),IsEnablePenaltyReview:!!r.IsEnablePenaltyReview,Quiz:r.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound},Examples:x.Examples.map(_=>({Text:_.Text}))}))}))}const hr="_comment_1f96m_2",_r="_wordPlayButton_1f96m_21",pr="_txtL_1f96m_36",gr="_cardNumber_1f96m_47",yr="_testReview_1f96m_62",fr="_title_1f96m_65",br="_container_1f96m_70",kr="_sentence_1f96m_79",Sr="_nextButton_1f96m_88",wr="_deactNextButton_1f96m_110",vr="_reviewAnswer_1f96m_131",jr="_currentOrder_1f96m_140",zr="_blink_1f96m_1",$r="_currentInput_1f96m_160",Cr="_otherInput_1f96m_161",Qr="_enterButton_1f96m_168",Ar="_hintText_1f96m_194",Nr="_clozeTest1_1f96m_204",Tr="_textCard_1f96m_208",Ir="_correct_1f96m_243",Br="_incorrect_1f96m_248",Er="_awnserText_1f96m_253",Pr="_answers_1f96m_258",Mr="_questionBox_1f96m_271",Lr="_answerBox_1f96m_296",Rr="_correctAnswer_1f96m_313",qr="_incorrectAnswer_1f96m_317",Fr="_clozeTest2_1f96m_328",Hr="_clozeTest3_1f96m_439",ot={comment:hr,wordPlayButton:_r,txtL:pr,cardNumber:gr,testReview:yr,title:fr,container:br,sentence:kr,nextButton:Sr,deactNextButton:wr,reviewAnswer:vr,currentOrder:jr,blink:zr,currentInput:$r,otherInput:Cr,enterButton:Qr,hintText:Ar,clozeTest1:Nr,textCard:Tr,correct:Ir,incorrect:Br,awnserText:Er,answers:Pr,questionBox:Mr,answerBox:Lr,correctAnswer:Rr,incorrectAnswer:qr,clozeTest2:Fr,clozeTest3:Hr},Or="_comment_nyw2n_2",Dr="_wordPlayButton_nyw2n_16",Wr="_txtL_nyw2n_31",Vr="_cardNumber_nyw2n_42",Gr="_testReview_nyw2n_57",Ur="_title_nyw2n_57",Kr="_container_nyw2n_62",Jr="_sentence_nyw2n_71",Yr="_nextButton_nyw2n_79",Xr="_deactNextButton_nyw2n_101",Zr="_reviewAnswer_nyw2n_122",ea="_currentOrder_nyw2n_131",ta="_blink_nyw2n_1",na="_currentInput_nyw2n_153",sa="_otherInput_nyw2n_154",oa="_hintText_nyw2n_162",ia="_clozeTest1_nyw2n_172",ra="_textCard_nyw2n_176",aa="_correct_nyw2n_211",ca="_incorrect_nyw2n_216",ua="_awnserText_nyw2n_221",la="_answers_nyw2n_226",da="_questionBox_nyw2n_236",ma="_answerBox_nyw2n_256",xa="_correctAnswer_nyw2n_273",ha="_incorrectAnswer_nyw2n_277",_a="_clozeTest2_nyw2n_288",pa="_enterButton_nyw2n_354",ga="_clozeTest3_nyw2n_381",ut={comment:Or,wordPlayButton:Dr,txtL:Wr,cardNumber:Vr,testReview:Gr,title:Ur,container:Kr,sentence:Jr,nextButton:Yr,deactNextButton:Xr,reviewAnswer:Zr,currentOrder:ea,blink:ta,currentInput:na,otherInput:sa,hintText:oa,clozeTest1:ia,textCard:ra,correct:aa,incorrect:ca,awnserText:ua,answers:la,questionBox:da,answerBox:ma,correctAnswer:xa,incorrectAnswer:ha,clozeTest2:_a,enterButton:pa,clozeTest3:ga},we=()=>{const[t,i]=c.useState(!0);return{isStepIntro:t,closeStepIntro:s=>{i(!1),s&&s()}}};function ya(t,i){const n=c.useRef();c.useEffect(()=>{n.current=t},[t]),c.useEffect(()=>{function s(){n.current&&n.current()}s();const a=setInterval(s,i);return()=>{clearInterval(a)}},[i])}function ve(t){const i=c.useRef(),[n,s]=c.useState(-1),[a,u]=c.useState(-1),[l,r]=c.useState(0),[x,_]=c.useState(!0),[b,f]=c.useState({timeMin:0,timeSec:0}),p=()=>{r(Date.now()),_(!1)},S=()=>{s(a),_(!0)},k=(m,o)=>{const h=m%60,d=(m-h)/60;f({timeMin:d,timeSec:h}),s(m),o?p():_(!0)};return c.useEffect(()=>{i.current=t},[t]),ya(()=>{if(!x){const m=Math.floor((Date.now()-l)/1e3),o=n-m,h=o>=0?o%60:0,d=o>=0?(o-h)/60:0;o<=0&&(S(),i.current&&i.current()),f({timeMin:d,timeSec:h}),u(o)}},1e3),{time:b,setup:k,start:p,stop:S,isFinish:b.timeMin+b.timeSec<=0}}const Co=["animate__animated"],lt=()=>({isContain:(i,n)=>i.classList.contains(n),play:(i,n,s)=>{i.classList.add(...Co,...n),s&&s()},remove:(i,n)=>{i.classList.remove(...n,...Co)},removeAndPlay:(i,n,s)=>{i.classList.remove(...n),i.classList.add(...s)}});async function fa(t){const i=`${ir}?studentHistoryId=${t.studentHistoryId}&studyId=${t.studyId}`;return Ie(i,async s=>s.map(a=>({ChallengeNumber:a.ChallengeNumber,BookId:a.BookId,Page:a.Page,QuizNo:a.QuizNo,Css:a.Css,Contents:a.Contents,FontColor:a.FontColor,ImagePath:a.ImagePath,Sequence:a.Sequence,SoundPath:a.SoundPath,MarginTop:Number(a.MarginTop),MarginLeft:Number(a.MarginLeft),DataPath:a.DataPath,Sentence:a.Sentence})))}const Qo=async t=>await rs.get(`/${ar}?studyId=${t.studyId}&studentHistoryId=${t.studentHistoryId}`).then(n=>n.data).catch(n=>{console.error(n)}),wi=async t=>{let i={result:0,resultMessage:""};try{i=await rs.post(`/${rr}`,t).then(n=>n.data)}catch{throw new Error("API Load Failed 2")}return i},je=(t,i,n,s)=>{const[a,u]=c.useState(),[l,r]=c.useState([]);return c.useEffect(()=>{(async()=>{const _=await t(i);if(!_)throw new Error("No StudyData Error");let b;s?b=await $o("R",i):b=await $o(n,i),u(_),r(b)})()},[t]),[a,l]},ba=(t,i,n)=>{const[s,a]=c.useState(),[u,l]=c.useState([]);return c.useEffect(()=>{(async()=>{const x=await t(i);if(!x)throw new Error("No StudyData Error");let _;n?_=await Qo(i):_=await Qo(i),a(x),l(_)})()},[t]),[s,u]},ct=(t,i,n)=>{let s=1,a=0;if(t==="Quiz"&&i&&i.length>0){const u=i[i.length-1];u.AnswerCount===n||u.OX==="1"?s=u.CurrentQuizNo+1:(s=u.CurrentQuizNo,a=u.AnswerCount)}return[s,a]},ka=(t,i,n,s)=>{let a=1,u=1,l=0;if(t==="Quiz"&&i&&i.length>0){const r=i[i.length-1],x=r.StudentAnswer.split(","),_=x[x.length-1].slice(-1),b=x[x.length-1].length;b===s||_==="1"?(x.length===n?u=r.QuizNo+1:u=r.QuizNo,a=r.CurrentQuizNo+1):(a=r.CurrentQuizNo,u=r.QuizNo,l=b)}return[a,u,l]},Sa=(t,i,n)=>{let s=1,a=0;if(t==="Quiz"&&i&&i.length>0){const u=i[i.length-1],l=u.StudentAnswer.split("/"),r=l.filter(b=>b.length===n||b.slice(-1)==="1").length,x=l.length;if(r===x)s=u.QuizNo+1;else{const b=l.map(f=>f.length);s=u.CurrentQuizNo+1,a=Math.max(...b)}}return[s,a]},wa=(t,i,n)=>{let s=1,a=0;if(t==="Quiz"&&i&&i.length>0){const u=i[i.length-1];u.AnswerCount===n||u.AnswerCount===null?s=u.CurrentQuizNo+1:(s=u.CurrentQuizNo,a=u.AnswerCount)}return[s,a]},ze=(t,i="normal")=>{const[n,s]=c.useState([]),a=(o,h)=>{const d=p(o,h);s(d)},u=(o,h)=>{let d;i==="normal"?d=S(o,h):d=k(o,h),s(d)},l=o=>{if(t==="Quiz"){let h=[];n.length>0&&(h=[...n]),o.maxCount>1&&n.find(g=>g.quizNo===o.quizNo)?h=_e.map(n,g=>g.quizNo===o.quizNo&&g.answerCount<o.maxCount?{...g,quizNo:o.quizNo,maxCount:o.maxCount,answerCount:o.answerCount,ox:o.ox}:g):h.push(o),s(h)}},r=o=>{if(t==="Quiz"){let h=[];n.length>0&&(h=[...n]),o.map(d=>{d.maxCount>1&&n.find(y=>y.quizNo===d.quizNo)?h=_e.map(n,y=>y.quizNo===d.quizNo&&y.answerCount<d.maxCount?{...y,quizNo:d.quizNo,maxCount:d.maxCount,answerCount:d.answerCount,ox:d.ox}:y):h.push(d)}),s(h)}},x=(o,h,d)=>{const g=[...n,o],y=100/h;let w=0;return g.map(v=>{if(v.ox)switch(v.answerCount){case 1:w+=1*y;break;case 2:w+=.5*y;break;case 3:w+=.25*y;break}else v.answerCount}),Math.round(w)},_=({mobile:o,studyId:h,studentHistoryId:d,bookType:g,step:y,quizId:w,quizNo:v,currentQuizNo:R,correct:z,selectedAnswer:E,tryCount:j,maxQuizCount:$,quizLength:M,isCorrect:F,answerData:O,isEnabledPenalty:H,isFinishStudy:W})=>{let q;if(R+1>M)if(F){const N=x(O,M,$);q={mobile:o,studyId:h,studentHistoryId:d,bookType:g,step:`${y}`,quizId:w,quizNo:v,currentQuizNo:R,correct:z,studentAnswer:E,answerCount:j,isLastQuiz:!0,score:N,isFinishStudy:W}}else if(j>=$){const N=x(O,M,$);q={mobile:o,studyId:h,studentHistoryId:d,bookType:g,step:`${y}`,quizId:w,quizNo:v,currentQuizNo:R,correct:z,studentAnswer:E,answerCount:j,isLastQuiz:!0,score:N,isEnabledPenalty:H,isFinishStudy:W}}else q={mobile:o,studyId:h,studentHistoryId:d,bookType:g,step:`${y}`,quizId:w,quizNo:v,currentQuizNo:R,correct:z,studentAnswer:E,answerCount:j};else H?q={mobile:o,studyId:h,studentHistoryId:d,bookType:g,step:`${y}`,quizId:w,quizNo:v,currentQuizNo:R,correct:z,studentAnswer:E,answerCount:j,isEnabledPenalty:j>=$?!0:void 0}:q={mobile:o,studyId:h,studentHistoryId:d,bookType:g,step:`${y}`,quizId:w,quizNo:v,currentQuizNo:R,correct:z,studentAnswer:E,answerCount:j};return q},b=({mobile:o,studyId:h,studentHistoryId:d,bookType:g,step:y,quizId:w,quizNo:v,currentQuizNo:R,correct:z,selectedAnswer:E,partialRecord:j,tryCount:$,maxQuizCount:M,quizLength:F,isCorrect:O,answerData:H,isEnabledPenalty:W,isFinishStudy:q})=>{let N;if(R+1>F)if(O){const B=x(H,F,M);N={mobile:o,studyId:h,studentHistoryId:d,bookType:g,step:`${y}`,quizId:w,quizNo:v,currentQuizNo:R,correct:z,studentAnswer:E,partialRecord:j,answerCount:$,isLastQuiz:!0,score:B,isFinishStudy:q}}else if($>=M){const B=x(H,F,M);N={mobile:o,studyId:h,studentHistoryId:d,bookType:g,step:`${y}`,quizId:w,quizNo:v,currentQuizNo:R,correct:z,studentAnswer:E,partialRecord:j,answerCount:$,isLastQuiz:!0,score:B,isEnabledPenalty:W,isFinishStudy:q}}else N={mobile:o,studyId:h,studentHistoryId:d,bookType:g,step:`${y}`,quizId:w,quizNo:v,currentQuizNo:R,correct:z,studentAnswer:E,partialRecord:j,answerCount:$};else N={mobile:o,studyId:h,studentHistoryId:d,bookType:g,step:`${y}`,quizId:w,quizNo:v,currentQuizNo:R,correct:z,studentAnswer:E,partialRecord:j,answerCount:$,isEnabledPenalty:$>=M?!0:void 0};return N},f=()=>{s([])},p=(o,h)=>{let d=[];return o.map(g=>{d.push({quizNo:g.CurrentQuizNo,maxCount:h,answerCount:g.AnswerCount,ox:g.OX==="1"})}),d},S=(o,h)=>{let d=[],g=1;return o.map(y=>{y.StudentAnswer.split(",").map(w=>{const v=w.charAt(w.length-1);d.push({quizNo:g++,maxCount:h,answerCount:w.split("").length,ox:v==="1"})})}),d},k=(o,h)=>{let d=[],g=1;return o.map(y=>{y.StudentAnswer.split("/").map(w=>{const v=w.charAt(w.length-1);d.push({quizNo:g++,maxCount:h,answerCount:w.split("").length,ox:v==="1"})})}),d};return{scoreBoardData:n,setStudentAnswers:a,setStudentAnswersPartial:u,addStudentAnswer:l,addStudentAnswers:r,getScore:x,makeUserAnswerData:_,makeUserPartialAnswerData:b,resetStudentAnswer:f,convertRecordToScoreBoard:p,convertPartialRecordToScoreBoard:S,convertPartialRecordToScoreBoardClozeTest3:k,convertPartialRecordToScoreBoardSummary2:(o,h)=>{let d=[],g=1;return o.map(y=>{y.StudentAnswer.split(",").map(w=>{const v=w.charAt(w.length-1);d.push({quizNo:g++,maxCount:h,answerCount:w.split("").length,ox:v==="1"})})}),d}}};function Le(){const[t,i]=c.useState(""),n=c.useRef(new Audio);n.current.autoplay=!0;const s=n.current,a=c.useRef();c.useEffect(()=>{if(t==="playing"||t==="endFn"){const x=()=>{s.play()};s.addEventListener("canplaythrough",x);const _=()=>{t==="endFn"?a.current&&a.current():i("")};return s.addEventListener("ended",_),()=>{s.removeEventListener("canplaythrough",x),s.removeEventListener("ended",_),i(""),l()}}},[t]);const u=(x,_)=>{s.src=x,_?(a.current=_,i("endFn")):i("playing")},l=()=>{s.pause(),s.src="",s.currentTime=0,i("")};return{playState:t,changePlayState:x=>{i(x)},playAudio:u,stopAudio:l}}const va="/study/BookReading/assets/next-4ea4479a.mp3";let hs;const ja=new Audio(va),Vs=t=>{hs=new Audio(t),hs.volume=.7,(()=>{hs.play()})()},za=()=>{ja.play()},$a="/study/BookReading/assets/correct_sound-9efbca1b.mp3",Ca="/study/BookReading/assets/incorrect_sound-3ea1a3ca.mp3";function Xe(){const[t,i]=c.useState({isActive:!1,isCorrect:!1});return c.useEffect(()=>{t.isActive&&Vs(t.isCorrect?$a:Ca)},[t]),{bottomPopupState:t,changeBottomPopupState:s=>{i(s)}}}const He=()=>{const[t,i]=c.useState(!1);return{isResultShow:t,changeResultShow:s=>{i(s)}}},Qa="_stepIntro_19s00_1",Aa="_container_19s00_8",Na="_stepOrder_19s00_16",Ta="_quizType_19s00_24",Ia="_comment_19s00_33",Ba="_readingUnit_19s00_43",Ea="_startButton_19s00_50",Pa="_revisionIntro_19s00_73",Ma="_revisionBoard_19s00_115",La="_txtLabel_19s00_128",Ra="_txtCount_19s00_140",qa="_revisionFreeIntro_19s00_175",Fa="_selectBox_19s00_254",Ha="_passButton_19s00_259",Oa="_goButton_19s00_281",cs={stepIntro:Qa,container:Aa,stepOrder:Na,quizType:Ta,comment:Ia,readingUnit:Ba,startButton:Ea,revisionIntro:Pa,revisionBoard:Ma,txtLabel:La,txtCount:Ra,revisionFreeIntro:qa,selectBox:Fa,passButton:Ha,goButton:Oa},Da="_stepIntro_3r5qb_1",Wa="_container_3r5qb_8",Va="_stepOrder_3r5qb_16",Ga="_quizType_3r5qb_24",Ua="_comment_3r5qb_36",Ka="_readingUnit_3r5qb_47",Ja="_startButton_3r5qb_54",Ya="_revisionIntro_3r5qb_77",Xa="_revisionBoard_3r5qb_122",Za="_txtLabel_3r5qb_135",ec="_txtCount_3r5qb_147",tc="_revisionFreeIntro_3r5qb_182",nc="_selectBox_3r5qb_264",sc="_passButton_3r5qb_270",oc="_goButton_3r5qb_292",us={stepIntro:Da,container:Wa,stepOrder:Va,quizType:Ga,comment:Ua,readingUnit:Ka,startButton:Ja,revisionIntro:Ya,revisionBoard:Xa,txtLabel:Za,txtCount:ec,revisionFreeIntro:tc,selectBox:nc,passButton:sc,goButton:oc},ic=new A(navigator.userAgent),rc=ic.phone(),Mt=rc?us:cs;function Me({step:t,quizType:i,comment:n,onStepIntroClozeHandler:s}){const a=Yt();return e.jsx("div",{className:Mt.stepIntro,children:e.jsxs("div",{className:`${Mt.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:Mt.stepOrder,children:t==="R"?"Re Test":`Step ${t}`}),e.jsx("div",{className:Mt.quizType,children:i}),e.jsx("div",{className:Mt.comment,children:n}),e.jsx("div",{className:Mt.readingUnit,children:e.jsx("img",{src:`https://wcfresource.a1edu.com/newsystem/image/character/subcharacter/${a}_13.png`,alt:""})}),e.jsx("div",{className:Mt.startButton,onClick:s,children:"Start"})]})})}const ac="/study/BookReading/assets/icon_play_red-63042177.svg",cc="/study/BookReading/assets/icon_stop_gray-683765e6.svg",uc="/study/BookReading/assets/icon_heart-248c237d.svg",lc="/study/BookReading/assets/icon_return-9e97dd23.svg",dc="/study/BookReading/assets/arrow-right_white-10eaa94b.svg",Re=({width:t,height:i,isColor:n})=>e.jsx(e.Fragment,{children:n&&e.jsx("img",{src:ac,width:t,height:i})}),qe=({width:t,height:i,isColor:n})=>e.jsx(e.Fragment,{children:n&&e.jsx("img",{src:cc,width:t,height:i})}),mc=({width:t,height:i,isColor:n})=>e.jsx(e.Fragment,{children:n&&e.jsx("img",{src:uc,width:t,height:i})}),ls=({width:t,height:i})=>e.jsx(e.Fragment,{children:e.jsx("img",{src:lc,width:t,height:i})}),xc=({width:t,height:i})=>e.jsx(e.Fragment,{children:e.jsx("img",{src:dc,width:t,height:i})}),hc="_quizTemplate_1fv6z_1",_c="_quizHeader_1fv6z_9",pc="_quizHeaderCol1_1fv6z_23",gc="_quizNumber_1fv6z_27",yc="_attempts_1fv6z_37",fc="_txtL_1fv6z_46",bc="_qMark_1fv6z_51",kc="_quizHeaderCol2_1fv6z_63",Sc="_quizTimer_1fv6z_68",wc="_iconTimer_1fv6z_75",vc="_quizHeaderCol3_1fv6z_91",jc="_openMenuButton_1fv6z_96",zc="_quizBody_1fv6z_114",$c="_container_1fv6z_125",Cc="_btnDelete_1fv6z_151",_o={quizTemplate:hc,quizHeader:_c,quizHeaderCol1:pc,quizNumber:gc,attempts:yc,txtL:fc,qMark:bc,quizHeaderCol2:kc,quizTimer:Sc,iconTimer:wc,quizHeaderCol3:vc,openMenuButton:jc,quizBody:zc,container:$c,btnDelete:Cc},Qc="_quizTemplate_1oz7u_2",Ac="_quizHeader_1oz7u_33",Nc="_quizHeaderCol1_1oz7u_47",Tc="_quizNumber_1oz7u_51",Ic="_attempts_1oz7u_61",Bc="_txtL_1oz7u_70",Ec="_qMark_1oz7u_75",Pc="_quizHeaderCol2_1oz7u_87",Mc="_quizTimer_1oz7u_92",Lc="_iconTimer_1oz7u_100",Rc="_quizHeaderCol3_1oz7u_113",qc="_openMenuButton_1oz7u_118",Fc="_quizBody_1oz7u_136",Hc="_container_1oz7u_147",Oc="_btnDelete_1oz7u_173",po={quizTemplate:Qc,quizHeader:Ac,quizHeaderCol1:Nc,quizNumber:Tc,attempts:Ic,txtL:Bc,qMark:Ec,quizHeaderCol2:Pc,quizTimer:Mc,iconTimer:Lc,quizHeaderCol3:Rc,openMenuButton:qc,quizBody:Fc,container:Hc,btnDelete:Oc},Dc=new A(navigator.userAgent),Wc=Dc.phone(),jt=Wc?po:_o;function $e({quizNumber:t,totalQuizCnt:i,life:n,timeMin:s,timeSec:a,changeSideMenu:u}){const l=`${s<=9?"0"+s:s}:${a<=9?"0"+a:a}`;return e.jsxs("div",{className:`${jt.quizHeader} animate__animated animate__slideInDown`,children:[e.jsxs("div",{className:jt.quizHeaderCol1,children:[e.jsxs("div",{className:jt.quizNumber,children:[t,e.jsx("span",{style:{fontSize:"16px"},children:"/"}),i,e.jsxs("div",{className:jt.attempts,children:[e.jsx(mc,{isColor:!0,width:18,height:18}),e.jsx("div",{className:jt.txtL,children:n})]})]}),e.jsx("div",{className:jt.qMark})]}),e.jsx("div",{className:jt.quizHeaderCol2,children:e.jsxs("div",{className:jt.quizTimer,children:[e.jsx("div",{className:jt.iconTimer}),l]})}),e.jsx("div",{className:jt.quizHeaderCol3,children:e.jsx("div",{className:jt.openMenuButton,onClick:()=>u(!0)})})]})}const Vc="_study_side_menu_l0bh9_1",Gc="_study_side_menu_container_l0bh9_9",Uc="_study_side_menu_area_top_l0bh9_33",Kc="_close_side_menu_l0bh9_39",Jc="_btn_delete_l0bh9_44",Yc="_book_info_l0bh9_56",Xc="_book_code_l0bh9_56",Zc="_book_title_l0bh9_60",eu="_label_l0bh9_65",tu="_study_side_menu_area_bottom_l0bh9_72",nu="_btn_exit_l0bh9_77",su="_txt_l0bh9_81",ou="_screen_block_l0bh9_85",iu="_select_study_menu_l0bh9_94",ru="_select_study_menu_item_l0bh9_101",au="_on_l0bh9_120",cu="_go_on_l0bh9_126",uu="_completed_l0bh9_132",lu="_ebook_more_activity_l0bh9_146",du="_ebook_more_activity_item_l0bh9_150",mu="_study_side_menu_quiz_scoreboard_l0bh9_167",xu="_step_info_l0bh9_167",hu="_step_l0bh9_167",_u="_score_info_l0bh9_182",pu="_quiz_type_l0bh9_182",gu="_score_row_l0bh9_186",yu="_header_l0bh9_189",fu="_score_col_l0bh9_193",xe={study_side_menu:Vc,study_side_menu_container:Gc,study_side_menu_area_top:Uc,close_side_menu:Kc,btn_delete:Jc,book_info:Yc,book_code:Xc,book_title:Zc,label:eu,study_side_menu_area_bottom:tu,btn_exit:nu,txt:su,screen_block:ou,select_study_menu:iu,select_study_menu_item:ru,on:au,"move-it":"_move-it_l0bh9_1",go_on:cu,completed:uu,ebook_more_activity:lu,ebook_more_activity_item:du,study_side_menu_quiz_scoreboard:mu,step_info:xu,step:hu,score_info:_u,quiz_type:pu,score_row:gu,header:yu,score_col:fu},bu="/study/BookReading/assets/repeat-627ef06f.svg",vi="/study/BookReading/assets/delete-351e7fec.svg",ji="/study/BookReading/assets/exite-6d407d36.svg";function ku({currentStep:t,changeStep:i}){const{studyInfo:n}=c.useContext(ie);return e.jsx(e.Fragment,{children:n.openSteps.map((s,a)=>e.jsxs("div",{className:`${xe.step} ${t===s?xe.on:""}`,onClick:()=>{n.mode!=="Quiz"&&i(s)},children:[t===s?"Step":"",s]},`step-header-${a}`))})}function Su({maxAnswerCount:t}){const i=["1st","2nd","3rd","th"];let n=[];for(let s=0;s<t;s++)n.push(e.jsx("div",{className:`${xe.score_col}`,children:i[s]},`col-header-side-menu-${s}`));return e.jsxs("div",{className:`${xe.score_row} ${xe.header}`,children:[e.jsx("div",{className:`${xe.score_col}`,children:"Q"}),n]})}const wu="/study/BookReading/assets/icon_score_item_correct-30152e7d.svg",Ao="/study/BookReading/assets/icon_score_item_incorrect-c4ad3860.svg",vu=({maxAnswerCount:t,scoreBoardData:i})=>{let n=[];if(i){for(let s=1;s<=t;s++)s<i.answerCount?n.push(e.jsx("div",{className:`${xe.score_col}`,children:e.jsx("img",{src:Ao,alt:""})})):s===i.answerCount?i.ox?n.push(e.jsx("div",{className:`${xe.score_col}`,children:e.jsx("img",{src:wu,alt:""})})):n.push(e.jsx("div",{className:`${xe.score_col}`,children:e.jsx("img",{src:Ao,alt:""})})):n.push(e.jsx("div",{className:`${xe.score_col}`}));return n}else{for(let s=0;s<t;s++)n.push(e.jsx("div",{className:`${xe.score_col}`}));return n}};function ju({quizLength:t,maxAnswerCount:i,scoreBoardData:n}){let s=[];for(let a=0;a<t;a++)s.push(e.jsxs("div",{className:`${xe.score_row}`,children:[e.jsx("div",{className:`${xe.score_col}`,children:a+1}),e.jsx(vu,{maxAnswerCount:i,scoreBoardData:n[a]})]},`smsbr-${a}`));return e.jsx(e.Fragment,{children:s})}function zu({currentStep:t,currentStepType:i,quizLength:n,maxAnswerCount:s,scoreBoardData:a,changeStep:u}){return e.jsxs("div",{className:xe.study_side_menu_quiz_scoreboard,children:[e.jsx("div",{className:xe.step_info,children:e.jsx(ku,{currentStep:t,changeStep:u})}),e.jsxs("div",{className:xe.score_info,children:[e.jsx("div",{className:xe.quiz_type,children:i}),i!=="Vocabulary Practice"&&e.jsxs(e.Fragment,{children:[e.jsx(Su,{maxAnswerCount:s}),e.jsx("div",{children:e.jsx(ju,{quizLength:n,maxAnswerCount:s,scoreBoardData:a})})]})]})]})}function Ce({isSideOpen:t,currentStep:i,currentStepType:n,quizLength:s,maxAnswerCount:a,scoreBoardData:u,changeSideMenu:l,changeStep:r}){const{t:x}=he(),{bookInfo:_,handler:b}=c.useContext(ie),[f,p]=c.useState("animate__fadeIn"),[S,k]=c.useState("animate__slideInRight"),m=()=>{p("animate__fadeOut"),k("animate__slideOutRight")},o=()=>{f==="animate__fadeOut"&&l(!1)};return e.jsx(e.Fragment,{children:t&&e.jsxs("div",{id:"study-side-menu",className:`${xe.study_side_menu} ${f}`,onAnimationEnd:()=>{o()},children:[e.jsxs("div",{id:"study-side-menu-container",className:`${xe.study_side_menu_container} ${S}`,children:[e.jsxs("div",{className:xe.study_side_menu_area_top,children:[e.jsx("div",{className:xe.close_side_menu,children:e.jsx("div",{className:xe.btn_delete,onClick:()=>{m()},children:e.jsx("img",{src:vi,alt:""})})}),e.jsxs("div",{className:xe.book_info,children:[e.jsx("div",{className:xe.book_code,children:_.BookCode}),e.jsx("div",{className:xe.book_title,children:_.Title})]}),_.BookCode.includes("EB")&&e.jsx("div",{className:xe.select_study_menu,children:e.jsxs("div",{className:`${xe.select_study_menu_item}`,onClick:()=>{b.changeView("story")},children:[e.jsx("img",{src:bu,alt:""}),x("story.다시 읽기"),e.jsxs("div",{className:"pyro",children:[e.jsx("div",{className:"before"}),e.jsx("div",{className:"after"})]})]})}),e.jsx(zu,{currentStep:i,currentStepType:n,quizLength:s,maxAnswerCount:a,scoreBoardData:u,changeStep:r})]}),e.jsx("div",{className:xe.study_side_menu_area_bottom,children:e.jsxs("div",{className:xe.btn_exit,onClick:()=>{try{window.onExitStudy()}catch{location.replace("/")}},children:[e.jsx("img",{src:ji,alt:""}),e.jsx("div",{className:"txt",children:x("common.나가기")})]})})]}),e.jsx("div",{className:xe.screen_block,onClick:()=>m()})]})})}const $u=new A(navigator.userAgent),Cu=$u.phone(),No=Cu?po:_o;function Qe({children:t}){return e.jsx("div",{className:`${No.quizBody} animate__animated animate__fadeIn`,children:e.jsx("div",{className:No.container,children:t})})}function Be({typeCSS:t,containerCSS:i,children:n}){return e.jsx("div",{className:`${t}`,children:e.jsx("div",{className:`${i}`,children:n})})}const Qu="_correctPopup_10dqy_1",Au="_readingUnitArea_10dqy_16",Nu="_txtL_10dqy_26",Tu="_incorrectPopup_10dqy_38",Iu="_screenBlock_10dqy_75",Bu={correctPopup:Qu,readingUnitArea:Au,txtL:Nu,incorrectPopup:Tu,screenBlock:Iu},Eu="_correctPopup_4ircx_1",Pu="_readingUnitArea_4ircx_15",Mu="_txtL_4ircx_25",Lu="_incorrectPopup_4ircx_38",Ru="_screenBlock_4ircx_75",qu={correctPopup:Eu,readingUnitArea:Pu,txtL:Mu,incorrectPopup:Lu,screenBlock:Ru},Fu=new A(navigator.userAgent),Hu=Fu.phone(),dn=Hu?qu:Bu;function Ze({bottomPopupState:t}){const i=Yt();return e.jsx(e.Fragment,{children:t.isActive&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${t.isCorrect?dn.correctPopup:dn.incorrectPopup}  animate__animated animate__slideInUp`,children:e.jsxs("div",{className:dn.readingUnitArea,children:[e.jsx("div",{className:dn.txtL,children:t.isCorrect?"Correct!":"Oops..."}),e.jsx("img",{src:`https://wcfresource.a1edu.com/newsystem/image/character/subcharacter/${i}_${t.isCorrect?"08":"09"}.png`,alt:"",className:`animate__animated ${t.isCorrect?"animate__tada":"animate__pulse"}`})]})}),e.jsx("div",{className:dn.screenBlock})]})})}const Ou="_testResult_1nhls_1",Du="_scoreBoard_1nhls_9",Wu="_score_1nhls_9",Vu="_count1_1nhls_26",Gu="_count3_1nhls_29",Uu="_wrongAnswers_1nhls_44",Ku="_title_1nhls_50",Ju="_quizQuestion_1nhls_61",Yu="_questionSentence_1nhls_68",Xu="_answers_1nhls_71",Zu="_correctAnswer_1nhls_78",el="_txtL_1nhls_85",tl="_correctAnswerNum_1nhls_88",nl="_quizAnswer_1nhls_98",sl="_label_1nhls_109",ol="_correctIcon_1nhls_114",il="_incorrectIcon_1nhls_122",rl="_wrongAnswer_1nhls_44",al="_quizType_1nhls_141",cl="_large_1nhls_150",ul="_nextToVocaTest_1nhls_153",ll="_totalScoreContainer_1nhls_163",dl="_totalScore_1nhls_163",ml="_container_1nhls_184",xl="_borderNone_1nhls_202",hl="_readingUnit_1nhls_205",_l="_passmark_1nhls_211",pl="_board1_1nhls_220",gl="_correctScore_1nhls_226",yl="_number_1nhls_240",fl="_incorrectScore_1nhls_244",bl="_board2_1nhls_262",kl="_row_1nhls_268",Sl="_nextButton_1nhls_280",wl="_shadow_1nhls_1",vl="_goButton_1nhls_311",jl="_notYetButton_1nhls_333",zl="_submitRevision_1nhls_357",$l="_stepOrder_1nhls_372",Cl="_comment_1nhls_394",Ql="_revisionBoard_1nhls_404",Al="_txtLabel_1nhls_417",Nl="_txtCount_1nhls_429",Tl="_selectBox_1nhls_441",Il="_revisionDone_1nhls_446",Bl="_noButton_1nhls_449",El="_yesButton_1nhls_471",Pl="_heartbeat_1nhls_494",Ml="_btnDelete_1nhls_567",Ll="_quizEndingPass_1nhls_582",Rl="_groupGoodJob_1nhls_608",ql="_imgUnit_1nhls_617",Fl="_imgPointCoin_1nhls_625",Hl="_txtAchivePoint_1nhls_638",Ol="_imgGoodJobRibbon_1nhls_644",Dl="_imgConfetti_1nhls_652",Wl="_groupScore_1nhls_663",Vl="_txtMessage_1nhls_683",Gl="_quizEndingFail_1nhls_688",Ul="_groupTryAgin_1nhls_714",Kl="_imgTryAgainRibbon_1nhls_731",wt={testResult:Ou,scoreBoard:Du,score:Wu,count1:Vu,count3:Gu,wrongAnswers:Uu,title:Ku,quizQuestion:Ju,questionSentence:Yu,answers:Xu,correctAnswer:Zu,txtL:el,correctAnswerNum:tl,quizAnswer:nl,label:sl,correctIcon:ol,incorrectIcon:il,wrongAnswer:rl,quizType:al,large:cl,nextToVocaTest:ul,totalScoreContainer:ll,totalScore:dl,container:ml,borderNone:xl,readingUnit:hl,passmark:_l,board1:pl,correctScore:gl,number:yl,incorrectScore:fl,board2:bl,row:kl,nextButton:Sl,shadow:wl,goButton:vl,notYetButton:jl,submitRevision:zl,stepOrder:$l,comment:Cl,revisionBoard:Ql,txtLabel:Al,txtCount:Nl,selectBox:Tl,revisionDone:Il,noButton:Bl,yesButton:El,heartbeat:Pl,btnDelete:Ml,quizEndingPass:Ll,groupGoodJob:Rl,imgUnit:ql,imgPointCoin:Fl,txtAchivePoint:Hl,imgGoodJobRibbon:Ol,imgConfetti:Dl,groupScore:Wl,txtMessage:Vl,quizEndingFail:Gl,groupTryAgin:Ul,imgTryAgainRibbon:Kl},Jl="_testResult_1jboh_1",Yl="_scoreBoard_1jboh_10",Xl="_score_1jboh_10",Zl="_count1_1jboh_27",ed="_count3_1jboh_30",td="_wrongAnswers_1jboh_45",nd="_title_1jboh_51",sd="_quizQuestion_1jboh_63",od="_questionSentence_1jboh_70",id="_answers_1jboh_73",rd="_correctAnswer_1jboh_80",ad="_txtL_1jboh_87",cd="_correctAnswerNum_1jboh_90",ud="_quizAnswer_1jboh_100",ld="_label_1jboh_111",dd="_correctIcon_1jboh_116",md="_incorrectIcon_1jboh_124",xd="_wrongAnswer_1jboh_45",hd="_quizType_1jboh_143",_d="_large_1jboh_152",pd="_nextToVocaTest_1jboh_155",gd="_totalScoreContainer_1jboh_165",yd="_totalScore_1jboh_165",fd="_container_1jboh_186",bd="_borderNone_1jboh_204",kd="_readingUnit_1jboh_207",Sd="_passmark_1jboh_213",wd="_board1_1jboh_222",vd="_correctScore_1jboh_228",jd="_number_1jboh_242",zd="_incorrectScore_1jboh_246",$d="_board2_1jboh_264",Cd="_row_1jboh_270",Qd="_nextButton_1jboh_282",Ad="_shadow_1jboh_1",Nd="_goButton_1jboh_313",Td="_notYetButton_1jboh_335",Id="_submitRevision_1jboh_359",Bd="_stepOrder_1jboh_373",Ed="_comment_1jboh_395",Pd="_revisionBoard_1jboh_405",Md="_txtLabel_1jboh_418",Ld="_txtCount_1jboh_430",Rd="_selectBox_1jboh_442",qd="_revisionDone_1jboh_448",Fd="_noButton_1jboh_451",Hd="_yesButton_1jboh_473",Od="_heartbeat_1jboh_496",Dd="_btnDelete_1jboh_569",Wd="_quizEndingPass_1jboh_584",Vd="_groupGoodJob_1jboh_610",Gd="_imgUnit_1jboh_619",Ud="_imgPointCoin_1jboh_627",Kd="_txtAchivePoint_1jboh_640",Jd="_imgGoodJobRibbon_1jboh_646",Yd="_imgConfetti_1jboh_654",Xd="_groupScore_1jboh_665",Zd="_txtMessage_1jboh_685",em="_quizEndingFail_1jboh_690",tm="_groupTryAgin_1jboh_716",nm="_imgTryAgainRibbon_1jboh_733",vt={testResult:Jl,scoreBoard:Yl,score:Xl,count1:Zl,count3:ed,wrongAnswers:td,title:nd,quizQuestion:sd,questionSentence:od,answers:id,correctAnswer:rd,txtL:ad,correctAnswerNum:cd,quizAnswer:ud,label:ld,correctIcon:dd,incorrectIcon:md,wrongAnswer:xd,quizType:hd,large:_d,nextToVocaTest:pd,totalScoreContainer:gd,totalScore:yd,container:fd,borderNone:bd,readingUnit:kd,passmark:Sd,board1:wd,correctScore:vd,number:jd,incorrectScore:zd,board2:$d,row:Cd,nextButton:Qd,shadow:Ad,goButton:Nd,notYetButton:Td,submitRevision:Id,stepOrder:Bd,comment:Ed,revisionBoard:Pd,txtLabel:Md,txtCount:Ld,selectBox:Rd,revisionDone:qd,noButton:Fd,yesButton:Hd,heartbeat:Od,btnDelete:Dd,quizEndingPass:Wd,groupGoodJob:Vd,imgUnit:Gd,imgPointCoin:Ud,txtAchivePoint:Kd,imgGoodJobRibbon:Jd,imgConfetti:Yd,groupScore:Xd,txtMessage:Zd,quizEndingFail:em,groupTryAgin:tm,imgTryAgainRibbon:nm};function Z({height:t}){return e.jsx("div",{style:{height:`${t}px`}})}const sm=new A(navigator.userAgent),om=sm.phone(),_s=om?vt:wt;function im({studentAnswer:t,quizAnswerCount:i}){let n=0,s=[],a=[];return t.map(u=>{n!==u.quizNo&&(n=u.quizNo,a.push(e.jsx("div",{children:n})));for(let l=1;l<=i;l++)l<u.answerCount?a.push(e.jsx("div",{children:"X"})):l===u.answerCount?u.ox?a.push(e.jsx("div",{children:"O"})):a.push(e.jsx("div",{children:"X"})):a.push(e.jsx("div",{}));s.push(e.jsx("div",{className:`${_s.score} ${i===3?_s.count3:i===1?_s.count1:""}`,children:a},`rows-result-${n}`)),a=[]}),e.jsx(e.Fragment,{children:s})}const rm=new A(navigator.userAgent),am=rm.phone(),ps=am?vt:wt;function cm({quizAnswerCount:t}){const i=["1st","2nd","3rd","th"];let n=[];for(let s=0;s<t;s++)n.push(e.jsx("div",{children:i[s]},`col-header-test-result-${s}`));return e.jsxs("div",{className:`${ps.row} ${t===3?ps.count3:t===1?ps.count1:""}`,children:[e.jsx("div",{children:"Q"}),n]})}const um=new A(navigator.userAgent),lm=um.phone(),dm=lm?vt:wt;function zi({quizAnswerCount:t,studentAnswer:i}){return e.jsxs("div",{className:dm.scoreBoard,children:[e.jsx(cm,{quizAnswerCount:t}),e.jsx(im,{studentAnswer:i,quizAnswerCount:t})]})}const mm=new A(navigator.userAgent),xm=mm.phone(),et=xm?vt:wt;function it({step:t,quizType:i,quizAnswerCount:n,studentAnswer:s,passMark:a,onFinishActivity:u}){const l=Yt();let r=0,x=0,_=0;const b=100/s.length;return s.map(f=>{if(f.ox)switch(x++,f.answerCount){case 1:r+=1*b;break;case 2:r+=.5*b;break;case 3:r+=.25*b;break}else f.answerCount>=n&&_++}),e.jsxs("div",{className:et.testResult,children:[e.jsxs("div",{className:et.quizType,children:["Step ",t,". ",i]}),e.jsxs("div",{className:et.totalScoreContainer,children:[e.jsx("div",{className:et.txtL,children:"SCORE: "}),e.jsx("div",{className:`${et.totalScore} ${et.heartbeat}`,children:Math.round(r)})]}),e.jsxs("div",{className:et.container,children:[e.jsx("div",{className:`${et.readingUnit} animate__animated animate__jackInTheBox`,children:e.jsx("img",{src:`https://wcfresource.a1edu.com/newsystem/image/character/subcharacter/${l}_10.png`,alt:""})}),a&&e.jsxs("div",{className:et.passmark,children:["Passmark: ",a]}),e.jsxs("div",{className:`${et.board1} animate__animated animate__fadeIn`,children:[e.jsxs("div",{className:et.correctScore,children:[e.jsx("div",{className:et.title,children:"correct"}),e.jsx("div",{className:et.number,children:x})]}),e.jsxs("div",{className:et.incorrectScore,children:[e.jsx("div",{className:et.title,children:"incorrect"}),e.jsx("div",{className:et.number,children:_})]})]}),e.jsx("div",{className:et.board2,children:e.jsx(zi,{quizAnswerCount:n,studentAnswer:s})}),e.jsx(Z,{height:50})]}),e.jsx("div",{className:et.nextButton,onClick:()=>u(),children:"Next"})]})}const hm=new A(navigator.userAgent),_m=hm.phone(),kn=_m?ut:ot;function pm({index:t,correctText:i,example:n,checkAnswer:s}){const{bookInfo:a,studyInfo:u}=c.useContext(ie);return e.jsxs("div",{className:`${kn.textCard} 
      ${u.mode==="Review"&&Number(a.Average)>=70&&n.Text===i?kn.correct:""}`,onClick:l=>s(l.currentTarget,n.Text),children:[e.jsx("div",{className:kn.cardNumber,children:Number(t+1)}),e.jsx("div",{className:kn.awnserText,children:n.Text})]})}const gm=new A(navigator.userAgent),ym=gm.phone(),To=ym?ut:ot;function fm({correctText:t,exampleData:i,checkAnswer:n}){return e.jsx("div",{className:To.answers,children:e.jsx("div",{className:To.container,children:i.map((s,a)=>e.jsx(pm,{index:a,correctText:t,example:s,checkAnswer:n}))})})}const bm=new A(navigator.userAgent),km=bm.phone(),Io=km?ut:ot;function Sm({playState:t,playSentence:i}){return e.jsxs("div",{className:Io.wordPlayButton,onClick:()=>i(),children:[t==="playing"?e.jsx(qe,{isColor:!0,width:34,height:34}):e.jsx(Re,{isColor:!0,width:34,height:34}),e.jsx("div",{className:Io.txtL,children:"Listen"})]})}const wm=new A(navigator.userAgent),vm=wm.phone(),jm=vm?ut:ot;function zm({blankRef:t,correctAnswer:i}){return e.jsx("span",{ref:t,className:`${jm.answerBox}`,children:t.current&&t.current.classList.length>1&&i})}const $m=new A(navigator.userAgent),Cm=$m.phone(),Qm=Cm?ut:ot;function Am({blankRef:t,question:i,correctAnswer:n}){return e.jsx("div",{className:Qm.questionBox,children:i.split(" ").map((s,a)=>s.includes("┒")?ln(s,"┒",()=>e.jsx(zm,{blankRef:t,correctAnswer:n})):e.jsx("span",{children:s}))})}const Nm="_wordPlayButton_167cv_1",Tm="_txtL_167cv_16",Im="_trueSentencePopup_167cv_28",Bm="_title_167cv_31",Em="_container_167cv_36",Pm="_sentence_167cv_50",Mm="_nextButton_167cv_56",Lm={wordPlayButton:Nm,txtL:Tm,trueSentencePopup:Im,title:Bm,container:Em,sentence:Pm,nextButton:Mm},Rm="_wordPlayButton_csjet_1",qm="_txtL_csjet_16",Fm="_trueSentencePopup_csjet_28",Hm="_title_csjet_31",Om="_container_csjet_36",Dm="_sentence_csjet_50",Wm="_nextButton_csjet_57",Vm={wordPlayButton:Rm,txtL:qm,trueSentencePopup:Fm,title:Hm,container:Om,sentence:Dm,nextButton:Wm},Gm=new A(navigator.userAgent),Um=Gm.phone(),Lt=Um?Vm:Lm;function Km({playState:t,sentence:i,changeCorrectSentenceState:n,playSentence:s}){return e.jsxs("div",{className:Lt.trueSentencePopup,children:[e.jsx("div",{className:Lt.title,children:"Correct Sentence"}),e.jsxs("div",{className:Lt.container,children:[e.jsxs("div",{className:Lt.wordPlayButton,onClick:()=>s(),children:[t==="playing"?e.jsx(qe,{isColor:!0,width:24,height:24}):e.jsx(Re,{isColor:!0,width:24,height:24}),e.jsx("div",{className:Lt.txtL,children:"Play Sound"})]}),e.jsx("div",{className:Lt.sentence,children:i})]}),e.jsx("div",{className:Lt.nextButton,onClick:()=>n(!1),children:"Next"})]})}const Jm=new A(navigator.userAgent),Gs=Jm.phone(),Sn="Cloze Test",zt=Gs?ut:ot;function Ym(t){const{t:i}=he(),{bookInfo:n,handler:s,studyInfo:a}=c.useContext(ie),u=t.currentStep,l=ve(()=>{Q()}),r=lt(),[x,_]=c.useState("animate__bounceInRight"),{isStepIntro:b,closeStepIntro:f}=we(),{isResultShow:p,changeResultShow:S}=He(),[k,m]=c.useState(!1),o=c.useRef(null),h=c.useRef(!1),[d,g]=je(dr,t,u),[y,w]=c.useState(1),{scoreBoardData:v,setStudentAnswers:R,addStudentAnswer:z,makeUserAnswerData:E}=ze(a.mode),[j,$]=c.useState([]),[M,F]=c.useState(0),[O,H]=c.useState(0),[W,q]=c.useState(!1),{bottomPopupState:N,changeBottomPopupState:B}=Xe(),{playState:D,playAudio:K,stopAudio:G}=Le();if(c.useEffect(()=>{!b&&d&&(l.setup(d.QuizTime,!0),K(d.Quiz[y-1].Question.Sound),h.current=!1)},[b]),c.useEffect(()=>{if(d){const[oe,ue]=ct(a.mode,g,d.QuizAnswerCount);F(ue),H(ue),a.mode==="Super"?$(d.Quiz[oe-1].Examples):$(_e.shuffle(d.Quiz[oe-1].Examples)),R(g,d.QuizAnswerCount),w(oe)}},[d]),c.useEffect(()=>{d&&(G(),W?K(d.Quiz[y-1].Question.Sound):y+1>d.Quiz.length?S(!0):w(y+1))},[W]),c.useEffect(()=>{!b&&!p&&d&&(l.setup(d.QuizTime,!0),H(0),F(0),a.mode==="Super"?$(d.Quiz[y-1].Examples):$(_e.shuffle(d.Quiz[y-1].Examples)),K(d.Quiz[y-1].Question.Sound),h.current=!1)},[y]),!d)return e.jsx(e.Fragment,{children:"Loading..."});const V=async(oe,ue="")=>{var ce,re;try{if(!h.current){h.current=!0,l.stop();const ne=d.Quiz[y-1].Examples[0].Text,P=ne===ue,X={quizNo:y,maxCount:d.QuizAnswerCount,answerCount:M+1,ox:P},J=E({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:u,quizId:d.Quiz[y-1].QuizId,quizNo:d.Quiz[y-1].QuizNo,currentQuizNo:y,correct:ne,selectedAnswer:ue,tryCount:M+1,maxQuizCount:d.QuizAnswerCount,quizLength:d.Quiz.length,isCorrect:P,answerData:X,isFinishStudy:t.lastStep===u}),U=await Te(a.mode,J);Number(U.result)===0&&(U.resultMessage&&(s.finishStudy={id:Number(U.result),cause:U.resultMessage}),P?(r.play(oe,[zt.correct,"animate__fadeIn"]),(ce=o.current)==null||ce.classList.add(zt.correctAnswer)):(r.play(oe,[zt.incorrect,"animate__headShake"]),(re=o.current)==null||re.classList.add(zt.incorrectAnswer)),z(X),P||H(O+1),F(M+1),I(P,oe))}}catch(ne){console.error(ne)}},I=(oe,ue)=>{B({isActive:!0,isCorrect:oe}),setTimeout(()=>{var ce;B({isActive:!1,isCorrect:!1}),(ce=o.current)==null||ce.classList.remove(zt.correctAnswer,zt.incorrectAnswer),n.BookLevel.includes("1")?y+1>d.Quiz.length?S(!0):w(y+1):Y(!0),r.remove(ue,[zt.correct,zt.incorrect,"animate__fadeIn","animate__headShake"])},2e3)},Q=async()=>{try{if(!h.current){h.current=!0,l.stop();const oe=d.Quiz[y-1].Examples[0].Text,ue={quizNo:y,maxCount:d.QuizAnswerCount,answerCount:M+1,ox:!1},ce=E({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:u,quizId:d.Quiz[y-1].QuizId,quizNo:d.Quiz[y-1].QuizNo,currentQuizNo:y,correct:oe,selectedAnswer:"",tryCount:M+1,maxQuizCount:d.QuizAnswerCount,quizLength:d.Quiz.length,isCorrect:!1,answerData:ue,isFinishStudy:t.lastStep===u}),re=await Te(a.mode,ce);Number(re.result)===0&&(re.resultMessage&&(s.finishStudy={id:Number(re.result),cause:re.resultMessage}),z(ue),H(O+1),F(M+1),T())}}catch(oe){console.error(oe)}},T=()=>{B({isActive:!0,isCorrect:!1}),setTimeout(()=>{B({isActive:!1,isCorrect:!1}),n.BookLevel.includes("1")?y+1>d.Quiz.length?S(!0):w(y+1):Y(!0)},2e3)},L=()=>{D===""?K(d.Quiz[y-1].Question.Sound):G()},Y=oe=>{q(oe)},te=oe=>{m(oe)};return e.jsx(e.Fragment,{children:b?e.jsx("div",{className:`animate__animated ${x}`,onAnimationEnd:()=>{x==="animate__bounceOutLeft"&&f()},children:e.jsx(Me,{step:u,quizType:Sn,comment:i("study.문장을 읽고 빈칸에 들어갈 알맞은 답을 고르세요."),onStepIntroClozeHandler:()=>{_("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:p?e.jsx(it,{step:u,quizType:Sn,quizAnswerCount:d.QuizAnswerCount,studentAnswer:v,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:y,totalQuizCnt:Object.keys(d.Quiz).length,life:d.QuizAnswerCount-O,timeMin:l.time.timeMin,timeSec:l.time.timeSec,changeSideMenu:te}),e.jsx("div",{className:`${zt.comment} animate__animated animate__fadeInLeft`,children:Sn}),e.jsx(Qe,{children:W?e.jsx(Km,{playState:D,sentence:d.Quiz[y-1].Question.Text.replace("┒",d.Quiz[y-1].Examples[0].Text),changeCorrectSentenceState:Y,playSentence:L}):e.jsxs(Be,{typeCSS:zt.clozeTest1,containerCSS:zt.container,children:[Gs?e.jsx(e.Fragment,{}):e.jsx(Z,{height:0}),e.jsx(Sm,{playState:D,playSentence:L}),e.jsx(Am,{blankRef:o,question:d.Quiz[y-1].Question.Text,correctAnswer:d.Quiz[y-1].Examples[0].Text}),Gs?e.jsx(Z,{height:20}):e.jsx(Z,{height:30}),e.jsx(fm,{correctText:d.Quiz[y-1].Examples[0].Text,exampleData:j,checkAnswer:V})]})}),k&&e.jsx(Ce,{isSideOpen:k,currentStep:u,currentStepType:Sn,quizLength:d.Quiz.length,maxAnswerCount:d.QuizAnswerCount,changeSideMenu:te,scoreBoardData:v,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:N})]})})})}const Xm=new A(navigator.userAgent),Zm=Xm.phone(),Bo=Zm?ut:ot;function e0({playState:t,playSentence:i}){return e.jsxs("div",{className:Bo.wordPlayButton,onClick:()=>i(),children:[t==="playing"||t==="endFn"?e.jsx(qe,{isColor:!0,width:34,height:34}):e.jsx(Re,{isColor:!0,width:34,height:34}),e.jsx("div",{className:Bo.txtL,children:"Play Sound"})]})}const t0=new A(navigator.userAgent),n0=t0.phone(),wn=n0?ut:ot;function s0({inputRefs:t,isWorking:i,inputIndex:n,currentIndex:s,inputValues:a,correctText:u,changeInputValue:l,checkAnswer:r,changeInputIndex:x}){const _=m=>{i&&m.preventDefault(),(m.key==="Tab"||m.altKey&&m.key==="Tab")&&(m.preventDefault(),t==null||t.current[s].focus())},b=m=>{m.preventDefault();const o=/^[a-zA-Z-' ]+(?:'){0,1}[a-zA-Z]?$/g;let h=m.currentTarget.value;o.test(h)||(h=h.slice(0,h.length-1)),l(s,h)},f=(m,o)=>{const h=m.currentTarget.value;if(m.key==="Enter"&&h!=="")if(S(t,o)===-1)x(-1),r();else{const g=p(t,o);x(g)}},p=(m,o)=>m==null?void 0:m.current.findIndex((d,g)=>!a[g].isCorrected&&g>o),S=(m,o)=>m==null?void 0:m.current.findLastIndex((d,g)=>!a[g].isCorrected&&g>o),k=()=>{x(n)};return e.jsx("div",{className:`${wn.answerBox} ${s===n?wn.currentOrder:""}`,children:s===n?e.jsx(e.Fragment,{children:e.jsx("div",{className:wn.currentInput,style:{width:"fit-contents"},children:e.jsx("input",{ref:m=>t.current[n]=m,id:"textFild",style:{width:`${u.length*15.6}px`},type:"text",value:a[s].text,onKeyDown:m=>_(m),onChange:m=>b(m),onKeyUp:m=>f(m,s),onCopy:m=>m.preventDefault(),onPaste:m=>m.preventDefault(),onCut:m=>m.preventDefault(),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search",autoFocus:!0,tabIndex:-1})})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:wn.otherInput,style:{width:"fit-contents"},children:e.jsx("input",{ref:m=>t.current[n]=m,style:{width:`${u.length*15.6}px`},value:a[n].text,onFocus:()=>k()})})})})}const o0=new A(navigator.userAgent),i0=o0.phone(),Zt=i0?ut:ot;function r0({inputRefs:t,penaltyState:i,inputIndex:n,currentIndex:s,correctText:a,changeInputIndex:u,changePenaltyState:l}){const[r,x]=c.useState(""),[_,b]=c.useState(0),[f,p]=c.useState(0),S=c.useRef(null),k=c.useRef(null),m=y=>{i!=="penalty"&&y.preventDefault(),(y.key==="Tab"||y.altKey&&y.key==="Tab")&&(y.preventDefault(),t.current[s].focus())},o=y=>{y.preventDefault();const w=/^[ㄱ-ㅎa-zA-Z-'~ ]+(?:'){0,1}[a-zA-Z]?$/g;let v=y.currentTarget.value;w.test(v)||(v=v.slice(0,v.length-1)),x(v)},h=(y,w)=>{if(y.currentTarget.value===a)if(g(t,w)===-1)u(-1),l("success");else{const z=d(t,w);u(z)}},d=(y,w)=>y.current.findIndex((R,z)=>(R==null?void 0:R.value)===""||z>w),g=(y,w)=>y.current.findLastIndex((R,z)=>z>w);return c.useEffect(()=>{S.current&&S.current.offsetWidth>0&&b(S.current.offsetWidth),k.current&&k.current.offsetWidth>0&&p(k.current.offsetWidth)}),e.jsx("span",{className:`${Zt.reviewAnswer} ${s===n?Zt.currentOrder:""}`,children:s===n?e.jsxs("span",{children:[e.jsx("span",{className:Zt.currentInput,children:e.jsx("input",{ref:y=>t.current[n]=y,id:"textFild",style:{width:`${_}px`},type:"text",value:r,onKeyDown:y=>m(y),onChange:y=>o(y),onKeyUp:y=>h(y,s),onCopy:y=>y.preventDefault(),onPaste:y=>y.preventDefault(),onCut:y=>y.preventDefault(),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search",autoFocus:!0,tabIndex:-1})}),e.jsx("div",{ref:S,className:Zt.hintText,children:a})]}):e.jsx(e.Fragment,{children:r===a||i==="success"?e.jsx("span",{style:{color:"#289EE4"},children:a}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:Zt.otherInput,children:e.jsx("input",{ref:y=>t.current[n]=y,style:{width:`${f}px`},disabled:!0})}),e.jsx("div",{ref:k,className:Zt.hintText,children:a})]})})})}const a0=new A(navigator.userAgent),c0=a0.phone(),u0=c0?ut:ot;function l0({inputRefs:t,isWorking:i,exampleData:n,currentIndex:s,inputValues:a,penaltyState:u,changeInputValue:l,changeInputIndex:r,checkAnswer:x,changePenaltyState:_}){t.current=[];let b=-1;const f=n.Question.Text.split(" ").map(p=>({text:p,index:p.includes("┒")?++b:0}));return e.jsx("div",{className:u0.questionBox,children:f.map((p,S)=>p.text.includes("┒")?e.jsx(e.Fragment,{children:u==="none"?ln(p.text,"┒",()=>e.jsx(s0,{inputRefs:t,isWorking:i,inputIndex:p.index,currentIndex:s,inputValues:a,correctText:n.Examples[p.index].Text,changeInputValue:l,checkAnswer:x,changeInputIndex:r},`text-input-${p.index}`)):ln(p.text,"┒",()=>e.jsx(r0,{inputRefs:t,penaltyState:u,inputIndex:p.index,currentIndex:s,correctText:n.Examples[p.index].Text,changeInputIndex:r,changePenaltyState:_},`penalty-input-${p.index}`))}):e.jsx("span",{dangerouslySetInnerHTML:{__html:p.text}},`word-${S}`))})}const d0=new A(navigator.userAgent),$i=d0.phone(),vn="Cloze Test",jn=$i?ut:ot;function m0(t){const{t:i}=he(),{handler:n,studyInfo:s}=c.useContext(ie),a=t.currentStep,u=ve(()=>{Q("timeout")}),[l,r]=c.useState("animate__bounceInRight"),{isStepIntro:x,closeStepIntro:_}=we(),{isResultShow:b,changeResultShow:f}=He(),[p,S]=c.useState(!1),k=c.useRef(!0),[m,o]=je(mr,t,a),[h,d]=c.useState(1),{scoreBoardData:g,setStudentAnswers:y,addStudentAnswer:w,makeUserAnswerData:v}=ze(s.mode),[R,z]=c.useState(0),[E,j]=c.useState(0),$=c.useRef([]),[M,F]=c.useState([]),[O,H]=c.useState(0),[W,q]=c.useState("none"),{bottomPopupState:N,changeBottomPopupState:B}=Xe(),{playState:D,playAudio:K,stopAudio:G}=Le();if(c.useEffect(()=>{!x&&m&&(W==="none"&&(u.setup(m.QuizTime,!0),re()),k.current=!1)},[x]),c.useEffect(()=>{if(m){const[P,X]=ct(s.mode,o,m.QuizAnswerCount);if(o.length>0)if(s.mode==="Quiz")if(m.IsEnablePenaltyReview&&o[o.length-1].PenaltyWord!=="")F(new Array(m.Quiz[P-2].Examples.length).fill({text:"",isCorrected:!1})),q("penalty"),z(m.QuizAnswerCount),j(m.QuizAnswerCount),d(o[o.length-1].CurrentQuizNo);else{if(o[P-1]&&o[P-1].CurrentQuizNo===P&&o[P-1].StudentAnswer!==""){const J=o[o.length-1].StudentAnswer.split("┒"),U=ce(J,P);if(U){const se=U.findIndex(le=>!le.isCorrected);H(se)}F(U)}else F(new Array(m.Quiz[P-1].Examples.length).fill({text:"",isCorrected:!1}));z(X),j(X),d(P)}else{const J=m.Quiz[h-1].Examples;let U=[];for(let se=0;se<J.length;se++)U.push({text:m.Quiz[P-1].Examples[se].Text,isCorrected:!1});F(U)}else z(X),j(X),d(P),F([...ce(new Array(m.Quiz[P-1].Examples.length).fill(""),P)]);y(o,m.QuizAnswerCount)}},[m]),c.useEffect(()=>{if(!x&&!b&&m){if(u.setup(m.QuizTime,!0),re(),H(0),s.mode!=="Quiz"){const P=m.Quiz[h-1].Examples;let X=[];for(let J=0;J<P.length;J++)X.push({text:m.Quiz[h-1].Examples[J].Text,isCorrected:!1});F(X)}k.current=!1}},[h]),c.useEffect(()=>{O>-1&&($!=null&&$.current[O])&&($==null||$.current[O].focus())},[O]),c.useEffect(()=>{m&&(W==="penalty"&&!x?u.stop():W==="success"&&ue())},[W]),!m)return e.jsx(e.Fragment,{children:"Loading..."});const V=()=>{let P=[],X=[],J=[];for(let se=0;se<($==null?void 0:$.current.length);se++){const le={example:m.Quiz[h-1].Examples[se].Text,input:$==null?void 0:$.current[se].value.trimStart().trimEnd(),isEqual:m.Quiz[h-1].Examples[se].Text===($==null?void 0:$.current[se].value.trimStart().trimEnd())};J.push(le.example),P.push(le),X.push(le.input.trimStart().trimEnd())}return[P.filter(se=>se.input.trimStart().trimEnd()==="").length>0,P,J.join("┒"),X.join("┒")]},I=P=>!P.find(X=>!X.isEqual),Q=async P=>{try{if(!k.current){k.current=!0,u.stop();const[X,J,U,se]=V();if(X&&!P)alert(i("study.빈칸이 존재하지 않아야 합니다.")),k.current=!1,u.start();else{const le=I(J),ae={quizNo:h,maxCount:m.QuizAnswerCount,answerCount:R+1,ox:le},pe=v({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:a,quizId:m.Quiz[h-1].QuizId,quizNo:m.Quiz[h-1].QuizNo,currentQuizNo:h,correct:U,selectedAnswer:se,tryCount:R+1,maxQuizCount:m.QuizAnswerCount,quizLength:m.Quiz.length,isCorrect:le,answerData:ae,isEnabledPenalty:m.IsEnablePenaltyReview,isFinishStudy:t.lastStep===a}),Ee=await Te(s.mode,pe);Number(Ee.result)===0&&(Ee.resultMessage&&(n.finishStudy={id:Number(Ee.result),cause:Ee.resultMessage}),w(ae),le||j(E+1),z(R+1),T(le,J))}}}catch(X){console.error(X)}},T=(P,X)=>{B({isActive:!0,isCorrect:P}),setTimeout(()=>{if(P)h+1>Object.keys(m.Quiz).length?(G(),f(!0)):(G(),te(),z(0),j(0),oe("none"),d(h+1));else{let J=!0,U=0,se=[];$==null||$.current.forEach((le,ae)=>{X[ae].isEqual||J&&(J=!1,U=ae),se.push({text:X[ae].input,isCorrected:X[ae].isEqual})}),F([...se]),R===m.QuizAnswerCount-1?m.IsEnablePenaltyReview?(G(),H(0),oe("penalty")):h+1>Object.keys(m.Quiz).length?(G(),f(!0)):(G(),te(),z(0),j(0),oe("none"),d(h+1)):(u.setup(m.QuizTime,!0),H(U),k.current=!1)}B({isActive:!1,isCorrect:!1})},1500)},L=P=>{H(P)},Y=(P,X)=>{const J=M.map((U,se)=>P===se?{text:X,isCorrected:U.isCorrected}:{text:U.text,isCorrected:U.isCorrected});F([...J])},te=()=>{m.Quiz[h-1]&&F([...new Array(m.Quiz[h-1].Examples.length).fill({text:"",isCorrected:!1})])},oe=P=>{q(P)},ue=async()=>{(async()=>{const X=h+1>m.Quiz.length,J=await is({mobile:"",bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${a}`,quizId:m.Quiz[h-1].QuizId,isLastQuiz:X,isFinishStudy:!!(X&&t.lastStep===a)});Number(J.result)===0&&(J.resultMessage&&(n.finishStudy={id:Number(J.result),cause:J.resultMessage}),re(()=>{G(),h+1>Object.keys(m.Quiz).length?(G(),f(!0)):(G(),te(),z(0),j(0),oe("none"),d(h+1))}))})()},ce=(P,X)=>{let J=[];for(let U=0;U<P.length;U++){const se={text:P[U].slice(-1)==="1"?m.Quiz[X-1].Examples[U].Text:"",isCorrected:P[U].slice(-1)==="1"};J.push(se)}return J},re=P=>{W==="none"?D==="playing"?G():K(m.Quiz[h-1].Question.Sound):W==="success"&&D===""&&K(m.Quiz[h-1].Question.Sound,P)},ne=P=>{S(P)};return e.jsx(e.Fragment,{children:x?e.jsx("div",{className:`animate__animated ${l}`,onAnimationEnd:()=>{l==="animate__bounceOutLeft"&&_()},children:e.jsx(Me,{step:a,quizType:vn,comment:i("study.문장을 읽고 빈칸에 들어갈 답을 입력하세요."),onStepIntroClozeHandler:()=>{r("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:b?e.jsx(it,{step:a,quizType:vn,quizAnswerCount:m.QuizAnswerCount,studentAnswer:g,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:h,totalQuizCnt:Object.keys(m.Quiz).length,life:m.QuizAnswerCount-E,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:ne}),e.jsx("div",{className:`${ot.comment} animate__animated animate__fadeInLeft`,children:vn}),e.jsx(Qe,{children:e.jsxs(Be,{typeCSS:jn.clozeTest2,containerCSS:jn.container,children:[$i?e.jsx(e.Fragment,{}):e.jsx(Z,{height:0}),W==="none"?e.jsx(e0,{playState:D,playSentence:re}):e.jsx("div",{className:jn.testReview,children:e.jsx("div",{className:jn.title,children:"Test Review"})}),e.jsx(l0,{inputRefs:$,isWorking:k.current,exampleData:m.Quiz[h-1],currentIndex:O,inputValues:M,penaltyState:W,changeInputValue:Y,changeInputIndex:L,checkAnswer:Q,changePenaltyState:oe})]})}),p&&e.jsx(Ce,{isSideOpen:p,currentStep:a,currentStepType:vn,quizLength:m.Quiz.length,maxAnswerCount:m.QuizAnswerCount,changeSideMenu:ne,scoreBoardData:g,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:N})]})})})}const x0=new A(navigator.userAgent),h0=x0.phone(),Eo=h0?ut:ot;function _0({playState:t,playSentence:i}){return e.jsxs("div",{className:Eo.wordPlayButton,onClick:()=>i(),children:[t==="playing"||t==="endFn"?e.jsx(qe,{isColor:!0,width:34,height:34}):e.jsx(Re,{isColor:!0,width:34,height:34}),e.jsx("div",{className:Eo.txtL,children:"Listen"})]})}const p0=new A(navigator.userAgent),g0=p0.phone(),mn=g0?ut:ot;function y0({inputRefs:t,isWorking:i,inputIndex:n,currentIndex:s,inputValues:a,correctText:u,changeInputValue:l,checkAnswer:r,changeInputIndex:x}){const _=m=>{i&&m.preventDefault(),(m.key==="Tab"||m.altKey&&m.key==="Tab")&&(m.preventDefault(),t==null||t.current[s].focus())},b=m=>{m.preventDefault();const o=/^[a-zA-Z-' ]+(?:'){0,1}[a-zA-Z]?$/g;let h=m.currentTarget.value;o.test(h)||(h=h.slice(0,h.length-1)),l(s,h)},f=(m,o)=>{const h=m.currentTarget.value;if(m.key==="Enter"&&h!=="")if(S(t,o)===-1)x(-1),r();else{const g=p(t,o);x(g)}},p=(m,o)=>m==null?void 0:m.current.findIndex((d,g)=>!a[g].isCorrected&&g>o),S=(m,o)=>m==null?void 0:m.current.findLastIndex((d,g)=>!a[g].isCorrected&&g>o),k=()=>{x(n)};return e.jsx("span",{className:`${mn.answerBox} ${s===n?mn.currentOrder:""}`,children:s===n?e.jsx(e.Fragment,{children:e.jsx("span",{className:mn.currentInput,children:e.jsx("input",{ref:m=>t.current[n]=m,id:"textFild",style:{width:`${u.length*15.6}px`},type:"text",value:a[s].text,onKeyDown:m=>_(m),onChange:m=>b(m),onKeyUp:m=>f(m,s),onCopy:m=>m.preventDefault(),onPaste:m=>m.preventDefault(),onCut:m=>m.preventDefault(),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search",autoFocus:!0,tabIndex:-1})})}):e.jsx(e.Fragment,{children:e.jsx("span",{className:`${mn.otherInput} ${a[n].isCorrected&&mn.correct}`,children:e.jsx("input",{ref:m=>t.current[n]=m,style:{width:`${u.length*15.6}px`},value:a[n].text,onFocus:()=>k(),disabled:!!(a[n].isCorrected||n>s&&a[n].text==="")})})})})}const f0=new A(navigator.userAgent),b0=f0.phone(),en=b0?ut:ot;function k0({inputRefs:t,penaltyState:i,inputIndex:n,currentIndex:s,correctText:a,changeInputIndex:u,changePenaltyState:l}){const[r,x]=c.useState(""),[_,b]=c.useState(0),[f,p]=c.useState(0),S=c.useRef(null),k=c.useRef(null),m=y=>{i!=="penalty"&&y.preventDefault(),(y.key==="Tab"||y.altKey&&y.key==="Tab")&&(y.preventDefault(),t.current[s].focus())},o=y=>{y.preventDefault();const w=/^[ㄱ-ㅎa-zA-Z-'~ ]+(?:'){0,1}[a-zA-Z]?$/g;let v=y.currentTarget.value;w.test(v)||(v=v.slice(0,v.length-1)),x(v)},h=(y,w)=>{if(y.currentTarget.value===a)if(g(t,w)===-1)u(-1),l("success");else{const z=d(t,w);u(z)}},d=(y,w)=>y.current.findIndex((R,z)=>(R==null?void 0:R.value)===""||z>w),g=(y,w)=>y.current.findLastIndex((R,z)=>z>w);return c.useEffect(()=>{S.current&&S.current.offsetWidth>0&&b(S.current.offsetWidth),k.current&&k.current.offsetWidth>0&&p(k.current.offsetWidth)}),e.jsx("span",{className:`${en.reviewAnswer} ${s===n?en.currentOrder:""}`,children:s===n?e.jsxs("span",{children:[e.jsx("span",{className:en.currentInput,children:e.jsx("input",{ref:y=>t.current[n]=y,id:"textFild",style:{width:`${_+4}px`},type:"text",value:r,onKeyDown:y=>m(y),onChange:y=>o(y),onKeyUp:y=>h(y,s),onCopy:y=>y.preventDefault(),onPaste:y=>y.preventDefault(),onCut:y=>y.preventDefault(),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search",autoFocus:!0,tabIndex:-1})}),e.jsx("div",{ref:S,className:en.hintText,children:a})]}):e.jsx(e.Fragment,{children:r===a||i==="success"?e.jsx("span",{style:{color:"#289EE4"},children:a}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:en.otherInput,children:e.jsx("input",{ref:y=>t.current[n]=y,style:{width:`${f+4}px`},disabled:!0})}),e.jsx("div",{ref:k,className:en.hintText,children:a})]})})})}const S0=new A(navigator.userAgent),w0=S0.phone(),v0=w0?ut:ot;function j0({inputRefs:t,isWorking:i,exampleData:n,currentIndex:s,inputValues:a,penaltyState:u,changeInputValue:l,changeInputIndex:r,checkAnswer:x,changePenaltyState:_}){t.current=[];let b=-1;const f=n.Question.Text.split(" ").map(p=>({text:p,index:p.includes("┒")?++b:0}));return e.jsx("div",{className:v0.questionBox,children:f.map((p,S)=>p.text.includes("┒")?e.jsx(e.Fragment,{children:u==="none"?ln(p.text,"┒",()=>e.jsx(y0,{inputRefs:t,isWorking:i,inputIndex:p.index,currentIndex:s,inputValues:a,correctText:n.Examples[p.index].Text,changeInputValue:l,checkAnswer:x,changeInputIndex:r},`text-input-${p.index}`)):ln(p.text,"┒",()=>e.jsx(k0,{inputRefs:t,penaltyState:u,inputIndex:p.index,currentIndex:s,correctText:n.Examples[p.index].Text,changeInputIndex:r,changePenaltyState:_},`penalty-input-${p.index}`))}):e.jsx("span",{dangerouslySetInnerHTML:{__html:p.text}},`word-${S}`))})}const z0=new A(navigator.userAgent),Ci=z0.phone(),zn="Cloze Test",$n=Ci?ut:ot;function $0(t){const{t:i}=he(),{handler:n,studyInfo:s}=c.useContext(ie),a=t.currentStep,u=ve(()=>{L("timeOut")}),[l,r]=c.useState("animate__bounceInRight"),{isStepIntro:x,closeStepIntro:_}=we(),{isResultShow:b,changeResultShow:f}=He(),[p,S]=c.useState(!1),k=c.useRef(!0),[m,o]=je(xr,t,a),[h,d]=c.useState([]),[g,y]=c.useState(1),[w,v]=c.useState([]),{scoreBoardData:R,setStudentAnswersPartial:z,makeUserPartialAnswerData:E}=ze(s.mode,"clozeTest"),[j,$]=c.useState(0),[M,F]=c.useState(0),O=c.useRef([]),[H,W]=c.useState([]),[q,N]=c.useState(0),[B,D]=c.useState("none"),{bottomPopupState:K,changeBottomPopupState:G}=Xe(),{playState:V,playAudio:I,stopAudio:Q}=Le();if(c.useEffect(()=>{!x&&m&&(B==="none"&&(u.setup(m.QuizTime,!0),X()),k.current=!1)},[x]),c.useEffect(()=>{if(m){const[U,se]=Sa(s.mode,o,m.QuizAnswerCount);if(o.length>0)if(z(ne(o),m.QuizAnswerCount),d(o),s.mode==="Quiz")if(m.IsEnablePenaltyReview&&o[o.length-1].PenaltyWord!=="")W(new Array(m.Quiz[U-2].Examples.length).fill({text:"",isCorrected:!1})),v(new Array(m.Quiz[U-2].Examples.length).fill("")),D("penalty"),y(o[o.length-1].CurrentQuizNo);else{if(o[U-1]&&o[U-1].CurrentQuizNo===U&&o[U-1].StudentAnswer!==""){const le=o[o.length-1].StudentAnswer.split("/"),ae=P(le,U);if(v(o[o.length-1].StudentAnswer.split("/")),ae){const pe=ae.findIndex(Ee=>!Ee.isCorrected);N(pe)}W(ae)}else W(new Array(m.Quiz[U-1].Examples.length).fill({text:"",isCorrected:!1})),v(new Array(m.Quiz[U-1].Examples.length).fill(""));$(se),F(se),y(U)}else{const le=m.Quiz[g-1].Examples;let ae=[];for(let pe=0;pe<le.length;pe++)ae.push({text:m.Quiz[U-1].Examples[pe].Text,isCorrected:!1});v(new Array(m.Quiz[U-1].Examples.length).fill("")),W(ae)}else $(se),F(se),y(U),v(new Array(m.Quiz[U-1].Examples.length).fill("")),W([...P(new Array(m.Quiz[U-1].Examples.length).fill(""),U)])}},[m]),c.useEffect(()=>{if(!x&&!b&&m){if(u.setup(m.QuizTime,!0),X(),N(0),s.mode!=="Quiz"){const U=m.Quiz[g-1].Examples;let se=[];for(let le=0;le<U.length;le++)se.push({text:m.Quiz[g-1].Examples[le].Text,isCorrected:!1});W(se)}k.current=!1}},[g]),c.useEffect(()=>{q>-1&&(O!=null&&O.current[q])&&(O==null||O.current[q].focus())},[q]),c.useEffect(()=>{m&&(B==="penalty"&&!x?u.stop():B==="success"&&re())},[B]),!m)return e.jsx(e.Fragment,{children:"Loading..."});const T=U=>{let se=[],le=[],ae=[],pe=[...w];for(let be=0;be<(O==null?void 0:O.current.length);be++){const Ct={example:m.Quiz[g-1].Examples[be].Text,input:O==null?void 0:O.current[be].value.trimStart().trimEnd(),isEqual:m.Quiz[g-1].Examples[be].Text===(O==null?void 0:O.current[be].value.trimStart().trimEnd())};pe[be].length>0?pe[be]=pe[be].slice(-1)==="1"?pe[be]:pe[be]+=m.Quiz[g-1].Examples[be].Text===(O==null?void 0:O.current[be].value.trimStart().trimEnd())?"1":"2":pe[be]=m.Quiz[g-1].Examples[be].Text===(O==null?void 0:O.current[be].value.trimStart().trimEnd())?"1":"2",ae.push(Ct.example),se.push(Ct),le.push(Ct.input.trimStart().trimEnd())}const Ee=se.filter(be=>be.input.trimStart().trimEnd()==="").length>0;return Ee&&!U?(pe=[],pe=[...w]):v(pe),[Ee,se,ae.join("┒")===le.join("┒"),ae.join("┒"),le.join("┒"),pe.join("/")]},L=async U=>{try{if(!k.current){k.current=!0,u.stop();const[se,le,ae,pe,Ee,be]=T(U);if(se&&!U)alert(i("study.빈칸이 존재하지 않아야 합니다.")),k.current=!1,u.start();else{const Ct={quizNo:g,maxCount:m.QuizAnswerCount,answerCount:j+1,ox:ae},de=E({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:a,quizId:m.Quiz[g-1].QuizId,quizNo:m.Quiz[g-1].QuizNo,currentQuizNo:m.Quiz[g-1].QuizNo,correct:pe,selectedAnswer:Ee,partialRecord:be,tryCount:j+1,maxQuizCount:m.QuizAnswerCount,quizLength:m.Quiz.length,isCorrect:ae,answerData:Ct,isEnabledPenalty:m.IsEnablePenaltyReview,isFinishStudy:t.lastStep===a}),ke=await Ws(s.mode,de);if(Number(ke.result)===0){ke.resultMessage&&(n.finishStudy={id:Number(ke.result),cause:ke.resultMessage});const Se=h.filter(me=>me.QuizNo!==m.Quiz[g-1].QuizNo),Fe={QuizId:`${m.Quiz[g-1].QuizId}`,QuizNo:m.Quiz[g-1].QuizNo,CurrentQuizNo:m.Quiz[g-1].QuizNo,OX:ae?"1":"2",TempText:"",PenaltyWord:"",Correct:pe,StudentAnswer:be,AnswerCount:j+1},$t=[...Se,Fe];d([...Se,Fe]),z(ne($t),m.QuizAnswerCount),ae||F(M+1),$(j+1),Y(ae,le)}}}}catch(se){console.error(se)}},Y=(U,se)=>{G({isActive:!0,isCorrect:U}),setTimeout(()=>{if(U)g+1>Object.keys(m.Quiz).length?(Q(),f(!0)):(Q(),ue(),$(0),F(0),ce("none"),v(new Array(m.Quiz[g].Examples.length).fill("")),y(g+1));else{let le=!0,ae=0,pe=[];O==null||O.current.forEach((Ee,be)=>{se[be].isEqual||le&&(le=!1,ae=be),pe.push({text:se[be].input,isCorrected:se[be].isEqual})}),W([...pe]),j===m.QuizAnswerCount-1?(Q(),N(0),ce("penalty")):(u.setup(m.QuizTime,!0),N(ae),k.current=!1)}G({isActive:!1,isCorrect:!1})},1500)},te=U=>{N(U)},oe=(U,se)=>{const le=H.map((ae,pe)=>U===pe?{text:se,isCorrected:ae.isCorrected}:{text:ae.text,isCorrected:ae.isCorrected});W([...le])},ue=()=>{m.Quiz[g-1]&&W([...new Array(m.Quiz[g].Examples.length).fill({text:"",isCorrected:!1})])},ce=U=>{D(U)},re=async()=>{const U=g+1>m.Quiz.length;(async()=>{const le=await is({mobile:"",bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${a}`,quizId:m.Quiz[g-1].QuizId,isLastQuiz:U,isFinishStudy:!!(U&&t.lastStep===a)});Number(le.result)===0&&(le.resultMessage&&(n.finishStudy={id:Number(le.result),cause:le.resultMessage}),Q(),g+1>Object.keys(m.Quiz).length?f(!0):(Q(),ue(),$(0),F(0),v(new Array(m.Quiz[g].Examples.length).fill("")),ce("none"),y(g+1)))})()},ne=U=>{let se=[];return U.map(le=>{le.StudentAnswer.split("/").map(ae=>{se.push({QuizId:`${le.QuizId}`,QuizNo:le.QuizNo,CurrentQuizNo:le.CurrentQuizNo,OX:ae,TempText:"",PenaltyWord:"",Correct:le.Correct,StudentAnswer:ae,AnswerCount:ae.length})})}),se},P=(U,se)=>{let le=[];for(let ae=0;ae<U.length;ae++){const pe={text:U[ae].slice(-1)==="1"?m.Quiz[se-1].Examples[ae].Text:"",isCorrected:U[ae].slice(-1)==="1"};le.push(pe)}return le},X=U=>{B==="none"?V==="playing"?Q():I(m.Quiz[g-1].Question.Sound):B==="success"&&V===""&&I(m.Quiz[g-1].Question.Sound,U)},J=U=>{S(U)};return e.jsx(e.Fragment,{children:x?e.jsx("div",{className:`animate__animated ${l}`,onAnimationEnd:()=>{l==="animate__bounceOutLeft"&&_()},children:e.jsx(Me,{step:a,quizType:zn,comment:i("study.문장을 읽고 빈칸에 들어갈 답을 입력하세요."),onStepIntroClozeHandler:()=>{r("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:b?e.jsx(it,{step:a,quizType:zn,quizAnswerCount:m.QuizAnswerCount,studentAnswer:R,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:g,totalQuizCnt:Object.keys(m.Quiz).length,life:m.QuizAnswerCount-M,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:J}),e.jsx("div",{className:`${ot.comment} animate__animated animate__fadeInLeft`,children:zn}),e.jsx(Qe,{children:e.jsxs(Be,{typeCSS:$n.clozeTest3,containerCSS:$n.container,children:[Ci?e.jsx(e.Fragment,{}):e.jsx(Z,{height:0}),B==="none"?e.jsx(_0,{playState:V,playSentence:X}):e.jsx("div",{className:$n.testReview,children:e.jsx("div",{className:$n.title,children:"Test Review"})}),e.jsx(j0,{inputRefs:O,isWorking:k.current,exampleData:m.Quiz[g-1],currentIndex:q,inputValues:H,penaltyState:B,changeInputValue:oe,changeInputIndex:te,checkAnswer:L,changePenaltyState:ce})]})}),p&&e.jsx(Ce,{isSideOpen:p,currentStep:a,currentStepType:zn,quizLength:m.Quiz.reduce((U,se)=>U+se.Examples.length,0),maxAnswerCount:m.QuizAnswerCount,changeSideMenu:J,scoreBoardData:R,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:K})]})})})}async function C0(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,u=`${Pe}/listening-activity-1?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(u,async r=>({ContentsId:Number(r.ContentsId),IsQuizTimeoutIncorrect:!!r.isQuizTimeoutIncorrect,QuizAnswerCount:Number(r.QuizAnswerCount),QuizTime:Number(r.QuizTime),Quiz:r.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound}})),Examples:r.Examples.map(x=>({Text:x.Text,Image:x.Image}))}))}async function Q0(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,u=`${Pe}/listening-activity-2?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(u,async r=>({ContentsId:Number(r.ContentsId),IsQuizTimeoutIncorrect:!!r.isQuizTimeoutIncorrect,QuizAnswerCount:Number(r.QuizAnswerCount),QuizTime:Number(r.QuizTime),Quiz:r.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound}})),Examples:r.Examples.map(x=>({Text:x.Text}))}))}async function A0(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,u=`${Pe}/listening-activity-3?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(u,async r=>({ContentsId:Number(r.ContentsId),IsQuizTimeoutIncorrect:!!r.isQuizTimeoutIncorrect,QuizAnswerCount:Number(r.QuizAnswerCount),QuizTime:Number(r.QuizTime),Quiz:r.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound},Examples:x.Examples.map(_=>({Text:_.Text,Image:_.Image}))}))}))}async function N0(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,u=`${Pe}/listening-activity-4?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(u,async r=>({ContentsId:Number(r.ContentsId),IsQuizTimeoutIncorrect:!!r.isQuizTimeoutIncorrect,QuizAnswerCount:Number(r.QuizAnswerCount),QuizTime:Number(r.QuizTime),Quiz:r.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Image:x.Question.Image},Examples:x.Examples.map(_=>({Text:_.Text,Sound:_.Sound}))}))}))}const T0="_comment_jujn5_1",I0="_wordPlayButton_jujn5_20",B0="_txtL_jujn5_35",E0="_wordPlayButton2_jujn5_46",P0="_cardNumber_jujn5_65",M0="_listeningActivity1_jujn5_80",L0="_container_jujn5_80",R0="_wordCard_jujn5_87",q0="_done_jujn5_118",F0="_correct_jujn5_131",H0="_incorrect_jujn5_135",O0="_word_jujn5_20",D0="_wordBlock_jujn5_152",W0="_listeningActivity2_jujn5_164",V0="_listeningActivity3_jujn5_231",G0="_imageCard_jujn5_237",U0="_cardNumberPosition_jujn5_285",K0="_listeningActivity4_jujn5_291",J0="_questionBox_jujn5_296",Y0="_soundCard_jujn5_313",X0="_playSoundPosition_jujn5_366",Z0="_enterButton_jujn5_372",e1="_answers_jujn5_399",mt={comment:T0,wordPlayButton:I0,txtL:B0,wordPlayButton2:E0,cardNumber:P0,listeningActivity1:M0,container:L0,wordCard:R0,done:q0,correct:F0,incorrect:H0,word:O0,wordBlock:D0,listeningActivity2:W0,listeningActivity3:V0,imageCard:G0,cardNumberPosition:U0,listeningActivity4:K0,questionBox:J0,soundCard:Y0,playSoundPosition:X0,enterButton:Z0,answers:e1},t1="_comment_1cesw_1",n1="_wordPlayButton_1cesw_20",s1="_txtL_1cesw_35",o1="_wordPlayButton2_1cesw_46",i1="_cardNumber_1cesw_65",r1="_listeningActivity1_1cesw_80",a1="_container_1cesw_80",c1="_wordCard_1cesw_87",u1="_done_1cesw_113",l1="_correct_1cesw_120",d1="_incorrect_1cesw_124",m1="_word_1cesw_20",x1="_wordBlock_1cesw_141",h1="_listeningActivity2_1cesw_153",_1="_listeningActivity3_1cesw_215",p1="_imageCard_1cesw_221",g1="_cardNumberPosition_1cesw_261",y1="_listeningActivity4_1cesw_267",f1="_questionBox_1cesw_272",b1="_soundCard_1cesw_295",k1="_playSoundPosition_1cesw_343",S1="_enterButton_1cesw_349",w1="_answers_1cesw_376",xt={comment:t1,wordPlayButton:n1,txtL:s1,wordPlayButton2:o1,cardNumber:i1,listeningActivity1:r1,container:a1,wordCard:c1,done:u1,correct:l1,incorrect:d1,word:m1,wordBlock:x1,listeningActivity2:h1,listeningActivity3:_1,imageCard:p1,cardNumberPosition:g1,listeningActivity4:y1,questionBox:f1,soundCard:b1,playSoundPosition:k1,enterButton:S1,answers:w1},v1=new A(navigator.userAgent),j1=v1.phone(),Po=j1?xt:mt;function z1({playState:t,onPlay:i}){return e.jsxs("div",{className:Po.wordPlayButton,onClick:()=>i(),children:[t===""?e.jsx(Re,{isColor:!0,width:34,height:34}):e.jsx(qe,{isColor:!0,width:34,height:34}),e.jsx("span",{className:Po.txtL,children:"Listen"})]})}const $1=new A(navigator.userAgent),C1=$1.phone(),xn=C1?xt:mt;function Q1({imgSrc:t,text:i,correctText:n,isCorrected:s=!1,onCardAnimationEndHandler:a,onWordAnimationEndHandler:u,checkAnswer:l}){const{studyInfo:r}=c.useContext(ie),[x,_]=c.useState(!1),[b,f]=c.useState(r.mode==="Review"),p=k=>{(!s&&!x||b)&&l(k.currentTarget,i)},S=()=>{b&&n===i&&f(!1),_(!0)};return e.jsxs("div",{className:`animate__animated ${xn.wordCard} ${(x||s)&&!b?xn.done:""} 
      ${b&&n===i?xn.correct:""}`,onClick:k=>{p(k)},onAnimationEnd:k=>{a(k,S)},children:[e.jsx("img",{src:t}),(x||s)&&!b&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${xn.word}`,children:i}),e.jsx("div",{className:`${xn.wordBlock} animate__animated animate__fadeIn`,onAnimationEnd:k=>{u(k,s)}})]})]})}const A1=new A(navigator.userAgent),Qi=A1.phone(),Cn="Listening Activity",gs=Qi?xt:mt;function N1(t){const{t:i}=he(),{handler:n,studyInfo:s}=c.useContext(ie),a=t.currentStep,u=ve(()=>{window.onLogoutStudy()}),l=lt(),[r,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:b}=we(),{isResultShow:f,changeResultShow:p}=He(),[S,k]=c.useState(!1),[m,o]=je(C0,t,a),[h,d]=c.useState(1),{scoreBoardData:g,setStudentAnswers:y,addStudentAnswer:w,makeUserAnswerData:v}=ze(s.mode),[R,z]=c.useState(""),[E,j]=c.useState([]),[$,M]=c.useState(0),[F,O]=c.useState(0),{bottomPopupState:H,changeBottomPopupState:W}=Xe(),{playState:q,playAudio:N,stopAudio:B}=Le(),D=c.useRef(!0);if(c.useEffect(()=>{!_&&m&&(u.setup(m.QuizTime,!0),N(m.Quiz[h-1].Question.Sound),D.current=!1)},[_]),c.useEffect(()=>{if(m)try{const[L,Y]=ct(s.mode,o,m.QuizAnswerCount);let te=[],oe=[];te=o.map(ue=>{var ce;return(ce=m.Quiz.find(re=>ue.OX==="1"&&ue.QuizNo===re.QuizNo))==null?void 0:ce.Question.Text}),oe=m.Examples.slice(0,5).map(ue=>({...ue,IsCorrected:!!te.find(ce=>ce===ue.Text)})),M(Y),O(Y),z(m.Quiz[L-1].Question.Text),y(o,m.QuizAnswerCount),s.mode==="Super"?j(oe):j(_e.shuffle(oe)),d(L)}catch(L){console.error(L)}},[m]),c.useEffect(()=>{!_&&!f&&m&&(B(),z(m.Quiz[h-1].Question.Text))},[h]),c.useEffect(()=>{!_&&!f&&m&&(N(m.Quiz[h-1].Question.Sound),u.setup(m.QuizTime,!0),D.current=!1)},[R]),c.useEffect(()=>{f&&u.stop()},[f]),!m)return e.jsx(e.Fragment,{children:"Loading..."});const K=async(L,Y)=>{if(!D.current){B(),D.current=!0;const te=R===Y,oe={quizNo:h,maxCount:m.QuizAnswerCount,answerCount:$+1,ox:te},ue=v({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:a,quizId:m.Quiz[h-1].QuizId,quizNo:m.Quiz[h-1].QuizNo,currentQuizNo:h,correct:m.Quiz[h-1].Question.Text,selectedAnswer:Y,tryCount:$+1,maxQuizCount:m.QuizAnswerCount,quizLength:m.Quiz.length,isCorrect:te,answerData:oe,isFinishStudy:t.lastStep===a}),ce=await Te(s.mode,ue);Number(ce.result)===0&&(ce.resultMessage&&(n.finishStudy={id:Number(ce.result),cause:ce.resultMessage}),w(oe),te||O(F+1),M($+1),G(L,te))}},G=(L,Y)=>{W({isActive:!0,isCorrect:Y}),Y?l.play(L,["animate__fadeIn"]):l.play(L,["animate__headShake"])},V=(L,Y)=>{L.preventDefault(),L.stopPropagation();const te=L.currentTarget,oe=!!l.isContain(te,"animate__fadeIn");setTimeout(()=>{oe?Y():(l.remove(te,["animate__headShake"]),W({isActive:!1,isCorrect:!1}),$>=m.QuizAnswerCount?(M(0),O(0),h+1>m.Quiz.length?p(!0):d(h+1)):(Q(),D.current=!1))},1500)},I=(L,Y)=>{L.preventDefault(),L.stopPropagation();const te=L.currentTarget;l.remove(te,["selected"]),W({isActive:!1,isCorrect:!1}),(!Y||Y===void 0||s.mode==="Review")&&setTimeout(()=>{M(0),O(0),h+1>m.Quiz.length?p(!0):d(h+1)},1e3)},Q=()=>{q===""?N(m.Quiz[h-1].Question.Sound):B()},T=L=>{k(L)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${r}`,onAnimationEnd:()=>{r==="animate__bounceOutLeft"&&b()},children:e.jsx(Me,{step:a,quizType:Cn,comment:i("study.소리를 듣고 알맞은 그림을 고르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(it,{step:a,quizType:Cn,quizAnswerCount:m.QuizAnswerCount,studentAnswer:g,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:h,totalQuizCnt:Object.keys(m.Quiz).length,life:m.QuizAnswerCount-F,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:T}),e.jsx("div",{className:`${gs.comment} animate__animated animate__fadeInLeft`,children:Cn}),e.jsxs(Qe,{children:[e.jsx(z1,{playState:q,onPlay:Q}),Qi?e.jsx(Z,{height:10}):e.jsx(Z,{height:15}),e.jsx(Be,{typeCSS:gs.listeningActivity1,containerCSS:gs.container,children:E.map(L=>e.jsx(Q1,{imgSrc:L.Image,text:L.Text,correctText:R,isCorrected:L.IsCorrected,onCardAnimationEndHandler:V,onWordAnimationEndHandler:I,checkAnswer:K}))}),e.jsx(Z,{height:15})]}),S&&e.jsx(Ce,{isSideOpen:S,currentStep:a,currentStepType:Cn,quizLength:m.Quiz.length,maxAnswerCount:m.QuizAnswerCount,changeSideMenu:T,scoreBoardData:g,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:H})]})})})}const T1=new A(navigator.userAgent),I1=T1.phone(),Mo=I1?xt:mt;function B1({playState:t,onPlay:i}){return e.jsxs("div",{className:Mo.wordPlayButton,onClick:()=>i(),children:[t===""?e.jsx(Re,{isColor:!0,width:34,height:34}):e.jsx(qe,{isColor:!0,width:34,height:34}),e.jsx("span",{className:Mo.txtL,children:"Listen"})]})}const E1=new A(navigator.userAgent),P1=E1.phone(),Qn=P1?xt:mt;function M1({text:t,correctText:i,isCorrected:n=!1,checkAnswer:s,onCardAnimationEndHandler:a}){const{studyInfo:u}=c.useContext(ie),[l,r]=c.useState(!1),[x,_]=c.useState(u.mode==="Review"),b=p=>{(!n&&!l||x)&&s(p.currentTarget,t)},f=()=>{x&&i===t&&_(!1),r(!0)};return e.jsx("div",{className:`animate__animated ${Qn.wordCard} ${(l||n)&&!x?Qn.done:""} 
    ${x&&i===t?Qn.correct:""}`,onClick:p=>{b(p)},onAnimationEnd:p=>a(p,f),children:e.jsx("div",{className:Qn.txtL,children:t})})}const L1=new A(navigator.userAgent),Us=L1.phone(),An="Listening Activity",Rt=Us?xt:mt;function R1(t){const{t:i}=he(),{handler:n,studyInfo:s}=c.useContext(ie),a=t.currentStep,u=ve(()=>{window.onLogoutStudy()}),l=lt(),[r,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:b}=we(),{isResultShow:f,changeResultShow:p}=He(),[S,k]=c.useState(!1),m=c.useRef(!0),[o,h]=je(Q0,t,a),{scoreBoardData:d,setStudentAnswers:g,addStudentAnswer:y,makeUserAnswerData:w}=ze(s.mode),[v,R]=c.useState([]),[z,E]=c.useState(1),[j,$]=c.useState(0),[M,F]=c.useState(0),{bottomPopupState:O,changeBottomPopupState:H}=Xe(),{playState:W,playAudio:q,stopAudio:N}=Le();if(c.useEffect(()=>{!_&&o&&(u.setup(o.QuizTime,!0),q(o.Quiz[z-1].Question.Sound),m.current=!1)},[_]),c.useEffect(()=>{if(o)try{const[I,Q]=ct(s.mode,h,o.QuizAnswerCount);let T=[],L=[];T=h.map(Y=>{var te;return(te=o.Quiz.slice(0,6).find(oe=>Y.OX==="1"&&Y.QuizNo===oe.QuizNo))==null?void 0:te.Question.Text}),L=o.Examples.slice(0,6).map(Y=>({...Y,IsCorrected:!!T.find(te=>te===Y.Text)})),$(Q),F(Q),g(h,o.QuizAnswerCount),s.mode==="Super"?R(L):R(_e.shuffle(L)),E(I)}catch(I){console.error(I)}},[o]),c.useEffect(()=>{!_&&!f&&o&&(u.setup(o.QuizTime,!0),$(0),F(0),q(o.Quiz[z-1].Question.Sound),m.current=!1)},[z]),!o)return e.jsx(e.Fragment,{children:"Loading..."});const B=async(I,Q)=>{if(!m.current){m.current=!0;const T=o.Quiz[z-1].Question.Text===Q,L={quizNo:z,maxCount:o.QuizAnswerCount,answerCount:j+1,ox:T},Y=w({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:a,quizId:o.Quiz[z-1].QuizId,quizNo:o.Quiz[z-1].QuizNo,currentQuizNo:z,correct:o.Quiz[z-1].Question.Text,selectedAnswer:Q,tryCount:j+1,maxQuizCount:o.QuizAnswerCount,quizLength:o.Quiz.length,isCorrect:T,answerData:L,isFinishStudy:t.lastStep===a}),te=await Te(s.mode,Y);Number(te.result)===0&&(te.resultMessage&&(n.finishStudy={id:Number(te.result),cause:te.resultMessage}),y(L),T||F(M+1),$(j+1),D(I,T))}},D=(I,Q)=>{H({isActive:!0,isCorrect:Q}),Q?l.play(I,["animate__fadeIn",Rt.correct]):l.play(I,["animate__headShake",Rt.incorrect])},K=(I,Q)=>{const T=I.currentTarget,L=!!l.isContain(T,"animate__fadeIn");setTimeout(()=>{l.remove(T,["animate__fadeIn","animate__headShake",Rt.correct,Rt.incorrect]),H({isActive:!1,isCorrect:!1}),L?(Q(),setTimeout(()=>{z+1>o.Quiz.length?p(!0):E(z+1)},300)):(l.remove(T,["animate__headShake"]),H({isActive:!1,isCorrect:!1}),j>=o.QuizAnswerCount?($(0),F(0),z+1>o.Quiz.length?p(!0):E(z+1)):(G(),u.setup(o.QuizTime,!0),m.current=!1))},1500)},G=()=>{W===""?q(o.Quiz[z-1].Question.Sound):N()},V=I=>{k(I)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${r}`,onAnimationEnd:()=>{r==="animate__bounceOutLeft"&&b()},children:e.jsx(Me,{step:a,quizType:An,comment:i("study.소리를 듣고 알맞은 단어를 고르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(it,{step:a,quizType:An,quizAnswerCount:o.QuizAnswerCount,studentAnswer:d,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:z,totalQuizCnt:Object.keys(o.Quiz).length,life:o.QuizAnswerCount-M,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:V}),e.jsx("div",{className:`${Rt.comment} animate__animated animate__fadeInLeft`,children:An}),e.jsxs(Qe,{children:[e.jsx(B1,{playState:W,onPlay:G}),Us?e.jsx(Z,{height:10}):e.jsx(Z,{height:15}),e.jsx(Be,{typeCSS:Rt.listeningActivity2,containerCSS:Rt.container,children:v.map((I,Q)=>e.jsx(M1,{text:I.Text,correctText:o.Quiz[z-1].Question.Text,isCorrected:I.IsCorrected,checkAnswer:B,onCardAnimationEndHandler:K}))}),Us?e.jsx(Z,{height:10}):e.jsx(Z,{height:15})]}),S&&e.jsx(Ce,{isSideOpen:S,currentStep:a,currentStepType:An,quizLength:o.Quiz.length,maxAnswerCount:o.QuizAnswerCount,changeSideMenu:V,scoreBoardData:d,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:O})]})})})}const q1=new A(navigator.userAgent),F1=q1.phone(),Lo=F1?xt:mt;function H1({playState:t,onPlay:i}){return e.jsxs("div",{className:Lo.wordPlayButton,onClick:()=>i(),children:[t===""?e.jsx(Re,{isColor:!0,width:34,height:34}):e.jsx(qe,{isColor:!0,width:34,height:34}),e.jsx("span",{className:Lo.txtL,children:"Listen"})]})}const O1=new A(navigator.userAgent),Ks=O1.phone(),Nn=Ks?xt:mt;function D1({correctText:t,example:i,index:n,checkAnswer:s,onWrapperAnimationEndHandler:a}){const{bookInfo:u,studyInfo:l}=c.useContext(ie);return e.jsxs("div",{className:`${Nn.imageCard} 
      ${l.mode==="Review"&&Number(u.Average)>=70&&i.Text===t?Nn.correct:""}`,onClick:r=>s(r.currentTarget,i.Text),onAnimationEnd:r=>{a(r)},children:[e.jsx("img",{src:i.Image,width:Ks?"auto":"100%",height:Ks?"100%":"auto"}),e.jsx("div",{className:Nn.cardNumberPosition,children:e.jsx("div",{className:Nn.cardNumber,children:Number(n+1)})})]})}const W1=new A(navigator.userAgent),V1=W1.phone(),Ro=V1?xt:mt;function G1({correctText:t,exampleData:i,checkAnswer:n,onWrapperAnimationEndHandler:s}){return e.jsx("div",{className:Ro.listeningActivity3,children:e.jsx("div",{className:Ro.container,children:i.map((a,u)=>e.jsx(D1,{correctText:t,example:a,index:u,checkAnswer:n,onWrapperAnimationEndHandler:s},`example-0${u+1}`))})})}const U1=new A(navigator.userAgent),Js=U1.phone(),Tn="Listening Activity",hn=Js?xt:mt;function K1(t){const{t:i}=he(),{handler:n,studyInfo:s}=c.useContext(ie),a=t.currentStep,u=ve(()=>{window.onLogoutStudy()}),l=lt(),[r,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:b}=we(),{isResultShow:f,changeResultShow:p}=He(),[S,k]=c.useState(!1),m=c.useRef(!0),[o,h]=je(A0,t,a),[d,g]=c.useState(1),{scoreBoardData:y,setStudentAnswers:w,addStudentAnswer:v,makeUserAnswerData:R}=ze(s.mode),[z,E]=c.useState([]),[j,$]=c.useState(0),[M,F]=c.useState(0),{bottomPopupState:O,changeBottomPopupState:H}=Xe(),{playState:W,playAudio:q,stopAudio:N}=Le();if(c.useEffect(()=>{!_&&o&&(u.setup(o.QuizTime,!0),q(o.Quiz[d-1].Question.Sound),m.current=!1)},[_]),c.useEffect(()=>{if(o)try{const[I,Q]=ct(s.mode,h,o.QuizAnswerCount);w(h,o.QuizAnswerCount),s.mode==="Super"?E(o.Quiz[I-1].Examples):E(_e.shuffle(o.Quiz[I-1].Examples)),w(h,o.QuizAnswerCount),g(I)}catch(I){console.error(I)}},[o]),c.useEffect(()=>{!_&&!f&&o&&(s.mode==="Super"?E(o.Quiz[d-1].Examples):E(_e.shuffle(o.Quiz[d-1].Examples)),$(0),F(0),u.setup(o.QuizTime,!0),q(o.Quiz[d-1].Question.Sound),m.current=!1)},[d]),!o)return e.jsx(e.Fragment,{children:"Loading..."});const B=async(I,Q)=>{if(!m.current){m.current=!0,N();const T=o.Quiz[d-1].Question.Text===Q,L={quizNo:d,maxCount:o.QuizAnswerCount,answerCount:j+1,ox:T},Y=R({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:a,quizId:o.Quiz[d-1].QuizId,quizNo:o.Quiz[d-1].QuizNo,currentQuizNo:d,correct:o.Quiz[d-1].Question.Text,selectedAnswer:Q,tryCount:j+1,maxQuizCount:o.QuizAnswerCount,quizLength:o.Quiz.length,isCorrect:T,answerData:L,isFinishStudy:t.lastStep===a});u.stop();const te=await Te(s.mode,Y);Number(te.result)===0&&(te.resultMessage&&(n.finishStudy={id:Number(te.result),cause:te.resultMessage}),v(L),T||F(M+1),$(j+1),D(I,T))}},D=(I,Q)=>{u.stop(),H({isActive:!0,isCorrect:Q}),Q?l.play(I,["animate__fadeIn",hn.correct]):l.play(I,["animate__headShake",hn.incorrect])},K=I=>{const Q=I.currentTarget;setTimeout(()=>{l.remove(Q,["selected","animate__fadeIn","animate__headShake",hn.correct,hn.incorrect]),H({isActive:!1,isCorrect:!1}),d+1>o.Quiz.length?p(!0):g(d+1)},1e3)},G=()=>{W===""?q(o.Quiz[d-1].Question.Sound):N()},V=I=>{k(I)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${r}`,onAnimationEnd:()=>{r==="animate__bounceOutLeft"&&b()},children:e.jsx(Me,{step:a,quizType:Tn,comment:i("study.소리를 듣고 알맞은 카드를 고르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(it,{step:a,quizType:Tn,quizAnswerCount:o.QuizAnswerCount,studentAnswer:y,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:d,totalQuizCnt:Object.keys(o.Quiz).length,life:o.QuizAnswerCount-M,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:V}),e.jsx("div",{className:`${hn.comment} animate__animated animate__fadeInLeft`,children:Tn}),e.jsxs(Qe,{children:[e.jsx(H1,{playState:W,onPlay:G}),Js?e.jsx(Z,{height:10}):e.jsx(Z,{height:15}),e.jsx(G1,{correctText:o.Quiz[d-1].Examples[0].Text,exampleData:z,checkAnswer:B,onWrapperAnimationEndHandler:K}),Js?e.jsx(Z,{height:0}):e.jsx(Z,{height:15})]}),S&&e.jsx(Ce,{isSideOpen:S,currentStep:a,currentStepType:Tn,quizLength:o.Quiz.length,maxAnswerCount:o.QuizAnswerCount,changeSideMenu:V,scoreBoardData:y,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:O})]})})})}const J1=new A(navigator.userAgent),Ys=J1.phone(),Y1=Ys?xt:mt;function X1({src:t}){return e.jsx("div",{className:Y1.questionBox,children:e.jsx("img",{src:t,width:Ys?"auto":"250px",height:Ys?"100%":"auto"})})}const Z1=new A(navigator.userAgent),ex=Z1.phone(),tx=ex?xt:mt;function nx({multiPlayState:t,index:i,playWord:n}){return e.jsx("div",{className:tx.wordPlayButton2,onClick:()=>n(i),children:t.playState==="playing"&&t.seq===i?e.jsx(qe,{isColor:!0,width:44,height:44}):e.jsx(Re,{isColor:!0,width:44,height:44})})}const sx=new A(navigator.userAgent),ox=sx.phone(),tn=ox?xt:mt;function ix({index:t,multiPlayState:i,correctText:n,exampleData:s,playWord:a,checkAnswer:u,onAnimationEndHandler:l}){const{bookInfo:r,studyInfo:x}=c.useContext(ie),_=c.useRef(null),b=()=>{u(_,s.Text)};return e.jsxs("div",{ref:_,className:`${tn.soundCard} 
      ${x.mode==="Review"&&Number(r.Average)>=70&&s.Text===n?tn.correct:""}`,onAnimationEnd:f=>l(f),children:[e.jsx("div",{className:tn.cardNumberPosition,children:e.jsx("div",{className:tn.cardNumber,children:Number(t+1)})}),e.jsx("div",{className:tn.playSoundPosition,children:e.jsx(nx,{multiPlayState:i,index:t,playWord:a})}),e.jsx("span",{className:tn.enterButton,onClick:()=>b(),children:e.jsx("span",{children:e.jsx(ls,{width:15,height:15})})})]})}const rx=new A(navigator.userAgent),ax=rx.phone(),cx=ax?xt:mt;function ux({multiPlayState:t,correctText:i,exampleData:n,playWord:s,checkAnswer:a,onAnimationEndHandler:u}){return e.jsx("div",{className:cx.answers,children:n.map((l,r)=>e.jsx(ix,{index:r,multiPlayState:t,correctText:i,exampleData:l,playWord:s,checkAnswer:a,onAnimationEndHandler:u},`e-0${r}`))})}const lx=new A(navigator.userAgent),Xs=lx.phone(),In="Listening Activity",qt=Xs?xt:mt;function dx(t){const{t:i}=he(),{handler:n,studyInfo:s}=c.useContext(ie),a=t.currentStep,u=ve(()=>{window.onLogoutStudy()}),l=lt(),[r,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:b}=we(),{isResultShow:f,changeResultShow:p}=He(),[S,k]=c.useState(!1),m=c.useRef(!0),[o,h]=je(N0,t,a),[d,g]=c.useState(1),{scoreBoardData:y,setStudentAnswers:w,addStudentAnswer:v,makeUserAnswerData:R}=ze(s.mode),[z,E]=c.useState([]),[j,$]=c.useState(0),[M,F]=c.useState(0),{bottomPopupState:O,changeBottomPopupState:H}=Xe(),{playAudio:W,stopAudio:q}=Le(),[N,B]=c.useState({playState:"",playType:"",seq:-1});if(c.useEffect(()=>{!_&&o&&(u.setup(o.QuizTime,!0),Q(),m.current=!1)},[_]),c.useEffect(()=>{if(o)try{o.Quiz.sort((Y,te)=>Number(Y.QuizNo)-Number(te.QuizNo));const[T,L]=ct(s.mode,h,o.QuizAnswerCount);$(L),F(L),s.mode==="Super"?E(o.Quiz[T-1].Examples):E(_e.shuffle(o.Quiz[T-1].Examples)),w(h,o.QuizAnswerCount),g(T)}catch(T){console.error(T)}},[o]),c.useEffect(()=>{!_&&!f&&o&&(u.setup(o.QuizTime,!0),$(0),F(0),s.mode==="Super"?E(o.Quiz[d-1].Examples):E(_e.shuffle(o.Quiz[d-1].Examples)),Q(),m.current=!1)},[d]),c.useEffect(()=>{if(q(),o&&N.seq>-1){if(N.playType==="sentence"){const T=()=>{B({playState:"",playType:"",seq:-1})};W(z[N.seq].Sound,T)}else if(N.playType==="all"){const T=()=>{N.seq<o.Quiz[d-1].Examples.length-1?B({playState:"playing",playType:"all",seq:N.seq+1}):(q(),B({playState:"",playType:"",seq:-1}))};W(z[N.seq].Sound,T)}}},[N]),!o)return e.jsx(e.Fragment,{children:"Loading..."});const D=async(T,L)=>{try{if(!m.current){m.current=!0,q(),B({playState:"",playType:"",seq:-1});const Y=o.Quiz[d-1].Question.Text===L,te={quizNo:d,maxCount:o.QuizAnswerCount,answerCount:j+1,ox:Y},oe=R({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:a,quizId:o.Quiz[d-1].QuizId,quizNo:o.Quiz[d-1].QuizNo,currentQuizNo:d,correct:o.Quiz[d-1].Question.Text,selectedAnswer:L,tryCount:j+1,maxQuizCount:o.QuizAnswerCount,quizLength:o.Quiz.length,isCorrect:Y,answerData:te,isFinishStudy:t.lastStep===a});u.stop();const ue=await Te(s.mode,oe);if(Number(ue.result)===0){ue.resultMessage&&(n.finishStudy={id:Number(ue.result),cause:ue.resultMessage});const ce={quizNo:d,maxCount:o.QuizAnswerCount,answerCount:j+1,ox:Y};Y||F(M+1),$(j+1),v(ce),K(T,Y)}}}catch(Y){console.error(Y)}},K=(T,L)=>{u.stop(),H({isActive:!0,isCorrect:L}),T.current&&(L?l.play(T.current,["animate__fadeIn",qt.correct]):l.play(T.current,["animate__headShake",qt.incorrect]))},G=T=>{const L=T.currentTarget,Y=!!l.isContain(L,"animate__fadeIn");setTimeout(()=>{H({isActive:!1,isCorrect:!1}),l.remove(L,[qt.correct,qt.incorrect,"animate__fadeIn","animate__headShake"]),Y||j>=o.QuizAnswerCount?d+1>o.Quiz.length?p(!0):g(d+1):(u.setup(o.QuizTime,!0),m.current=!1)},1e3)},V=T=>{k(T)},I=T=>{N.playState===""&&T>-1?B({playState:"playing",playType:"sentence",seq:T}):N.playState==="playing"&&N.seq===T?B({playState:"",playType:"",seq:-1}):N.playState==="playing"&&N.seq!==T&&B({playState:"playing",playType:"sentence",seq:T})},Q=()=>{q(),N.playState==="playing"?B({playState:"",playType:"",seq:-1}):B({playState:"playing",playType:"all",seq:0})};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${r}`,onAnimationEnd:()=>{r==="animate__bounceOutLeft"&&b()},children:e.jsx(Me,{step:a,quizType:In,comment:i("study.그림을 보고 알맞은 소리를 고르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(it,{step:a,quizType:In,quizAnswerCount:o.QuizAnswerCount,studentAnswer:y,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:d,totalQuizCnt:Object.keys(o.Quiz).length,life:o.QuizAnswerCount-M,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:V}),e.jsx("div",{className:`${qt.comment} animate__animated animate__fadeInLeft`,children:In}),e.jsxs(Qe,{children:[Xs?e.jsx(Z,{height:0}):e.jsx(Z,{height:15}),e.jsxs(Be,{typeCSS:qt.listeningActivity4,containerCSS:qt.container,children:[e.jsx(X1,{src:o.Quiz[d-1].Question.Image}),e.jsx(Z,{height:15}),e.jsx(ux,{multiPlayState:N,correctText:o.Quiz[d-1].Examples[0].Text,exampleData:z,playWord:I,checkAnswer:D,onAnimationEndHandler:G})]}),Xs?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),S&&e.jsx(Ce,{isSideOpen:S,currentStep:a,currentStepType:In,quizLength:o.Quiz.length,maxAnswerCount:o.QuizAnswerCount,changeSideMenu:V,scoreBoardData:y,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:O})]})})})}async function mx(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,u=`${Pe}/reading-comprehension-1?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(u,async r=>({ContentsId:Number(r.ContentsId),IsQuizTimeoutIncorrect:!!r.isQuizTimeoutIncorrect,QuizAnswerCount:Number(r.QuizAnswerCount),QuizTime:Number(r.QuizTime),Quiz:r.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound},Examples:x.Examples.map(_=>({Text:_.Text,Image:_.Image}))}))}))}async function xx(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,u=`${Pe}/reading-comprehension-2?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(u,async r=>({ContentsId:Number(r.ContentsId),IsQuizTimeoutIncorrect:!!r.isQuizTimeoutIncorrect,QuizAnswerCount:Number(r.QuizAnswerCount),QuizTime:Number(r.QuizTime),Quiz:r.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Image:x.Question.Image},Examples:x.Examples.map(_=>({Text:_.Text,Sound:_.Sound}))}))}))}async function hx(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,u=`${Pe}/reading-comprehension-3?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(u,async r=>({ContentsId:Number(r.ContentsId),IsQuizTimeoutIncorrect:!!r.isQuizTimeoutIncorrect,QuizAnswerCount:Number(r.QuizAnswerCount),QuizTime:Number(r.QuizTime),Quiz:r.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Image:x.Question.Image,Sound:x.Question.Sound},Examples:x.Examples.map(_=>({Text:_.Text,Sound:_.Sound}))}))}))}async function _x(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,u=`${Pe}/reading-comprehension-4?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(u,async r=>({ContentsId:Number(r.ContentsId),IsQuizTimeoutIncorrect:!!r.isQuizTimeoutIncorrect,QuizAnswerCount:Number(r.QuizAnswerCount),QuizTime:Number(r.QuizTime),IsModeRetest:!!r.IsModeRetest,PassMark:Number(r.PassMark),IsHideQuestionText:!!r.IsHideQuestionText,Quiz:r.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound},Examples:x.Examples.map(_=>({Text:_.Text}))}))}))}const px="_comment_1s1kv_1",gx="_wordPlayButton_1s1kv_20",yx="_txtL_1s1kv_35",fx="_wordPlayButton2_1s1kv_40",bx="_cardNumber_1s1kv_61",kx="_readingComprehension1_1s1kv_76",Sx="_container_1s1kv_76",wx="_imageCard_1s1kv_82",vx="_correct_1s1kv_116",jx="_incorrect_1s1kv_121",zx="_cardNumberPosition_1s1kv_130",$x="_readingComprehension2_1s1kv_136",Cx="_questionBox_1s1kv_141",Qx="_wordImage_1s1kv_156",Ax="_wordText_1s1kv_165",Nx="_textCard_1s1kv_171",Tx="_awnserText_1s1kv_214",Ix="_enterButton_1s1kv_218",Bx="_answers_1s1kv_242",Ex="_readingComprehension3_1s1kv_250",Px="_questionImage_1s1kv_259",Mx="_questionText_1s1kv_270",Lx="_readingComprehension4_1s1kv_352",rt={comment:px,wordPlayButton:gx,txtL:yx,wordPlayButton2:fx,cardNumber:bx,readingComprehension1:kx,container:Sx,imageCard:wx,correct:vx,incorrect:jx,cardNumberPosition:zx,readingComprehension2:$x,questionBox:Cx,wordImage:Qx,wordText:Ax,textCard:Nx,awnserText:Tx,enterButton:Ix,answers:Bx,readingComprehension3:Ex,questionImage:Px,questionText:Mx,readingComprehension4:Lx},Rx="_comment_8s2bt_1",qx="_wordPlayButton_8s2bt_20",Fx="_txtL_8s2bt_35",Hx="_wordPlayButton2_8s2bt_40",Ox="_cardNumber_8s2bt_61",Dx="_readingComprehension1_8s2bt_76",Wx="_container_8s2bt_76",Vx="_imageCard_8s2bt_82",Gx="_correct_8s2bt_109",Ux="_incorrect_8s2bt_114",Kx="_cardNumberPosition_8s2bt_123",Jx="_readingComprehension2_8s2bt_129",Yx="_questionBox_8s2bt_134",Xx="_wordImage_8s2bt_155",Zx="_wordText_8s2bt_170",eh="_textCard_8s2bt_176",th="_awnserText_8s2bt_215",nh="_enterButton_8s2bt_219",sh="_answers_8s2bt_243",oh="_readingComprehension3_8s2bt_250",ih="_questionImage_8s2bt_261",rh="_questionText_8s2bt_284",ah="_readingComprehension4_8s2bt_362",at={comment:Rx,wordPlayButton:qx,txtL:Fx,wordPlayButton2:Hx,cardNumber:Ox,readingComprehension1:Dx,container:Wx,imageCard:Vx,correct:Gx,incorrect:Ux,cardNumberPosition:Kx,readingComprehension2:Jx,questionBox:Yx,wordImage:Xx,wordText:Zx,textCard:eh,awnserText:th,enterButton:nh,answers:sh,readingComprehension3:oh,questionImage:ih,questionText:rh,readingComprehension4:ah},ch=new A(navigator.userAgent),uh=ch.phone(),qo=uh?at:rt;function lh({playState:t,question:i,onPlay:n}){return e.jsxs("div",{className:qo.wordPlayButton,onClick:()=>n(),children:[t===""?e.jsx(Re,{isColor:!0,width:34,height:34}):e.jsx(qe,{isColor:!0,width:34,height:34}),e.jsx("div",{className:qo.txtL,children:i})]})}const dh=new A(navigator.userAgent),Zs=dh.phone(),Bn=Zs?at:rt;function mh({index:t,img:i,text:n,correctText:s,checkAnswer:a,onAnimationEndHandler:u}){const{bookInfo:l,studyInfo:r}=c.useContext(ie);return e.jsxs("div",{className:`${Bn.imageCard} ${r.mode==="Review"&&Number(l.Average)>=70&&s===n?Bn.correct:""} animate__animated`,onClick:x=>a(x.currentTarget,n),onAnimationEnd:x=>u(x),children:[e.jsx("img",{src:i,width:Zs?"auto":"100%",height:Zs?"100%":"auto"}),e.jsx("div",{className:Bn.cardNumberPosition,children:e.jsx("div",{className:Bn.cardNumber,children:t})})]})}const xh=new A(navigator.userAgent),os=xh.phone(),En="Reading Comprehension",Ft=os?at:rt;function hh(t){const{t:i}=he(),{handler:n,studyInfo:s}=c.useContext(ie),a=t.currentStep,u=ve(()=>{window.onLogoutStudy()}),l=lt(),[r,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:b}=we(),{isResultShow:f,changeResultShow:p}=He(),[S,k]=c.useState(!1),m=c.useRef(!0),[o,h]=je(mx,t,a),[d,g]=c.useState(1),{scoreBoardData:y,setStudentAnswers:w,addStudentAnswer:v,makeUserAnswerData:R}=ze(s.mode),[z,E]=c.useState([]),[j,$]=c.useState(0),[M,F]=c.useState(0),{bottomPopupState:O,changeBottomPopupState:H}=Xe(),{playState:W,playAudio:q,stopAudio:N}=Le();if(c.useEffect(()=>{!_&&o&&(u.setup(o.QuizTime,!0),q(o.Quiz[d-1].Question.Sound),m.current=!1)},[_]),c.useEffect(()=>{if(o){const[I,Q]=ct(s.mode,h,o.QuizAnswerCount);$(Q),F(Q),s.mode==="Super"?E(o.Quiz[I-1].Examples):E(_e.shuffle(o.Quiz[I-1].Examples)),w(h,o.QuizAnswerCount),g(I)}},[o]),c.useEffect(()=>{!_&&!f&&o&&(s.mode==="Super"?E(o.Quiz[d-1].Examples):E(_e.shuffle(o.Quiz[d-1].Examples)),$(0),F(0),u.setup(o.QuizTime,!0),q(o.Quiz[d-1].Question.Sound),m.current=!1)},[d]),c.useEffect(()=>{f&&u.stop()},[f]),!o)return e.jsx(e.Fragment,{children:"Loading..."});const B=async(I,Q)=>{try{if(!m.current){m.current=!0;const T=o.Quiz[d-1].Question.Text===Q,L={quizNo:d,maxCount:o.QuizAnswerCount,answerCount:j+1,ox:T},Y=R({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:a,quizId:o.Quiz[d-1].QuizId,quizNo:o.Quiz[d-1].QuizNo,currentQuizNo:d,correct:o.Quiz[d-1].Question.Text,selectedAnswer:Q,tryCount:j+1,maxQuizCount:o.QuizAnswerCount,quizLength:o.Quiz.length,isCorrect:T,answerData:L,isFinishStudy:t.lastStep===a});u.stop();const te=await Te(s.mode,Y);Number(te.result)===0&&(te.resultMessage&&(n.finishStudy={id:Number(te.result),cause:te.resultMessage}),v(L),T||F(M+1),$(j+1),D(I,T))}}catch(T){console.error(T)}},D=(I,Q)=>{u.stop(),H({isActive:!0,isCorrect:Q}),Q?l.play(I,["animate__fadeIn",Ft.correct]):l.play(I,["animate__headShake",Ft.incorrect])},K=I=>{const Q=I.currentTarget;setTimeout(()=>{l.remove(Q,["animate__fadeIn","animate__headShake",Ft.correct,Ft.incorrect]),H({isActive:!1,isCorrect:!1}),$(0),F(0),d+1>o.Quiz.length?p(!0):g(d+1)},1500)},G=I=>{k(I)},V=()=>{W===""?q(o.Quiz[d-1].Question.Sound):N()};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${r}`,onAnimationEnd:()=>{r==="animate__bounceOutLeft"&&b()},children:e.jsx(Me,{step:a,quizType:En,comment:i("study.문장을 듣고 알맞은 카드를 고르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(e.Fragment,{children:e.jsx(it,{step:a,quizType:En,quizAnswerCount:o.QuizAnswerCount,studentAnswer:y,onFinishActivity:t.onFinishActivity})}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:d,totalQuizCnt:Object.keys(o.Quiz).length,life:o.QuizAnswerCount-M,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:G}),e.jsx("div",{className:`${Ft.comment} animate__animated animate__fadeInLeft`,children:En}),e.jsxs(Qe,{children:[os?e.jsx(Z,{height:0}):e.jsx(Z,{height:15}),e.jsx(lh,{playState:W,question:o.Quiz[d-1].Question.Text,onPlay:V}),os?e.jsx(Z,{height:10}):e.jsx(Z,{height:15}),e.jsx(Be,{typeCSS:Ft.readingComprehension1,containerCSS:Ft.container,children:z.map((I,Q)=>e.jsx(mh,{index:Q+1,img:I.Image,text:I.Text,correctText:o.Quiz[d-1].Question.Text,checkAnswer:B,onAnimationEndHandler:K}))}),os?e.jsx(e.Fragment,{}):e.jsx(Z,{height:15})]}),S&&e.jsx(Ce,{isSideOpen:S,currentStep:a,currentStepType:En,quizLength:o.Quiz.length,maxAnswerCount:o.QuizAnswerCount,changeSideMenu:G,scoreBoardData:y,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:O})]})})})}const _h=new A(navigator.userAgent),eo=_h.phone(),Fo=eo?at:rt;function ph({src:t}){return e.jsx("div",{className:Fo.questionBox,children:e.jsx("div",{className:Fo.wordImage,children:e.jsx("img",{src:t,width:eo?"auto":"100%",height:eo?"100%":"auto"})})})}const gh=new A(navigator.userAgent),yh=gh.phone(),Ho=yh?at:rt;function fh({multiPlayState:t,sentence:i,index:n,playSentence:s}){return e.jsxs("div",{className:Ho.wordPlayButton2,onClick:a=>{s(a,n)},children:[t.playState==="playing"&&t.seq===n?e.jsx(qe,{isColor:!0,width:24,height:24}):e.jsx(Re,{isColor:!0,width:24,height:24}),e.jsx("div",{className:Ho.txtL,children:i})]})}const bh=new A(navigator.userAgent),kh=bh.phone(),Pn=kh?at:rt;function Sh({multiPlayState:t,sentence:i,correctSentence:n,index:s,playSentence:a,checkAnswer:u,onAnimationEndHandler:l}){const{bookInfo:r,studyInfo:x}=c.useContext(ie),_=c.useRef(null),b=()=>{u(_,s)};return e.jsxs("div",{ref:_,className:`${Pn.textCard} ${x.mode==="Review"&&Number(r.Average)>=70&&n===i?Pn.correct:""}`,onAnimationEnd:f=>l(f),children:[e.jsx("div",{className:Pn.cardNumber,children:Number(s+1)}),e.jsx(fh,{multiPlayState:t,sentence:i,index:s,playSentence:a}),e.jsx("span",{className:Pn.enterButton,onClick:()=>b(),children:e.jsx("span",{children:e.jsx(ls,{width:15,height:15})})})]})}const wh=new A(navigator.userAgent),vh=wh.phone(),jh=vh?at:rt;function zh({multiPlayState:t,correctSentence:i,exampleData:n,playSentence:s,checkAnswer:a,onAnimationEndHandler:u}){return e.jsx("div",{className:jh.answers,children:n.map((l,r)=>e.jsx(Sh,{multiPlayState:t,sentence:l.Text,correctSentence:i,index:r,playSentence:s,checkAnswer:a,onAnimationEndHandler:u}))})}const $h=new A(navigator.userAgent),to=$h.phone(),Mn="Reading Comprehension",Ht=to?at:rt;function Ch(t){const{t:i}=he(),{handler:n,studyInfo:s}=c.useContext(ie),a=t.currentStep,u=ve(()=>{window.onLogoutStudy()}),l=lt(),[r,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:b}=we(),{isResultShow:f,changeResultShow:p}=He(),[S,k]=c.useState(!1),m=c.useRef(!0),[o,h]=je(xx,t,a),[d,g]=c.useState([]),{scoreBoardData:y,setStudentAnswers:w,addStudentAnswer:v,makeUserAnswerData:R}=ze(s.mode),[z,E]=c.useState(1),[j,$]=c.useState(0),[M,F]=c.useState(0),{bottomPopupState:O,changeBottomPopupState:H}=Xe(),{playAudio:W,stopAudio:q}=Le(),[N,B]=c.useState({playState:"",seq:-1});if(c.useEffect(()=>{!_&&o&&(u.setup(o.QuizTime,!0),m.current=!1)},[_]),c.useEffect(()=>{if(q(),N.seq>-1){const Q=()=>{B({playState:"",seq:-1})};W(d[N.seq].Sound,Q)}},[N]),c.useEffect(()=>{if(o){const[Q,T]=ct(s.mode,h,o.QuizAnswerCount);$(T),F(T),s.mode==="Super"?g(o.Quiz[Q-1].Examples):g(_e.shuffle(o.Quiz[Q-1].Examples)),w(h,o.QuizAnswerCount),E(Q)}},[o]),c.useEffect(()=>{!_&&!f&&o&&(u.setup(o.QuizTime,!0),s.mode==="Super"?g(o.Quiz[z-1].Examples):g(_e.shuffle(o.Quiz[z-1].Examples)),m.current=!1)},[z]),!o)return e.jsx(e.Fragment,{children:"Loading..."});const D=async(Q,T)=>{try{if(!m.current){m.current=!0,q(),B({playState:"",seq:-1});const L=o.Quiz[z-1].Question.Text===d[T].Text,Y={quizNo:z,maxCount:o.QuizAnswerCount,answerCount:j+1,ox:L},te=R({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:a,quizId:o.Quiz[z-1].QuizId,quizNo:o.Quiz[z-1].QuizNo,currentQuizNo:z,correct:o.Quiz[z-1].Question.Text,selectedAnswer:d[T].Text,tryCount:j+1,maxQuizCount:o.QuizAnswerCount,quizLength:o.Quiz.length,isCorrect:L,answerData:Y,isFinishStudy:t.lastStep===a});u.stop();const oe=await Te(s.mode,te);Number(oe.result)===0&&(oe.resultMessage&&(n.finishStudy={id:Number(oe.result),cause:oe.resultMessage}),L||F(M+1),$(j+1),v(Y),K(Q,L))}}catch{}},K=(Q,T)=>{H({isActive:!0,isCorrect:T}),Q.current&&(T?l.play(Q.current,[Ht.correct,"animate__fadeIn"]):l.play(Q.current,[Ht.incorrect,"animate__headShake"]))},G=Q=>{const T=Q.currentTarget;setTimeout(()=>{l.remove(T,[Ht.correct,Ht.incorrect,"animate__fadeIn","animate__headShake"]),H({isActive:!1,isCorrect:!1}),$(0),F(0),z+1>o.Quiz.length?p(!0):E(z+1)},1e3)},V=(Q,T)=>{N.playState===""&&T>-1?B({playState:"playing",seq:T}):N.playState==="playing"&&N.seq===T?B({playState:"",seq:-1}):N.playState==="playing"&&N.seq!==T&&B({playState:"playing",seq:T})},I=Q=>{k(Q)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${r}`,onAnimationEnd:()=>{r==="animate__bounceOutLeft"&&b()},children:e.jsx(Me,{step:a,quizType:Mn,comment:i("study.그림을 보고 알맞은 문장을 고르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(it,{step:a,quizType:Mn,quizAnswerCount:o.QuizAnswerCount,studentAnswer:y,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:z,totalQuizCnt:Object.keys(o.Quiz).length,life:o.QuizAnswerCount-M,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:I}),e.jsx("div",{className:`${Ht.comment} animate__animated animate__fadeInLeft`,children:Mn}),e.jsxs(Qe,{children:[to?e.jsx(Z,{height:0}):e.jsx(Z,{height:15}),e.jsxs(Be,{typeCSS:Ht.readingComprehension2,containerCSS:Ht.container,children:[e.jsx(ph,{src:o.Quiz[z-1].Question.Image}),e.jsx(Z,{height:15}),e.jsx(zh,{multiPlayState:N,correctSentence:o.Quiz[z-1].Question.Text,exampleData:d,playSentence:V,checkAnswer:D,onAnimationEndHandler:G})]}),to?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),S&&e.jsx(Ce,{isSideOpen:S,currentStep:a,currentStepType:Mn,quizLength:o.Quiz.length,maxAnswerCount:o.QuizAnswerCount,changeSideMenu:I,scoreBoardData:y,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:O})]})})})}const Qh=new A(navigator.userAgent),no=Qh.phone(),Ah=no?at:rt;function Nh({src:t}){return e.jsx("div",{className:Ah.questionImage,children:e.jsx("img",{src:t,width:no?"auto":"100%",height:no?"100%":"auto"})})}const Th=new A(navigator.userAgent),Ih=Th.phone(),Oo=Ih?at:rt;function Bh({multiPlayState:t,sentence:i,index:n,playSentence:s}){return e.jsxs("div",{className:Oo.wordPlayButton2,onClick:a=>{s(n)},children:[t.playState==="playing"&&t.seq===n?e.jsx(qe,{isColor:!0,width:24,height:24}):e.jsx(Re,{isColor:!0,width:24,height:24}),e.jsx("div",{className:Oo.txtL,children:i})]})}const Eh=new A(navigator.userAgent),Ph=Eh.phone(),Ln=Ph?at:rt;function Mh({index:t,multiPlayState:i,correctText:n,sentence:s,playSentence:a,checkAnswer:u,onAnimationEndHandler:l}){const{bookInfo:r,studyInfo:x}=c.useContext(ie),_=c.useRef(null),b=()=>{u(_,t)};return e.jsxs("div",{ref:_,className:`${Ln.textCard} 
      ${x.mode==="Review"&&Number(r.Average)>=70&&s===n?Ln.correct:""}`,onAnimationEnd:f=>l(f),children:[e.jsx("div",{className:Ln.cardNumber,children:Number(t+1)}),e.jsx(Bh,{multiPlayState:i,sentence:s,index:t,playSentence:a}),e.jsx("span",{className:Ln.enterButton,onClick:()=>b(),children:e.jsx("span",{children:e.jsx(ls,{width:15,height:15})})})]})}function Lh({multiPlayState:t,correctText:i,exampleData:n,playSentence:s,checkAnswer:a,onAnimationEndHandler:u}){return e.jsx(e.Fragment,{children:n.map((l,r)=>e.jsx(Mh,{index:r,multiPlayState:t,correctText:i,sentence:l.Text,playSentence:s,checkAnswer:a,onAnimationEndHandler:u}))})}const Rh=new A(navigator.userAgent),so=Rh.phone(),Do=so?at:rt;function qh({multiPlayState:t,question:i,correctText:n,exampleData:s,playSentence:a,checkAnswer:u,onAnimationEndHandler:l}){return e.jsxs("div",{className:Do.answers,children:[so?e.jsx(e.Fragment,{}):e.jsx(Z,{height:10}),i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:Do.questionText,children:i}),so?e.jsx(e.Fragment,{}):e.jsx(Z,{height:10})]}),e.jsx(Lh,{multiPlayState:t,correctText:n,exampleData:s,playSentence:a,checkAnswer:u,onAnimationEndHandler:l})]})}const Fh=new A(navigator.userAgent),oo=Fh.phone(),Rn="Reading Comprehension",Ot=oo?at:rt;function Hh(t){const{t:i}=he(),{handler:n,studyInfo:s}=c.useContext(ie),a=t.currentStep,u=ve(()=>{window.onLogoutStudy()}),l=lt(),[r,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:b}=we(),{isResultShow:f,changeResultShow:p}=He(),[S,k]=c.useState(!1),m=c.useRef(!0),[o,h]=je(hx,t,a),[d,g]=c.useState([]),{scoreBoardData:y,setStudentAnswers:w,addStudentAnswer:v,makeUserAnswerData:R}=ze(s.mode),[z,E]=c.useState(1),[j,$]=c.useState(0),[M,F]=c.useState(0),{bottomPopupState:O,changeBottomPopupState:H}=Xe(),{playAudio:W,stopAudio:q}=Le(),[N,B]=c.useState({playState:"",seq:-1});if(c.useEffect(()=>{!_&&o&&(u.setup(o.QuizTime,!0),V(4),m.current=!1)},[_]),c.useEffect(()=>{if(q(),N.seq>-1){const Q=()=>{B({playState:"",seq:-1})};N.seq===4?o&&W(o==null?void 0:o.Quiz[z-1].Question.Sound,Q):W(d[N.seq].Sound,Q)}},[N]),c.useEffect(()=>{if(o){const[Q,T]=ct(s.mode,h,o.QuizAnswerCount);$(T),F(T),s.mode==="Super"?g(o.Quiz[Q-1].Examples):g(_e.shuffle(o.Quiz[Q-1].Examples)),w(h,o.QuizAnswerCount),E(Q)}},[o]),c.useEffect(()=>{!_&&!f&&o&&(u.setup(o.QuizTime,!0),V(4),$(0),F(0),s.mode==="Super"?g(o.Quiz[z-1].Examples):g(_e.shuffle(o.Quiz[z-1].Examples)),m.current=!1)},[z]),!o)return e.jsx(e.Fragment,{children:"Loading..."});const D=async(Q,T)=>{try{if(!m.current){m.current=!0,q(),B({playState:"",seq:-1});const L=o.Quiz[z-1].Examples[0].Text===d[T].Text,Y={quizNo:z,maxCount:o.QuizAnswerCount,answerCount:j+1,ox:L},te=R({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:a,quizId:o.Quiz[z-1].QuizId,quizNo:o.Quiz[z-1].QuizNo,currentQuizNo:z,correct:o.Quiz[z-1].Examples[0].Text,selectedAnswer:d[T].Text,tryCount:j+1,maxQuizCount:o.QuizAnswerCount,quizLength:o.Quiz.length,isCorrect:L,answerData:Y,isFinishStudy:t.lastStep===a});u.stop();const oe=await Te(s.mode,te);Number(oe.result)===0&&(oe.resultMessage&&(n.finishStudy={id:Number(oe.result),cause:oe.resultMessage}),L||F(M+1),$(j+1),v(Y),K(Q,L))}}catch{}},K=(Q,T)=>{u.stop(),H({isActive:!0,isCorrect:T}),Q.current&&(T?l.play(Q.current,[Ot.correct,"animate__fadeIn"]):l.play(Q.current,[Ot.incorrect,"animate__headShake"]))},G=Q=>{const T=Q.currentTarget,L=!!l.isContain(T,"animate__fadeIn");setTimeout(()=>{l.remove(T,[Ot.correct,Ot.incorrect,"animate__fadeIn","animate__headShake"]),H({isActive:!1,isCorrect:!1}),L||j>=o.QuizAnswerCount?z+1>o.Quiz.length?p(!0):E(z+1):(u.setup(o.QuizTime,!0),m.current=!1)},1e3)},V=Q=>{N.playState===""&&Q>-1?B({playState:"playing",seq:Q}):N.playState==="playing"&&N.seq===Q?B({playState:"",seq:-1}):N.playState==="playing"&&N.seq!==Q&&B({playState:"playing",seq:Q})},I=Q=>{k(Q)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${r}`,onAnimationEnd:()=>{r==="animate__bounceOutLeft"&&b()},children:e.jsx(Me,{step:a,quizType:Rn,comment:i("study.그림과 질문을 보고 알맞은 대답을 고르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(it,{step:a,quizType:Rn,quizAnswerCount:o.QuizAnswerCount,studentAnswer:y,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:z,totalQuizCnt:Object.keys(o.Quiz).length,life:o.QuizAnswerCount-M,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:I}),e.jsx("div",{className:`${Ot.comment} animate__animated animate__fadeInLeft`,children:Rn}),e.jsxs(Qe,{children:[oo?e.jsx(Z,{height:0}):e.jsx(Z,{height:15}),e.jsxs(Be,{typeCSS:Ot.readingComprehension3,containerCSS:Ot.container,children:[e.jsx(Nh,{src:o.Quiz[z-1].Question.Image}),e.jsx(qh,{multiPlayState:N,question:o.Quiz[z-1].Question.Text,correctText:o.Quiz[z-1].Examples[0].Text,exampleData:d,playSentence:V,checkAnswer:D,onAnimationEndHandler:G})]}),oo?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),S&&e.jsx(Ce,{isSideOpen:S,currentStep:a,currentStepType:Rn,quizLength:o.Quiz.length,maxAnswerCount:o.QuizAnswerCount,changeSideMenu:I,scoreBoardData:y,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:O})]})})})}const Oh=new A(navigator.userAgent),Dh=Oh.phone(),Wh=Dh?at:rt;function Vh({question:t}){return e.jsx("div",{className:Wh.questionText,dangerouslySetInnerHTML:{__html:t}})}const Gh=new A(navigator.userAgent),Uh=Gh.phone(),qn=Uh?at:rt;function Kh({correctText:t,exampleData:i,index:n,checkAnswer:s}){const{bookInfo:a,studyInfo:u}=c.useContext(ie);return e.jsxs("div",{className:`${qn.textCard} ${u.mode==="Review"&&Number(a.Average)>=70&&i.Text===t?qn.correct:""}`,onClick:l=>s(i.Text,l.currentTarget),children:[e.jsx("div",{className:qn.cardNumber,children:Number(n+1)}),e.jsx("div",{className:qn.awnserText,dangerouslySetInnerHTML:{__html:i.Text}})]})}function Jh({correctText:t,exampleData:i,checkAnswer:n}){return e.jsx(e.Fragment,{children:i.map((s,a)=>e.jsx(Kh,{correctText:t,exampleData:s,index:a,checkAnswer:n},`e-0${a}`))})}const Yh=new A(navigator.userAgent),io=Yh.phone(),Xh=io?at:rt;function Zh({isHideQuestion:t,question:i,correctText:n,exampleData:s,checkAnswer:a}){return e.jsxs("div",{className:Xh.answers,children:[io?e.jsx(Z,{height:5}):e.jsx(Z,{height:10}),!t&&e.jsx(Vh,{question:i}),io?e.jsx(Z,{height:0}):e.jsx(Z,{height:10}),e.jsx(Jh,{correctText:n,exampleData:s,checkAnswer:a})]})}const e_=new A(navigator.userAgent),t_=e_.phone(),kt=t_?vt:wt;function n_({index:t,question:i,correctAnswer:n,selectedAnswer:s}){return e.jsxs("div",{className:kt.quizQuestion,children:[e.jsxs("div",{className:kt.questionSentence,children:[e.jsxs("span",{className:kt.questionNum,children:[Number(t+1),". "]}),e.jsx("span",{className:kt.questionText,children:i})]}),e.jsx("div",{className:kt.answers,children:e.jsxs("div",{className:kt.quizAnswer,children:[e.jsxs("div",{className:kt.answers,children:[e.jsx("span",{className:kt.correctIcon}),e.jsx("span",{className:kt.correctAnswer,children:n})]}),s!==""&&!Number(s)&&e.jsxs("div",{className:kt.answers,children:[e.jsx("span",{className:kt.incorrectIcon}),e.jsx("div",{className:kt.wrongAnswer,children:s===""?"":s})]})]})})]})}const s_=new A(navigator.userAgent),o_=s_.phone(),Wo=o_?vt:wt;function i_({quizData:t,failedExample:i}){return e.jsxs("div",{className:Wo.wrongAnswers,children:[i.length!=0&&e.jsx("div",{className:Wo.title,children:"Wrong Answers"}),i.map((n,s)=>e.jsx(n_,{index:s,question:t.Quiz[n.CurrentQuizNo-1].Question.Text,correctAnswer:t.Quiz[n.CurrentQuizNo-1].Examples[0].Text,selectedAnswer:n.StudentAnswer}))]})}const r_=new A(navigator.userAgent),a_=r_.phone(),Ue=a_?vt:wt;function c_({isReTest:t,isReTestFail:i,step:n,quizType:s,quizAnswerCount:a,studentAnswer:u,quizData:l,failedExample:r,passMark:x,doReTest:_,onFinishActivity:b}){const f=Yt();let p=0,S=0,k=0;const m=100/u.length;return u.map(o=>{if(o.ox)switch(S++,o.answerCount){case 1:p+=1*m;break;case 2:p+=.5*m;break;case 3:p+=.25*m;break}else o.answerCount===a&&k++}),e.jsxs("div",{className:Ue.testResult,children:[e.jsxs("div",{className:Ue.quizType,children:["Step ",n,". ",s]}),e.jsxs("div",{className:Ue.totalScoreContainer,children:[e.jsx("div",{className:Ue.txtL,children:"SCORE: "}),e.jsx("div",{className:`${Ue.totalScore} ${Ue.heartbeat}`,children:Math.round(p)})]}),e.jsxs("div",{className:Ue.container,children:[e.jsx("div",{className:`${Ue.readingUnit} animate__animated animate__jackInTheBox`,children:e.jsx("img",{src:`https://wcfresource.a1edu.com/newsystem/image/character/subcharacter/${f}_10.png`,alt:""})}),e.jsxs("div",{className:Ue.passmark,children:["Passmark: ",x]}),e.jsxs("div",{className:`${Ue.board1} animate__animated animate__fadeIn`,children:[e.jsxs("div",{className:Ue.correctScore,children:[e.jsx("div",{className:Ue.title,children:"correct"}),e.jsx("div",{className:Ue.number,children:S})]}),e.jsxs("div",{className:Ue.incorrectScore,children:[e.jsx("div",{className:Ue.title,children:"incorrect"}),e.jsx("div",{className:Ue.number,children:k})]})]}),e.jsx("div",{className:Ue.board2,children:t?e.jsx(zi,{quizAnswerCount:a,studentAnswer:u}):e.jsx(i_,{quizData:l,failedExample:r})}),e.jsx(Z,{height:50})]}),t?i?e.jsx("div",{className:Ue.nextButton,onClick:()=>{try{window.onExitStudy()}catch{location.replace("/")}},children:"OK"}):e.jsx("div",{className:Ue.nextButton,onClick:()=>_(),children:"Re-Test"}):e.jsx("div",{className:Ue.nextButton,onClick:()=>b(),children:"Next"})]})}const u_=new A(navigator.userAgent),l_=u_.phone(),Vo=l_?at:rt;function d_({playState:t,playSentence:i}){return e.jsxs("div",{className:Vo.wordPlayButton,onClick:()=>i(),children:[t==="playing"?e.jsx(qe,{isColor:!0,width:34,height:34}):e.jsx(Re,{isColor:!0,width:34,height:34}),e.jsx("div",{className:Vo.txtL,children:"Listen"})]})}const m_=new A(navigator.userAgent),ro=m_.phone(),Fn="Reading Comprehension",Dt=ro?at:rt;function x_(t){const{t:i}=he(),{bookInfo:n,handler:s,studyInfo:a}=c.useContext(ie),u=s.isReTest||t.isReTestYn?"R":t.currentStep,l=lt(),r=ve(()=>{Y("")}),[x,_]=c.useState("animate__bounceInRight"),{isStepIntro:b,closeStepIntro:f}=we(),{isResultShow:p,changeResultShow:S}=He(),[k,m]=c.useState(!1),o=c.useRef(!1),[h,d]=je(_x,t,u,t.isReTestYn),[g,y]=c.useState([...d]),{scoreBoardData:w,setStudentAnswers:v,addStudentAnswer:R,makeUserAnswerData:z,resetStudentAnswer:E,getScore:j}=ze(a.mode),[$,M]=c.useState(1),[F,O]=c.useState([]),[H,W]=c.useState(0),[q,N]=c.useState(0),{bottomPopupState:B,changeBottomPopupState:D}=Xe(),[K,G]=c.useState(!1),[V,I]=c.useState(!1),{playState:Q,playAudio:T,stopAudio:L}=Le();if(c.useEffect(()=>{if(!b&&h)if(a.availableQuizStatus===1){alert("Re Test는 하루에 한번만 시도할 수 있습니다. 내일 다시 시도해주세요.");try{window.onExitStudy()}catch{location.replace("/")}}else a.availableQuizStatus===0&&(r.setup(h.QuizTime,!0),(a.bookType==="PB"||n.BookLevel.includes("1"))&&re(),o.current=!1)},[b]),c.useEffect(()=>{if(h){h.Quiz.sort((J,U)=>Number(J.QuizNo)-Number(U.QuizNo));const[ne,P]=ct(a.mode,d,h.QuizAnswerCount),X=d.filter(J=>J.OX==="2");G(h.IsModeRetest||t.isReTestYn?!0:s.isReTest),y([...X]),W(P),N(P),a.mode==="Super"?O(h.Quiz[ne-1].Examples):O(_e.shuffle(h.Quiz[ne-1].Examples)),v(d,h.QuizAnswerCount),M(ne)}},[h]),c.useEffect(()=>{!b&&!p&&h&&(a.mode==="Super"?O(h.Quiz[$-1].Examples):O(_e.shuffle(h.Quiz[$-1].Examples)),N(0),W(0),(a.bookType==="PB"||n.BookLevel.includes("1"))&&re(),o.current=!1,r.setup(h.QuizTime,!0))},[$]),!h)return e.jsx(e.Fragment,{children:"Loading..."});const Y=async(ne="",P)=>{try{if(!o.current){r.stop(),o.current=!0;const X=h.Quiz[$-1].Examples[0].Text,J=X===ne,U={quizNo:$,maxCount:h.QuizAnswerCount,answerCount:H+1,ox:J},se=K||t.isReTestYn||h.IsModeRetest?"R":t.currentStep,le=z({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:se,quizId:h.Quiz[$-1].QuizId,quizNo:h.Quiz[$-1].QuizNo,currentQuizNo:$,correct:X,selectedAnswer:ne,tryCount:H+1,maxQuizCount:h.QuizAnswerCount,quizLength:h.Quiz.length,isCorrect:J,answerData:U,isFinishStudy:t.lastStep===u});let ae=0;$+1>Object.keys(h.Quiz).length&&(ae=j(U,Object.keys(h.Quiz).length,h.QuizAnswerCount));const pe=await Te(a.mode,le);if(Number(pe.result)===0)if(pe.resultMessage&&(s.finishStudy={id:Number(pe.result),cause:pe.resultMessage}),R(U),!P||ne===""){D({isActive:!0,isCorrect:!1});const Ee={QuizId:h.Quiz[$-1].QuizId,QuizNo:h.Quiz[$-1].QuizNo,CurrentQuizNo:$,OX:"2",TempText:"",PenaltyWord:"",Correct:X,StudentAnswer:"",AnswerCount:H};a.mode==="Quiz"&&y([...g,Ee]),te(ae,void 0)}else{if(J)P&&l.play(P,["animate__fadeIn",Dt.correct]);else{P&&l.play(P,["animate__headShake",Dt.incorrect]);const Ee={QuizId:h.Quiz[$-1].QuizId,QuizNo:h.Quiz[$-1].QuizNo,CurrentQuizNo:$,OX:"2",TempText:"",PenaltyWord:"",Correct:X,StudentAnswer:ne,AnswerCount:H};a.mode==="Quiz"&&y([...g,Ee]),N(q+1)}D({isActive:!0,isCorrect:J}),W(H+1),te(ae,P)}}}catch(X){console.error(X)}},te=(ne,P)=>{setTimeout(()=>{D({isActive:!1,isCorrect:!1}),P&&l.remove(P,["animate__headShake","animate__fadeIn",Dt.correct,Dt.incorrect]),$+1>Object.keys(h.Quiz).length?ne<h.PassMark&&a.mode==="Quiz"?t.isReTestYn||K||h.IsModeRetest||t.isReTestYn||K||h.IsModeRetest?(I(!0),S(!0)):(s.changeReTest(!0),G(!0),S(!0)):(G(!1),ue()):(L(),M($+1))},2e3)},oe=()=>{y([]),E(),M(1),S(!1)},ue=()=>{S(!0)},ce=ne=>{m(ne)},re=()=>{if(Q===""){const ne=h.Quiz[$-1].Question.Sound||"";T(ne)}else L()};return e.jsx(e.Fragment,{children:b?e.jsx("div",{className:`animate__animated ${x}`,onAnimationEnd:()=>{x==="animate__bounceOutLeft"&&f()},children:e.jsx(Me,{step:u,quizType:Fn,comment:i("study.질문을 보고 알맞은 대답을 고르세요."),onStepIntroClozeHandler:()=>{_("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:p?e.jsx(e.Fragment,{children:e.jsx(c_,{isReTest:K,isReTestFail:V,step:t.currentStep,quizType:Fn,quizAnswerCount:h.QuizAnswerCount,studentAnswer:w,quizData:h,failedExample:g,passMark:h.PassMark,doReTest:oe,onFinishActivity:t.onFinishActivity})}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:$,totalQuizCnt:Object.keys(h.Quiz).length,life:h.QuizAnswerCount-q,timeMin:r.time.timeMin,timeSec:r.time.timeSec,changeSideMenu:ce}),e.jsx("div",{className:`${Dt.comment} animate__animated animate__fadeInLeft`,children:t.isReTestYn||K||h.IsModeRetest?"Re-Test":Fn}),e.jsxs(Qe,{children:[ro?e.jsx(Z,{height:0}):e.jsx(Z,{height:15}),n.BookCode.includes("PB")&&Number(n.BookLevel.substring(0,1))>3?e.jsx(d_,{playState:Q,playSentence:re}):e.jsx(e.Fragment,{}),e.jsx(Be,{typeCSS:Dt.readingComprehension4,containerCSS:Dt.container,children:e.jsx(Zh,{isHideQuestion:h.IsHideQuestionText,question:h.Quiz[$-1].Question.Text,correctText:h.Quiz[$-1].Examples[0].Text,exampleData:F,checkAnswer:Y})}),ro?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),k&&e.jsx(Ce,{isSideOpen:k,currentStep:u,currentStepType:Fn,quizLength:h.Quiz.length,maxAnswerCount:h.QuizAnswerCount,changeSideMenu:ce,scoreBoardData:w,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:B})]})})})}async function h_(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,u=`${Pe}/summary-1?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(u,async r=>({ContentsId:Number(r.ContentsId),IsQuizTimeoutIncorrect:!!r.isQuizTimeoutIncorrect,QuizAnswerCount:Number(r.QuizAnswerCount),QuizTime:Number(r.QuizTime),IsEnablePenaltyReview:!!r.IsEnablePenaltyReview,Hint:{IsEnabled:r.Hint.IsEnabled,Max:r.Hint.Max,Try:r.Hint.Try},Quiz:r.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound}}))}))}async function __(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,u=`${Pe}/summary-2?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(u,async r=>({ContentsId:Number(r.ContentsId),IsQuizTimeoutIncorrect:!!r.isQuizTimeoutIncorrect,QuizAnswerCount:Number(r.QuizAnswerCount),QuizTime:Number(r.QuizTime),Sentence:{Texts:r.Sentence.Texts,Sounds:r.Sentence.Sounds},Quiz:r.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Examples:x.Examples.map(_=>({Text:_.Text}))}))}))}async function p_(t,i,n,s){const a=`${bi}/Summary?studentHistoryId=${i}&studyId=${t}&quizNo=${n}&step=${s}`;return fi(a,async l=>({Type:l.Type,Hint:l.Hint,TryHint:l.TryHint,ErrorNo:l.ErrorNo}))}const g_="_comment_iakz1_1",y_="_wordPlayButton_iakz1_20",f_="_txtL_iakz1_35",b_="_cardNumber_iakz1_46",k_="_hintButton_iakz1_61",S_="_testReview_iakz1_83",w_="_title_iakz1_83",v_="_container_iakz1_88",j_="_sentence_iakz1_97",z_="_nextButton_iakz1_106",$_="_deactNextButton_iakz1_128",C_="_reviewAnswer_iakz1_149",Q_="_currentOrder_iakz1_159",A_="_blink_iakz1_1",N_="_correctAnswer_iakz1_171",T_="_incorrectAnswer_iakz1_182",I_="_currentInput_iakz1_201",B_="_otherInput_iakz1_202",E_="_enterButton_iakz1_209",P_="_hintText_iakz1_235",M_="_btnNext_iakz1_244",L_="_iconArrowUp_iakz1_267",R_="_summaryTest1_iakz1_281",q_="_textCard_iakz1_288",F_="_correct_iakz1_171",H_="_incorrect_iakz1_182",O_="_awnserText_iakz1_333",D_="_answers_iakz1_338",W_="_correctTextCard_iakz1_342",V_="_question_iakz1_346",G_="_questionMark_iakz1_352",U_="_playIcon_iakz1_387",K_="_highlight_iakz1_400",J_="_correctOrders_iakz1_439",Y_="_correctDirection_iakz1_467",X_="_summaryTest2_iakz1_486",Z_="_questionBox_iakz1_564",ep="_answerBox_iakz1_589",tp="_word_iakz1_20",np="_blink1_iakz1_1",Ke={comment:g_,wordPlayButton:y_,txtL:f_,cardNumber:b_,hintButton:k_,testReview:S_,title:w_,container:v_,sentence:j_,nextButton:z_,deactNextButton:$_,reviewAnswer:C_,currentOrder:Q_,blink:A_,correctAnswer:N_,incorrectAnswer:T_,currentInput:I_,otherInput:B_,enterButton:E_,hintText:P_,btnNext:M_,iconArrowUp:L_,summaryTest1:R_,textCard:q_,correct:F_,incorrect:H_,awnserText:O_,answers:D_,correctTextCard:W_,question:V_,questionMark:G_,playIcon:U_,highlight:K_,correctOrders:J_,correctDirection:Y_,summaryTest2:X_,questionBox:Z_,answerBox:ep,word:tp,blink1:np},sp="_comment_7ew9o_1",op="_wordPlayButton_7ew9o_15",ip="_txtL_7ew9o_30",rp="_cardNumber_7ew9o_41",ap="_hintButton_7ew9o_55",cp="_testReview_7ew9o_77",up="_title_7ew9o_77",lp="_container_7ew9o_82",dp="_sentence_7ew9o_91",mp="_nextButton_7ew9o_99",xp="_deactNextButton_7ew9o_121",hp="_reviewAnswer_7ew9o_142",_p="_currentOrder_7ew9o_152",pp="_blink_7ew9o_1",gp="_correctAnswer_7ew9o_164",yp="_incorrectAnswer_7ew9o_175",fp="_currentInput_7ew9o_194",bp="_otherInput_7ew9o_195",kp="_enterButton_7ew9o_202",Sp="_hintText_7ew9o_228",wp="_btnNext_7ew9o_237",vp="_iconArrowUp_7ew9o_260",jp="_summaryTest1_7ew9o_274",zp="_textCard_7ew9o_282",$p="_correct_7ew9o_164",Cp="_incorrect_7ew9o_175",Qp="_awnserText_7ew9o_327",Ap="_answers_7ew9o_332",Np="_correctTextCard_7ew9o_336",Tp="_question_7ew9o_340",Ip="_questionMark_7ew9o_349",Bp="_playIcon_7ew9o_384",Ep="_highlight_7ew9o_397",Pp="_correctOrders_7ew9o_438",Mp="_correctDirection_7ew9o_465",Lp="_summaryTest2_7ew9o_471",Rp="_questionBox_7ew9o_540",qp="_answerBox_7ew9o_571",Fp="_blink1_7ew9o_1",Je={comment:sp,wordPlayButton:op,txtL:ip,cardNumber:rp,hintButton:ap,testReview:cp,title:up,container:lp,sentence:dp,nextButton:mp,deactNextButton:xp,reviewAnswer:hp,currentOrder:_p,blink:pp,correctAnswer:gp,incorrectAnswer:yp,currentInput:fp,otherInput:bp,enterButton:kp,hintText:Sp,btnNext:wp,iconArrowUp:vp,summaryTest1:jp,textCard:zp,correct:$p,incorrect:Cp,awnserText:Qp,answers:Ap,correctTextCard:Np,question:Tp,questionMark:Ip,playIcon:Bp,highlight:Ep,correctOrders:Pp,correctDirection:Mp,summaryTest2:Lp,questionBox:Rp,answerBox:qp,blink1:Fp},Hp=()=>({exampleManager:{getExamplesByQuizNo:(i,n,s="Quiz")=>{const a=_e.filter(i,(u,l)=>l>=n-1);return s==="Quiz"?_e.shuffle(a):a}}}),Op=new A(navigator.userAgent),Dp=Op.phone(),ys=Dp?Je:Ke;function Wp(){return e.jsx("div",{className:`${ys.correctTextCard} ${ys.question}`,children:e.jsx("div",{className:ys.questionMark,children:"Choose the sentences in the correct order."})})}const Vp=new A(navigator.userAgent),Gp=Vp.phone(),Wt=Gp?Je:Ke;function Up({multiPlayState:t,index:i,sentenceData:n,selectedData:s,playSentence:a}){return e.jsx("div",{className:`${Wt.correctTextCard}`,children:s.ox?e.jsx(e.Fragment,{children:e.jsxs("div",{className:Wt.correctAnswer,children:[e.jsx("span",{className:Wt.playIcon}),e.jsx("span",{onClick:()=>a(i),className:`${t.playState==="playing"&&t.seq===i?Wt.highlight:""}`,dangerouslySetInnerHTML:{__html:n.Question.Text}})]})}):e.jsx(e.Fragment,{children:s.answerCount===s.maxCount?e.jsxs("div",{className:Wt.incorrectAnswer,children:[e.jsx("span",{className:Wt.playIcon}),e.jsx("span",{onClick:()=>a(i),className:`sentence ${t.playState==="playing"&&t.seq===i?Wt.highlight:""}`,dangerouslySetInnerHTML:{__html:n.Question.Text}})]}):e.jsx(e.Fragment,{})})})}const Kp=new A(navigator.userAgent),Jp=Kp.phone(),Yp=Jp?Je:Ke;function Xp({isStepEnd:t,multiPlayState:i,sentenceData:n,selectedData:s,playSentence:a}){const{studyInfo:u}=c.useContext(ie),l=c.useRef(null);return c.useEffect(()=>{l.current&&u.mode==="Quiz"&&l.current.scrollTo({top:l.current.scrollHeight,behavior:"smooth"})},[s]),e.jsxs("div",{ref:l,className:Yp.correctOrders,children:[n.map((r,x)=>s[x]?e.jsx(Up,{multiPlayState:i,index:x,sentenceData:r,selectedData:s[x],playSentence:a},`$ss-0${x}`):e.jsx(e.Fragment,{})),!t&&e.jsx(Wp,{})]})}const Zp=new A(navigator.userAgent),eg=Zp.phone(),Go=eg?Je:Ke;function tg(){return e.jsx("div",{className:Go.correctDirection,children:e.jsx("div",{className:Go.iconArrowUp})})}const ng=new A(navigator.userAgent),sg=ng.phone(),fs=sg?Je:Ke;function og({index:t,exampleData:i,checkAnswer:n,onAnimationEnd:s}){return e.jsxs("div",{className:`${fs.textCard}`,onClick:a=>n(a.currentTarget,i.Question.Text),onAnimationEnd:a=>s(a.currentTarget),children:[e.jsx("div",{className:fs.cardNumber,children:Number(t+1)}),e.jsx("div",{className:fs.awnserText,dangerouslySetInnerHTML:{__html:i.Question.Text}})]})}const ig=new A(navigator.userAgent),rg=ig.phone(),ag=rg?Je:Ke;function cg({exampleData:t,checkAnswer:i,onAnimationEnd:n}){return e.jsx("div",{className:ag.answers,children:t.map((s,a)=>e.jsx(og,{index:a,exampleData:s,checkAnswer:i,onAnimationEnd:n},`e-0${a}`))})}const ug=new A(navigator.userAgent),lg=ug.phone(),dg=lg?Je:Ke;function mg({tryCnt:t=0,maxCnt:i=0,onClickHint:n}){return e.jsxs("div",{className:dg.hintButton,onClick:()=>n(),children:["Chance ",i-t," / ",i]})}const xg=new A(navigator.userAgent),hg=xg.phone(),Uo=hg?Je:Ke;function _g({multiPlayState:t,playAll:i}){return e.jsxs("div",{className:Uo.wordPlayButton,onClick:()=>i(),children:[t.playState==="playing"?e.jsx(qe,{isColor:!0,width:24,height:24}):e.jsx(Re,{isColor:!0,width:24,height:24}),e.jsx("div",{className:Uo.txtL,children:"Play Sound"})]})}const pg=new A(navigator.userAgent),gg=pg.phone(),yg=gg?Je:Ke;function fg({goNext:t}){return e.jsx("div",{onClick:()=>t(),className:`${yg.btnNext} animate__animated animate__flash`,children:"Next"})}const bg=new A(navigator.userAgent),kg=bg.phone(),Qt=kg?Je:Ke;function Sg({inputRefs:t,word:i,inputIndex:n,currentInputIndex:s,changeInputIndex:a}){const[u,l]=c.useState(""),[r,x]=c.useState(0),[_,b]=c.useState(0),f=c.useRef(null),p=c.useRef(null);c.useEffect(()=>{f.current&&f.current.offsetWidth>0&&x(f.current.offsetWidth),p.current&&p.current.offsetWidth>0&&b(p.current.offsetWidth)});const S=k=>{k.preventDefault();let m=k.currentTarget.value;m===i?(l(m),a(s+1)):l(m)};return e.jsxs(e.Fragment,{children:[n>s&&e.jsxs("span",{className:`${Qt.reviewAnswer}`,children:[e.jsx("span",{className:Qt.otherInput,children:e.jsx("input",{ref:k=>t.current[n]=k,style:{width:`${r+4}px`},disabled:!0})}),e.jsx("div",{ref:f,className:Qt.hintText,children:i})]}),n===s&&e.jsxs("span",{className:`${Qt.reviewAnswer} ${Qt.currentOrder}`,children:[e.jsx("span",{className:Qt.currentInput,children:e.jsx("input",{ref:k=>t.current[n]=k,type:"text",style:{width:`${_+4}px`},value:u,onChange:k=>S(k),onCopy:k=>k.preventDefault(),onPaste:k=>k.preventDefault(),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search",tabIndex:-1})}),e.jsx("div",{ref:p,className:Qt.hintText,children:i})]}),n<s&&e.jsx("span",{className:`${Qt.reviewAnswer} ${Qt.correctAnswer}`,children:i})]})}const wg=new A(navigator.userAgent),vg=wg.phone(),nn=vg?Je:Ke;function jg({isSideOpen:t,correctSentence:i,changePenaltyState:n}){const s=c.useRef([]),[a,u]=c.useState(0),[l,r]=c.useState(!1),x=/<[^>]*>/gi;c.useEffect(()=>{const f=()=>{s.current[a]&&(s.current[a].focus(),t&&s.current[a].blur())};return f(),window.addEventListener("click",f),()=>{window.removeEventListener("click",f)}},[a,t]);const _=f=>{f>=s.current.length?(u(f),b()):u(f)},b=()=>{r(!0)};return e.jsxs("div",{className:`${nn.testReview}`,children:[e.jsx("div",{className:nn.title,children:"Test Review"}),e.jsx("div",{className:nn.container,children:e.jsx("div",{className:nn.sentence,children:i.replace(x,"").split(" ").map((f,p)=>e.jsx(Sg,{inputRefs:s,inputIndex:p,currentInputIndex:a,word:f,changeInputIndex:_}))})}),e.jsx(Z,{height:10}),e.jsx("div",{className:`${l?nn.nextButton:nn.deactNextButton} ${l&&"animate__animated animate__bounce"}`,onClick:()=>{l&&n("none")},children:"Next"})]})}const zg=new A(navigator.userAgent),$g=zg.phone(),Hn="Summary Test",Vt=$g?Je:Ke;function Cg(t){const{t:i}=he(),{bookInfo:n,handler:s,studyInfo:a}=c.useContext(ie),u=t.currentStep,l=ve(()=>{n.BookCode.includes("EB")?n.BookLevel.includes("1")||n.BookLevel.includes("K")?window.onLogoutStudy():X():n.BookCode.includes("PB")&&X()}),r=lt(),[x,_]=c.useState("animate__bounceInRight"),{isStepIntro:b,closeStepIntro:f}=we(),{isResultShow:p,changeResultShow:S}=He(),[k,m]=c.useState(!1),o=c.useRef(!0),[h,d]=je(h_,t,u),[g,y]=c.useState(1),[w,v]=c.useState(0),[R,z]=c.useState(0),[E,j]=c.useState({penaltyState:"none",sentence:""}),{bottomPopupState:$,changeBottomPopupState:M}=Xe(),{scoreBoardData:F,setStudentAnswers:O,addStudentAnswer:H,makeUserAnswerData:W,convertRecordToScoreBoard:q}=ze(a.mode),{exampleManager:N}=Hp(),[B,D]=c.useState([]),[K,G]=c.useState([]),{playAudio:V,stopAudio:I}=Le(),[Q,T]=c.useState({playState:"",seq:-1,playType:""}),[L,Y]=c.useState({IsEnabled:!1,Max:0,Try:0}),[te,oe]=c.useState(!1),[ue,ce]=c.useState(!1);if(c.useEffect(()=>{!b&&h&&(a.mode==="Review"&&Number(n.Average)>=70?ce(!0):(E.penaltyState==="none"&&l.setup(h.QuizTime,!0),o.current=!1))},[b]),c.useEffect(()=>{if(h){const[de,ke]=ct(a.mode,d,h.QuizAnswerCount),Se=N.getExamplesByQuizNo(h.Quiz,de,t.mode);O(d,h.QuizAnswerCount),G(q(d,h.QuizAnswerCount)),a.mode!=="Review"&&D(Se),h.Hint.IsEnabled&&Y({IsEnabled:h.Hint.IsEnabled,Max:h.Hint.Max,Try:h.Hint.Try}),d.length>0&&a.mode==="Quiz"?(h.IsEnablePenaltyReview&&d[d.length-1].PenaltyWord!==""?(j({penaltyState:"penalty",sentence:d[d.length-1].PenaltyWord}),y(de-1)):y(de),v(ke),z(ke)):(v(ke),z(ke),y(de))}},[h]),c.useEffect(()=>{if(I(),h&&Q.seq>-1){if(Q.playType==="sentence"){const de=()=>{T({playState:"",playType:"",seq:-1})};V(h.Quiz[Q.seq].Question.Sound,de)}else if(Q.playType==="all"){const de=()=>{Q.seq<h.Quiz.length-1?T({playState:"playing",playType:"all",seq:Q.seq+1}):(I(),T({playState:"",playType:"",seq:-1}))};V(h.Quiz[Q.seq].Question.Sound,de)}}},[Q]),c.useEffect(()=>{!b&&!p&&h&&(v(0),z(0),ae(g-2),E.penaltyState==="none"&&l.setup(h.QuizTime,!0),o.current=!1)},[g]),c.useEffect(()=>{te&&U()},[te]),c.useEffect(()=>{E.penaltyState==="penalty"&&h&&l.stop()},[E]),!h)return e.jsx(e.Fragment,{children:"Loading..."});const re=async(de,ke)=>{try{if(!o.current){o.current=!0,I(),T({playState:"",playType:"",seq:-1});const Se=/<[^>]*>/gi,Fe=h.Quiz[g-1].Question.Text===ke,$t={quizNo:g,maxCount:h.QuizAnswerCount,answerCount:w+1,ox:Fe},me=W({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:u,quizId:h.Quiz[g-1].QuizId,quizNo:h.Quiz[g-1].QuizNo,currentQuizNo:g,correct:h.Quiz[g-1].Question.Text.replace(Se,""),selectedAnswer:ke.replace(Se,""),tryCount:w+1,maxQuizCount:h.QuizAnswerCount,quizLength:h.Quiz.length,isCorrect:Fe,answerData:$t,isEnabledPenalty:h.IsEnablePenaltyReview,isFinishStudy:t.lastStep===u});l.stop();const ge=await Te(a.mode,me);Number(ge.result)===0&&(ge.resultMessage&&(s.finishStudy={id:Number(ge.result),cause:ge.resultMessage}),H($t),Fe||z(R+1),v(w+1),ne(de,Fe))}}catch(Se){console.error(Se)}},ne=(de,ke)=>{M({isActive:!0,isCorrect:ke}),ke?de&&r.play(de,["animate__fadeIn",Vt.correct]):r.play(de,["animate__headShake",Vt.incorrect])},P=de=>{const ke=!!r.isContain(de,"animate__fadeIn");setTimeout(()=>{if(r.remove(de,["animate__fadeIn","animate__headShake",Vt.correct,Vt.incorrect]),M({isActive:!1,isCorrect:!1}),ke)setTimeout(()=>{const Se=B.filter(Fe=>Fe.QuizNo!==g);D([...Se]),G(F),g+1>h.Quiz.length?(ae(g-1),se(!0)):y(g+1)},300);else if(w>=h.QuizAnswerCount){const Se=B.filter(Fe=>Fe.QuizNo!==g);D([...Se]),G(F),g+1>h.Quiz.length?h.IsEnablePenaltyReview?j({penaltyState:"penalty",sentence:h.Quiz[g-1].Question.Text}):(ae(g-1),se(!0)):h.IsEnablePenaltyReview?j({penaltyState:"penalty",sentence:h.Quiz[g-1].Question.Text}):y(g+1)}else l.setup(h.QuizTime,!0),o.current=!1},1e3)},X=async()=>{try{if(!o.current){o.current=!0,I(),T({playState:"",playType:"",seq:-1});const de={quizNo:g,maxCount:h.QuizAnswerCount,answerCount:w+1,ox:!1},ke=W({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:u,quizId:h.Quiz[g-1].QuizId,quizNo:h.Quiz[g-1].QuizNo,currentQuizNo:g,correct:h.Quiz[g-1].Question.Text,selectedAnswer:"",tryCount:w+1,maxQuizCount:h.QuizAnswerCount,quizLength:h.Quiz.length,isCorrect:!1,answerData:de,isEnabledPenalty:h.IsEnablePenaltyReview,isFinishStudy:t.lastStep===u});l.stop();const Se=await Te(a.mode,ke);Number(Se.result)===0&&(Se.resultMessage&&(s.finishStudy={id:Number(Se.result),cause:Se.resultMessage}),H(de),z(R+1),v(w+1),M({isActive:!0,isCorrect:!1}),setTimeout(()=>{if(M({isActive:!1,isCorrect:!1}),w+1>=h.QuizAnswerCount){const Fe=B.filter($t=>$t.QuizNo!==g);D(Fe),G($t=>[...$t,de]),g+1>h.Quiz.length?h.IsEnablePenaltyReview?j({penaltyState:"penalty",sentence:h.Quiz[g-1].Question.Text}):(ae(g-1),se(!0)):h.IsEnablePenaltyReview?j({penaltyState:"penalty",sentence:h.Quiz[g-1].Question.Text}):y(g+1)}else l.setup(h.QuizTime,!0),o.current=!1},1e3))}}catch(de){console.error(de)}},J=async()=>{try{if(L.IsEnabled&&L&&L.Try!==void 0&&L.Max!==void 0&&L.Max-L.Try>0&&!o.current){o.current=!0,I(),T({playState:"",playType:"",seq:-1}),l.stop();const de=await p_(t.studyId,t.studentHistoryId,g,`${t.currentStep}`);if(de.ErrorNo===0){Y({IsEnabled:h.Hint.IsEnabled,Max:h.Hint.Max,Try:de.TryHint});const ke={quizNo:g,maxCount:h.QuizAnswerCount,answerCount:w+1,ox:!0},Se=W({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:u,quizId:h.Quiz[g-1].QuizId,quizNo:h.Quiz[g-1].QuizNo,currentQuizNo:g,correct:h.Quiz[g-1].Question.Text,selectedAnswer:h.Quiz[g-1].Question.Text,tryCount:w+1,maxQuizCount:h.QuizAnswerCount,quizLength:h.Quiz.length,isCorrect:!0,answerData:ke,isEnabledPenalty:h.IsEnablePenaltyReview,isFinishStudy:t.lastStep===u}),Fe=await Te(a.mode,Se);Number(Fe.result)===0&&(Fe.resultMessage&&(s.finishStudy={id:Number(Fe.result),cause:Fe.resultMessage}),H(ke),v(w+1),oe(!0))}}}catch(de){console.error(de)}},U=()=>{const de=B.filter(ke=>ke.QuizNo!==g);D([...de]),G(F),g+1>h.Quiz.length?(ae(g-1),se(!0)):y(g+1),oe(!1)},se=de=>{l.setup(0),ce(de)},le=de=>{m(de)},ae=de=>{Q.playState===""&&de>-1?T({playState:"playing",playType:"sentence",seq:de}):Q.playState==="playing"&&Q.seq===de?T({playState:"",playType:"",seq:-1}):Q.playState==="playing"&&Q.seq!==de&&T({playState:"playing",playType:"sentence",seq:de})},pe=()=>{I(),Q.playState==="playing"?T({playState:"",playType:"",seq:-1}):T({playState:"playing",playType:"all",seq:0})},Ee=()=>{I(),T({playState:"",playType:"",seq:-1}),S(!0)},be=de=>{de==="none"?Ct():j({penaltyState:de,sentence:h.Quiz[g-1].Question.Text})},Ct=async()=>{(async()=>{const ke=g+1>h.Quiz.length,Se=await is({mobile:"",bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${u}`,quizId:h.Quiz[g-1].QuizId,isLastQuiz:ke,isFinishStudy:!!(ke&&t.lastStep===u)});Number(Se.result)===0&&(Se.resultMessage&&(s.finishStudy={id:Number(Se.result),cause:Se.resultMessage}),I(),ke?(j({penaltyState:"none",sentence:""}),ae(g-1),se(!0)):(j({penaltyState:"none",sentence:""}),y(g+1)))})()};return e.jsx(e.Fragment,{children:b?e.jsx("div",{className:`animate__animated ${x}`,onAnimationEnd:()=>{x==="animate__bounceOutLeft"&&f()},children:e.jsx(Me,{step:u,quizType:Hn,comment:i("study.나열된 문장을 보고 올바른 순서대로 고르세요."),onStepIntroClozeHandler:()=>{_("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:p?e.jsx(it,{step:u,quizType:Hn,quizAnswerCount:h.QuizAnswerCount,studentAnswer:F,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:g,totalQuizCnt:Object.keys(h.Quiz).length,life:h.QuizAnswerCount-R,timeMin:l.time.timeMin,timeSec:l.time.timeSec,changeSideMenu:le}),e.jsx("div",{className:`${Vt.comment} animate__animated animate__fadeInLeft`,children:Hn}),e.jsx(Qe,{children:E.penaltyState==="none"?e.jsxs(Be,{typeCSS:Vt.summaryTest1,containerCSS:Vt.container,children:[e.jsx(e.Fragment,{children:ue&&e.jsx(_g,{multiPlayState:Q,playAll:pe})}),e.jsx(Xp,{isStepEnd:ue,multiPlayState:Q,sentenceData:h.Quiz,selectedData:K,playSentence:ae}),e.jsx(e.Fragment,{children:ue?e.jsx(fg,{goNext:Ee}):e.jsxs(e.Fragment,{children:[e.jsx(tg,{}),e.jsx(cg,{exampleData:B,checkAnswer:re,onAnimationEnd:P}),L.IsEnabled&&e.jsx(mg,{tryCnt:L.Try,maxCnt:L.Max,onClickHint:J})]})})]}):e.jsx(jg,{isSideOpen:k,correctSentence:E.sentence,changePenaltyState:be})}),k&&e.jsx(Ce,{isSideOpen:k,currentStep:u,currentStepType:Hn,quizLength:h.Quiz.length,maxAnswerCount:h.QuizAnswerCount,changeSideMenu:le,scoreBoardData:F,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:$})]})})})}const Qg=new A(navigator.userAgent),Ag=Qg.phone(),On=Ag?Je:Ke;function Ng({isComplete:t,wordData:i,questionNo:n}){const s=c.useRef(null);c.useEffect(()=>{i.QuestionIndex===n&&s.current!==null&&s.current.scrollIntoView()},[n]);let a="";return i.State==="none"&&i.QuestionIndex>0?i.QuestionIndex===n&&(a="?"):a=i.Word,e.jsx("span",{ref:s,className:`
        ${On.answerBox}
        ${i.QuestionIndex===n&&!t?On.currentOrder:""}
        ${i.State==="correct"?On.correctAnswer:""}        
        ${i.State==="incorrect"?On.incorrectAnswer:""}
      `,dangerouslySetInnerHTML:{__html:a}})}const Tg=new A(navigator.userAgent),Ig=Tg.phone(),Ko=Ig?Je:Ke;function Bg({isComplete:t,sentenceData:i,questionNo:n}){const s=c.useRef(null);return c.useEffect(()=>{t&&s.current&&s.current.scrollTo({top:0,behavior:"smooth"})},[t]),e.jsx("div",{ref:s,className:Ko.questionBox,children:i.map((a,u)=>a.QuestionIndex>0?e.jsx(Ng,{isComplete:t,wordData:a,questionNo:n},`answer-${u}`):e.jsx("span",{className:Ko.word,dangerouslySetInnerHTML:{__html:a.Word}},`answer-${u}`))})}const Eg=new A(navigator.userAgent),Pg=Eg.phone(),Jo=Pg?Je:Ke;function Mg(){return e.jsx("div",{className:Jo.correctDirection,children:e.jsx("div",{className:Jo.iconArrowUp})})}const Lg=new A(navigator.userAgent),Rg=Lg.phone(),bs=Rg?Je:Ke;function qg({index:t,exampleData:i,checkAnswer:n,onAnimationEnd:s}){return e.jsxs("div",{className:`${bs.textCard}`,onClick:a=>n(a.currentTarget,i.Text),onAnimationEnd:a=>s(a.currentTarget),children:[e.jsx("div",{className:bs.cardNumber,children:Number(t+1)}),e.jsx("div",{className:bs.awnserText,children:i.Text})]})}const Fg=new A(navigator.userAgent),Hg=Fg.phone(),Yo=Hg?Je:Ke;function Og({exampleData:t,checkAnswer:i,onAnimationEnd:n}){return e.jsx("div",{className:Yo.answers,children:e.jsx("div",{className:Yo.container,children:t.map((s,a)=>e.jsx(qg,{index:a,exampleData:s,checkAnswer:i,onAnimationEnd:n},`example-${a}`))})})}const Dg=new A(navigator.userAgent),Wg=Dg.phone(),Xo=Wg?Je:Ke;function Vg({playState:t,playSentence:i}){return e.jsxs("div",{className:Xo.wordPlayButton,onClick:()=>i(),children:[t==="playing"?e.jsx(qe,{isColor:!0,width:24,height:24}):e.jsx(Re,{isColor:!0,width:24,height:24}),e.jsx("div",{className:Xo.txtL,children:"Play Sound (completed sentence)"})]})}const Gg=new A(navigator.userAgent),Ug=Gg.phone(),Kg=Ug?Je:Ke;function Jg({showResult:t}){return e.jsx("div",{className:`${Kg.btnNext}`,onClick:()=>t(),children:"Next"})}const Yg=new A(navigator.userAgent),Xg=Yg.phone(),Dn="Summary Test",Gt=Xg?Je:Ke;function Zg(t){const{t:i}=he(),{bookInfo:n,handler:s,studyInfo:a}=c.useContext(ie),u=t.currentStep,l=ve(()=>{J()}),r=lt(),[x,_]=c.useState("animate__bounceInRight"),{isStepIntro:b,closeStepIntro:f}=we(),{isResultShow:p,changeResultShow:S}=He(),[k,m]=c.useState(!1),o=c.useRef(!0),[h,d]=je(__,t,u),[g,y]=c.useState(1),[w,v]=c.useState(1),[R,z]=c.useState([]),[E,j]=c.useState([]),[$,M]=c.useState([]),[F,O]=c.useState([]),[H,W]=c.useState(""),[q,N]=c.useState(0),[B,D]=c.useState(0),{scoreBoardData:K,addStudentAnswer:G,addStudentAnswers:V,convertPartialRecordToScoreBoardSummary2:I,convertPartialRecordToScoreBoard:Q,makeUserPartialAnswerData:T}=ze(a.mode),{bottomPopupState:L,changeBottomPopupState:Y}=Xe(),{playState:te,playAudio:oe,stopAudio:ue}=Le(),[ce,re]=c.useState(!1);if(c.useEffect(()=>{!b&&h&&(a.mode==="Review"&&Number(n.Average)>=70?re(!0):(l.setup(h.QuizTime,!0),o.current=!1))},[b]),c.useEffect(()=>{if(h){let[me,ge,ye]=[1,1,0];if(d&&d.length>0){const It=h.Quiz.find(Pt=>Pt.QuizNo===d[d.length-1].QuizNo),dt=(It==null?void 0:It.Examples.length)||0;[me,ge,ye]=ka(a.mode,d,dt,h.QuizAnswerCount)}const fe=Ct(h.Quiz),Ye=ae(h.Sentence,d,fe);if(me>1||ye>0){const[It,dt]=de(fe,me-1);y(ge),v(me),le(d,ge),M(It),O(_e.shuffle(dt))}else a.mode==="Super"?O(fe):O(_e.shuffle(fe));const ht=I(d,h.QuizAnswerCount);V([...ht]),D(ye),N(ye),z(Ye),j(fe)}},[h]),c.useEffect(()=>{h&&!b&&(N(0),D(0),l.setup(h.QuizTime,!0),o.current=!1)},[w]),c.useEffect(()=>{ce&&h&&ke()},[ce]),!h)return e.jsx(e.Fragment,{children:"Loading..."});const ne=async(me,ge)=>{try{if(!o.current){o.current=!0;const ye=E[w-1].Text===ge;l.stop();let Ye=H+(ye?"1":"2");const ht={quizNo:w,maxCount:h.QuizAnswerCount,answerCount:q+1,ox:ye},It=T({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:u,quizId:h.Quiz[g-1].QuizId,quizNo:h.Quiz[g-1].QuizNo,currentQuizNo:w,correct:E[w-1].Text,selectedAnswer:ge,partialRecord:Ye,tryCount:q+1,maxQuizCount:h.QuizAnswerCount,quizLength:E.length,isCorrect:ye,answerData:ht,isFinishStudy:t.lastStep===u}),dt=await Ws(a.mode,It);Number(dt.result)===0&&(dt.resultMessage&&(s.finishStudy={id:Number(dt.result),cause:dt.resultMessage}),G(ht),ye||D(B+1),W(Ye),N(q+1),P(ye,me))}}catch(ye){console.error(ye)}},P=(me,ge)=>{Y({isActive:!0,isCorrect:me}),me?r.play(ge,[Gt.correct,"animate__fadeIn"]):r.play(ge,[Gt.incorrect,"animate__headShake"])},X=me=>{const ge=!!r.isContain(me,"animate__fadeIn");setTimeout(()=>{if(r.remove(me,["animate__fadeIn","animate__headShake",Gt.correct,Gt.incorrect]),Y({isActive:!1,isCorrect:!1}),ge){const ye=pe(w,ge),fe=Ee(w),Ye=be(w);if(z(ye),M(fe),O(Ye),w+1<=E.length){const ht=se();g!==ht?(W(""),y(ht)):W(H+","),v(w+1)}else re(!0)}else if(q<h.QuizAnswerCount)l.setup(h.QuizTime,!0),o.current=!1;else{const ye=pe(w,ge),fe=Ee(w),Ye=be(w);if(z(ye),M(fe),O(Ye),w+1<=E.length){const ht=se();g!==ht?(W(""),y(ht)):W(H+","),v(w+1)}else re(!0)}},1e3)},J=async()=>{try{if(!o.current){o.current=!0,l.stop();let me=H+"2";const ge={quizNo:w,maxCount:h.QuizAnswerCount,answerCount:q+1,ox:!1},ye=T({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:u,quizId:h.Quiz[g-1].QuizId,quizNo:h.Quiz[g-1].QuizNo,currentQuizNo:w,correct:"2",selectedAnswer:me,partialRecord:me,tryCount:q+1,maxQuizCount:h.QuizAnswerCount,quizLength:E.length,isCorrect:!1,answerData:ge,isFinishStudy:t.lastStep===u}),fe=await Ws(a.mode,ye);Number(fe.result)===0&&(fe.resultMessage&&(s.finishStudy={id:Number(fe.result),cause:fe.resultMessage}),G(ge),D(B+1),W(me),N(q+1),Y({isActive:!0,isCorrect:!1}),U(q+1,me))}}catch(me){console.error(me)}},U=(me,ge)=>{setTimeout(()=>{if(Y({isActive:!1,isCorrect:!1}),me>=h.QuizAnswerCount){const ye=pe(w,!1),fe=Ee(w),Ye=be(w);if(z(ye),M(fe),O(Ye),w+1<=E.length){const ht=se();g!==ht?(W(""),y(ht)):W(ge+","),v(w+1)}else re(!0)}else l.setup(h.QuizTime,!0),o.current=!1},1e3)},se=()=>{let me=1;return h.Quiz.map((ge,ye)=>{ge.Examples.length>0&&ge.Examples.map(fe=>{fe.Text===E[w].Text&&(me=ye+1)})}),me},le=(me,ge)=>{let ye="";me.filter(fe=>{fe.QuizNo===ge&&(fe.AnswerCount===h.QuizAnswerCount||fe.StudentAnswer.slice(-1)==="1"?ye=fe.StudentAnswer+",":ye=fe.StudentAnswer)}),W(ye)},ae=(me,ge,ye)=>{const fe=Q(ge,h.QuizAnswerCount);let Ye=0;return me.Texts.map(dt=>dt.split(" ")).reduce((dt,Pt)=>[...dt,...Pt]).map(dt=>{if(dt.includes("┒")){let Pt="none";return fe[Ye]&&(fe[Ye].ox?Pt="correct":!fe[Ye].ox&&fe[Ye].answerCount===h.QuizAnswerCount&&(Pt="incorrect")),{Word:ye[Ye].Text,QuestionIndex:++Ye,State:Pt}}else return{Word:dt,QuestionIndex:0,State:"none"}})},pe=(me,ge)=>{let ye=[...R];const fe=R.findIndex(Ye=>Ye.QuestionIndex===me);return ye[fe].State=ge?"correct":"incorrect",ye},Ee=me=>[...$,E[me-1]],be=me=>{const ge=E[me-1].Text;return F.filter(fe=>fe.Text!==ge)},Ct=me=>me.map(ye=>ye.Examples).reduce((ye,fe)=>[...ye,...fe]),de=(me,ge)=>{const ye=me.slice(0,ge),fe=me.slice(ge,me.length);return[ye,fe]},ke=()=>{te==="playing"?ue():oe(h.Sentence.Sounds[0])},Se=()=>{ue(),S(!0)},Fe=me=>{m(me)},$t=h.Quiz.reduce((me,ge)=>me+ge.Examples.length,0);return e.jsx(e.Fragment,{children:b?e.jsx("div",{className:`animate__animated ${x}`,onAnimationEnd:()=>{x==="animate__bounceOutLeft"&&f()},children:e.jsx(Me,{step:u,quizType:Dn,comment:i("study.지문을 보고 빈칸에 들어갈 알맞은 답을 순서대로 고르세요."),onStepIntroClozeHandler:()=>{_("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:p?e.jsx(it,{step:u,quizType:Dn,quizAnswerCount:h.QuizAnswerCount,studentAnswer:K,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:w,totalQuizCnt:E.length,life:h.QuizAnswerCount-B,timeMin:l.time.timeMin,timeSec:l.time.timeSec,changeSideMenu:Fe}),e.jsx("div",{className:`${Gt.comment} animate__animated animate__fadeInLeft`,children:Dn}),e.jsx(Qe,{children:e.jsxs(Be,{typeCSS:Gt.summaryTest2,containerCSS:Gt.container,children:[e.jsx(e.Fragment,{children:ce&&e.jsx(Vg,{playState:te,playSentence:ke})}),e.jsx(Bg,{isComplete:ce,sentenceData:R,questionNo:w}),e.jsx(e.Fragment,{children:ce?e.jsx(Jg,{showResult:Se}):e.jsxs(e.Fragment,{children:[e.jsx(Mg,{}),e.jsx(Og,{exampleData:F,checkAnswer:ne,onAnimationEnd:X})]})})]})}),k&&e.jsx(Ce,{isSideOpen:k,currentStep:u,currentStepType:Dn,quizLength:$t,maxAnswerCount:h.QuizAnswerCount,changeSideMenu:Fe,scoreBoardData:K,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:L})]})})})}async function ey(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,u=`${Pe}/true-or-false?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(u,async r=>({ContentsId:Number(r.ContentsId),IsQuizTimeoutIncorrect:!!r.isQuizTimeoutIncorrect,QuizAnswerCount:Number(r.QuizAnswerCount),QuizTime:Number(r.QuizTime),Quiz:r.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound},Examples:x.Examples.map(_=>({Text:_.Text,Sound:_.Sound}))}))}))}const ty="_comment_1kqy6_1",ny="_trueOrFalse_1kqy6_20",sy="_container_1kqy6_20",oy="_questionText_1kqy6_27",iy="_textCard_1kqy6_32",ry="_correct_1kqy6_66",ay="_incorrect_1kqy6_71",cy="_answer_1kqy6_76",uy="_awnserText_1kqy6_87",ly="_answers_1kqy6_91",dy="_wordPlayButton_1kqy6_97",my="_txtL_1kqy6_112",xy="_trueSentencePopup_1kqy6_124",hy="_title_1kqy6_127",_y="_sentence_1kqy6_146",py="_nextButton_1kqy6_152",Tt={comment:ty,trueOrFalse:ny,container:sy,questionText:oy,textCard:iy,correct:ry,incorrect:ay,answer:cy,true:"_true_1kqy6_20",false:"_false_1kqy6_83",awnserText:uy,answers:ly,wordPlayButton:dy,txtL:my,trueSentencePopup:xy,title:hy,sentence:_y,nextButton:py},gy="_comment_mb20r_1",yy="_trueOrFalse_mb20r_15",fy="_container_mb20r_18",by="_questionText_mb20r_25",ky="_textCard_mb20r_30",Sy="_correct_mb20r_64",wy="_incorrect_mb20r_69",vy="_answer_mb20r_74",jy="_awnserText_mb20r_85",zy="_answers_mb20r_89",$y="_wordPlayButton_mb20r_95",Cy="_txtL_mb20r_110",Qy="_trueSentencePopup_mb20r_122",Ay="_title_mb20r_125",Ny="_sentence_mb20r_144",Ty="_nextButton_mb20r_150",Xt={comment:gy,trueOrFalse:yy,container:fy,questionText:by,textCard:ky,correct:Sy,incorrect:wy,answer:vy,true:"_true_mb20r_15",false:"_false_mb20r_81",awnserText:jy,answers:zy,wordPlayButton:$y,txtL:Cy,trueSentencePopup:Qy,title:Ay,sentence:Ny,nextButton:Ty},Iy=new A(navigator.userAgent),By=Iy.phone(),Ey=By?Xt:Tt;function Py({text:t}){return e.jsx("div",{className:Ey.questionText,dangerouslySetInnerHTML:{__html:t}})}const My=new A(navigator.userAgent),Ly=My.phone(),Wn=Ly?Xt:Tt;function Ry({isCorrect:t,checkAnswer:i}){const{bookInfo:n,studyInfo:s}=c.useContext(ie);return e.jsx("div",{className:`${Wn.textCard} ${s.mode==="Review"&&Number(n.Average)>=70&&t?Tt.correct:""}`,onClick:a=>i(a.currentTarget,!0),children:e.jsxs("div",{className:Wn.answer,children:[e.jsx("div",{className:Wn.true,children:"O"}),e.jsx("div",{className:Wn.answerText,children:"True"})]})})}const qy=new A(navigator.userAgent),Fy=qy.phone(),Vn=Fy?Xt:Tt;function Hy({isCorrect:t,checkAnswer:i}){const{bookInfo:n,studyInfo:s}=c.useContext(ie);return e.jsx("div",{className:`${Vn.textCard}  ${s.mode==="Review"&&Number(n.Average)>=70&&!t?Tt.correct:""}`,onClick:a=>i(a.currentTarget,!1),children:e.jsxs("div",{className:Vn.answer,children:[e.jsx("div",{className:Vn.false,children:"X"}),e.jsx("div",{className:Vn.answerText,children:"False"})]})})}const Oy=new A(navigator.userAgent),Dy=Oy.phone(),Wy=Dy?Xt:Tt;function Vy({isCorrect:t,checkAnswer:i}){return e.jsxs("div",{className:Wy.answers,children:[e.jsx(Ry,{isCorrect:t,checkAnswer:i}),e.jsx(Hy,{isCorrect:t,checkAnswer:i})]})}const Gy=new A(navigator.userAgent),Uy=Gy.phone(),Zo=Uy?Xt:Tt;function Ky({playState:t,playTrueSentence:i}){return e.jsxs("div",{className:Zo.wordPlayButton,onClick:()=>i(),children:[t==="playing"?e.jsx(qe,{isColor:!0,width:24,height:24}):e.jsx(Re,{isColor:!0,width:24,height:24}),e.jsx("div",{className:Zo.txtL,children:"Play Sound"})]})}const Jy=new A(navigator.userAgent),Yy=Jy.phone(),_n=Yy?Xt:Tt;function Xy({playState:t,sentence:i,playTrueSentence:n,goNextQuiz:s}){return e.jsxs("div",{className:_n.trueSentencePopup,children:[e.jsx("div",{className:_n.title,children:"True Sentence"}),e.jsxs("div",{className:_n.container,children:[e.jsx(Ky,{playState:t,playTrueSentence:n}),e.jsx("div",{className:_n.sentence,dangerouslySetInnerHTML:{__html:i}})]}),e.jsx("div",{className:_n.nextButton,onClick:()=>s(),children:"Next"})]})}const Zy=new A(navigator.userAgent),ef=Zy.phone(),Gn="True or False",Ut=ef?Xt:Tt;function tf(t){const{t:i}=he(),{handler:n,studyInfo:s}=c.useContext(ie),a=t.currentStep,u=ve(()=>{o&&(o.QuizTime>300?window.onLogoutStudy():D())}),l=lt(),[r,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:b}=we(),{isResultShow:f,changeResultShow:p}=He(),[S,k]=c.useState(!1),m=c.useRef(!0),[o,h]=je(ey,t,a),{scoreBoardData:d,setStudentAnswers:g,addStudentAnswer:y,makeUserAnswerData:w}=ze(s.mode),[v,R]=c.useState(1),[z,E]=c.useState(0),[j,$]=c.useState(0),{bottomPopupState:M,changeBottomPopupState:F}=Xe(),[O,H]=c.useState(!1),{playState:W,playAudio:q,stopAudio:N}=Le();if(c.useEffect(()=>{!_&&o&&(u.setup(o.QuizTime,!0),I(),m.current=!1)},[_]),c.useEffect(()=>{if(o){const[T,L]=ct(s.mode,h,o.QuizAnswerCount);E(L),$(L),g(h,o.QuizAnswerCount),R(T)}},[o]),c.useEffect(()=>{!_&&!f&&o&&(u.setup(o.QuizTime,!0),E(0),$(0),I(),m.current=!1)},[v]),c.useEffect(()=>{o&&!_&&!f&&(O?Q():v+1>o.Quiz.length?p(!0):R(v+1))},[O]),!o)return e.jsx(e.Fragment,{children:"Loading..."});const B=async(T,L)=>{try{if(!m.current){m.current=!0,N(),u.stop();const Y=/<[^>]*>/gi,te=o.Quiz[v-1].Question.Text,oe=o.Quiz[v-1].Examples[0].Text,ue=te===oe,ce=ue===L,re={quizNo:v,maxCount:o.QuizAnswerCount,answerCount:z+1,ox:ce},ne=w({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:a,quizId:o.Quiz[v-1].QuizId,quizNo:o.Quiz[v-1].QuizNo,currentQuizNo:v,correct:oe.replace(Y,""),selectedAnswer:ce?oe.replace(Y,""):"user has the wrong opinion.",tryCount:z+1,maxQuizCount:o.QuizAnswerCount,quizLength:o.Quiz.length,isCorrect:ce,answerData:re,isFinishStudy:t.lastStep===a}),P=await Te(s.mode,ne);Number(P.result)===0&&(P.resultMessage&&(n.finishStudy={id:Number(P.result),cause:P.resultMessage}),y(re),ce?l.play(T,["animate__fadeIn",Ut.correct]):(l.play(T,["animate__pulse",Ut.incorrect]),$(j+1)),E(z+1),K(ce,ue,T))}}catch(Y){console.error(Y)}},D=async()=>{try{if(!m.current){m.current=!0,N(),u.stop();const T=/<[^>]*>/gi,L=o.Quiz[v-1].Question.Text,Y=o.Quiz[v-1].Examples[0].Text,te=L===Y,oe=!1,ue={quizNo:v,maxCount:o.QuizAnswerCount,answerCount:z+1,ox:!1},ce=w({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:a,quizId:o.Quiz[v-1].QuizId,quizNo:o.Quiz[v-1].QuizNo,currentQuizNo:v,correct:o.Quiz[v-1].Question.Text.replace(T,""),selectedAnswer:"user has the wrong opinion",tryCount:z+1,maxQuizCount:o.QuizAnswerCount,quizLength:o.Quiz.length,isCorrect:oe,answerData:ue,isFinishStudy:t.lastStep===a}),re=await Te(s.mode,ce);Number(re.result)===0&&(re.resultMessage&&(n.finishStudy={id:Number(re.result),cause:re.resultMessage}),y(ue),$(j+1),E(z+1),K(!1,te))}}catch(T){console.error(T)}},K=(T,L,Y)=>{F({isActive:!0,isCorrect:T}),setTimeout(()=>{F({isActive:!1,isCorrect:!1}),Y&&l.remove(Y,["animate__fadeIn","animate__headShake",Ut.correct,Ut.incorrect]),L?v+1>o.Quiz.length?p(!0):R(v+1):H(!0)},2e3)},G=()=>{N(),H(!1)},V=T=>{k(T)},I=()=>{W==="playing"?N():q(o.Quiz[v-1].Question.Sound)},Q=()=>{W==="playing"?N():q(o.Quiz[v-1].Examples[0].Sound)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${r}`,onAnimationEnd:()=>{r==="animate__bounceOutLeft"&&b()},children:e.jsx(Me,{step:a,quizType:Gn,comment:i("study.문장을 읽고 맞으면 O, 틀리면 X를 누르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(it,{step:a,quizType:Gn,quizAnswerCount:o.QuizAnswerCount,studentAnswer:d,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:v,totalQuizCnt:Object.keys(o.Quiz).length,life:o.QuizAnswerCount-j,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:V}),e.jsx("div",{className:`${Ut.comment} animate__animated animate__fadeInLeft`,children:Gn}),e.jsx(Qe,{children:O?e.jsx(Xy,{playState:W,sentence:o.Quiz[v-1].Examples[0].Text,playTrueSentence:Q,goNextQuiz:G}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{height:15}),e.jsxs(Be,{typeCSS:Ut.trueOrFalse,containerCSS:Ut.container,children:[e.jsx(Z,{height:10}),e.jsx(Py,{text:o.Quiz[v-1].Question.Text}),e.jsx(Z,{height:10}),e.jsx(Vy,{isCorrect:o.Quiz[v-1].Question.Text===o.Quiz[v-1].Examples[0].Text,checkAnswer:B})]}),e.jsx(Z,{height:15})]})}),S&&e.jsx(Ce,{isSideOpen:S,currentStep:a,currentStepType:Gn,quizLength:o.Quiz.length,maxAnswerCount:o.QuizAnswerCount,scoreBoardData:d,changeSideMenu:V,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:M})]})})})}const nf="_comment_1sfq7_1",sf="_wordPlayButton_1sfq7_20",of="_txtL_1sfq7_34",rf="_txtP_1sfq7_38",af="_wordPlayButton2_1sfq7_43",cf="_btnNext_1sfq7_66",uf="_reTryButton_1sfq7_89",lf="_iconChevLeft_1sfq7_112",df="_iconChevRight_1sfq7_127",mf="_vocabularyPractice1_1sfq7_142",xf="_container_1sfq7_149",hf="_wordCard_1sfq7_157",_f="_wordImage_1sfq7_174",pf="_screenBlock_1sfq7_180",gf="_wordText_1sfq7_188",yf="_btnRec_1sfq7_199",ff="_recIcon_1sfq7_206",bf="_indicator_1sfq7_224",kf="_speakResultVoca1_1sfq7_290",Sf="_phonemes_1sfq7_319",wf="_phonemeItem_1sfq7_328",vf="_phoneme_1sfq7_319",jf="_red_1sfq7_336",zf="_orange_1sfq7_339",$f="_green_1sfq7_342",Cf="_phonemeScore_1sfq7_345",Qf="_signBox_1sfq7_352",Af="_goodJob_1sfq7_363",Nf="_tryAgain_1sfq7_366",Tf="_txt_1sfq7_34",If="_iconArrow_1sfq7_375",Bf="_goNextStepBox_1sfq7_383",Ef="_vocabularyPractice2_1sfq7_401",Pf="_word_1sfq7_20",Mf="_speakResultVoca2_1sfq7_552",Lf="_vocabularyPractice3_1sfq7_663",Rf="_wordTyping_1sfq7_676",qf="_textField_1sfq7_680",Ff="_inputField_1sfq7_685",Hf="_overLength_1sfq7_703",Of="_count_1sfq7_732",Df="_enterButton_1sfq7_740",Wf="_enterIcon_1sfq7_754",Vf="_skipButton_1sfq7_778",Gf="_meaning_1sfq7_805",Uf="_vocabularyPractice4_1sfq7_836",Kf="_sentence_1sfq7_880",Jf="_studyModeSelectTab_1sfq7_959",Yf="_btnTab_1sfq7_965",Xf="_active_1sfq7_970",Zf="_speakQuestionText_1sfq7_982",eb="_recProgress_1sfq7_1013",tb="_speakResult_1sfq7_290",nb="_speakResultSign_1sfq7_1122",Ae={comment:nf,wordPlayButton:sf,txtL:of,txtP:rf,wordPlayButton2:af,btnNext:cf,reTryButton:uf,iconChevLeft:lf,iconChevRight:df,vocabularyPractice1:mf,container:xf,wordCard:hf,wordImage:_f,screenBlock:pf,wordText:gf,btnRec:yf,recIcon:ff,indicator:bf,speakResultVoca1:kf,phonemes:Sf,phonemeItem:wf,phoneme:vf,red:jf,orange:zf,green:$f,phonemeScore:Cf,signBox:Qf,goodJob:Af,tryAgain:Nf,txt:Tf,iconArrow:If,goNextStepBox:Bf,vocabularyPractice2:Ef,word:Pf,speakResultVoca2:Mf,vocabularyPractice3:Lf,wordTyping:Rf,textField:qf,inputField:Ff,overLength:Hf,count:Of,enterButton:Df,enterIcon:Wf,skipButton:Vf,meaning:Gf,vocabularyPractice4:Uf,sentence:Kf,studyModeSelectTab:Jf,btnTab:Yf,active:Xf,speakQuestionText:Zf,recProgress:eb,speakResult:tb,speakResultSign:nb},sb="_comment_np78h_1",ob="_wordPlayButton_np78h_20",ib="_txtL_np78h_34",rb="_txtP_np78h_38",ab="_wordPlayButton2_np78h_43",cb="_btnNext_np78h_64",ub="_reTryButton_np78h_86",lb="_iconChevLeft_np78h_108",db="_iconChevRight_np78h_123",mb="_vocabularyPractice1_np78h_138",xb="_container_np78h_141",hb="_wordCard_np78h_149",_b="_wordImage_np78h_166",pb="_wordText_np78h_172",gb="_btnRec_np78h_180",yb="_recIcon_np78h_187",fb="_indicator_np78h_206",bb="_speakResultVoca1_np78h_271",kb="_phonemes_np78h_300",Sb="_phonemeItem_np78h_309",wb="_phoneme_np78h_300",vb="_red_np78h_317",jb="_orange_np78h_320",zb="_green_np78h_323",$b="_phonemeScore_np78h_326",Cb="_signBox_np78h_333",Qb="_goodJob_np78h_344",Ab="_tryAgain_np78h_347",Nb="_txt_np78h_34",Tb="_iconArrow_np78h_356",Ib="_goNextStepBox_np78h_364",Bb="_vocabularyPractice2_np78h_382",Eb="_word_np78h_20",Pb="_speakResultVoca2_np78h_511",Mb="_vocabularyPractice3_np78h_622",Lb="_wordTyping_np78h_638",Rb="_textField_np78h_644",qb="_inputField_np78h_649",Fb="_overLength_np78h_667",Hb="_count_np78h_698",Ob="_enterButton_np78h_711",Db="_enterIcon_np78h_726",Wb="_skipButton_np78h_749",Vb="_meaning_np78h_775",Gb="_vocabularyPractice4_np78h_809",Ub="_sentence_np78h_853",Kb="_studyModeSelectTab_np78h_931",Jb="_btnTab_np78h_937",Yb="_active_np78h_942",Xb="_speakQuestionText_np78h_954",Zb="_recProgress_np78h_982",ek="_speakResult_np78h_271",tk="_speakResultSign_np78h_1091",Ne={comment:sb,wordPlayButton:ob,txtL:ib,txtP:rb,wordPlayButton2:ab,btnNext:cb,reTryButton:ub,iconChevLeft:lb,iconChevRight:db,vocabularyPractice1:mb,container:xb,wordCard:hb,wordImage:_b,wordText:pb,btnRec:gb,recIcon:yb,indicator:fb,speakResultVoca1:bb,phonemes:kb,phonemeItem:Sb,phoneme:wb,red:vb,orange:jb,green:zb,phonemeScore:$b,signBox:Cb,goodJob:Qb,tryAgain:Ab,txt:Nb,iconArrow:Tb,goNextStepBox:Ib,vocabularyPractice2:Bb,word:Eb,speakResultVoca2:Pb,vocabularyPractice3:Mb,wordTyping:Lb,textField:Rb,inputField:qb,overLength:Fb,count:Hb,enterButton:Ob,enterIcon:Db,skipButton:Wb,meaning:Vb,vocabularyPractice4:Gb,sentence:Ub,studyModeSelectTab:Kb,btnTab:Jb,active:Yb,speakQuestionText:Xb,recProgress:Zb,speakResult:ek,speakResultSign:tk};async function Ai(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,a=`${Pe}/vocabulary-1-practice?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(a,async l=>({ContentsId:Number(l.ContentsId),IsQuizTimeoutIncorrect:!!l.isQuizTimeoutIncorrect,QuizAnswerCount:Number(l.QuizAnswerCount),QuizTime:Number(l.QuizTime),MainMeanLanguage:l.MainMeanLanguage,SubMeanLanguage:l.SubMeanLanguage,Quiz:l.Quiz.map(r=>({QuizId:r.QuizId.toString(),QuizNo:Number(r.QuizNo),Question:{Text:r.Question.Text,Image:r.Question.Image,Sound:r.Question.Sound,SpeechPart:r.Question.SpeechPart,Korean:r.Question.Korean,Chinese:r.Question.Chinese,Japanese:r.Question.Japanese,Vietnamese:r.Question.Vietnamese,Indonesian:r.Question.Indonesian,English:r.Question.English,Britannica:r.Question.Britannica},Examples:r.Examples.map(x=>({Text:x.Text}))}))}))}async function nk(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,a=`${Pe}/vocabulary-1?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(a,async l=>({ContentsId:Number(l.ContentsId),IsQuizTimeoutIncorrect:!!l.isQuizTimeoutIncorrect,QuizAnswerCount:Number(l.QuizAnswerCount),QuizTime:Number(l.QuizTime),MainMeanLanguage:l.MainMeanLanguage,SubMeanLanguage:l.SubMeanLanguage,Quiz:l.Quiz.map(r=>({QuizId:r.QuizId.toString(),QuizNo:Number(r.QuizNo),Question:{Text:r.Question.Text,Image:r.Question.Image,Sound:r.Question.Sound,SpeechPart:r.Question.SpeechPart,Korean:r.Question.Korean,Chinese:r.Question.Chinese,Japanese:r.Question.Japanese,Vietnamese:r.Question.Vietnamese,Indonesian:r.Question.Indonesian,English:r.Question.English,Britannica:r.Question.Britannica},Examples:r.Examples.map(x=>({Text:x.Text}))}))}))}async function Ni(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,a=`${Pe}/vocabulary-2-practice?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(a,async l=>({ContentsId:Number(l.ContentsId),IsQuizTimeoutIncorrect:!!l.isQuizTimeoutIncorrect,QuizAnswerCount:Number(l.QuizAnswerCount),QuizTime:Number(l.QuizTime),MainMeanLanguage:l.MainMeanLanguage,SubMeanLanguage:l.SubMeanLanguage,Quiz:l.Quiz.map(r=>({QuizId:r.QuizId.toString(),QuizNo:Number(r.QuizNo),Question:{Text:r.Question.Text,Image:r.Question.Image,Sound:r.Question.Sound,Word:r.Question.Word,WordSound:r.Question.WordSound,SpeechPart:r.Question.SpeechPart,Korean:r.Question.Korean,Chinese:r.Question.Chinese,Japanese:r.Question.Japanese,Vietnamese:r.Question.Vietnamese,Indonesian:r.Question.Indonesian,English:r.Question.English,Britannica:r.Question.Britannica},Examples:r.Examples.map(x=>({Text:x.Text}))}))}))}async function sk(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,a=`${Pe}/vocabulary-2?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(a,async l=>({ContentsId:Number(l.ContentsId),IsQuizTimeoutIncorrect:!!l.isQuizTimeoutIncorrect,QuizAnswerCount:Number(l.QuizAnswerCount),QuizTime:Number(l.QuizTime),MainMeanLanguage:l.MainMeanLanguage,SubMeanLanguage:l.SubMeanLanguage,Quiz:l.Quiz.map(r=>({QuizId:r.QuizId.toString(),QuizNo:Number(r.QuizNo),Question:{Text:r.Question.Text,Image:r.Question.Image,Sound:r.Question.Sound,Word:r.Question.Word,WordSound:r.Question.WordSound,SpeechPart:r.Question.SpeechPart,Korean:r.Question.Korean,Chinese:r.Question.Chinese,Japanese:r.Question.Japanese,Vietnamese:r.Question.Vietnamese,Indonesian:r.Question.Indonesian,English:r.Question.English,Britannica:r.Question.Britannica},Examples:r.Examples.map(x=>({Text:x.Text}))}))}))}async function Ti(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,a=`${Pe}/vocabulary-3-practice?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(a,async l=>({ContentsId:Number(l.ContentsId),IsQuizTimeoutIncorrect:!!l.isQuizTimeoutIncorrect,QuizAnswerCount:Number(l.QuizAnswerCount),QuizTime:Number(l.QuizTime),IsEnabledTyping:l.IsEnabledTyping,IsSkipAvailable:l.IsSkipAvailable,MainMeanLanguage:l.MainMeanLanguage,SubMeanLanguage:l.SubMeanLanguage,Quiz:l.Quiz.map(r=>({QuizId:r.QuizId.toString(),QuizNo:Number(r.QuizNo),Question:{Text:r.Question.Text,Sound:r.Question.Sound,SpeechPart:r.Question.SpeechPart,Korean:r.Question.Korean,Chinese:r.Question.Chinese,Japanese:r.Question.Japanese,Vietnamese:r.Question.Vietnamese,Indonesian:r.Question.Indonesian,English:r.Question.English,Britannica:r.Question.Britannica}}))}))}async function ok(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,a=`${Pe}/vocabulary-3?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(a,async l=>({ContentsId:Number(l.ContentsId),IsQuizTimeoutIncorrect:!!l.isQuizTimeoutIncorrect,QuizAnswerCount:Number(l.QuizAnswerCount),QuizTime:Number(l.QuizTime),MainMeanLanguage:l.MainMeanLanguage,SubMeanLanguage:l.SubMeanLanguage,IsEnablePenaltyReview:!!l.IsEnablePenaltyReview,Hint:{IsEnabled:l.Hint.IsEnabled,Max:l.Hint.Max,Try:l.Hint.Try},Quiz:l.Quiz.map(r=>({QuizId:r.QuizId.toString(),QuizNo:Number(r.QuizNo),Question:{Text:r.Question.Text,Sound:r.Question.Sound,SpeechPart:r.Question.SpeechPart,Korean:r.Question.Korean,Chinese:r.Question.Chinese,Japanese:r.Question.Japanese,Vietnamese:r.Question.Vietnamese,Indonesian:r.Question.Indonesian,English:r.Question.English,Britannica:r.Question.Britannica}}))}))}async function ik(t,i,n){const s=`${bi}/Vocabulary?studentHistoryId=${i}&studyId=${t}&quizNo=${n}`;return fi(s,async u=>({Type:u.Type,Hint:u.Hint,TryHint:u.TryHint,ErrorNo:u.ErrorNo}))}async function Ii(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,a=`${Pe}/vocabulary-4-practice?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(a,async l=>({ContentsId:Number(l.ContentsId),IsQuizTimeoutIncorrect:!!l.isQuizTimeoutIncorrect,QuizAnswerCount:Number(l.QuizAnswerCount),QuizTime:Number(l.QuizTime),MainMeanLanguage:l.MainMeanLanguage,SubMeanLanguage:l.SubMeanLanguage,Quiz:l.Quiz.map(r=>({QuizId:r.QuizId.toString(),QuizNo:Number(r.QuizNo),Question:{Text:r.Question.Text,Sound:r.Question.Sound,SpeechPart:r.Question.SpeechPart,Korean:r.Question.Korean,Chinese:r.Question.Chinese,Japanese:r.Question.Japanese,Vietnamese:r.Question.Vietnamese,Indonesian:r.Question.Indonesian,English:r.Question.English,Britannica:r.Question.Britannica},Examples:r.Examples.map(x=>({Text:x.Text}))}))}))}async function rk(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,a=`${Pe}/vocabulary-4?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(a,async l=>({ContentsId:Number(l.ContentsId),IsQuizTimeoutIncorrect:!!l.isQuizTimeoutIncorrect,QuizAnswerCount:Number(l.QuizAnswerCount),QuizTime:Number(l.QuizTime),MainMeanLanguage:l.MainMeanLanguage,SubMeanLanguage:l.SubMeanLanguage,Quiz:l.Quiz.map(r=>({QuizId:r.QuizId.toString(),QuizNo:Number(r.QuizNo),Question:{Text:r.Question.Text,Sound:r.Question.Sound,SpeechPart:r.Question.SpeechPart,Korean:r.Question.Korean,Chinese:r.Question.Chinese,Japanese:r.Question.Japanese,Vietnamese:r.Question.Vietnamese,Indonesian:r.Question.Indonesian,English:r.Question.English,Britannica:r.Question.Britannica},Examples:r.Examples.map(x=>({Text:x.Text}))}))}))}const ak="https://api.readinggate.elasolution.com",ck="e874641aac784ff6b9d62c3483f7aaaa";function go(){const{t}=he(),i=(s,a,u,l)=>{try{const r=new Audio(a),x=()=>{const _=r.duration>=5?1.4:1.2,b=Math.ceil(r.duration*1e3*_);if(navigator.mediaDevices.getUserMedia){console.log("The mediaDevices.getUserMedia() method is supported.");const f=k=>{u("recording");const m=new MediaRecorder(k),o=[];m.ondataavailable=h=>{o.push(h.data)},m.onstop=()=>{k.getTracks().forEach(function(g){g.stop()});const h=new Blob(o,{type:m.mimeType}),d=new File([h],"student_audio.mp3",{type:"audio/mp3"});n(d,a,s,l)},m.onerror=h=>{alert(h)},m.start(),setTimeout(()=>{m.stop()},b)},p=k=>{u("reset"),console.error("The following error occured: "+k)},S={audio:!0};navigator.mediaDevices.getUserMedia(S).then(f,p).catch(k=>{console.log(k.name),console.log(k.message)})}else u("reset"),alert("MediaDevices.getUserMedia() not supported on your browser!")};ho?r.addEventListener("loadedmetadata",x):r.addEventListener("canplaythrough",x)}catch(r){alert(r)}},n=async(s,a,u,l)=>{const r=await uk(a),x=new FormData;x.append("student_audio",s),x.append("text",u),x.append("get_phoneme_result",!0),x.append("native_audio",r),rs.post(`${ak}/pron_v2/`,x,{headers:{"X-API-Key":ck,"Content-Type":"multipart/form-data"}}).then(_=>{switch(_.status){case 200:l(_.data);break;case 401:alert(t("study.인증키가 잘못되었습니다. 리딩게이트로 전화주세요. 1599-0533"));break;case 403:alert(_.data);break;case 422:alert(_.data);break}}).catch(_=>{console.error(_)})};return{startRecording:i}}const uk=async t=>{const n=await(await fetch(t)).blob(),s=t.split(".").pop(),a=t.split("/").pop(),u={type:`image/${s}`};return new File([n],a,u)},lk="Comp 1",dk="",mk=[{ty:4,nm:"Shape Layer 2",mn:"",sr:1,st:0,op:41.0000016699642,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[127,127,100],t:0},{o:{x:.333,y:0},i:{x:.667,y:1},s:[147,147,100],t:10},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[127,127,100],t:20.0000008146167}],ix:6},sk:{a:0,k:0},p:{a:0,k:[31.524,31.524,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Group",nm:"Ellipse 1",ix:1,cix:2,np:3,it:[{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0],ix:3},s:{a:0,k:[26.25,26.25],ix:2}},{ty:"fl",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.9882,.3333,.3333],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[.375,.375],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:1},{ty:4,nm:"Shape Layer 1",mn:"",sr:1,st:0,op:41.0000016699642,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[127,127,100],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[250,250,100],t:40.0000016292334}],ix:6},sk:{a:0,k:0},p:{a:0,k:[31.524,31.524,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[100],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:40.0000016292334}],ix:11}},ef:[],shapes:[{ty:"gr",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Group",nm:"Ellipse 1",ix:1,cix:2,np:3,it:[{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0],ix:3},s:{a:0,k:[26.25,26.25],ix:2}},{ty:"fl",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.9882,.3333,.3333],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[.375,.375],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:2}],xk=0,hk=64,_k=64,pk={a:"",k:"",d:"",g:"LottieFiles AE 1.0.0",tc:"#000000"},gk="4.8.0",yk=29.9700012207031,fk=41.0000016699642,bk=0,kk=[],Bi={nm:lk,mn:dk,layers:mk,ddd:xk,h:hk,w:_k,meta:pk,v:gk,fr:yk,op:fk,ip:bk,assets:kk},Sk="5.5.8",wk=30,vk=0,jk=60,zk=128,$k=128,Ck="Comp 1",Qk=0,Ak=[],Nk=[{ddd:0,ind:1,ty:4,nm:"Shape Layer 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[102.49999999999999,113.99999999999999,0],ix:2},a:{a:0,k:[0,50,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.665,y:1},o:{x:.088,y:0},t:0,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,-8.75],[10,45],[5,50],[-5,50],[-10,45],[-10,-8.75],[-5,-13.75],[5,-13.75]],c:!0}]},{i:{x:.888,y:.992},o:{x:.315,y:0},t:15,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,-29.5],[10,45],[5,50],[-5,50],[-10,45],[-10,-29.5],[-5,-34.5],[5,-34.5]],c:!0}]},{i:{x:.777,y:1},o:{x:.117,y:.013},t:30,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,-8.75],[10,45],[5,50],[-5,50],[-10,45],[-10,-8.75],[-5,-13.75],[5,-13.75]],c:!0}]},{i:{x:.853,y:1},o:{x:.098,y:0},t:46,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,18.75],[10,45],[5,50],[-5,50],[-10,45],[-10,18.75],[-5,13.75],[5,13.75]],c:!0}]},{t:60,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,-8.75],[10,45],[5,50],[-5,50],[-10,45],[-10,-8.75],[-5,-13.75],[5,-13.75]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9568627450980393,.9411764705882353,.9568627450980393,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:0,op:61,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Shape Layer 3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[62.5,113.99999999999999,0],ix:2},a:{a:0,k:[0,50,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.631,y:1},o:{x:.167,y:0},t:0,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,-33],[10,45],[5,50],[-5,50],[-10,45],[-10,-33],[-5,-38],[5,-38]],c:!0}]},{i:{x:.667,y:1},o:{x:.391,y:0},t:13.846,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,4],[10,45],[5,50],[-5,50],[-10,45],[-10,4],[-5,-1],[5,-1]],c:!0}]},{i:{x:.88,y:1},o:{x:.093,y:0},t:27,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,-33],[10,45],[5,50],[-5,50],[-10,45],[-10,-33],[-5,-38],[5,-38]],c:!0}]},{i:{x:.873,y:1},o:{x:.165,y:0},t:45,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,11.875],[10,45],[5,50],[-5,50],[-10,45],[-10,11.875],[-5,6.875],[5,6.875]],c:!0}]},{t:60,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,-33],[10,45],[5,50],[-5,50],[-10,45],[-10,-33],[-5,-38],[5,-38]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9568627450980393,.9411764705882353,.9568627450980393,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:0,op:61,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Shape Layer 4",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[22.5,113.99999999999999,0],ix:2},a:{a:0,k:[0,50,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.562,y:1},o:{x:.46,y:0},t:0,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,29.25],[10,45],[5,50],[-5,50],[-10,45],[-10,29.25],[-5,24.25],[5,24.25]],c:!0}]},{i:{x:.505,y:1},o:{x:.402,y:0},t:15,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,13],[10,45],[5,50],[-5,50],[-10,45],[-10,13],[-5,8],[5,8]],c:!0}]},{i:{x:.407,y:1},o:{x:.167,y:0},t:32,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,29.25],[10,45],[5,50],[-5,50],[-10,45],[-10,29.25],[-5,24.25],[5,24.25]],c:!0}]},{i:{x:.599,y:1},o:{x:.526,y:0},t:47,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,3],[10,45],[5,50],[-5,50],[-10,45],[-10,3],[-5,-2],[5,-2]],c:!0}]},{t:60,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,29.25],[10,45],[5,50],[-5,50],[-10,45],[-10,29.25],[-5,24.25],[5,24.25]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9568627450980393,.9411764705882353,.9568627450980393,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:0,op:61,st:0,bm:0}],Tk=[],Ik={v:Sk,fr:wk,ip:vk,op:jk,w:zk,h:$k,nm:Ck,ddd:Qk,assets:Ak,layers:Nk,markers:Tk},Bk="best-seller",Ek=0,Pk=700,Mk=700,Lk={g:"@lottiefiles/toolkit-js 0.33.2"},Rk=[{ty:4,nm:"Layer 2 Outlines",sr:1,st:0,op:61,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[34.732,47.8,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[34.733,-6.771,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0],[0,0],[9.278,2.974],[.372,.093],[3.698,-7.396],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[2.974,-9.279],[-.366,-.117],[-8.022,-2.006],[0,0],[0,0],[0,0],[0,0]],v:[[-16.8,47.55],[21.791,7.264],[31.508,-23.045],[20.093,-45.23],[18.988,-45.545],[-1.071,-36.318],[-10.742,-16.979],[-34.482,7.021],[-16.329,45.669]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.9843,.8588,.5529],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[34.732,47.8],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:1,parent:3},{ty:4,nm:"Layer 3 Outlines",sr:1,st:0,op:61,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[36.38,56.411,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[-35.879,56.089,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[6.624,.007],[0,-6.627],[-6.627,0],[0,6.627]],o:[[-6.627,0],[0,6.627],[6.627,0],[-.007,-6.624]],v:[[0,-12],[-12,0],[0,12],[12,0]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.1765,.2784,.3608],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[36.25,76.573],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 2",ix:2,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-36.13,-56.161],[36.13,-56.161],[36.13,56.161],[-36.13,56.161]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.2588,.4078,.5294],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[36.38,56.411],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:2,parent:3},{ty:4,nm:"Layer 4 Outlines",sr:1,st:0,op:61,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[-35.879,77.25,0],ix:1},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[0,0,100],t:18},{s:[100,100,100],t:28}],ix:6},sk:{a:0,k:0},p:{a:0,k:[290.13,371,0],ix:2},r:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[15],t:22},{o:{x:.333,y:0},i:{x:.667,y:1},s:[-12],t:26},{s:[0],t:35}],ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0],[0,0],[0,13.255],[0,0],[0,0],[0,3.005],[10.69,0],[.025,0],[0,0]],o:[[0,0],[0,0],[13.255,0],[0,0],[0,0],[1.344,-2.688],[.001,-10.69],[-.025,0],[0,0],[0,0]],v:[[-59.871,-56],[-59.871,56],[27.87,56],[51.87,32],[51.87,-16],[57.826,-27.913],[59.87,-36.569],[40.515,-55.926],[40.44,-55.926],[-3.597,-55.758]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.9843,.8588,.5529],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[60.121,56.25],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:3},{ty:4,nm:"Layer 5 Outlines",sr:1,st:0,op:61,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[144.25,144.25,0],ix:1},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[0,0,100],t:4},{o:{x:.333,y:0},i:{x:.667,y:1},s:[110,110,100],t:11},{s:[100,100,100],t:19}],ix:6},sk:{a:0,k:0},p:{a:0,k:[350,342,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-79.529,0],[0,-79.529],[79.529,0],[0,79.529]],o:[[79.529,0],[0,79.529],[-79.529,0],[0,-79.529]],v:[[0,-144],[144,0],[0,144],[-144,0]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[1,1,1],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[144.25,144.25],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:4},{ty:4,nm:"Layer 6 Outlines",sr:1,st:0,op:61,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[195.385,195.385,0],ix:1},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[0,0,100],t:0},{o:{x:.333,y:0},i:{x:.667,y:1},s:[110,110,100],t:7},{s:[100,100,100],t:15}],ix:6},sk:{a:0,k:0},p:{a:0,k:[350,342,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-18.346,-12.541],[-12.224,.931],[-9.617,-20.034],[-11.052,-5.305],[1.689,-22.159],[-6.919,-10.121],[12.541,-18.346],[-.931,-12.224],[20.034,-9.617],[5.305,-11.052],[22.159,1.689],[10.121,-6.919],[18.346,12.541],[12.224,-.931],[9.617,20.034],[11.052,5.305],[-1.689,22.159],[6.919,10.121],[-12.541,18.346],[.931,12.224],[-20.034,9.617],[-5.305,11.052],[-22.159,-1.689],[-10.121,6.919]],o:[[10.121,6.919],[22.159,-1.689],[5.305,11.052],[20.034,9.617],[-.931,12.224],[12.541,18.346],[-6.919,10.121],[1.689,22.159],[-11.052,5.305],[-9.617,20.034],[-12.224,-.931],[-18.346,12.541],[-10.121,-6.919],[-22.159,1.689],[-5.305,-11.052],[-20.034,-9.617],[.931,-12.224],[-12.541,-18.346],[6.919,-10.121],[-1.689,-22.159],[11.052,-5.305],[9.617,-20.034],[12.224,.931],[18.346,-12.541]],v:[[30.426,-182.594],[64.947,-173.344],[117.647,-142.918],[142.918,-117.647],[173.344,-64.947],[182.594,-30.426],[182.594,30.426],[173.344,64.947],[142.918,117.647],[117.647,142.918],[64.947,173.344],[30.426,182.594],[-30.426,182.594],[-64.947,173.344],[-117.647,142.918],[-142.918,117.647],[-173.344,64.947],[-182.594,30.426],[-182.594,-30.426],[-173.344,-64.947],[-142.918,-117.647],[-117.647,-142.918],[-64.947,-173.344],[-30.426,-182.594]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[1,.7059,.1922],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[195.385,195.385],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:5},{ty:4,nm:"Layer 7 Outlines",sr:1,st:0,op:61,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[144.25,20.25,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[310,386,0],ix:2},r:{a:1,k:[{o:{x:.925,y:0},i:{x:.865,y:.826},s:[117],t:3},{o:{x:.215,y:-3.017},i:{x:.509,y:1},s:[-10],t:17},{s:[0],t:29}],ix:10},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[0],t:3},{s:[100],t:29}],ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[8,-108],[-96,68],[-40,60],[-8,108],[96,-68]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.8706,.3333,.251],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[96.25,108.25],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:6},{ty:4,nm:"Layer 8 Outlines",sr:1,st:0,op:61,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[42.25,20.25,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[384,386,0],ix:2},r:{a:1,k:[{o:{x:.925,y:0},i:{x:.865,y:.826},s:[-115],t:3},{o:{x:.215,y:-2.965},i:{x:.509,y:1},s:[10],t:17},{s:[0],t:29}],ix:10},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[0],t:3},{s:[100],t:29}],ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[-8,-108],[96,68],[40,60],[8,108],[-96,-68]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.8706,.3333,.251],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[96.25,108.25],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:7},{ty:0,nm:"crackers",sr:1,st:9,op:39,ip:9,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[500,500,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[350,350,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],w:1e3,h:1e3,refId:"comp_0",ind:8}],qk="5.7.4",Fk=30,Hk=60,Ok=0,Dk=[{nm:"",id:"comp_0",layers:[{ty:4,nm:"Layer 20 Outlines",sr:1,st:0,op:30,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[257.117,257.118,0],ix:1},s:{a:1,k:[{o:{x:.823,y:0},i:{x:.079,y:1},s:[0,0,100],t:0},{s:[174,174,100],t:28}],ix:6},sk:{a:0,k:0},p:{a:0,k:[500,500,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.333,y:0},i:{x:0,y:1},s:[0],t:0},{o:{x:.333,y:0},i:{x:.667,y:1},s:[50],t:10},{s:[0],t:23}],ix:11}},ef:[{ty:21,mn:"ADBE Fill",nm:"Fill",ix:1,en:1,ef:[{ty:10,mn:"ADBE Fill-0001",nm:"Fill Mask",ix:1,v:{a:0,k:0,ix:1}},{ty:7,mn:"ADBE Fill-0007",nm:"All Masks",ix:2,v:{a:0,k:0,ix:2}},{ty:2,mn:"ADBE Fill-0002",nm:"Color",ix:3,v:{a:0,k:[1,0,0],ix:3}},{ty:7,mn:"ADBE Fill-0006",nm:"Invert",ix:4,v:{a:0,k:0,ix:4}},{ty:0,mn:"ADBE Fill-0003",nm:"Horizontal Feather",ix:5,v:{a:0,k:0,ix:5}},{ty:0,mn:"ADBE Fill-0004",nm:"Vertical Feather",ix:6,v:{a:0,k:0,ix:6}},{ty:0,mn:"ADBE Fill-0005",nm:"Opacity",ix:7,v:{a:0,k:1,ix:7}}]}],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,-100.581],[100.581,0],[0,100.581],[-100.58,0]],o:[[0,100.581],[-100.58,0],[0,-100.581],[100.581,0]],v:[[182.117,0],[-.001,182.118],[-182.117,0],[-.001,-182.118]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:5,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[257.117,257.118],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:1},{ty:4,nm:"Layer 5 Outlines",sr:1,st:0,op:30,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[335.642,330.771,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[500,505.182,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[{ty:21,mn:"ADBE Fill",nm:"Fill",ix:1,en:1,ef:[{ty:10,mn:"ADBE Fill-0001",nm:"Fill Mask",ix:1,v:{a:0,k:0,ix:1}},{ty:7,mn:"ADBE Fill-0007",nm:"All Masks",ix:2,v:{a:0,k:0,ix:2}},{ty:2,mn:"ADBE Fill-0002",nm:"Color",ix:3,v:{a:0,k:[1,.6627,.102],ix:3}},{ty:7,mn:"ADBE Fill-0006",nm:"Invert",ix:4,v:{a:0,k:0,ix:4}},{ty:0,mn:"ADBE Fill-0003",nm:"Horizontal Feather",ix:5,v:{a:0,k:0,ix:5}},{ty:0,mn:"ADBE Fill-0004",nm:"Vertical Feather",ix:6,v:{a:0,k:0,ix:6}},{ty:0,mn:"ADBE Fill-0005",nm:"Opacity",ix:7,v:{a:0,k:1,ix:7}}]}],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[335.642,15],[335.642,325.588]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[0,0],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 2",ix:2,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-99.821,-118.962],[99.821,118.962]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[226.179,210.135],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 3",ix:3,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-152.935,-26.966],[152.935,26.966]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[167.935,311.017],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 4",ix:4,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-134.488,77.647],[134.488,-77.647]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[188.163,425.735],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 5",ix:5,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-53.114,145.928],[53.113,-145.928]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[277.398,500.613],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 6",ix:6,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[53.113,145.928],[-53.113,-145.928]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[393.886,500.613],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 7",ix:7,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[134.488,77.647],[-134.488,-77.647]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[483.121,425.735],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 8",ix:8,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[152.935,-26.966],[-152.935,26.966]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[503.349,311.017],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 9",ix:9,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[99.821,-118.962],[-99.821,118.962]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[445.105,210.135],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"tm",bm:0,hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:10,e:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[100],t:7},{s:[0],t:25}],ix:2},o:{a:0,k:0,ix:3},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[100],t:0},{s:[0],t:20}],ix:1},m:1}],ind:2},{ty:4,nm:"Layer 5 Outlines 2",sr:1,st:2,op:32,ip:2,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[335.642,330.771,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[500,505.182,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[{ty:21,mn:"ADBE Fill",nm:"Fill",ix:1,en:1,ef:[{ty:10,mn:"ADBE Fill-0001",nm:"Fill Mask",ix:1,v:{a:0,k:0,ix:1}},{ty:7,mn:"ADBE Fill-0007",nm:"All Masks",ix:2,v:{a:0,k:0,ix:2}},{ty:2,mn:"ADBE Fill-0002",nm:"Color",ix:3,v:{a:0,k:[.9647,1,0],ix:3}},{ty:7,mn:"ADBE Fill-0006",nm:"Invert",ix:4,v:{a:0,k:0,ix:4}},{ty:0,mn:"ADBE Fill-0003",nm:"Horizontal Feather",ix:5,v:{a:0,k:0,ix:5}},{ty:0,mn:"ADBE Fill-0004",nm:"Vertical Feather",ix:6,v:{a:0,k:0,ix:6}},{ty:0,mn:"ADBE Fill-0005",nm:"Opacity",ix:7,v:{a:0,k:1,ix:7}}]}],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[335.642,15],[335.642,325.588]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[0,0],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 2",ix:2,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-99.821,-118.962],[99.821,118.962]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[226.179,210.135],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 3",ix:3,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-152.935,-26.966],[152.935,26.966]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[167.935,311.017],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 4",ix:4,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-134.488,77.647],[134.488,-77.647]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[188.163,425.735],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 5",ix:5,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-53.114,145.928],[53.113,-145.928]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[277.398,500.613],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 6",ix:6,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[53.113,145.928],[-53.113,-145.928]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[393.886,500.613],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 7",ix:7,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[134.488,77.647],[-134.488,-77.647]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[483.121,425.735],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 8",ix:8,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[152.935,-26.966],[-152.935,26.966]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[503.349,311.017],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 9",ix:9,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[99.821,-118.962],[-99.821,118.962]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[445.105,210.135],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"tm",bm:0,hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:10,e:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[100],t:9},{s:[0],t:27}],ix:2},o:{a:0,k:0,ix:3},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[100],t:2},{s:[0],t:22}],ix:1},m:1}],ind:3}]}],Wk={nm:Bk,ddd:Ek,h:Pk,w:Mk,meta:Lk,layers:Rk,v:qk,fr:Fk,op:Hk,ip:Ok,assets:Dk},Vk="5.5.7",Gk={g:"LottieFiles AE 0.1.20",a:"",k:"",d:"",tc:""},Uk=29.9700012207031,Kk=0,Jk=30.0000012219251,Yk=240,Xk=120,Zk="spot_celebration",eS=0,tS=[],nS=[{ddd:0,ind:1,ty:4,nm:"hand-1 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.389,y:0},t:0,s:[110.657,60.209,0],to:[.724,0,0],ti:[0,0,0]},{i:{x:.623,y:1},o:{x:.167,y:.167},t:2.024,s:[115,60.209,0],to:[0,0,0],ti:[.724,0,0]},{i:{x:0,y:0},o:{x:.333,y:.333},t:4.048,s:[110.657,60.209,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.333,y:0},t:6.476,s:[110.657,60.209,0],to:[.724,0,0],ti:[0,0,0]},{i:{x:.665,y:1},o:{x:.167,y:.167},t:8.5,s:[115,60.209,0],to:[0,0,0],ti:[.724,0,0]},{i:{x:0,y:0},o:{x:.333,y:.333},t:10.524,s:[110.657,60.209,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.333,y:0},t:12.953,s:[110.657,60.209,0],to:[.724,0,0],ti:[0,0,0]},{i:{x:.673,y:1},o:{x:.167,y:.167},t:14.976,s:[115,60.209,0],to:[0,0,0],ti:[.724,0,0]},{t:17.0000006924242,s:[110.657,60.209,0]}],ix:2},a:{a:0,k:[32.553,37.706,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.429,.24],[-2.884,5.153],[-.429,-.24],[2.885,-5.151]],o:[[-.43,-.24],[2.885,-5.151],[.429,.24],[-2.885,5.152]],v:[[-5.223,9.328],[-.777,-.436],[5.223,-9.328],[.777,.435]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9686274509803922,.7647058823529411,.2823529411764706,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[53.708,31.209],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.419,.258],[-4.27,6.936],[-.419,-.258],[4.269,-6.935]],o:[[-.419,-.258],[4.269,-6.936],[.419,.258],[-4.269,6.936]],v:[[-7.73,12.558],[-.758,-.467],[7.73,-12.558],[.758,.467]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9686274509803922,.7647058823529411,.2823529411764706,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[47.387,21.728],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.405,.279],[-4.573,6.65],[-.406,-.278],[4.572,-6.65]],o:[[-.405,-.279],[4.573,-6.65],[.405,.279],[-4.573,6.65]],v:[[-8.28,12.04],[-.735,-.506],[8.28,-12.042],[.734,.505]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9686274509803922,.7647058823529411,.2823529411764706,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[37.738,16.357],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-6.325,8.378],[-1.545,.86],[-1.401,-.707],[-.22,-1.281],[-2.303,-1.33],[1.017,-1.762],[-1.904,-1.099],[.438,-2.609],[0,0],[-1.884,-1.46],[.706,-2.636],[8.825,-14.156],[10.784,5.694],[-.367,10.607],[-2.949,2.041],[-.571,-3.589]],o:[[0,0],[6.324,-8.378],[1.545,-.86],[1.402,.706],[1.596,-1.939],[2.304,1.33],[0,0],[1.904,1.099],[-.459,2.736],[0,0],[1.945,1.507],[-.707,2.636],[-9.158,14.689],[-11.407,-6.023],[.346,-10.016],[2.841,-1.965],[.691,4.346]],v:[[-17.535,-7.632],[-6.74,-22.076],[6.333,-36.38],[10.971,-36.749],[13.465,-33.391],[20.363,-34.589],[22.563,-28.538],[26.479,-28.079],[28.655,-22.57],[26.377,-15.826],[30.358,-14.93],[30.987,-7.947],[16.788,21.879],[-17.294,31.762],[-31.936,3.014],[-23.617,-22.577],[-17.156,-17.087]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.984313725490196,.8588235294117647,.5490196078431373,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[32.553,37.706],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"hand-2 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.389,y:0},t:0,s:[129.637,60.209,0],to:[-.94,0,0],ti:[0,0,0]},{i:{x:.623,y:1},o:{x:.167,y:.167},t:2.024,s:[124,60.209,0],to:[0,0,0],ti:[-.94,0,0]},{i:{x:0,y:0},o:{x:.333,y:.333},t:4.048,s:[129.637,60.209,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.333,y:0},t:6.476,s:[129.637,60.209,0],to:[-.94,0,0],ti:[0,0,0]},{i:{x:.665,y:1},o:{x:.167,y:.167},t:8.5,s:[124,60.209,0],to:[0,0,0],ti:[-.94,0,0]},{i:{x:0,y:0},o:{x:.333,y:.333},t:10.524,s:[129.637,60.209,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.333,y:0},t:12.953,s:[129.637,60.209,0],to:[-.94,0,0],ti:[0,0,0]},{i:{x:.673,y:1},o:{x:.167,y:.167},t:14.976,s:[124,60.209,0],to:[0,0,0],ti:[-.94,0,0]},{t:17.0000006924242,s:[129.637,60.209,0]}],ix:2},a:{a:0,k:[32.553,37.706,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-6.324,8.378],[-1.545,.86],[-1.402,-.707],[-.22,-1.281],[-2.303,-1.33],[1.017,-1.762],[-1.905,-1.099],[.438,-2.609],[0,0],[-1.884,-1.46],[.707,-2.636],[8.826,-14.156],[10.784,5.694],[-.366,10.607],[-2.949,2.041],[-.571,-3.589]],o:[[0,0],[6.325,-8.378],[1.545,-.86],[1.401,.706],[1.596,-1.939],[2.304,1.33],[0,0],[1.904,1.099],[-.459,2.736],[0,0],[1.945,1.507],[-.706,2.636],[-9.157,14.689],[-11.407,-6.023],[.347,-10.016],[2.841,-1.965],[.692,4.346]],v:[[-17.535,-7.632],[-6.742,-22.076],[6.333,-36.38],[10.971,-36.749],[13.464,-33.391],[20.363,-34.589],[22.563,-28.538],[26.479,-28.079],[28.655,-22.57],[26.377,-15.826],[30.358,-14.93],[30.986,-7.947],[16.786,21.879],[-17.294,31.762],[-31.938,3.014],[-23.617,-22.577],[-17.158,-17.087]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9764705882352941,.807843137254902,.3843137254901961,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[32.553,37.706],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"particle-8 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:6.4,s:[100]},{t:22.4000009123707,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.138,y:1},o:{x:.167,y:.167},t:0,s:[161.579,70.143,0],to:[2.5,.542,0],ti:[-2.5,-.542,0]},{t:17.0000006924242,s:[176.579,73.393,0]}],ix:2},a:{a:0,k:[4.076,4.076,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.789,-1.677],[-1.677,-.789],[-.788,1.678],[1.677,.789]],o:[[-.789,1.677],[1.678,.789],[.789,-1.677],[-1.677,-.788]],v:[[-3.036,-1.428],[-1.429,3.036],[3.036,1.428],[1.428,-3.038]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.25882352941176473,.5843137254901961,.9764705882352941,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[4.076,4.076],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"particle-7 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:6.4,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:13,s:[100]},{t:24.00000097754,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.212,y:1},o:{x:.167,y:.167},t:4.8,s:[173.53,67.136,0],to:[5.854,-.5,0],ti:[-5.854,.5,0]},{t:20.0000008146167,s:[208.655,64.136,0]}],ix:2},a:{a:0,k:[5.942,5.942,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.505,-2.865],[-2.864,-.506],[-.505,2.865],[2.864,.505]],o:[[-.505,2.865],[2.865,.505],[.505,-2.864],[-2.865,-.505]],v:[[-5.187,-.915],[-.915,5.187],[5.187,.914],[.915,-5.187]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.43529411764705883,.7098039215686275,.984313725490196,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[5.942,5.942],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"particle-6 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:6.4,s:[100]},{t:22.4000009123707,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.138,y:1},o:{x:.167,y:.167},t:0,s:[168.108,53.605,0],to:[4.583,-.875,0],ti:[-4.583,.875,0]},{t:17.0000006924242,s:[195.608,48.355,0]}],ix:2},a:{a:0,k:[4.804,4.804,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.404,-2.292],[-2.292,-.404],[-.404,2.292],[2.292,.404]],o:[[-.404,2.292],[2.291,.404],[.404,-2.291],[-2.292,-.404]],v:[[-4.149,-.732],[-.731,4.15],[4.15,.732],[.732,-4.15]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.32941176470588235,.6431372549019608,.984313725490196,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[4.803,4.804],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:6,ty:4,nm:"particle-5 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:6.4,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:13,s:[100]},{t:24.00000097754,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.212,y:1},o:{x:.167,y:.167},t:4.8,s:[163.17,58.428,0],to:[2.771,-.562,0],ti:[-2.771,.562,0]},{t:20.0000008146167,s:[179.795,55.053,0]}],ix:2},a:{a:0,k:[2.982,2.982,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.242,-1.375],[-1.375,-.242],[-.242,1.375],[1.375,.243]],o:[[-.243,1.375],[1.375,.243],[.243,-1.375],[-1.376,-.242]],v:[[-2.49,-.439],[-.439,2.489],[2.49,.439],[.439,-2.49]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.5882352941176471,.792156862745098,.9921568627450981,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[2.982,2.982],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"particle-4 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:6.4,s:[100]},{t:22.4000009123707,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.138,y:1},o:{x:.167,y:.167},t:0,s:[73.269,64.839,0],to:[-4.458,.625,0],ti:[4.458,-.625,0]},{t:17.0000006924242,s:[46.519,68.589,0]}],ix:2},a:{a:0,k:[3.164,3.163,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.601,-1.278],[-1.277,-.601],[-.601,1.277],[1.277,.6]],o:[[-.601,1.277],[1.278,.6],[.601,-1.278],[-1.278,-.601]],v:[[-2.313,-1.088],[-1.088,2.313],[2.313,1.089],[1.088,-2.312]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.5882352941176471,.792156862745098,.9921568627450981,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[3.164,3.164],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:8,ty:4,nm:"particle-3 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:6.4,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:13,s:[100]},{t:24.00000097754,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.212,y:1},o:{x:.167,y:.167},t:4.8,s:[75.582,55.3,0],to:[-2.375,-.333,0],ti:[2.375,.333,0]},{t:20.0000008146167,s:[61.332,53.3,0]}],ix:2},a:{a:0,k:[4.016,4.015,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[1.497,1.055],[1.055,-1.497],[-1.497,-1.056],[-1.055,1.497]],o:[[-1.497,-1.055],[-1.056,1.497],[1.497,1.055],[1.056,-1.496]],v:[[1.911,-2.711],[-2.71,-1.911],[-1.911,2.71],[2.71,1.91]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.43529411764705883,.7098039215686275,.984313725490196,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[4.016,4.015],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:9,ty:4,nm:"particle-2 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:6.4,s:[100]},{t:22.4000009123707,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.138,y:1},o:{x:.167,y:.167},t:0,s:[73.293,48.233,0],to:[-3.708,-.958,0],ti:[3.708,.958,0]},{t:17.0000006924242,s:[51.043,42.483,0]}],ix:2},a:{a:0,k:[5.368,5.368,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[2.197,-1.138],[1.138,2.197],[-2.198,1.139],[-1.138,-2.198]],o:[[-2.197,1.139],[-1.139,-2.198],[2.197,-1.138],[1.139,2.197]],v:[[2.062,3.979],[-3.979,2.061],[-2.062,-3.98],[3.979,-2.062]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.32941176470588235,.6431372549019608,.984313725490196,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[5.368,5.368],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:10,ty:4,nm:"particle-1 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:6.4,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:13,s:[100]},{t:24.00000097754,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.212,y:1},o:{x:.167,y:.167},t:4.8,s:[62.37,58.549,0],to:[-5.25,-.25,0],ti:[5.25,.25,0]},{t:20.0000008146167,s:[30.87,57.049,0]}],ix:2},a:{a:0,k:[4.349,4.348,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.364,-2.063],[-2.062,-.364],[-.364,2.062],[2.063,.364]],o:[[-.364,2.063],[2.063,.364],[.364,-2.063],[-2.062,-.364]],v:[[-3.734,-.659],[-.659,3.734],[3.734,.658],[.659,-3.734]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.25882352941176473,.5843137254901961,.9764705882352941,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[4.348,4.348],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0}],sS=[],oS={v:Vk,meta:Gk,fr:Uk,ip:Kk,op:Jk,w:Yk,h:Xk,nm:Zk,ddd:eS,assets:tS,layers:nS,markers:sS};function ds(){const t={loop:!0,autoplay:!0,animationData:Bi,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return e.jsx(e.Fragment,{children:e.jsx(bn,{isClickToPauseDisabled:!0,options:t,height:40,width:40})})}function iS(){const t={loop:!0,autoplay:!0,animationData:Bi,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return e.jsx(e.Fragment,{children:e.jsx(bn,{isClickToPauseDisabled:!0,options:t,height:200,width:200})})}function rS(){const t={loop:!0,autoplay:!0,animationData:Ik,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return e.jsx(e.Fragment,{children:e.jsx(bn,{isClickToPauseDisabled:!0,options:t,height:40,width:50})})}function aS({width:t,height:i}){const n={loop:!1,autoplay:!0,animationData:Wk,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return e.jsx(e.Fragment,{children:e.jsx(bn,{isClickToPauseDisabled:!0,options:n,width:t,height:i})})}function cS({width:t,height:i}){const n={loop:!1,autoplay:!0,animationData:oS,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return e.jsx(e.Fragment,{children:e.jsx(bn,{isClickToPauseDisabled:!0,options:n,width:t,height:i})})}function yo(){const[t,i]=c.useState(""),n="기기의 마이크 사용이 차단되었습니다. 해제 후 다시 사용해 주세요.";return c.useEffect(()=>{(async()=>{try{const a=await navigator.permissions.query({name:"microphone"});i(a.state),a.onchange=()=>{i(a.state)}}catch(a){console.error("마이크 권한을 확인할 수 없습니다.",a)}})()},[]),{micPermission:t,alertMessage:n}}const uS=new A(navigator.userAgent),lS=uS.phone(),ei=lS?Ne:Ae;function dS({playState:t,cardInfo:i,playWord:n}){return e.jsxs("div",{className:ei.wordPlayButton,onClick:()=>n(),children:[t===""?e.jsx(Re,{isColor:!0,width:24,height:24}):e.jsx(qe,{isColor:!0,width:24,height:24}),e.jsx("div",{className:ei.txtL,children:i.Question.Text})]})}const mS=new A(navigator.userAgent),xS=mS.phone(),tt=xS?Ne:Ae;function hS({sentenceScore:t,changePlayBarState:i}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:tt.speakResultVoca1,children:[e.jsx("div",{className:tt.container,children:t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:tt.wordText,children:t.best_answer}),e.jsx("div",{className:tt.phonemes,children:t.phoneme_result.words.map(n=>e.jsx(e.Fragment,{children:n.phonemes.map(s=>e.jsxs("div",{className:tt.phonemeItem,children:[e.jsx("div",{className:`${tt.phoneme} 
                        ${s.score<30&&tt.red}
                        ${s.score>=30&&s.score<70&&tt.orange}  
                        ${s.score>=70&&tt.green}  
                        `,children:s.phoneme}),e.jsxs("div",{className:tt.phonemeScore,children:[Math.floor(s.score),"%"]})]}))}))})]})}),t&&t.total_score>=40?e.jsxs("div",{className:`${tt.signBox} ${tt.goodJob}`,onClick:()=>i(""),children:[e.jsx("div",{className:tt.txt,children:"Good Job"}),e.jsx("div",{className:tt.iconArrow})]}):e.jsxs("div",{className:`${tt.signBox} ${tt.tryAgain}`,onClick:()=>i(""),children:[e.jsx("div",{className:tt.txt,children:"Try Again"}),e.jsx("div",{className:tt.iconArrow})]})]})})}const _S=new A(navigator.userAgent),pS=_S.phone(),sn=pS?Ne:Ae;function gS({isSpeakResult:t,playState:i,playBarState:n,cardInfo:s,sentenceScore:a,playWord:u,startRecord:l,changePlayBarState:r}){const x=yo();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`${sn.wordCard} animate__animated`,children:[e.jsx("div",{className:sn.wordImage,children:e.jsx("img",{src:s.Question.Image,width:"100%"})}),n==="recording"&&!t&&e.jsx("div",{className:sn.screenBlock}),e.jsxs("div",{className:sn.wordText,children:[e.jsx(dS,{playState:i,cardInfo:s,playWord:u}),e.jsx("div",{className:sn.btnRec,onClick:()=>{x.micPermission==="denied"?alert(x.alertMessage):l()},children:n==="recording"?e.jsx(ds,{}):e.jsx("div",{className:sn.recIcon})})]})]}),t&&e.jsx(hS,{sentenceScore:a,changePlayBarState:r})]})}const yS=new A(navigator.userAgent),fS=yS.phone(),ks=fS?Ne:Ae;function bS({isLastPage:t,quizNo:i,totalQuizCnt:n,changeQuizNo:s}){return e.jsxs("div",{className:ks.indicator,children:[e.jsx("span",{style:t||i>1?{opacity:"1"}:{opacity:".2"},onClick:()=>s(i-1),children:e.jsx("div",{className:ks.iconChevLeft})}),e.jsxs("span",{children:[i," / ",n]}),e.jsx("span",{onClick:()=>s(i+1),children:e.jsx("div",{className:ks.iconChevRight})})]})}const kS=new A(navigator.userAgent),SS=kS.phone(),wS=SS?Ne:Ae;function vS({goTest:t}){return e.jsx("div",{className:`${wS.btnNext} animate__animated animate__flash`,onClick:()=>t(),children:"Next"})}const Ss="Vocabulary Practice",jS=new A(navigator.userAgent),zS=jS.phone(),ws=zS?Ne:Ae;function $S(t){const{t:i}=he(),{studyInfo:n}=c.useContext(ie),s=t.currentStep,{startRecording:a}=go(),u=ve(()=>{window.onLogoutStudy()}),[l,r]=c.useState("animate__bounceInRight"),{isStepIntro:x,closeStepIntro:_}=we(),[b,f]=c.useState(!1),p=c.useRef(!0),{scoreBoardData:S}=ze(n.mode),[k,m]=je(Ai,t,s),[o,h]=c.useState(1),[d,g]=c.useState(!1),{playState:y,playAudio:w,stopAudio:v}=Le(),[R,z]=c.useState(""),[E,j]=c.useState(),[$,M]=c.useState(!1);if(c.useEffect(()=>{!x&&k&&(u.setup(k.QuizTime,!0),O(),p.current=!1)},[x]),c.useEffect(()=>{!x&&k&&(v(),o===k.Quiz.length&&g(!0),O())},[o]),c.useEffect(()=>{k&&y===""&&o===Object.keys(k.Quiz).length&&g(!0)},[y]),c.useEffect(()=>{!x&&!d&&h(1)},[d]),c.useEffect(()=>{E&&M(!0)},[E]),c.useEffect(()=>{R===""&&E&&k?(p.current=!1,j(void 0),M(!1),E.total_score>=40&&o+1<=Object.keys(k.Quiz).length&&F(o+1)):R==="reset"&&N("")},[R]),!k)return e.jsx("div",{children:"Loading..."});const F=D=>{v(),D<1?d&&h(Object.keys(k.Quiz).length):D>Object.keys(k.Quiz).length?h(1):h(D)},O=()=>{y===""&&R===""?w(k.Quiz[o-1].Question.Sound):v()},H=D=>{f(D)},W=()=>{v(),t.changeVocaState(!1)},q=()=>{p.current||(p.current=!0,v(),a(k.Quiz[o-1].Question.Text,k.Quiz[o-1].Question.Sound,N,B))},N=D=>{z(D)},B=D=>{j(D)};return e.jsx(e.Fragment,{children:x?e.jsx("div",{className:`animate__animated ${l}`,onAnimationEnd:()=>{l==="animate__bounceOutLeft"&&_()},children:e.jsx(Me,{step:s,quizType:Ss,comment:i("study.카드를 넘기면서 단어를 학습하세요."),onStepIntroClozeHandler:()=>{r("animate__bounceOutLeft")}})}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:o,totalQuizCnt:Object.keys(k.Quiz).length,life:k.QuizAnswerCount,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:H}),e.jsx("div",{className:`${ws.comment} animate__animated animate__fadeInLeft`,children:Ss}),e.jsx(Qe,{children:e.jsxs(Be,{typeCSS:ws.vocabularyPractice1,containerCSS:ws.container,children:[e.jsx(gS,{isSpeakResult:$,playState:y,playBarState:R,cardInfo:k.Quiz[o-1],sentenceScore:E,playWord:O,startRecord:q,changePlayBarState:N}),e.jsx(bS,{isLastPage:d,quizNo:o,totalQuizCnt:k.Quiz.length,changeQuizNo:F}),e.jsx(e.Fragment,{children:d&&e.jsx(vS,{goTest:W})})]})}),b&&e.jsx(Ce,{isSideOpen:b,currentStep:s,currentStepType:Ss,quizLength:k.Quiz.length,maxAnswerCount:k.QuizAnswerCount,changeSideMenu:H,scoreBoardData:S,changeStep:t.changeStep})]})})}const CS="_comment_1vzk9_1",QS="_wordPlayButton_1vzk9_20",AS="_txtL_1vzk9_35",NS="_cardNumber_1vzk9_46",TS="_hintButton_1vzk9_61",IS="_hintPopup_1vzk9_84",BS="_screenBlock_1vzk9_121",ES="_testReview_1vzk9_131",PS="_title_1vzk9_134",MS="_container_1vzk9_139",LS="_sentence_1vzk9_148",RS="_nextButton_1vzk9_158",qS="_deactNextButton_1vzk9_180",FS="_reviewAnswer_1vzk9_206",HS="_currentOrder_1vzk9_217",OS="_blink_1vzk9_1",DS="_currentInput_1vzk9_238",WS="_otherInput_1vzk9_239",VS="_enterButton_1vzk9_246",GS="_hintText_1vzk9_272",US="_correctAnswer_1vzk9_280",KS="_overLength_1vzk9_295",JS="_vocabularyTest1_1vzk9_299",YS="_questionBox_1vzk9_304",XS="_wordImage_1vzk9_320",ZS="_wordText_1vzk9_329",ew="_textCard_1vzk9_335",tw="_correct_1vzk9_280",nw="_incorrect_1vzk9_375",sw="_awnserText_1vzk9_384",ow="_answers_1vzk9_388",iw="_vocabularyTest2_1vzk9_395",rw="_blank_1vzk9_442",aw="_vocabularyTest3_1vzk9_526",cw="_wordCard_1vzk9_539",uw="_wordTyping_1vzk9_539",lw="_textField_1vzk9_543",dw="_inputField_1vzk9_551",mw="_count_1vzk9_608",xw="_enterIcon_1vzk9_630",hw="_meaning_1vzk9_640",_w="_txtP_1vzk9_648",pw="_vocabularyTest4_1vzk9_654",Oe={comment:CS,wordPlayButton:QS,txtL:AS,cardNumber:NS,hintButton:TS,hintPopup:IS,screenBlock:BS,testReview:ES,title:PS,container:MS,sentence:LS,nextButton:RS,deactNextButton:qS,reviewAnswer:FS,currentOrder:HS,blink:OS,currentInput:DS,otherInput:WS,enterButton:VS,hintText:GS,correctAnswer:US,overLength:KS,vocabularyTest1:JS,questionBox:YS,wordImage:XS,wordText:ZS,textCard:ew,correct:tw,incorrect:nw,awnserText:sw,answers:ow,vocabularyTest2:iw,blank:rw,vocabularyTest3:aw,wordCard:cw,wordTyping:uw,textField:lw,inputField:dw,count:mw,enterIcon:xw,meaning:hw,txtP:_w,vocabularyTest4:pw},gw="_comment_13cyr_1",yw="_wordPlayButton_13cyr_20",fw="_txtL_13cyr_35",bw="_cardNumber_13cyr_47",kw="_hintButton_13cyr_62",Sw="_hintPopup_13cyr_85",ww="_screenBlock_13cyr_122",vw="_testReview_13cyr_132",jw="_title_13cyr_132",zw="_container_13cyr_137",$w="_sentence_13cyr_146",Cw="_nextButton_13cyr_155",Qw="_deactNextButton_13cyr_177",Aw="_reviewAnswer_13cyr_198",Nw="_currentOrder_13cyr_209",Tw="_blink_13cyr_1",Iw="_currentInput_13cyr_230",Bw="_otherInput_13cyr_231",Ew="_enterButton_13cyr_238",Pw="_hintText_13cyr_264",Mw="_correctAnswer_13cyr_272",Lw="_overLength_13cyr_287",Rw="_vocabularyTest1_13cyr_291",qw="_questionBox_13cyr_296",Fw="_wordImage_13cyr_311",Hw="_wordText_13cyr_320",Ow="_textCard_13cyr_326",Dw="_correct_13cyr_272",Ww="_incorrect_13cyr_360",Vw="_awnserText_13cyr_369",Gw="_answers_13cyr_373",Uw="_vocabularyTest2_13cyr_380",Kw="_blank_13cyr_426",Jw="_vocabularyTest3_13cyr_505",Yw="_wordCard_13cyr_518",Xw="_wordTyping_13cyr_521",Zw="_textField_13cyr_525",e2="_inputField_13cyr_533",t2="_count_13cyr_590",n2="_enterIcon_13cyr_612",s2="_meaning_13cyr_622",o2="_txtP_13cyr_631",i2="_vocabularyTest4_13cyr_637",De={comment:gw,wordPlayButton:yw,txtL:fw,cardNumber:bw,hintButton:kw,hintPopup:Sw,screenBlock:ww,testReview:vw,title:jw,container:zw,sentence:$w,nextButton:Cw,deactNextButton:Qw,reviewAnswer:Aw,currentOrder:Nw,blink:Tw,currentInput:Iw,otherInput:Bw,enterButton:Ew,hintText:Pw,correctAnswer:Mw,overLength:Lw,vocabularyTest1:Rw,questionBox:qw,wordImage:Fw,wordText:Hw,textCard:Ow,correct:Dw,incorrect:Ww,awnserText:Vw,answers:Gw,vocabularyTest2:Uw,blank:Kw,vocabularyTest3:Jw,wordCard:Yw,wordTyping:Xw,textField:Zw,inputField:e2,count:t2,enterIcon:n2,meaning:s2,txtP:o2,vocabularyTest4:i2},r2=new A(navigator.userAgent),a2=r2.phone(),ti=a2?De:Oe;function c2({img:t}){return e.jsx("div",{className:ti.questionBox,children:e.jsx("div",{className:ti.wordImage,children:e.jsx("img",{src:t,width:"100%"})})})}const u2=new A(navigator.userAgent),l2=u2.phone(),Un=l2?De:Oe;function d2({index:t,text:i,correctText:n,checkAnswer:s,onAnimationEndHandler:a}){const{bookInfo:u,studyInfo:l}=c.useContext(ie);return e.jsxs("div",{className:`${Un.textCard} 
      ${l.mode==="Review"&&Number(u.Average)>=70&&i===n?Un.correct:""}
      animate__animated`,onClick:r=>s(r.currentTarget,i),onAnimationEnd:r=>a(r),children:[e.jsx("div",{className:Un.cardNumber,children:t}),e.jsx("div",{className:Un.awnserText,children:i})]})}const m2=new A(navigator.userAgent),x2=m2.phone(),h2=x2?De:Oe;function _2({exampleData:t,correctText:i,checkAnswer:n,onAnimationEndHandler:s}){return e.jsx("div",{className:h2.answers,children:t.map((a,u)=>e.jsx(d2,{index:u+1,text:a.Text,correctText:i,checkAnswer:n,onAnimationEndHandler:s}))})}const p2=new A(navigator.userAgent),ao=p2.phone(),Kn="Vocabulary Test",At=ao?De:Oe;function g2(t){const{t:i}=he(),{handler:n,studyInfo:s}=c.useContext(ie),a=t.currentStep,u=ve(()=>{B(void 0)}),l=lt(),[r,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:b}=we(),{isResultShow:f,changeResultShow:p}=He(),[S,k]=c.useState(!1),m=c.useRef(!1),[o,h]=je(nk,t,a),[d,g]=c.useState(1),{scoreBoardData:y,setStudentAnswers:w,addStudentAnswer:v,makeUserAnswerData:R}=ze(s.mode),[z,E]=c.useState([]),[j,$]=c.useState(0),[M,F]=c.useState(0),{bottomPopupState:O,changeBottomPopupState:H}=Xe(),{playAudio:W}=Le(),q=c.useRef(null),N=c.useRef(null);if(c.useEffect(()=>{!_&&o&&(u.setup(o.QuizTime,!0),q.current&&N.current&&(u.setup(o.QuizTime,!0),l.remove(q.current,["animate__fadeInRight"]),l.remove(N.current,["animate__fadeInRight"])),m.current=!1)},[_]),c.useEffect(()=>{if(o)try{const[I,Q]=ct(s.mode,h,o.QuizAnswerCount);$(Q),F(Q),s.mode==="Super"?E(o.Quiz[I-1].Examples):E(_e.shuffle(o.Quiz[I-1].Examples)),w(h,o.QuizAnswerCount),g(I)}catch(I){console.error(I)}},[o]),c.useEffect(()=>{!_&&!f&&o&&(u.setup(o.QuizTime,!0),q.current&&N.current&&(l.play(q.current,["animate__fadeInRight"]),l.play(N.current,["animate__fadeInRight"])),$(0),F(0),s.mode==="Super"?E(o.Quiz[d-1].Examples):E(_e.shuffle(o.Quiz[d-1].Examples)),setTimeout(()=>{q.current&&N.current&&(u.setup(o.QuizTime,!0),l.remove(q.current,["animate__fadeInRight"]),l.remove(N.current,["animate__fadeInRight"])),m.current=!1},1e3))},[d]),!o)return e.jsx(e.Fragment,{children:"Loading..."});const B=async(I=void 0,Q="quiz time over")=>{try{if(!m.current){m.current=!0;const T=o.Quiz[d-1].Question.Text===Q,L={quizNo:d,maxCount:o.QuizAnswerCount,answerCount:j+1,ox:T},Y=R({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:a,quizId:o.Quiz[d-1].QuizId,quizNo:o.Quiz[d-1].QuizNo,currentQuizNo:d,correct:o.Quiz[d-1].Question.Text,selectedAnswer:Q,tryCount:j+1,maxQuizCount:o.QuizAnswerCount,quizLength:o.Quiz.length,isCorrect:T,answerData:L,isFinishStudy:t.lastStep===a});u.stop();const te=await Te(s.mode,Y);Number(te.result)===0&&(te.resultMessage&&(n.finishStudy={id:Number(te.result),cause:te.resultMessage}),T||F(M+1),$(j+1),v(L),D(I,T,j+1))}}catch(T){console.error(T)}},D=(I,Q,T)=>{u.stop(),H({isActive:!0,isCorrect:Q}),I?Q?l.play(I,["animate__fadeIn",At.correct]):l.play(I,["animate__headShake",At.incorrect]):G(T)},K=I=>{const Q=I.currentTarget;setTimeout(()=>{if(H({isActive:!1,isCorrect:!1}),!!l.isContain(Q,"animate__fadeIn")){const L=()=>{l.remove(Q,["animate__fadeIn",At.correct]),d+1>o.Quiz.length?p(!0):g(d+1)};W(o.Quiz[d-1].Question.Sound,L)}else if(j>=o.QuizAnswerCount)if(d+1>o.Quiz.length){const L=()=>{l.remove(Q,["animate__headShake",At.incorrect]),p(!0)};W(o.Quiz[d-1].Question.Sound,L)}else{const L=()=>{l.remove(Q,["animate__headShake",At.incorrect]),g(d+1)};W(o.Quiz[d-1].Question.Sound,L)}else l.remove(Q,["animate__headShake",At.incorrect]),u.setup(o.QuizTime,!0),m.current=!1},1500)},G=I=>{setTimeout(()=>{if(H({isActive:!1,isCorrect:!1}),I>=o.QuizAnswerCount)if(d+1>o.Quiz.length){const Q=()=>{p(!0)};W(o.Quiz[d-1].Question.Sound,Q)}else{const Q=()=>{g(d+1)};W(o.Quiz[d-1].Question.Sound,Q)}else u.setup(o.QuizTime,!0),m.current=!1},1e3)},V=I=>{k(I)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${r}`,onAnimationEnd:()=>{r==="animate__bounceOutLeft"&&b()},children:e.jsx(Me,{step:a,quizType:Kn,comment:i("study.그림을 보고 알맞은 단어를 고르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(e.Fragment,{children:e.jsx(it,{step:a,quizType:Kn,quizAnswerCount:o.QuizAnswerCount,studentAnswer:y,onFinishActivity:t.onFinishActivity})}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:d,totalQuizCnt:Object.keys(o.Quiz).length,life:o.QuizAnswerCount-M,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:V}),e.jsx("div",{className:`${At.comment} animate__animated animate__fadeInLeft`,children:Kn}),e.jsxs(Qe,{children:[ao?e.jsx(e.Fragment,{}):e.jsx(Z,{height:15}),e.jsxs(Be,{typeCSS:At.vocabularyTest1,containerCSS:At.container,children:[e.jsx(c2,{img:o.Quiz[d-1].Question.Image}),e.jsx(Z,{height:20}),e.jsx(_2,{exampleData:z,correctText:o.Quiz[d-1].Question.Text,checkAnswer:B,onAnimationEndHandler:K})]}),ao?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),S&&e.jsx(Ce,{isSideOpen:S,currentStep:a,currentStepType:Kn,quizLength:o.Quiz.length,maxAnswerCount:o.QuizAnswerCount,changeSideMenu:V,scoreBoardData:y,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:O})]})})})}const y2=new A(navigator.userAgent),f2=y2.phone(),ni=f2?Ne:Ae;function b2({multiPlayState:t,cardInfo:i,playWord:n}){return e.jsxs("div",{className:ni.wordPlayButton,onClick:()=>n(),children:[t.playState==="playing"&&t.playType==="word"?e.jsx(qe,{isColor:!0,width:24,height:24}):e.jsx(Re,{isColor:!0,width:24,height:24}),e.jsx("div",{className:ni.txtL,children:i.Question.Word})]})}const k2=new A(navigator.userAgent),S2=k2.phone(),si=S2?Ne:Ae;function w2({multiPlayState:t,cardInfo:i,playSentence:n}){return e.jsxs("div",{className:si.wordPlayButton,onClick:()=>n(),children:[t.playState==="playing"&&t.playType==="sentence"?e.jsx(qe,{isColor:!0,width:24,height:24}):e.jsx(Re,{isColor:!0,width:24,height:24}),e.jsx("div",{className:si.txtP,children:ln(i.Question.Text,i.Question.Word,()=>e.jsx("span",{style:{color:"#f15144"},children:i.Question.Word}))})]})}const v2=new A(navigator.userAgent),j2=v2.phone(),nt=j2?Ne:Ae;function z2({sentenceScore:t,changePlayBarState:i}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:nt.speakResultVoca2,children:[e.jsx("div",{className:nt.container,children:t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:nt.wordText,children:t.best_answer}),e.jsx("div",{className:nt.phonemes,children:t.phoneme_result.words.map(n=>e.jsx(e.Fragment,{children:n.phonemes.map(s=>e.jsxs("div",{className:nt.phonemeItem,children:[e.jsx("div",{className:`${nt.phoneme} 
                        ${s.score<30&&nt.red}
                        ${s.score>=30&&s.score<70&&nt.orange}  
                        ${s.score>=70&&nt.green}  
                        `,children:s.phoneme}),e.jsxs("div",{className:nt.phonemeScore,children:[Math.floor(s.score),"%"]})]}))}))})]})}),t&&t.total_score>=40?e.jsxs("div",{className:`${nt.signBox} ${nt.goodJob}`,onClick:()=>i(""),children:[e.jsx("div",{className:nt.txt,children:"Good Job"}),e.jsx("div",{className:nt.iconArrow})]}):e.jsxs("div",{className:`${nt.signBox} ${nt.tryAgain}`,onClick:()=>i(""),children:[e.jsx("div",{className:nt.txt,children:"Try Again"}),e.jsx("div",{className:nt.iconArrow})]})]})})}const $2=new A(navigator.userAgent),C2=$2.phone(),Bt=C2?Ne:Ae;function Q2({isSpeakResult:t,playBarState:i,cardInfo:n,multiPlayState:s,sentenceScore:a,playWord:u,startRecord:l,playSentence:r,changePlayBarState:x}){const _=yo();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`${Bt.wordCard} animate__animated animate__slideInRight`,children:[e.jsx("div",{className:Bt.wordImage,children:e.jsx("img",{src:n.Question.Image,width:"100%"})}),i==="recording"&&!t&&e.jsx("div",{className:Bt.screenBlock}),e.jsxs("div",{className:`${Bt.wordText} ${Bt.word}`,children:[e.jsx(b2,{multiPlayState:s,cardInfo:n,playWord:u}),e.jsx("div",{className:Bt.btnRec,onClick:()=>{_.micPermission==="denied"?alert(_.alertMessage):l()},children:i==="recording"?e.jsx(ds,{}):e.jsx("div",{className:Bt.recIcon})})]}),e.jsx("div",{className:Bt.wordText,children:e.jsx(w2,{multiPlayState:s,cardInfo:n,playSentence:r})})]}),t&&e.jsx(z2,{sentenceScore:a,changePlayBarState:x})]})}const A2=new A(navigator.userAgent),N2=A2.phone(),vs=N2?Ne:Ae;function T2({isLastPage:t,quizNo:i,totalQuizCnt:n,changeQuizNo:s}){return e.jsxs("div",{className:vs.indicator,children:[e.jsx("span",{style:t||i>1?{opacity:"1"}:{opacity:".2"},onClick:()=>s(i-1),children:e.jsx("div",{className:vs.iconChevLeft})}),e.jsxs("span",{children:[i," / ",n]}),e.jsx("span",{onClick:()=>s(i+1),children:e.jsx("div",{className:vs.iconChevRight})})]})}const I2=new A(navigator.userAgent),B2=I2.phone(),E2=B2?Ne:Ae;function P2({goTest:t}){return e.jsx("div",{className:`${E2.btnNext} animate__animated animate__flash`,onClick:()=>t(),children:"Next"})}const M2=new A(navigator.userAgent),L2=M2.phone(),js="Vocabulary Practice",zs=L2?Ne:Ae;function R2(t){const{t:i}=he(),{studyInfo:n}=c.useContext(ie),s=t.currentStep,{startRecording:a}=go(),u=ve(()=>{window.onLogoutStudy()}),[l,r]=c.useState("animate__bounceInRight"),{isStepIntro:x,closeStepIntro:_}=we(),[b,f]=c.useState(!1),p=c.useRef(!0),{scoreBoardData:S}=ze(n.mode),[k,m]=je(Ni,t,s),[o,h]=c.useState(1),[d,g]=c.useState(!1),{playAudio:y,stopAudio:w}=Le(),[v,R]=c.useState({playState:"",playType:""}),[z,E]=c.useState(""),[j,$]=c.useState(),[M,F]=c.useState(!1);if(c.useEffect(()=>{!x&&k&&(u.setup(k.QuizTime,!0),setTimeout(()=>{q()},500),p.current=!1)},[x]),c.useEffect(()=>{!x&&k&&(w(),o===k.Quiz.length&&g(!0),q())},[o]),c.useEffect(()=>{k&&v.playState===""&&o===Object.keys(k.Quiz).length&&(g(!0),w())},[v]),c.useEffect(()=>{!x&&!d&&h(1)},[d]),c.useEffect(()=>{j&&F(!0)},[j]),c.useEffect(()=>{z===""&&j&&k?(p.current=!1,$(void 0),F(!1),j.total_score>=40&&o+1<=Object.keys(k.Quiz).length&&O(o+1)):z==="reset"&&K("")},[z]),!k)return e.jsx("div",{children:"Loading..."});const O=V=>{V<1?d&&h(Object.keys(k.Quiz).length):V>Object.keys(k.Quiz).length?h(1):h(V)},H=()=>{if(w(),v.playState==="playing"&&v.playType==="word")R({playState:"",playType:""});else{R({playState:"playing",playType:"word"});const V=()=>{R({playState:"",playType:""})};y(k.Quiz[o-1].Question.WordSound,V)}},W=()=>{if(w(),v.playState==="playing"&&v.playType==="sentence")R({playState:"",playType:""});else{R({playState:"playing",playType:"sentence"});const V=()=>{R({playState:"",playType:""})};y(k.Quiz[o-1].Question.Sound,V)}},q=()=>{w(),R({playState:"playing",playType:"word"});const V=()=>{R({playState:"",playType:""})},I=()=>{R({playState:"playing",playType:"sentence"}),y(k.Quiz[o-1].Question.Sound,V)};y(k.Quiz[o-1].Question.WordSound,I)},N=V=>{f(V)},B=()=>{w(),t.changeVocaState(!1)},D=()=>{p.current||(p.current=!0,w(),R({playState:"",playType:""}),a(k.Quiz[o-1].Question.Word,k.Quiz[o-1].Question.WordSound,K,G))},K=V=>{E(V)},G=V=>{$(V)};return e.jsx(e.Fragment,{children:x?e.jsx("div",{className:`animate__animated ${l}`,onAnimationEnd:()=>{l==="animate__bounceOutLeft"&&_()},children:e.jsx(Me,{step:s,quizType:js,comment:i("study.카드를 넘기면서 단어를 학습하세요."),onStepIntroClozeHandler:()=>{r("animate__bounceOutLeft")}})}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:o,totalQuizCnt:Object.keys(k.Quiz).length,life:k.QuizAnswerCount,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:N}),e.jsx("div",{className:`${zs.comment} animate__animated animate__fadeInLeft`,children:js}),e.jsx(Qe,{children:e.jsxs(Be,{typeCSS:zs.vocabularyPractice2,containerCSS:zs.container,children:[e.jsx(Q2,{isSpeakResult:M,playBarState:z,cardInfo:k.Quiz[o-1],sentenceScore:j,multiPlayState:v,playWord:H,startRecord:D,playSentence:W,changePlayBarState:K}),e.jsx(T2,{isLastPage:d,quizNo:o,totalQuizCnt:k.Quiz.length,changeQuizNo:O}),e.jsx(e.Fragment,{children:d&&e.jsx(P2,{goTest:B})})]})}),b&&e.jsx(Ce,{isSideOpen:b,currentStep:s,currentStepType:js,quizLength:k.Quiz.length,maxAnswerCount:k.QuizAnswerCount,changeSideMenu:N,scoreBoardData:S,changeStep:t.changeStep})]})})}const q2=new A(navigator.userAgent),F2=q2.phone(),$s=F2?De:Oe;function H2({src:t,sentence:i,blankWord:n}){let s="";for(let a=0;a<n.length;a++)s+="_";return e.jsxs("div",{className:$s.questionBox,children:[e.jsx("div",{className:$s.wordImage,children:e.jsx("img",{src:t,width:"100%"})}),e.jsxs("div",{className:$s.wordText,children:[i.split(n)[0]," ",s,i.split(n)[1]]})]})}const O2=new A(navigator.userAgent),D2=O2.phone(),Jn=D2?De:Oe;function W2({index:t,correctText:i,exampleData:n,checkAnswer:s,onAnimationEndHandler:a}){const{bookInfo:u,studyInfo:l}=c.useContext(ie);return e.jsxs("div",{className:`${Jn.textCard}
      ${l.mode==="Review"&&Number(u.Average)>=70&&n.Text===i?Jn.correct:""}`,onClick:r=>s(r.currentTarget,n.Text),onAnimationEnd:r=>a(r),children:[e.jsx("div",{className:Jn.cardNumber,children:Number(t+1)}),e.jsx("div",{className:Jn.awnserText,children:n.Text})]})}const V2=new A(navigator.userAgent),G2=V2.phone(),U2=G2?De:Oe;function K2({correctText:t,exampleData:i,checkAnswer:n,onAnimationEndHandler:s}){return e.jsx("div",{className:U2.answers,children:i.map((a,u)=>e.jsx(W2,{index:u,correctText:t,exampleData:a,checkAnswer:n,onAnimationEndHandler:s},`e-0${u}`))})}const J2=new A(navigator.userAgent),co=J2.phone(),Yn="Vocabulary Test",Nt=co?De:Oe;function Y2(t){const{t:i}=he(),{handler:n,studyInfo:s}=c.useContext(ie),a=t.currentStep,u=ve(()=>{window.onLogoutStudy()}),l=lt(),[r,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:b}=we(),{isResultShow:f,changeResultShow:p}=He(),[S,k]=c.useState(!1),m=c.useRef(!0),[o,h]=je(sk,t,a),[d,g]=c.useState(1),{scoreBoardData:y,setStudentAnswers:w,addStudentAnswer:v,makeUserAnswerData:R}=ze(s.mode),[z,E]=c.useState([]),[j,$]=c.useState(0),[M,F]=c.useState(0),{bottomPopupState:O,changeBottomPopupState:H}=Xe(),{playAudio:W}=Le(),q=c.useRef(null),N=c.useRef(null);if(c.useEffect(()=>{!_&&o&&(u.setup(o.QuizTime,!0),q.current&&N.current&&(l.remove(q.current,["animate__fadeInRight"]),l.remove(N.current,["animate__fadeInRight"])),m.current=!1)},[_]),c.useEffect(()=>{if(o)try{const[V,I]=ct(s.mode,h,o.QuizAnswerCount);$(I),F(I),s.mode==="Super"?E(o.Quiz[V-1].Examples):E(_e.shuffle(o.Quiz[V-1].Examples)),w(h,o.QuizAnswerCount),g(V)}catch(V){console.error(V)}},[o]),c.useEffect(()=>{!_&&!f&&o&&(u.setup(o.QuizTime,!0),q.current&&N.current&&(l.play(q.current,["animate__fadeInRight"]),l.play(N.current,["animate__fadeInRight"])),$(0),F(0),s.mode==="Super"?E(o.Quiz[d-1].Examples):E(_e.shuffle(o.Quiz[d-1].Examples)),setTimeout(()=>{q.current&&N.current&&(l.remove(q.current,["animate__fadeInRight"]),l.remove(N.current,["animate__fadeInRight"])),m.current=!1},1e3))},[d]),!o)return e.jsx(e.Fragment,{children:"Loading..."});const B=async(V,I)=>{try{if(!m.current){m.current=!0;const Q=o.Quiz[d-1].Examples[0].Text===I,T={quizNo:d,maxCount:o.QuizAnswerCount,answerCount:j+1,ox:Q},L=R({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:a,quizId:o.Quiz[d-1].QuizId,quizNo:o.Quiz[d-1].QuizNo,currentQuizNo:d,correct:o.Quiz[d-1].Examples[0].Text,selectedAnswer:I,tryCount:j+1,maxQuizCount:o.QuizAnswerCount,quizLength:o.Quiz.length,isCorrect:Q,answerData:T,isFinishStudy:t.lastStep===a});u.stop();const Y=await Te(s.mode,L);Number(Y.result)===0&&(Y.resultMessage&&(n.finishStudy={id:Number(Y.result),cause:Y.resultMessage}),Q||F(M+1),$(j+1),v(T),D(V,Q))}}catch(Q){console.error(Q)}},D=(V,I)=>{H({isActive:!0,isCorrect:I}),I?l.play(V,["animate__fadeIn",Nt.correct]):l.play(V,["animate__headShake",Nt.incorrect])},K=V=>{const I=V.currentTarget,Q=!!l.isContain(I,"animate__fadeIn");setTimeout(()=>{if(H({isActive:!1,isCorrect:!1}),Q){const T=()=>{l.remove(I,["animate__fadeIn",Nt.correct]),d+1>o.Quiz.length?p(!0):g(d+1)};W(o.Quiz[d-1].Question.Sound,T)}else j>=o.QuizAnswerCount?d+1>o.Quiz.length?W(o.Quiz[d-1].Question.Sound,()=>{l.remove(I,["animate__headShake",Nt.incorrect]),p(!0)}):W(o.Quiz[d-1].Question.Sound,()=>{l.remove(I,["animate__headShake",Nt.incorrect]),g(d+1)}):(l.remove(I,["animate__headShake",Nt.incorrect]),u.setup(o.QuizTime,!0),q.current&&N.current&&(l.remove(q.current,["animate__fadeInRight"]),l.remove(N.current,["animate__fadeInRight"])),m.current=!1)},1e3)},G=V=>{k(V)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${r}`,onAnimationEnd:()=>{r==="animate__bounceOutLeft"&&b()},children:e.jsx(Me,{step:a,quizType:Yn,comment:i("study.그림과 문장의 빈칸을 보고 알맞은 단어를 고르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(e.Fragment,{children:e.jsx(it,{step:a,quizType:Yn,quizAnswerCount:o.QuizAnswerCount,studentAnswer:y,onFinishActivity:t.onFinishActivity})}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:d,totalQuizCnt:Object.keys(o.Quiz).length,life:o.QuizAnswerCount-M,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:G}),e.jsx("div",{className:`${Nt.comment} animate__animated animate__fadeInLeft`,children:Yn}),e.jsxs(Qe,{children:[co?e.jsx(e.Fragment,{}):e.jsx(Z,{height:15}),e.jsxs(Be,{typeCSS:Nt.vocabularyTest2,containerCSS:Nt.container,children:[e.jsx(H2,{src:o.Quiz[d-1].Question.Image,sentence:o.Quiz[d-1].Question.Text,blankWord:o.Quiz[d-1].Examples[0].Text}),e.jsx(Z,{height:20}),e.jsx(K2,{correctText:o.Quiz[d-1].Examples[0].Text,exampleData:z,checkAnswer:B,onAnimationEndHandler:K})]}),co?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),S&&e.jsx(Ce,{isSideOpen:S,currentStep:a,currentStepType:Yn,quizLength:o.Quiz.length,maxAnswerCount:o.QuizAnswerCount,changeSideMenu:G,scoreBoardData:y,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:O})]})})})}const X2=new A(navigator.userAgent),Z2=X2.phone(),Et=Z2?vt:wt;function ev({goVocaTest:t,changeRetry:i}){const n=Yt();return e.jsxs("div",{className:Et.testResult,children:[e.jsx("div",{className:`${Et.quizType} ${Et.nextToVocaTest}`,children:"Begin Vocabulary Test?"}),e.jsx(Z,{height:30}),e.jsxs("div",{className:`${Et.container} ${Et.borderNone}`,children:[e.jsx("div",{className:`${Et.readingUnit} animate__animated animate__jackInTheBox`,children:e.jsx("img",{src:`https://wcfresource.a1edu.com/newsystem/image/character/subcharacter/${n}_10.png`,alt:""})}),e.jsx(Z,{height:50})]}),e.jsx("div",{className:Et.goButton,onClick:()=>{t()},children:"Go!"}),e.jsx(Z,{height:20}),e.jsx("div",{className:Et.notYetButton,onClick:()=>{i(!0)},children:"Not yet"})]})}const tv=new A(navigator.userAgent),nv=tv.phone(),sv=nv?Ne:Ae;function ov({playState:t,playWord:i}){return e.jsx("div",{className:sv.wordPlayButton2,onClick:()=>i(),tabIndex:-1,children:t==="playing"?e.jsx(qe,{isColor:!0,width:34,height:34}):e.jsx(Re,{isColor:!0,width:34,height:34})})}const iv=new A(navigator.userAgent),rv=iv.phone(),on=rv?Ne:Ae;function av({isSideOpen:t,isEnabledTyping:i,quizData:n,quizNo:s,tryCount:a,inputVal:u,disabled:l,changeInputVal:r,checkAnswer:x}){const _=c.useRef(null);c.useEffect(()=>{const p=()=>{_.current&&(t?_.current.blur():_.current.focus())};return p(),window.addEventListener("click",p),()=>{window.removeEventListener("click",p)}},[t]);const b=p=>{p.preventDefault();const S=/^[ㄱ-ㅎa-zA-Z-'~ ]+(?:'){0,1}[a-zA-Z]?$/g;let k=p.currentTarget.value;S.test(k)||(k=k.slice(0,k.length-1)),r(k)},f=p=>{(p.currentTarget.value===n.Quiz[s-1].Question.Text||p.key==="Enter")&&x()};return e.jsxs("div",{className:on.textField,children:[e.jsx("input",{ref:_,className:`${on.inputField} ${n.Quiz[s-1].Question.Text.length>20?on.overLength:""}`,type:"text",value:u,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search",onChange:p=>b(p),onKeyUp:p=>f(p),onCopy:p=>p.preventDefault(),onPaste:p=>p.preventDefault(),disabled:!i||l,autoFocus:!0,tabIndex:-1}),e.jsx("div",{className:`${on.wordText} ${n.Quiz[s-1].Question.Text.length>20?on.overLength:""}`,children:n.Quiz[s-1].Question.Text}),e.jsxs("div",{className:on.count,children:[a+1," / ",n.QuizAnswerCount]})]})}const cv=new A(navigator.userAgent),uv=cv.phone(),fo=uv?Ne:Ae,lv=({meanData:t,mainMeanLang:i})=>{const n=_e.upperFirst(i);let s="";switch(n){case"Korean":case"Chinese":case"Japanese":case"Vietnamese":case"Indonesian":s=t.Question[n];break;case"English":t.Question.English!==""&&t.Question.Britannica!==""||t.Question.English===""&&t.Question.Britannica!==""?s=t.Question.Britannica:t.Question.English!==""&&t.Question.Britannica===""&&(s=t.Question[n]);break;default:s=t.Question.Korean}return e.jsxs("div",{className:fo.txtL,children:[t.Question.SpeechPart,". ",s]})},dv=({meanData:t,mainMeanLang:i})=>{const n=_e.upperFirst(i);let s="";return n==="English"?e.jsx(e.Fragment,{}):(s=t.Question.Britannica!==""?t.Question.Britannica:t.Question.English,e.jsxs("div",{className:fo.txtP,children:[t.Question.SpeechPart,". ",s]}))};function mv({meanData:t,mainMeanLang:i}){return e.jsxs("div",{className:fo.meaning,children:[e.jsx(lv,{meanData:t,mainMeanLang:i}),e.jsx(Z,{height:10}),e.jsx(dv,{meanData:t,mainMeanLang:i})]})}const xv=new A(navigator.userAgent),hv=xv.phone(),st=hv?Ne:Ae;function _v({sentenceScore:t,changePlayBarState:i}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:st.speakResult,children:t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:st.word,children:t.best_answer}),e.jsx("div",{className:st.phonemes,children:t.phoneme_result.words.map(n=>e.jsx(e.Fragment,{children:n.phonemes.map(s=>e.jsxs("div",{className:st.phonemeItem,children:[e.jsx("div",{className:`${st.phoneme} 
                        ${s.score<30&&st.red}
                        ${s.score>=30&&s.score<70&&st.orange}  
                        ${s.score>=70&&st.green}  
                        `,children:s.phoneme}),e.jsxs("div",{className:st.phonemeScore,children:[Math.floor(s.score),"%"]})]}))}))})]})}),e.jsx("div",{className:st.speakResultSign,onClick:()=>i(""),children:t&&t.total_score>=40?e.jsxs("div",{className:`${st.signBox} ${st.goodJob}`,children:[e.jsx("div",{className:st.txt,children:"Good Job"}),e.jsx("div",{className:st.iconArrow})]}):e.jsxs("div",{className:`${st.signBox} ${st.tryAgain}`,children:[e.jsx("div",{className:st.txt,children:"Try Again"}),e.jsx("div",{className:st.iconArrow})]})})]})}const pv=new A(navigator.userAgent),gv=pv.phone(),yv=gv?Ne:Ae;function fv({checkAnswer:t}){return e.jsxs("div",{className:yv.skipButton,onClick:()=>t("user press skip"),children:[e.jsx("span",{children:"SKIP"}),e.jsx(xc,{width:14,height:14})]})}const bv=new A(navigator.userAgent),Ei=bv.phone(),rn=Ei?Ne:Ae;function kv({isSideOpen:t,inputVal:i,playBarState:n,playState:s,quizData:a,quizNo:u,tryCount:l,isSpeakResult:r,sentenceScore:x,playWord:_,startRecord:b,checkAnswer:f,changeInputVal:p,changePlayBarState:S}){return e.jsxs("div",{className:rn.wordCard,children:[e.jsxs("div",{className:rn.wordTyping,children:[e.jsx(ov,{playState:s,playWord:_}),e.jsx(av,{isSideOpen:t,isEnabledTyping:a.IsEnabledTyping,quizData:a,quizNo:u,tryCount:l,inputVal:i,disabled:n==="recording",changeInputVal:p,checkAnswer:f}),i===""?e.jsx("div",{className:rn.btnRec,onClick:()=>{b()},children:n==="recording"?e.jsx(ds,{}):e.jsx("div",{className:rn.recIcon})}):e.jsx("div",{className:rn.enterButton,onClick:()=>f(),children:e.jsx("div",{className:rn.enterIcon})})]}),a.IsSkipAvailable&&e.jsx(fv,{checkAnswer:f}),e.jsx(Z,{height:Ei?30:20}),r?e.jsx(e.Fragment,{children:e.jsx(_v,{sentenceScore:x,changePlayBarState:S})}):e.jsx(e.Fragment,{children:e.jsx(mv,{meanData:a.Quiz[u-1],mainMeanLang:a.MainMeanLanguage})})]})}const Sv=new A(navigator.userAgent),wv=Sv.phone(),Cs="Vocabulary Practice",Qs=wv?Ne:Ae;function vv(t){const{t:i}=he(),{handler:n,studyInfo:s}=c.useContext(ie),a=t.currentStep,{startRecording:u}=go(),l=ve(()=>{window.onLogoutStudy()}),[r,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:b}=we(),{isResultShow:f,changeResultShow:p}=He(),[S,k]=c.useState(!1),m=c.useRef(!0),[o,h]=je(Ti,t,`${a}P`),[d,g]=c.useState(1),{scoreBoardData:y,setStudentAnswers:w,addStudentAnswer:v,resetStudentAnswer:R,makeUserAnswerData:z}=ze(s.mode),[E,j]=c.useState(0),[$,M]=c.useState(""),{playState:F,playAudio:O,stopAudio:H}=Le(),[W,q]=c.useState(!1),[N,B]=c.useState(""),[D,K]=c.useState(),[G,V]=c.useState(!1);if(c.useEffect(()=>{!_&&o&&(l.setup(o.QuizTime,!0),T(),m.current=!1)},[_]),c.useEffect(()=>{if(o){const[re,ne]=wa(s.mode,h,o.QuizAnswerCount);o.Quiz.length<re?Y():(h.length>0&&w(h,o.QuizAnswerCount),j(ne),g(re))}},[o]),c.useEffect(()=>{o&&!_&&(M(""),j(0),T(),m.current=!1)},[d]),c.useEffect(()=>{f&&q(!1)},[f]),c.useEffect(()=>{W&&(R(),g(1),p(!1))},[W]),c.useEffect(()=>{D&&V(!0)},[D]),c.useEffect(()=>{N===""&&D?(m.current=!1,K(void 0),V(!1),D.total_score>=40&&I("speaking correctly")):N==="reset"&&ue("")},[N]),!o)return e.jsx(e.Fragment,{children:"Loading..."});const I=async re=>{try{if(!m.current)if(m.current=!0,o.IsEnabledTyping){let ne=o.Quiz[d-1].Question.Text===$;if(re==="speaking correctly"&&(ne=!0),ne){let P;const X={quizNo:d,maxCount:o.QuizAnswerCount,answerCount:E+1,ox:ne},J=z({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:"2P",quizId:o.Quiz[d-1].QuizId,quizNo:o.Quiz[d-1].QuizNo,currentQuizNo:d,correct:o.Quiz[d-1].Question.Text,selectedAnswer:o.Quiz[d-1].Question.Text,tryCount:E+1,maxQuizCount:o.QuizAnswerCount,quizLength:o.Quiz.length,isCorrect:ne,answerData:X,isFinishStudy:`${t.lastStep}`=="2P"});W?E+1>=o.QuizAnswerCount?d+1>o.Quiz.length?P={result:"0",resultMessage:"finish"}:P={result:"0",resultMessage:""}:P={result:"0",resultMessage:""}:P=await Te(s.mode,J),Number(P.result)===0&&(P.resultMessage&&(n.finishStudy={id:Number(P.result),cause:P.resultMessage}),v(X),j(E+1),E+1>=o.QuizAnswerCount?d+1>o.Quiz.length?p(!0):g(d+1):(M(""),T(),m.current=!1))}else if(o.IsSkipAvailable&&re){H();const P={quizNo:d,maxCount:o.QuizAnswerCount,answerCount:E+1,ox:re==="speaking correctly"?!0:ne};let X;const J=z({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:"2P",quizId:o.Quiz[d-1].QuizId,quizNo:o.Quiz[d-1].QuizNo,currentQuizNo:d,correct:o.Quiz[d-1].Question.Text,selectedAnswer:re==="speaking correctly"?o.Quiz[d-1].Question.Text:$,tryCount:re==="user press skip"?o.QuizAnswerCount:E+1,maxQuizCount:o.QuizAnswerCount,quizLength:o.Quiz.length,isCorrect:ne,answerData:P,isFinishStudy:`${t.lastStep}`=="2P"});W?E+1>=o.QuizAnswerCount?d+1>o.Quiz.length?X={result:"0",resultMessage:"finish"}:X={result:"0",resultMessage:""}:X={result:"0",resultMessage:""}:X=await Te(s.mode,J),Number(X.result)===0&&(v(P),d+1>o.Quiz.length?re==="user press skip"?p(!0):re==="speaking correctly"&&(E+1>=o.QuizAnswerCount?p(!0):(j(E+1),M(""),T(),m.current=!1)):re==="user press skip"?g(d+1):re==="speaking correctly"&&(E+1>=o.QuizAnswerCount?g(d+1):(j(E+1),M(""),T(),m.current=!1)))}else M(""),m.current=!1}else{const ne={quizNo:d,maxCount:o.QuizAnswerCount,answerCount:E+1,ox:!0};let P;const X=z({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:"2P",quizId:o.Quiz[d-1].QuizId,quizNo:o.Quiz[d-1].QuizNo,currentQuizNo:d,correct:o.Quiz[d-1].Question.Text,selectedAnswer:$,tryCount:E+1,maxQuizCount:o.QuizAnswerCount,quizLength:o.Quiz.length,isCorrect:!0,answerData:ne,isFinishStudy:`${t.lastStep}`=="2P"});W?E+1>=o.QuizAnswerCount?d+1>o.Quiz.length?P={result:"0",resultMessage:"finish"}:P={result:"0",resultMessage:""}:P={result:"0",resultMessage:""}:P=await Te(s.mode,X),Number(P.result)===0&&(v(ne),d+1>o.Quiz.length?p(!0):g(d+1))}}catch(ne){console.error(ne)}},Q=re=>{M(re)},T=()=>{F===""&&N===""?O(o.Quiz[d-1].Question.Sound):H()},L=re=>{k(re)},Y=()=>{t.changeVocaState(!1)},te=re=>{q(re)},oe=()=>{m.current||(m.current=!0,H(),u(o.Quiz[d-1].Question.Text,o.Quiz[d-1].Question.Sound,ue,ce))},ue=re=>{B(re)},ce=re=>{K(re)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${r}`,onAnimationEnd:()=>{r==="animate__bounceOutLeft"&&b()},children:e.jsx(Me,{step:a,quizType:Cs,comment:i("study.단어를 보고 듣고 따라서 입력하세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(ev,{goVocaTest:Y,changeRetry:te}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:d,totalQuizCnt:Object.keys(o.Quiz).length,life:o.QuizAnswerCount,timeMin:l.time.timeMin,timeSec:l.time.timeSec,changeSideMenu:L}),e.jsx("div",{className:`${Qs.comment} animate__animated animate__fadeInLeft`,children:Cs}),e.jsxs(Qe,{children:[e.jsx(Z,{height:10}),e.jsxs(Be,{typeCSS:Qs.vocabularyPractice3,containerCSS:Qs.container,children:[e.jsx(Z,{height:20}),e.jsx(kv,{isSideOpen:S,quizData:o,quizNo:d,tryCount:E,inputVal:$,playBarState:N,playState:F,isSpeakResult:G,sentenceScore:D,playWord:T,changeInputVal:Q,startRecord:oe,checkAnswer:I,changePlayBarState:ue})]})]}),S&&e.jsx(Ce,{isSideOpen:S,currentStep:a,currentStepType:Cs,quizLength:o.Quiz.length,maxAnswerCount:o.QuizAnswerCount,changeSideMenu:L,scoreBoardData:y,changeStep:t.changeStep})]})})})}const jv=new A(navigator.userAgent),zv=jv.phone(),pn=zv?De:Oe;function $v({isWorking:t,bottomPopupState:i,isSideOpen:n,isHint:s,inputVal:a,correctAnswer:u,changeInputVal:l,checkAnswer:r}){const x=c.useRef(null);c.useEffect(()=>{const f=()=>{x.current&&(n||s?x.current.blur():x.current.focus())};return f(),window.addEventListener("click",f),()=>{window.removeEventListener("click",f)}},[n,s]);const _=f=>{if(!t){f.preventDefault();const p=/^[ㄱ-ㅎa-zA-Z-'~ ]+(?:'){0,1}[a-zA-Z]?$/g;let S=f.currentTarget.value;p.test(S)||(S=S.slice(0,S.length-1)),l(S)}},b=f=>{f.key==="Enter"&&!t&&a!==""&&r(a.trimStart().trimEnd()===u,a)};return e.jsx("div",{className:`${pn.textField} animate__animated} ${i.isActive&&!i.isCorrect?`animate__headShake ${pn.incorrect}`:""}`,children:i.isActive&&i.isCorrect?e.jsx("div",{className:`${pn.correctAnswer} animate__animated animate__flipInX`,children:u}):e.jsxs(e.Fragment,{children:[e.jsx("input",{ref:x,className:pn.inputField,type:"text",value:a,onChange:f=>_(f),onKeyUp:f=>b(f),onCopy:f=>f.preventDefault(),onPaste:f=>f.preventDefault(),tabIndex:-1,autoFocus:!0,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search"}),e.jsx("div",{className:pn.wordText})]})})}const Cv=new A(navigator.userAgent),Qv=Cv.phone(),bo=Qv?De:Oe,Av=({meanData:t,mainMeanLang:i})=>{const n=_e.upperFirst(i);let s="";switch(n){case"Korean":case"Chinese":case"Japanese":case"Vietnamese":case"Indonesian":s=t.Question[n];break;case"English":t.Question.English!==""&&t.Question.Britannica!==""||t.Question.English===""&&t.Question.Britannica!==""?s=t.Question.Britannica:t.Question.English!==""&&t.Question.Britannica===""&&(s=t.Question[n]);break;default:s=t.Question.Korean}return e.jsxs("div",{className:bo.txtL,children:[t.Question.SpeechPart,". ",s]})},Nv=({meanData:t,mainMeanLang:i})=>{const n=_e.upperFirst(i);let s="";return n==="English"?e.jsx(e.Fragment,{}):(s=t.Question.Britannica!==""?t.Question.Britannica:t.Question.English,e.jsxs("div",{className:bo.txtP,children:[t.Question.SpeechPart,". ",s]}))};function Tv({meanData:t,mainMeanLang:i}){return e.jsxs("div",{className:bo.meaning,children:[e.jsx(Av,{meanData:t,mainMeanLang:i}),e.jsx(Z,{height:10}),e.jsx(Nv,{meanData:t,mainMeanLang:i})]})}const Iv=new A(navigator.userAgent),Pi=Iv.phone(),gn=Pi?De:Oe;function Bv({isWorking:t,bottomPopupState:i,isSideOpen:n,isHint:s,quizData:a,quizNo:u,inputVal:l,changeInputVal:r,checkAnswer:x}){return e.jsxs("div",{className:gn.wordCard,children:[e.jsxs("div",{className:gn.wordTyping,children:[e.jsx("div",{style:{width:Pi?0:70}}),e.jsx($v,{isWorking:t,bottomPopupState:i,isSideOpen:n,isHint:s,inputVal:l,correctAnswer:a.Quiz[u-1].Question.Text,changeInputVal:r,checkAnswer:x}),i.isActive&&i.isCorrect?e.jsx("div",{className:gn.enterButton}):e.jsx(e.Fragment,{children:e.jsx("div",{className:gn.enterButton,onClick:()=>{l!==""&&x(l===a.Quiz[u-1].Question.Text,l)},children:e.jsx("div",{className:gn.enterIcon,children:e.jsx(ls,{width:20,height:20})})})})]}),e.jsx(Z,{height:20}),e.jsx(Tv,{meanData:a.Quiz[u-1],mainMeanLang:a.MainMeanLanguage})]})}const Ev=new A(navigator.userAgent),Pv=Ev.phone(),pt=Pv?De:Oe;function As({inputRefs:t,correctAnswer:i,inputIndex:n,currentInputIndex:s,changeInputIndex:a,playPenalty:u,changeNextButton:l}){const[r,x]=c.useState(""),_=b=>{b.preventDefault();const f=/^[ㄱ-ㅎa-zA-Z-'~ ]+(?:'){0,1}[a-zA-Z]?$/g;let p=b.currentTarget.value;f.test(p)||(p=p.slice(0,p.length-1)),p===i?(x(p),a(s+1),s+1>2&&u(()=>{l()})):x(p)};return e.jsxs(e.Fragment,{children:[n>s&&e.jsxs("span",{className:`${pt.reviewAnswer} ${n===s?pt.currentOrder:""} ${i.length>20?pt.overLength:""}`,children:[e.jsx("span",{className:pt.otherInput,children:e.jsx("input",{disabled:!0})}),e.jsx("div",{className:`${pt.hintText} `,children:i})]}),n===s&&e.jsxs("span",{className:`${pt.reviewAnswer} ${n===s?pt.currentOrder:""}  ${i.length>20?pt.overLength:""}`,children:[e.jsx("span",{className:pt.currentInput,children:e.jsx("input",{ref:b=>t.current[n]=b,type:"text",value:r,onChange:b=>_(b),onCopy:b=>b.preventDefault(),onPaste:b=>b.preventDefault(),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search",tabIndex:-1})}),e.jsx("div",{className:`${pt.hintText}`,children:i})]}),n<s&&e.jsx("span",{className:`${pt.reviewAnswer} ${pt.correctAnswer} ${i.length>20?pt.overLength:""} animate__animated animate__flipInX`,children:i})]})}const Mv=new A(navigator.userAgent),Lv=Mv.phone(),an=Lv?De:Oe;function Rv({isSideOpen:t,correctAnswer:i,playPenalty:n,changePenaltyState:s}){const a=c.useRef([]),[u,l]=c.useState(0),[r,x]=c.useState(!1);c.useEffect(()=>{const f=()=>{a.current[u]&&(a.current[u].focus(),t&&a.current[u].blur())};return f(),window.addEventListener("click",f),()=>{window.removeEventListener("click",f)}},[u,t]);const _=f=>{l(f)},b=()=>{x(!0)};return e.jsxs("div",{className:`${an.testReview}`,children:[e.jsx("div",{className:an.title,children:"Test Review"}),e.jsx("div",{className:an.container,children:e.jsxs("div",{className:an.sentence,children:[e.jsx(As,{inputRefs:a,inputIndex:0,currentInputIndex:u,correctAnswer:i,changeInputIndex:_,playPenalty:n,changeNextButton:b}),e.jsx(As,{inputRefs:a,inputIndex:1,currentInputIndex:u,correctAnswer:i,changeInputIndex:_,playPenalty:n,changeNextButton:b}),e.jsx(As,{inputRefs:a,inputIndex:2,currentInputIndex:u,correctAnswer:i,changeInputIndex:_,playPenalty:n,changeNextButton:b})]})}),e.jsx(Z,{height:10}),e.jsx("div",{className:`${r?an.nextButton:an.deactNextButton} ${r&&"animate__animated animate__bounce"}`,onClick:()=>r&&s(!1),children:"Next"})]})}const qv=new A(navigator.userAgent),Fv=qv.phone(),oi=Fv?De:Oe;function Hv({playState:t,playHint:i}){return e.jsxs("div",{className:oi.wordPlayButton,onClick:()=>i(),children:[t==="playing"?e.jsx(qe,{isColor:!0,width:40,height:40}):e.jsx(Re,{isColor:!0,width:40,height:40}),e.jsx("span",{className:oi.txtL,children:"Play Sound"})]})}const Ov=new A(navigator.userAgent),Dv=Ov.phone(),Ns=Dv?De:Oe;function Wv({isHint:t,playState:i,remainCount:n,totalCount:s,toggleHint:a,playHint:u}){return e.jsxs("div",{style:{position:"relative"},children:[e.jsx("div",{className:Ns.hintButton,onClick:()=>a(),children:e.jsxs("span",{children:["Hint"," ",s!==void 0&&n!==void 0?s-n:0,"/",s]})}),t&&e.jsxs("div",{style:{position:"relative",zIndex:3},className:"animate__animated animate__fadeIn",children:[e.jsx("div",{className:Ns.hintPopup,children:e.jsx(Hv,{playState:i,playHint:u})}),e.jsx("div",{className:Ns.screenBlock,onClick:()=>a()})]})]})}const Vv=new A(navigator.userAgent),Gv=Vv.phone(),Xn="Vocabulary Test",Ts=Gv?De:Oe;function Uv(t){const{t:i}=he(),{bookInfo:n,handler:s,studyInfo:a}=c.useContext(ie),u=t.currentStep,l=ve(()=>{L(!1,"")}),[r,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:b}=we(),{isResultShow:f,changeResultShow:p}=He(),[S,k]=c.useState(!1),m=c.useRef(!0),[o,h]=je(ok,t,u),[d,g]=c.useState(1),{scoreBoardData:y,setStudentAnswers:w,addStudentAnswer:v,makeUserAnswerData:R}=ze(a.mode),[z,E]=c.useState(0),[j,$]=c.useState(0),[M,F]=c.useState(!1),[O,H]=c.useState(0),[W,q]=c.useState(!1),[N,B]=c.useState(!1),{bottomPopupState:D,changeBottomPopupState:K}=Xe(),[G,V]=c.useState(""),{playState:I,playAudio:Q,stopAudio:T}=Le();if(c.useEffect(()=>{!_&&o&&!N&&(l.setup(o.QuizTime,!0),a.mode==="Review"&&Number(n.Average)>=70?V(o.Quiz[d-1].Question.Text):V(""),m.current=!1)},[_]),c.useEffect(()=>{if(o){const[P,X]=ct(a.mode,h,o.QuizAnswerCount);h.length>0&&o.IsEnablePenaltyReview&&h[h.length-1].PenaltyWord!==""?(B(!0),E(o.QuizAnswerCount),$(o.QuizAnswerCount),g(h[h.length-1].CurrentQuizNo)):(E(X),$(X),g(P)),o.Hint.IsEnabled&&o.Hint.Try&&H(o.Hint.Try),w(h,o.QuizAnswerCount)}},[o]),c.useEffect(()=>{!_&&!f&&o&&(a.mode==="Review"&&Number(n.Average)>=70?V(o.Quiz[d-1].Question.Text):V(""),E(0),$(0),q(!1),F(!1),_||l.setup(o.QuizTime,!0),m.current=!1)},[d]),c.useEffect(()=>{!N&&o&&(async()=>{const X=d+1>o.Quiz.length,J=await is({mobile:"",bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${u}`,quizId:o.Quiz[d-1].QuizId,isLastQuiz:X,isFinishStudy:!!(X&&t.lastStep===u)});Number(J.result)===0&&(J.resultMessage&&(s.finishStudy={id:Number(J.result),cause:J.resultMessage}),d+1>o.Quiz.length?p(!0):(l.setup(o.QuizTime,!0),g(d+1)))})()},[N]),!o)return e.jsx(e.Fragment,{children:"Loading..."});const L=async(P,X)=>{try{if(!m.current){m.current=!0,P&&te(X);const J={quizNo:d,maxCount:o.QuizAnswerCount,answerCount:z+1,ox:P},U=R({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:u,quizId:o.Quiz[d-1].QuizId,quizNo:o.Quiz[d-1].QuizNo,currentQuizNo:d,correct:o.Quiz[d-1].Question.Text,selectedAnswer:X,tryCount:z+1,maxQuizCount:o.QuizAnswerCount,quizLength:o.Quiz.length,isCorrect:P,answerData:J,isEnabledPenalty:o.IsEnablePenaltyReview,isFinishStudy:t.lastStep===u});l.stop(),K({isActive:!0,isCorrect:P});const se=await Te(a.mode,U);Number(se.result)===0&&(se.resultMessage&&(s.finishStudy={id:Number(se.result),cause:se.resultMessage}),P||$(j+1),E(z+1),v(J),Y(P,z+1))}}catch(J){console.error(J)}},Y=(P,X)=>{setTimeout(()=>{P?d+1>o.Quiz.length?Q(o.Quiz[d-1].Question.Sound,()=>{T(),K({isActive:!1,isCorrect:!1}),p(!0)}):Q(o.Quiz[d-1].Question.Sound,()=>{T(),K({isActive:!1,isCorrect:!1}),g(d+1)}):(K({isActive:!1,isCorrect:!1}),X>=o.QuizAnswerCount?o.IsEnablePenaltyReview?(V(""),oe(!0)):d+1>o.Quiz.length?p(!0):(l.setup(o.QuizTime,!0),g(d+1)):(l.setup(o.QuizTime,!0),!o.Hint.IsEnabled&&X===o.QuizAnswerCount-1&&Q(o.Quiz[d-1].Question.Sound),m.current=!1))},1e3)},te=P=>{V(P)},oe=P=>{B(P)},ue=async()=>{try{if(M)T(),F(!1);else if(W)F(!0);else{const P=await ik(t.studyId,t.studentHistoryId,d);(P.ErrorNo===0||W)&&(q(!0),F(!0),H(P.TryHint))}}catch(P){console.error(P)}},ce=()=>{I==="playing"?T():Q(o.Quiz[d-1].Question.Sound)},re=P=>{T();const X=()=>{T(),P()};Q(o.Quiz[d-1].Question.Sound,X)},ne=P=>{k(P)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${r}`,onAnimationEnd:()=>{r==="animate__bounceOutLeft"&&b()},children:e.jsx(Me,{step:u,quizType:Xn,comment:i("study.뜻을 보고 올바른 단어를 입력하세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(it,{step:u,quizType:Xn,quizAnswerCount:o.QuizAnswerCount,studentAnswer:y,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:d,totalQuizCnt:Object.keys(o.Quiz).length,life:o.QuizAnswerCount-j,timeMin:l.time.timeMin,timeSec:l.time.timeSec,changeSideMenu:ne}),e.jsx("div",{className:`${Ts.comment} animate__animated animate__fadeInLeft`,children:Xn}),e.jsx(Qe,{children:N?e.jsx(Rv,{isSideOpen:S,correctAnswer:o.Quiz[d-1].Question.Text,playPenalty:re,changePenaltyState:oe}):e.jsxs(Be,{typeCSS:Ts.vocabularyTest3,containerCSS:Ts.container,children:[e.jsx(Z,{height:20}),e.jsx(Bv,{isWorking:m.current,bottomPopupState:D,isSideOpen:S,isHint:M,quizData:o,quizNo:d,inputVal:G,changeInputVal:te,checkAnswer:L}),e.jsx(e.Fragment,{children:o.Hint.IsEnabled&&e.jsx(Wv,{isHint:M,playState:I,remainCount:O,totalCount:o.Hint.Max,toggleHint:ue,playHint:ce})})]})}),S&&e.jsx(Ce,{isSideOpen:S,currentStep:u,currentStepType:Xn,quizLength:o.Quiz.length,maxAnswerCount:o.QuizAnswerCount,changeSideMenu:ne,scoreBoardData:y,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:D})]})})})}const Kv=new A(navigator.userAgent),Jv=Kv.phone(),Is=Jv?Ne:Ae;function Yv({playState:t,word:i,playWord:n}){return e.jsx("div",{className:Is.wordText,children:e.jsxs("div",{className:Is.wordPlayButton,onClick:()=>n(),children:[t==="playing"?e.jsx(qe,{isColor:!0,width:24,height:24}):e.jsx(Re,{isColor:!0,width:24,height:24}),e.jsx("div",{className:Is.txtL,children:i})]})})}const Xv=new A(navigator.userAgent),Zv=Xv.phone(),Mi=Zv?Ne:Ae,ej=({meanData:t,lang:i})=>{const n=_e.upperFirst(i);let s="";switch(n){case"Korean":case"Chinese":case"Japanese":case"Vietnamese":case"Indonesian":case"English":case"Britannica":s=t.Question[n];break;default:s=t.Question.Korean}return e.jsxs("div",{className:Mi.meaning,children:[t.Question.SpeechPart,". ",s]})},tj=({meanData:t,lang:i})=>{const n=_e.upperFirst(i);let s="";switch(n){case"Korean":case"Chinese":case"Japanese":case"Vietnamese":case"Indonesian":case"English":case"Britannica":s=t.Question.Britannica?t.Question.Britannica:t.Question[n];break;default:s=t.Question.Britannica}return e.jsxs("div",{className:Mi.sentence,children:[t.Question.SpeechPart,". ",s]})};function nj({meanData:t,mainMeanLang:i,subMeanLang:n}){return e.jsxs(e.Fragment,{children:[e.jsx(ej,{meanData:t,lang:i}),e.jsx(tj,{meanData:t,lang:n})]})}const sj=new A(navigator.userAgent),oj=sj.phone(),ij=oj?Ne:Ae;function rj({playState:t,quizData:i,quizNo:n,playWord:s}){return e.jsxs("div",{className:`${ij.wordCard} animate__animated animate__slideInRight`,children:[e.jsx(Yv,{playState:t,word:i.Quiz[n-1].Question.Text,playWord:s}),e.jsx(Z,{height:10}),e.jsx(nj,{meanData:i.Quiz[n-1],mainMeanLang:i.MainMeanLanguage,subMeanLang:i.SubMeanLanguage})]})}const aj=new A(navigator.userAgent),cj=aj.phone(),Bs=cj?Ne:Ae;function uj({isLastPage:t,quizNo:i,totalQuizCnt:n,changeQuizNo:s}){return e.jsxs("div",{className:Bs.indicator,children:[e.jsx("span",{style:t||i>1?{opacity:"1"}:{opacity:".2"},onClick:()=>s(i-1),children:e.jsx("div",{className:Bs.iconChevLeft})}),e.jsxs("span",{children:[i," / ",n]}),e.jsx("span",{onClick:()=>s(i+1),children:e.jsx("div",{className:Bs.iconChevRight})})]})}const lj=new A(navigator.userAgent),dj=lj.phone(),mj=dj?Ne:Ae;function xj({goTest:t}){return e.jsx("div",{className:`${mj.btnNext} animate__animated animate__flash`,onClick:()=>t(),children:"Next"})}const hj=new A(navigator.userAgent),_j=hj.phone(),Es="Vocabulary Practice",Ps=_j?Ne:Ae;function pj(t){const{t:i}=he(),{studyInfo:n}=c.useContext(ie),s=t.currentStep,a=ve(()=>{window.onLogoutStudy()}),[u,l]=c.useState("animate__bounceInRight"),{isStepIntro:r,closeStepIntro:x}=we(),[_,b]=c.useState(!1),f=lt(),[p,S]=je(Ii,t,s),[k,m]=c.useState(1),{scoreBoardData:o}=ze(n.mode),[h,d]=c.useState(!1),{playState:g,playAudio:y,stopAudio:w}=Le(),v=c.useRef(null);if(c.useEffect(()=>{!r&&p&&(a.setup(p.QuizTime,!0),v.current&&f.remove(v.current,["animate__fadeInRight","animate__fadeInLeft"]),setTimeout(()=>{z()},500))},[r]),c.useEffect(()=>{!r&&p&&(w(),k===p.Quiz.length&&d(!0),v.current&&f.remove(v.current,["animate__fadeInRight","animate__fadeInLeft"]),z())},[k]),c.useEffect(()=>{!r&&!h&&m(1)},[h]),!p)return e.jsx(e.Fragment,{children:"Loading..."});const R=$=>{w(),$<1?h&&m(Object.keys(p.Quiz).length):$>Object.keys(p.Quiz).length?m(1):m($)},z=()=>{g==="playing"?w():y(p.Quiz[k-1].Question.Sound)},E=$=>{b($)},j=()=>{w(),t.changeVocaState(!1)};return e.jsx(e.Fragment,{children:r?e.jsx("div",{className:`animate__animated ${u}`,onAnimationEnd:()=>{u==="animate__bounceOutLeft"&&x()},children:e.jsx(Me,{step:s,quizType:Es,comment:i("study.카드를 넘기면서 단어를 학습하세요."),onStepIntroClozeHandler:()=>{l("animate__bounceOutLeft")}})}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:k,totalQuizCnt:Object.keys(p.Quiz).length,life:p.QuizAnswerCount,timeMin:a.time.timeMin,timeSec:a.time.timeSec,changeSideMenu:E}),e.jsx("div",{className:`${Ps.comment} animate__animated animate__fadeInLeft`,children:Es}),e.jsx(Qe,{children:e.jsxs(Be,{typeCSS:Ps.vocabularyPractice4,containerCSS:Ps.container,children:[e.jsx(rj,{playState:g,quizData:p,quizNo:k,playWord:z}),e.jsx(uj,{isLastPage:h,quizNo:k,totalQuizCnt:p.Quiz.length,changeQuizNo:R}),e.jsx(e.Fragment,{children:h&&e.jsx(xj,{goTest:j})})]})}),_&&e.jsx(Ce,{isSideOpen:_,currentStep:s,currentStepType:Es,quizLength:p.Quiz.length,maxAnswerCount:p.QuizAnswerCount,changeSideMenu:E,scoreBoardData:o,changeStep:t.changeStep})]})})}const gj=new A(navigator.userAgent),yj=gj.phone(),Zn=yj?De:Oe;function fj({index:t,correctText:i,exampleData:n,checkAnswer:s,onExampleAnimationEndHandler:a}){const{bookInfo:u,studyInfo:l}=c.useContext(ie);return e.jsxs("div",{className:`${Zn.textCard} 
      ${l.mode==="Review"&&Number(u.Average)>=70&&n.Text===i?Zn.correct:""}`,onClick:r=>s(r.currentTarget,n.Text),onAnimationEnd:r=>a(r.currentTarget),children:[e.jsx("div",{className:Zn.cardNumber,children:Number(t+1)}),e.jsx("div",{className:Zn.awnserText,children:n.Text})]})}const bj=new A(navigator.userAgent),kj=bj.phone(),Sj=kj?De:Oe;function wj({correctText:t,exampleData:i,checkAnswer:n,onExampleAnimationEndHandler:s}){return e.jsx("div",{className:Sj.answers,children:i.map((a,u)=>e.jsx(fj,{index:u,correctText:t,exampleData:a,checkAnswer:n,onExampleAnimationEndHandler:s}))})}const vj=new A(navigator.userAgent),jj=vj.phone(),Li=jj?De:Oe,zj=({meanData:t,lang:i})=>{const n=_e.upperFirst(i);let s="";switch(n){case"Korean":case"Chinese":case"Japanese":case"Vietnamese":case"Indonesian":case"English":case"Britannica":s=t.Question[n];break;default:s=t.Question.Korean}return e.jsxs("div",{className:Li.meaning,children:[t.Question.SpeechPart,". ",s]})},$j=({meanData:t,lang:i})=>{const n=_e.upperFirst(i);let s="";switch(n){case"Korean":case"Chinese":case"Japanese":case"Vietnamese":case"Indonesian":case"English":case"Britannica":s=t.Question.Britannica?t.Question.Britannica:t.Question[n];break;default:s=t.Question.Britannica}return e.jsxs("div",{className:Li.sentence,children:[t.Question.SpeechPart,". ",s]})};function Cj({meanData:t,mainMeanLang:i,subMeanLang:n}){return e.jsxs(e.Fragment,{children:[e.jsx(zj,{meanData:t,lang:i}),e.jsx($j,{meanData:t,lang:n})]})}const Qj=new A(navigator.userAgent),Aj=Qj.phone(),Nj=Aj?De:Oe;function Tj({quizData:t,quizNo:i}){return e.jsx("div",{className:Nj.questionBox,children:e.jsx(Cj,{meanData:t.Quiz[i-1],mainMeanLang:t.MainMeanLanguage,subMeanLang:t.SubMeanLanguage})})}const Ij=new A(navigator.userAgent),uo=Ij.phone(),es="Vocabulary Test",Kt=uo?De:Oe;function Bj(t){const{t:i}=he(),{handler:n,studyInfo:s}=c.useContext(ie),a=t.currentStep,u=ve(()=>{B()}),l=lt(),[r,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:b}=we(),{isResultShow:f,changeResultShow:p}=He(),[S,k]=c.useState(!1),m=c.useRef(!0),[o,h]=je(rk,t,a),[d,g]=c.useState(1),{scoreBoardData:y,setStudentAnswers:w,addStudentAnswer:v,makeUserAnswerData:R}=ze(s.mode),[z,E]=c.useState([]),[j,$]=c.useState(0),[M,F]=c.useState(0),{bottomPopupState:O,changeBottomPopupState:H}=Xe();if(c.useEffect(()=>{!_&&o&&(u.setup(o.QuizTime,!0),m.current=!1)},[_]),c.useEffect(()=>{if(o)try{const[G,V]=ct(s.mode,h,o.QuizAnswerCount);u.setup(o.QuizTime,!0),$(V),F(V),s.mode==="Super"?E(o.Quiz[G-1].Examples):E(_e.shuffle(o.Quiz[G-1].Examples)),w(h,o.QuizAnswerCount),g(G)}catch(G){console.error(G)}},[o]),c.useEffect(()=>{!_&&!f&&o&&(u.setup(o.QuizTime,!0),$(0),F(0),s.mode==="Super"?E(o.Quiz[d-1].Examples):E(_e.shuffle(o.Quiz[d-1].Examples)),m.current=!1)},[d]),!o)return e.jsx(e.Fragment,{children:"Loading..."});const W=async(G,V)=>{try{if(!m.current){m.current=!0;const I=o.Quiz[d-1].Question.Text===V,Q={quizNo:d,maxCount:o.QuizAnswerCount,answerCount:j+1,ox:I},T=R({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:a,quizId:o.Quiz[d-1].QuizId,quizNo:o.Quiz[d-1].QuizNo,currentQuizNo:d,correct:o.Quiz[d-1].Question.Text,selectedAnswer:V,tryCount:j+1,maxQuizCount:o.QuizAnswerCount,quizLength:o.Quiz.length,isCorrect:I,answerData:Q,isFinishStudy:t.lastStep===a});u.stop();const L=await Te(s.mode,T);Number(L.result)===0&&(L.resultMessage&&(n.finishStudy={id:Number(L.result),cause:L.resultMessage}),I||F(M+1),$(j+1),v(Q),q(G,I))}}catch(I){console.error(I)}},q=(G,V)=>{H({isActive:!0,isCorrect:V}),V?l.play(G,["animate__fadeIn",Kt.correct]):l.play(G,["animate__headShake",Kt.incorrect])},N=G=>{setTimeout(()=>{H({isActive:!1,isCorrect:!1}),l.remove(G,[Kt.correct,Kt.incorrect,"animate__fadeIn","animate__headShake"]),d+1<=o.Quiz.length?g(d+1):p(!0)},1e3)},B=async()=>{try{if(!m.current){m.current=!0;const G={mobile:"",studentHistoryId:t.studentHistoryId,studyId:t.studyId,bookType:t.bookType,step:`${a}`,quizId:o.Quiz[d-1].QuizId,quizNo:o.Quiz[d-1].QuizNo,currentQuizNo:d,correct:o.Quiz[d-1].Question.Text,studentAnswer:"",answerCount:j+1};u.stop();const V=await Te(s.mode,G);if(Number(V.result)===0){V.resultMessage&&(n.finishStudy={id:Number(V.result),cause:V.resultMessage});const I={quizNo:d,maxCount:o.QuizAnswerCount,answerCount:j+1,ox:!1};F(M+1),$(j+1),v(I),H({isActive:!0,isCorrect:!1}),D()}}}catch(G){console.error(G)}},D=()=>{setTimeout(()=>{H({isActive:!1,isCorrect:!1}),d+1>o.Quiz.length?p(!0):g(d+1)},1500)},K=G=>{k(G)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${r}`,onAnimationEnd:()=>{r==="animate__bounceOutLeft"&&b()},children:e.jsx(Me,{step:a,quizType:es,comment:i("study.뜻을 보고 올바른 단어를 고르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(e.Fragment,{children:e.jsx(it,{step:a,quizType:es,quizAnswerCount:o.QuizAnswerCount,studentAnswer:y,onFinishActivity:t.onFinishActivity})}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:d,totalQuizCnt:Object.keys(o.Quiz).length,life:o.QuizAnswerCount-M,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:K}),e.jsx("div",{className:`${Kt.comment} animate__animated animate__fadeInLeft`,children:es}),e.jsxs(Qe,{children:[uo?e.jsx(e.Fragment,{}):e.jsx(Z,{height:15}),e.jsxs(Be,{typeCSS:Kt.vocabularyTest4,containerCSS:Kt.container,children:[e.jsx(Tj,{quizData:o,quizNo:d}),e.jsx(Z,{height:20}),e.jsx(wj,{correctText:o.Quiz[d-1].Question.Text,exampleData:z,checkAnswer:W,onExampleAnimationEndHandler:N})]}),uo?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),S&&e.jsx(Ce,{isSideOpen:S,currentStep:a,currentStepType:es,quizLength:o.Quiz.length,maxAnswerCount:o.QuizAnswerCount,changeSideMenu:K,scoreBoardData:y,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:O})]})})})}const Ej="_comment_yqua8_1",Pj="_wordPlayButton_yqua8_20",Mj="_txtL_yqua8_35",Lj="_goNextButton_yqua8_46",Rj="_iconArrowUp_yqua8_69",qj="_writingActivity1_yqua8_83",Fj="_container_yqua8_83",Hj="_enterBox_yqua8_90",Oj="_correctText_yqua8_101",Dj="_textCard_yqua8_106",Wj="_incorrectText_yqua8_113",Vj="_send_yqua8_155",Gj="_awnserText_yqua8_177",Uj="_answers_yqua8_181",Kj="_correctDirection_yqua8_186",Jj="_writingActivity2_yqua8_192",Yj="_tabs_yqua8_199",Xj="_tabButton_yqua8_203",Zj="_active_yqua8_217",ez="_questionText_yqua8_222",tz="_writingArea_yqua8_226",nz="_wordLimitIndicator_yqua8_250",sz="_limit_yqua8_253",oz="_words_yqua8_254",iz="_saveButton_yqua8_265",rz="_submitButton_yqua8_287",az="_goNextStepBox_yqua8_309",cz="_groupButtons_yqua8_315",uz="_revisionReport_yqua8_321",We={comment:Ej,wordPlayButton:Pj,txtL:Mj,goNextButton:Lj,iconArrowUp:Rj,writingActivity1:qj,container:Fj,enterBox:Hj,correctText:Oj,textCard:Dj,incorrectText:Wj,send:Vj,awnserText:Gj,answers:Uj,correctDirection:Kj,writingActivity2:Jj,tabs:Yj,tabButton:Xj,active:Zj,questionText:ez,writingArea:tz,wordLimitIndicator:nz,limit:sz,words:oz,saveButton:iz,submitButton:rz,goNextStepBox:az,groupButtons:cz,revisionReport:uz},lz="_comment_heq11_1",dz="_wordPlayButton_heq11_20",mz="_txtL_heq11_34",xz="_goNextButton_heq11_45",hz="_iconArrowUp_heq11_68",_z="_writingActivity1_heq11_82",pz="_container_heq11_82",gz="_enterBox_heq11_89",yz="_correctText_heq11_105",fz="_textCard_heq11_110",bz="_incorrectText_heq11_117",kz="_send_heq11_153",Sz="_awnserText_heq11_175",wz="_answers_heq11_179",vz="_correctDirection_heq11_184",jz="_writingActivity2_heq11_190",zz="_tabs_heq11_197",$z="_tabButton_heq11_201",Cz="_active_heq11_215",Qz="_questionText_heq11_220",Az="_writingArea_heq11_224",Nz="_wordLimitIndicator_heq11_247",Tz="_limit_heq11_250",Iz="_words_heq11_251",Bz="_saveButton_heq11_262",Ez="_submitButton_heq11_284",Pz="_goNextStepBox_heq11_306",Mz="_groupButtons_heq11_313",Lz="_revisionReport_heq11_319",Ve={comment:lz,wordPlayButton:dz,txtL:mz,goNextButton:xz,iconArrowUp:hz,writingActivity1:_z,container:pz,enterBox:gz,correctText:yz,textCard:fz,incorrectText:bz,send:kz,awnserText:Sz,answers:wz,correctDirection:vz,writingActivity2:jz,tabs:zz,tabButton:$z,active:Cz,questionText:Qz,writingArea:Az,wordLimitIndicator:Nz,limit:Tz,words:Iz,saveButton:Bz,submitButton:Ez,goNextStepBox:Pz,groupButtons:Mz,revisionReport:Lz};async function Rz(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,u=`${Pe}/writing-activity-1?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(u,async r=>({ContentsId:Number(r.ContentsId),IsQuizTimeoutIncorrect:!!r.isQuizTimeoutIncorrect,QuizAnswerCount:Number(r.QuizAnswerCount),QuizTime:Number(r.QuizTime),Quiz:r.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound},Examples:x.Examples.map(_=>({Text:_.Text}))}))}))}async function ko(t){const{bookType:i,studyId:n,studentHistoryId:s}=t,u=`${Pe}/writing-activity-2?studentHistoryId=${s}&studyId=${n}&bookType=${i}`;return Ie(u,async r=>({QuizTime:r.QuizTime,Title:r.Title,Author:r.Author,Writing:r.Writing,Rewriting:r.Rewriting}))}const qz=new A(navigator.userAgent),Fz=qz.phone(),ii=Fz?Ve:We;function Hz({playState:t,onPlay:i}){return e.jsxs("div",{className:ii.wordPlayButton,onClick:()=>i(),children:[t===""?e.jsx(Re,{isColor:!0,width:34,height:34}):e.jsx(qe,{isColor:!0,width:34,height:34}),e.jsx("span",{className:ii.txtL,children:"Play Sound"})]})}const Oz=new A(navigator.userAgent),Dz=Oz.phone(),ri=Dz?Ve:We;function Wz(){return e.jsx("div",{className:ri.correctDirection,children:e.jsx("div",{className:ri.iconArrowUp})})}const Vz=new A(navigator.userAgent),Gz=Vz.phone(),ai=Gz?Ve:We;function Uz({exampleRefs:t,index:i,example:n,selectWord:s}){return e.jsx("div",{ref:a=>t.current[i]=a,className:`${ai.textCard}`,onClick:()=>s(i,n.Text),children:e.jsx("div",{className:ai.awnserText,children:n.Text})})}const Kz=new A(navigator.userAgent),Jz=Kz.phone(),Yz=Jz?Ve:We;function Xz({exampleRefs:t,exampleData:i,selectWord:n}){return e.jsx("div",{className:Yz.answers,children:i.map((s,a)=>e.jsx(Uz,{exampleRefs:t,index:a,example:s,selectWord:n}))})}const Zz=new A(navigator.userAgent),e$=Zz.phone(),ci=e$?Ve:We;function t$({text:t,removeWord:i}){return e.jsx("div",{className:`${ci.textCard}`,onClick:()=>i(t),children:e.jsx("div",{className:ci.awnserText,children:t})})}const n$=new A(navigator.userAgent),s$=n$.phone(),Ms=s$?Ve:We;function o$({sentenceState:t,sentenceData:i,removeWord:n}){return e.jsx("div",{className:`${Ms.enterBox} ${t==="correct"?Ms.correctText:t==="incorrect"?Ms.incorrectText:""}`,children:i.map((s,a)=>e.jsx(t$,{text:s,removeWord:n}))})}const i$=new A(navigator.userAgent),r$=i$.phone(),a$=r$?Ve:We;function c$({goNextQuiz:t}){return e.jsx("div",{onClick:()=>t(),className:`${a$.goNextButton} animate__animated animate__flash`,children:"Next"})}const u$=new A(navigator.userAgent),Ri=u$.phone(),ts="Writing Activity",cn=Ri?Ve:We;function l$(t){const{t:i}=he(),{bookInfo:n,handler:s,studyInfo:a}=c.useContext(ie),u=t.currentStep,l=ve(()=>{window.onLogoutStudy()}),[r,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:b}=we(),{isResultShow:f,changeResultShow:p}=He(),[S,k]=c.useState(!1),m=c.useRef(!0),[o,h]=je(Rz,t,u),[d,g]=c.useState(1),{scoreBoardData:y,setStudentAnswers:w,addStudentAnswer:v,makeUserAnswerData:R}=ze(a.mode),[z,E]=c.useState(0),[j,$]=c.useState(0),[M,F]=c.useState(""),O=c.useRef([]),[H,W]=c.useState([]),[q,N]=c.useState([]),{bottomPopupState:B,changeBottomPopupState:D}=Xe(),[K,G]=c.useState(!1),{playState:V,playAudio:I,stopAudio:Q}=Le();if(c.useEffect(()=>{!_&&o&&(l.setup(o.QuizTime,!0),n.BookLevel.includes("K")&&I(o.Quiz[d-1].Question.Sound),m.current=!1)},[_]),c.useEffect(()=>{if(o)try{const[P,X]=ct(a.mode,h,o.QuizAnswerCount);E(X),$(X),a.mode==="Quiz"?W(_e.shuffle(o.Quiz[P-1].Examples)):W(o.Quiz[P-1].Examples),w(h,o.QuizAnswerCount),g(P)}catch(P){console.error(P)}},[o]),c.useEffect(()=>{o&&M===""&&q.length===o.Quiz[d-1].Examples.length&&te()},[q]),c.useEffect(()=>{!_&&!f&&o&&(a.mode==="Quiz"?W(_e.shuffle(o.Quiz[d-1].Examples)):W(o.Quiz[d-1].Examples),$(0),E(0),F(""),Y(),n.BookLevel.includes("K")&&I(o.Quiz[d-1].Question.Sound),m.current=!1)},[d]),c.useEffect(()=>{K&&o&&m.current&&Q()},[K]),!o)return e.jsx(e.Fragment,{children:"Loading..."});const T=(P,X)=>{O.current[P].classList.add(cn.send);const J=[...q,X];N(J)},L=P=>{if(!m.current){const X=H.findIndex(U=>U.Text===P),J=q.filter(U=>U!==P);O.current[X].classList.remove(cn.send),N(J)}},Y=()=>{try{O.current&&O.current.map(P=>P.classList.remove(cn.send))}catch{}finally{N([])}},te=async()=>{try{if(!m.current){m.current=!0,l.stop(),Q();const P=o.Quiz[d-1].Question.Text,X=q.reduce((pe,Ee)=>pe+(" "+Ee)),J=P===X;let U=j;const se={quizNo:d,maxCount:o.QuizAnswerCount,answerCount:z+1,ox:J},le=R({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:u,quizId:o.Quiz[d-1].QuizId,quizNo:o.Quiz[d-1].QuizNo,currentQuizNo:d,correct:o.Quiz[d-1].Question.Text,selectedAnswer:X,tryCount:z+1,maxQuizCount:o.QuizAnswerCount,quizLength:o.Quiz.length,isCorrect:J,answerData:se,isFinishStudy:t.lastStep===u}),ae=await Te(a.mode,le);Number(ae.result)===0&&(ae.resultMessage&&(s.finishStudy={id:Number(ae.result),cause:ae.resultMessage}),J||$(j+1),v(se),E(z+1),oe(J,U+1))}}catch(P){console.error(P)}},oe=(P,X)=>{F(P?"correct":"incorrect"),D({isActive:!0,isCorrect:P}),setTimeout(()=>{if(D({isActive:!1,isCorrect:!1}),P)if(n.BookLevel.includes("K"))ue();else{const J=()=>{G(!0)};I(o.Quiz[d-1].Question.Sound,J)}else if(X>=o.QuizAnswerCount){const J=o.Quiz[d-1].Examples.map(U=>U.Text);if(N([...J]),n.BookLevel.includes("K"))ue();else{const U=()=>{G(!0)};I(o.Quiz[d-1].Question.Sound,U)}}else l.setup(o.QuizTime,!0),F(""),Y(),n.BookLevel.includes("K")&&I(o.Quiz[d-1].Question.Sound),m.current=!1},2e3)},ue=()=>{Q();const P=()=>{if(Y(),F(""),d+1>o.Quiz.length)p(!0);else if(n.BookLevel.includes("K"))l.setup(o.QuizTime,!0),Q(),g(d+1);else{const X=()=>{G(!0)};I(o.Quiz[d-1].Question.Sound,X)}};I(o.Quiz[d-1].Question.Sound,P)},ce=()=>{d+1>o.Quiz.length?(Q(),l.stop(),p(!0)):(l.setup(o.QuizTime,!0),Q(),g(d+1),G(!1))},re=P=>{k(P)},ne=()=>{V===""?I(o.Quiz[d-1].Question.Sound):m.current||Q()};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${r}`,onAnimationEnd:()=>{r==="animate__bounceOutLeft"&&b()},children:e.jsx(Me,{step:u,quizType:ts,comment:i("study.카드를 순서대로 나열하여 올바른 문장을 완성하세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(it,{step:u,quizType:ts,quizAnswerCount:o.QuizAnswerCount,studentAnswer:y,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:d,totalQuizCnt:Object.keys(o.Quiz).length,life:o.QuizAnswerCount-j,timeMin:l.time.timeMin,timeSec:l.time.timeSec,changeSideMenu:re}),e.jsx("div",{className:`${cn.comment} animate__animated animate__fadeInLeft`,children:ts}),e.jsxs(Qe,{children:[e.jsx(Hz,{playState:V,onPlay:ne}),e.jsx(Z,{height:15}),e.jsxs(Be,{typeCSS:cn.writingActivity1,containerCSS:cn.container,children:[e.jsx(o$,{sentenceState:M,sentenceData:q,removeWord:L}),e.jsx(e.Fragment,{children:K?e.jsx(c$,{goNextQuiz:ce}):e.jsxs(e.Fragment,{children:[e.jsx(Wz,{}),e.jsx(Xz,{exampleRefs:O,exampleData:H,selectWord:T})]})})]}),Ri?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),S&&e.jsx(Ce,{isSideOpen:S,currentStep:u,currentStepType:ts,quizLength:o.Quiz.length,maxAnswerCount:o.QuizAnswerCount,changeSideMenu:re,scoreBoardData:y,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:B})]})})})}const So=()=>{const[t,i]=c.useState("loading");return{quizState:t,changeQuizState:s=>{if(t==="checking"&&s!=="studying")return!1;i(s)}}},d$=new A(navigator.userAgent),m$=d$.phone(),gt=m$?us:cs;function Ls({currentSubmitCount:t,maxSubmitCount:i,noWritingActivity:n,goWritingActivity:s}){const{t:a}=he();return e.jsx("div",{className:gt.revisionFreeIntro,children:e.jsxs("div",{className:`${gt.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:gt.stepOrder,children:"Step5"}),e.jsx("div",{className:gt.quizType,children:"Writing Activity"}),e.jsx("div",{className:gt.comment,children:a("study.글쓰기를 하시겠어요?")}),e.jsxs("div",{className:gt.revisionBoard,children:[e.jsxs("div",{className:gt.txtLabel,children:[a("study.남은 첨삭"),":"]}),e.jsxs("div",{className:gt.txtCount,children:[i-t," / ",i]}),e.jsxs("div",{className:gt.txtLabel,children:[a("study.첨삭 완료"),":"]}),e.jsx("div",{className:gt.txtCount,children:t})]}),e.jsxs("div",{className:gt.selectBox,children:[e.jsx("div",{className:gt.passButton,onClick:()=>n(),children:"Pass"}),e.jsx("div",{className:gt.goButton,onClick:()=>s(),children:"Go"})]})]})})}const x$=new A(navigator.userAgent),h$=x$.phone(),Jt=h$?us:cs;function _$({unit:t,goWritingActivity:i}){const{t:n}=he();return e.jsx("div",{className:Jt.stepIntro,children:e.jsxs("div",{className:`${Jt.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:Jt.stepOrder,children:"Step5"}),e.jsx("div",{className:Jt.quizType,children:"Writing Activity"}),e.jsx("div",{className:Jt.comment,children:n("study.글쓰기 후 첨삭을 받으세요.")}),e.jsx("div",{className:Jt.readingUnit,children:e.jsx("img",{src:`https://wcfresource.a1edu.com/newsystem/image/character/subcharacter/${t}_13.png`,alt:""})}),e.jsx("div",{className:Jt.startButton,onClick:()=>i(),children:"Start"})]})})}const p$=new A(navigator.userAgent),g$=p$.phone(),yt=g$?vt:wt;function y$({currentSubmitCount:t,maxSubmitCount:i,noWritingActivity:n}){const{t:s}=he();return e.jsx("div",{className:yt.submitRevision,children:e.jsxs("div",{className:`${yt.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:yt.stepOrder,children:"Step5. Writing Activity"}),e.jsx("div",{className:yt.title,children:s("study.이 달의 첨삭")}),e.jsx("div",{className:yt.comment,children:s("study.수고했어요! 이달의 남은 첨삭은 모두 사용했어요.")}),e.jsxs("div",{className:yt.revisionBoard,children:[e.jsxs("div",{className:yt.txtLabel,children:[s("study.남은 첨삭"),":"]}),e.jsxs("div",{className:yt.txtCount,children:[i-t," / ",i]}),e.jsxs("div",{className:yt.txtLabel,children:[s("study.첨삭 완료"),":"]}),e.jsx("div",{className:yt.txtCount,children:t})]}),e.jsx("div",{className:`${yt.selectBox} ${yt.revisionDone}`,children:e.jsx("div",{className:yt.noButton,onClick:()=>n(),children:"Done"})})]})})}function qi({mode:t,type:i,currentSubmitCount:n,maxSubmitCount:s,goWritingActivity:a,noWritingActivity:u}){const l=Yt();let r;switch(i){case"In School":case"Overseas":switch(t){case"All":r=e.jsx(_$,{unit:l,goWritingActivity:a});break;case"Free":r=e.jsx(Ls,{currentSubmitCount:n,maxSubmitCount:s,goWritingActivity:a,noWritingActivity:u});break;case"Limit":s-n<1?r=e.jsx(y$,{currentSubmitCount:n,maxSubmitCount:s,noWritingActivity:u}):r=e.jsx(Ls,{currentSubmitCount:n,maxSubmitCount:s,goWritingActivity:a,noWritingActivity:u});break}break;case"No Revision":r=e.jsx(Ls,{currentSubmitCount:n,maxSubmitCount:s,goWritingActivity:a,noWritingActivity:u});break}return e.jsx(e.Fragment,{children:r})}const f$=new A(navigator.userAgent),b$=f$.phone(),ui=b$?Ve:We;function k$({currentTabIndex:t,index:i,changeTabNo:n}){return e.jsx("div",{className:`${ui.tabButton} ${t===i?ui.active:""}`,onClick:()=>n(i),children:i+1})}const S$=new A(navigator.userAgent),w$=S$.phone(),v$=w$?Ve:We;function j$({currentTabIndex:t,questionData:i,changeTabNo:n}){return e.jsx("div",{className:v$.tabs,children:i.map((s,a)=>e.jsx(k$,{currentTabIndex:t,index:a,changeTabNo:n}))})}const z$=new A(navigator.userAgent),$$=z$.phone(),C$=$$?Ve:We;function Q$({question:t}){return e.jsx("div",{className:C$.questionText,children:t})}const A$=new A(navigator.userAgent),N$=A$.phone(),T$=N$?Ve:We;function I$({wordMinCount:t,wordMaxCount:i,answerData:n,onChangeHandler:s}){return e.jsx("div",{className:T$.writingArea,children:e.jsx("textarea",{placeholder:`Please fill out within ${t} to ${i} characters.`,value:n,onChange:a=>s(a.currentTarget.value)})})}const B$=new A(navigator.userAgent),E$=B$.phone(),P$=E$?Ve:We;function M$({saveAnswer:t}){return e.jsx("div",{className:P$.saveButton,onClick:()=>t(),children:"Save"})}const L$=new A(navigator.userAgent),R$=L$.phone(),q$=R$?Ve:We;function Fi({isSubmit:t,submitAnswer:i}){return e.jsx("div",{style:t?{}:{opacity:"0.5",cursor:"default"},className:q$.submitButton,onClick:()=>i(),children:"Submit"})}const F$=new A(navigator.userAgent),H$=F$.phone(),ns=H$?Ve:We;function O$({isSubmit:t,wordMinCount:i,wordMaxCount:n,answerLength:s,saveAnswer:a,submitAnswer:u}){return e.jsxs("div",{className:ns.goNextStepBox,children:[e.jsxs("div",{className:ns.wordLimitIndicator,children:[e.jsxs("div",{className:ns.limit,children:["• Word Limit: ",i,"~",n]}),e.jsxs("div",{className:ns.words,children:["• The number of words: ",s]})]}),e.jsx(M$,{saveAnswer:a}),e.jsx(Fi,{isSubmit:t,submitAnswer:u})]})}const D$=new A(navigator.userAgent),W$=D$.phone(),ft=W$?vt:wt;function Rs({currentSubmitCount:t,maxSubmitCount:i,submitNoRevision:n}){const{t:s}=he();return e.jsx("div",{className:ft.submitRevision,children:e.jsxs("div",{className:`${ft.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:ft.stepOrder,children:"Step5. Writing Activity"}),e.jsx("div",{className:ft.title,children:s("study.이 달의 첨삭")}),e.jsx("div",{className:ft.comment,children:s("study.수고했어요! 이달의 남은 첨삭은 모두 사용했어요.")}),e.jsxs("div",{className:ft.revisionBoard,children:[e.jsxs("div",{className:ft.txtLabel,children:[s("study.남은 첨삭"),":"]}),e.jsxs("div",{className:ft.txtCount,children:[i-t," / ",i]}),e.jsxs("div",{className:ft.txtLabel,children:[s("study.첨삭 완료"),":"]}),e.jsx("div",{className:ft.txtCount,children:t})]}),e.jsx("div",{className:`${ft.selectBox} ${ft.revisionDone}`,children:e.jsx("div",{className:ft.noButton,onClick:()=>n(),children:"Done"})})]})})}const V$=new A(navigator.userAgent),G$=V$.phone(),_t=G$?vt:wt;function U$({currentSubmitCount:t,maxSubmitCount:i,submitWritingActivity:n}){const{t:s}=he();return e.jsx("div",{className:_t.submitRevision,children:e.jsxs("div",{className:`${_t.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:_t.stepOrder,children:"Step5. Writing Activity"}),e.jsx("div",{className:_t.title,children:s("study.이 달의 첨삭")}),e.jsxs("div",{className:_t.revisionBoard,children:[e.jsxs("div",{className:_t.txtLabel,children:[s("study.목표 첨삭"),":"]}),e.jsx("div",{className:_t.txtCount,children:i}),e.jsxs("div",{className:_t.txtLabel,children:[s("study.남은 첨삭"),":"]}),e.jsx("div",{className:_t.txtCount,children:i-t-1}),e.jsxs("div",{className:_t.txtLabel,children:[s("study.첨삭 완료"),":"]}),e.jsxs("div",{className:_t.txtCount,children:[t+1," / ",i]})]}),e.jsx("div",{className:`${_t.selectBox} ${_t.revisionDone}`,children:e.jsx("div",{className:_t.yesButton,onClick:()=>n(),children:"Done"})})]})})}const K$=new A(navigator.userAgent),J$=K$.phone(),bt=J$?vt:wt;function li({currentSubmitCount:t,maxSubmitCount:i,submitNoRevision:n,submitWritingActivity:s}){const{t:a}=he();return e.jsx("div",{className:bt.submitRevision,children:e.jsxs("div",{className:`${bt.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:bt.stepOrder,children:"Step5. Writing Activity"}),e.jsx("div",{className:bt.title,children:a("study.이 달의 첨삭")}),e.jsx("div",{className:bt.comment,children:a("study.첨삭을 받으시겠어요?")}),e.jsxs("div",{className:bt.revisionBoard,children:[e.jsxs("div",{className:bt.txtLabel,children:[a("study.남은 첨삭"),":"]}),e.jsxs("div",{className:bt.txtCount,children:[i-t," / ",i]}),e.jsxs("div",{className:bt.txtLabel,children:[a("study.첨삭 완료"),":"]}),e.jsx("div",{className:bt.txtCount,children:t})]}),e.jsxs("div",{className:bt.selectBox,children:[e.jsx("div",{className:bt.noButton,onClick:()=>n(),children:"No"}),e.jsx("div",{className:bt.yesButton,onClick:()=>s(),children:"Yes"})]})]})})}function Y$({mode:t,type:i,currentSubmitCount:n,maxSubmitCount:s,submitWritingActivity:a,submitNoRevision:u}){let l;switch(i){case"In School":case"Overseas":switch(t){case"All":case"Free":s-n<1?l=e.jsx(Rs,{currentSubmitCount:n,maxSubmitCount:s,submitNoRevision:u}):l=e.jsx(li,{currentSubmitCount:n,maxSubmitCount:s,submitNoRevision:u,submitWritingActivity:a});break;case"Limit":s-n<1?l=e.jsx(Rs,{currentSubmitCount:n,maxSubmitCount:s,submitNoRevision:u}):l=e.jsx(U$,{currentSubmitCount:n,maxSubmitCount:s,submitWritingActivity:a});break}break;case"No Revision":s-n<1?l=e.jsx(Rs,{currentSubmitCount:n,maxSubmitCount:s,submitNoRevision:u}):l=e.jsx(li,{currentSubmitCount:n,maxSubmitCount:s,submitNoRevision:u,submitWritingActivity:a});break}return e.jsx(e.Fragment,{children:l})}const X$=new A(navigator.userAgent),lo=X$.phone(),di="Writing Activity",qs=lo?Ve:We;function Z$(t){const{studyInfo:i,handler:n}=c.useContext(ie),s=t.currentStep,a=ve(()=>{window.onLogoutStudy()}),[u,l]=c.useState("animate__bounceInRight"),{isStepIntro:r,closeStepIntro:x}=we(),{isResultShow:_,changeResultShow:b}=He(),[f,p]=c.useState(!1),{quizState:S,changeQuizState:k}=So(),[m,o]=je(ko,t,s),{scoreBoardData:h,setStudentAnswers:d}=ze(i.mode),[g,y]=c.useState(0),[w,v]=c.useState([]),[R,z]=c.useState(!1);if(c.useEffect(()=>{!r&&m&&(a.setup(m.QuizTime,!0),k("studying"))},[r]),c.useEffect(()=>{if(m)try{if(o.length>0){const B=[];o.map(D=>B.push(D.TempText)),v([...B])}else{const B=new Array(m.Writing.Question.length).fill("");switch(m.Writing.Activity){case"Book Report":B[0]=`The Title is ${m.Title}`,B[1]=`The author is ${m.Author}`;break;case"Book Review":B[0]="Describe briefly what happens in the book or the main idea.",B[1]="What are interesting features of the book?",B[2]="Describe some morals or new knowledge you've learnt from the book.";break;case"KWL Chart":B[0]="What I know",B[1]="What I want to know",B[2]="What I learned";break;case"Story Map":B[0]="What happened first?",B[1]="What happened next?",B[2]="What happened last?";break}v([...B])}d(o,0)}catch(B){console.error(B)}},[m]),c.useEffect(()=>{if(w&&m){const B=w.filter(K=>K==="").length,D=W();B===0&&D>=m.Writing.WordMinCount&&D<=m.Writing.WordMaxCount?z(!0):z(!1)}},[w]),!m)return e.jsx(e.Fragment,{children:"Loading..."});const E=()=>{l("animate__bounceOutLeft")},j=async()=>{if(k("checking"),S==="loading"){const B=w.join("┒"),D={bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${s}`,saveType:"R",writeText:B,isFinishStudy:!0},K=await yn(i.mode,D);Number(K.result)===0&&(n.finishStudy={id:Number(K.result),cause:K.resultMessage},t.onFinishActivity())}},$=async()=>{if(k("checking"),S==="studying"){const B=w.join("┒"),D={bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${s}`,saveType:"S",writeText:B,isFinishStudy:!0},K=await yn(i.mode,D);Number(K.result)===0&&(n.finishStudy={id:Number(K.result),cause:K.resultMessage},t.onFinishActivity())}},M=async()=>{if(k("checking"),S==="studying"){const B=w.join("┒"),D={bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${s}`,saveType:"E",writeText:B,isFinishStudy:!0},K=await yn(i.mode,D);Number(K.result)===0&&(n.finishStudy={id:Number(K.result),cause:K.resultMessage},t.onFinishActivity())}},F=()=>{R&&b(!0)},O=B=>{y(B)},H=(B="")=>{let D=w!==void 0?[...w]:[B];D[g]=B,v([...D])},W=()=>w.reduce((D,K)=>D+(K===""?0:_e.trimStart(_e.trimEnd(K.replaceAll(/\s+/g," "))).split(" ").length),0),q=async()=>{try{k("checking");const B=w.join("┒");if(S==="studying"){const D={bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${s}`,saveType:"X",writeText:B},K=await yn(i.mode,D);Number(K.result)===0&&k("studying")}}catch(B){console.error(B)}},N=B=>{p(B)};return e.jsx(e.Fragment,{children:r?e.jsx("div",{className:`animate__animated ${u}`,onAnimationEnd:()=>{u==="animate__bounceOutLeft"&&x()},children:e.jsx(qi,{mode:m.Writing.Mode,type:m.Writing.Type,currentSubmitCount:m.Writing.CurrentSubmitCount,maxSubmitCount:m.Writing.MaxSubmitCount,goWritingActivity:E,noWritingActivity:j})}):e.jsx(e.Fragment,{children:_?e.jsx("div",{className:"animate__animated ",children:e.jsx(Y$,{mode:m.Writing.Mode,type:m.Writing.Type,currentSubmitCount:m.Writing.CurrentSubmitCount,maxSubmitCount:m.Writing.MaxSubmitCount,submitWritingActivity:$,submitNoRevision:M})}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:g+1,totalQuizCnt:m.Writing.Question.length,life:1,timeMin:a.time.timeMin,timeSec:a.time.timeSec,changeSideMenu:N}),e.jsx("div",{className:`${qs.comment} animate__animated animate__fadeInLeft`,children:di}),e.jsxs(Qe,{children:[lo?e.jsx(e.Fragment,{}):e.jsx(Z,{height:15}),e.jsxs(Be,{typeCSS:qs.writingActivity2,containerCSS:qs.container,children:[e.jsx(j$,{currentTabIndex:g,questionData:m.Writing.Question,changeTabNo:O}),e.jsx(Q$,{question:m.Writing.Question[g]}),e.jsx(I$,{wordMinCount:m.Writing.WordMinCount,wordMaxCount:m.Writing.WordMaxCount,answerData:w[g],onChangeHandler:H}),e.jsx(O$,{isSubmit:R,wordMinCount:m.Writing.WordMinCount,wordMaxCount:m.Writing.WordMaxCount,answerLength:W(),saveAnswer:q,submitAnswer:F})]}),lo?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),f&&e.jsx(Ce,{isSideOpen:f,currentStep:s,currentStepType:di,quizLength:0,maxAnswerCount:0,scoreBoardData:h,changeSideMenu:N,changeStep:t.changeStep})]})})})}const eC=new A(navigator.userAgent),mo=eC.phone(),mi="Writing Activity",Fs=mo?Ve:We;function tC(t){const{studyInfo:i,handler:n}=c.useContext(ie),s=t.currentStep,a=ve(()=>{window.onLogoutStudy()}),[u,l]=c.useState("animate__bounceInRight"),{isStepIntro:r,closeStepIntro:x}=we(),[_,b]=c.useState(!1),{quizState:f,changeQuizState:p}=So(),[S,k]=je(ko,t,"STEP"),{scoreBoardData:m,setStudentAnswers:o}=ze(i.mode),[h,d]=c.useState([]);if(c.useEffect(()=>{!r&&S&&(a.setup(S.QuizTime,!0),p("studying"))},[r]),c.useEffect(()=>{if(S)try{if(k.length>0){const v=[];k.map(R=>v.push(R.TempText)),d([...v])}else{const v=new Array(S.Writing.Question.length).fill("");switch(S.Writing.Activity){case"Book Report":v[0]=`The Title is ${S.Title}`,v[1]=`The author is ${S.Author}`;break;case"Book Review":v[0]="Describe briefly what happens in the book or the main idea.",v[1]="What are interesting features of the book?",v[2]="Describe some morals or new knowledge you've learnt from the book.";break;case"KWL Chart":v[0]="What I know",v[1]="What I want to know",v[2]="What I learned";break;case"Story Map":v[0]="What happened first?",v[1]="What happened next?",v[2]="What happened last?";break}d([...v])}o(k,0)}catch(v){console.error(v)}},[S]),!S)return e.jsx(e.Fragment,{children:"Loading..."});const g=()=>{l("animate__bounceOutLeft")},y=async()=>{if(p("checking"),f==="loading"){const v=h.join("┒"),R={bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${s}`,saveType:"R",writeText:v,isFinishStudy:!0},z=await yn(i.mode,R);Number(z.result)===0&&(n.finishStudy={id:Number(z.result),cause:z.resultMessage},t.onFinishActivity())}},w=v=>{b(v)};return e.jsx(e.Fragment,{children:r?e.jsx("div",{className:`animate__animated ${u}`,onAnimationEnd:()=>{u==="animate__bounceOutLeft"&&x()},children:e.jsx(qi,{mode:S.Writing.Mode,type:S.Writing.Type,currentSubmitCount:S.Writing.CurrentSubmitCount,maxSubmitCount:S.Writing.MaxSubmitCount,goWritingActivity:g,noWritingActivity:y})}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:1,totalQuizCnt:S.Writing.Question.length,life:1,timeMin:a.time.timeMin,timeSec:a.time.timeSec,changeSideMenu:w}),e.jsx("div",{className:`${Fs.comment} animate__animated animate__fadeInLeft`,children:mi}),e.jsxs(Qe,{children:[mo?e.jsx(e.Fragment,{}):e.jsx(Z,{height:15}),e.jsx(Be,{typeCSS:Fs.writingActivity2,containerCSS:Fs.container,children:e.jsx("div",{children:S.Writing.Question.map((v,R)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{fontWeight:700},children:["Q. ",v]}),e.jsxs("div",{children:["A. ",k[R].TempText]}),e.jsx("br",{})]}))})}),mo?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),_&&e.jsx(Ce,{isSideOpen:_,currentStep:s,currentStepType:mi,quizLength:0,maxAnswerCount:0,scoreBoardData:m,changeSideMenu:w,changeStep:t.changeStep})]})})}const nC=new A(navigator.userAgent),sC=nC.phone(),St=sC?us:cs;function oC({currentSubmitCount:t,maxSubmitCount:i,goWritingActivity:n}){const{t:s}=he();return e.jsx("div",{className:St.revisionFreeIntro,children:e.jsxs("div",{className:`${St.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:St.stepOrder,children:"Step5"}),e.jsx("div",{className:St.quizType,children:"Writing Activity(R)"}),e.jsx("div",{className:St.comment,children:s("study.글쓰기를 하시겠어요?")}),e.jsxs("div",{className:St.revisionBoard,children:[e.jsxs("div",{className:St.txtLabel,children:[s("study.남은 첨삭"),":"]}),e.jsxs("div",{className:St.txtCount,children:[i-t," / ",i]}),e.jsxs("div",{className:St.txtLabel,children:[s("study.첨삭 완료"),":"]}),e.jsx("div",{className:St.txtCount,children:t})]}),e.jsx("div",{style:{display:"flex"},className:St.selectBox,children:e.jsx("div",{className:St.goButton,onClick:()=>n(),children:"Go"})})]})})}const iC=new A(navigator.userAgent),rC=iC.phone(),aC=rC?Ve:We;function cC({wordMinCount:t,wordMaxCount:i,answerData:n,isRewriting:s,onChangeHandler:a}){return e.jsx("div",{className:aC.writingArea,children:e.jsx("textarea",{placeholder:`Please fill out within ${t} to ${i} characters.`,disabled:!s,onChange:u=>a(u.currentTarget.value),value:n.join(`

`)})})}const uC=new A(navigator.userAgent),lC=uC.phone(),ss=lC?Ve:We;function dC({isSubmit:t,wordMinCount:i,wordMaxCount:n,answerLength:s,submitAnswer:a}){return e.jsxs("div",{className:ss.goNextStepBox,children:[e.jsxs("div",{className:ss.wordLimitIndicator,children:[e.jsxs("div",{className:ss.limit,children:["• Word Limit: ",i,"~",n]}),e.jsxs("div",{className:ss.words,children:["• The number of words: ",s]})]}),e.jsx(Fi,{isSubmit:t,submitAnswer:a})]})}const mC=new A(navigator.userAgent),xC=mC.phone(),hC=xC?Ve:We;function _C({revisionImageTop:t,revisionImageBottom:i,comment:n}){return e.jsxs("div",{className:hC.revisionReport,children:[e.jsx("img",{src:t,alt:""}),e.jsx("img",{src:i,alt:""}),e.jsx("span",{children:n})]})}const pC=new A(navigator.userAgent),xo=pC.phone(),xi="Writing Activity",Hs=xo?Ve:We;function gC(t){const{studyInfo:i,handler:n}=c.useContext(ie),s=t.currentStep,a=ve(()=>{window.onLogoutStudy()}),[u,l]=c.useState("animate__bounceInRight"),{isStepIntro:r,closeStepIntro:x}=we(),[_,b]=c.useState(!1),{quizState:f,changeQuizState:p}=So(),[S,k]=je(ko,t,"7"),{scoreBoardData:m,setStudentAnswers:o}=ze(i.mode),[h,d]=c.useState([]),[g,y]=c.useState(!1);if(c.useEffect(()=>{!r&&S&&(a.setup(S.QuizTime,!0),p("studying"))},[r]),c.useEffect(()=>{if(S)try{if(k.length>0){const j=[];k.map($=>j.push($.TempText)),d([...j])}else{const j=new Array(S.Writing.Question.length).fill("");switch(S.Writing.Activity){case"Book Report":j[0]=`The Title is ${S.Title}`,j[1]=`The author is ${S.Author}`;break;case"Book Review":j[0]="Describe briefly what happens in the book or the main idea.",j[1]="What are interesting features of the book?",j[2]="Describe some morals or new knowledge you've learnt from the book.";break;case"KWL Chart":j[0]="What I know",j[1]="What I want to know",j[2]="What I learned";break;case"Story Map":j[0]="What happened first?",j[1]="What happened next?",j[2]="What happened last?";break}d([...j])}o(k,0)}catch(j){console.error(j)}},[S]),c.useEffect(()=>{if(h&&S){const j=h.filter(M=>M==="").length,$=z();j===0&&$>=S.Writing.WordMinCount&&$<=S.Writing.WordMaxCount?y(!0):y(!1)}},[h]),!S)return e.jsx(e.Fragment,{children:"Loading..."});const w=()=>{l("animate__bounceOutLeft")},v=async()=>{if(p("checking"),f==="studying"){const j=h.join(" "),$={bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,writeText:j},M=await cr($);Number(M.result)===0&&(n.finishStudy={id:Number(M.result),cause:M.resultMessage},t.onFinishActivity())}},R=(j="")=>{let $=h!==void 0?[...h]:[j];$=j.split(`

`),d([...$])},z=()=>h.reduce(($,M)=>$+(M===""?0:_e.trimStart(_e.trimEnd(M.replaceAll(/\s+/g," "))).split(" ").length),0),E=j=>{b(j)};return e.jsx(e.Fragment,{children:r?e.jsx("div",{className:`animate__animated ${u}`,onAnimationEnd:()=>{u==="animate__bounceOutLeft"&&x()},children:e.jsx(oC,{currentSubmitCount:S.Writing.CurrentSubmitCount,maxSubmitCount:S.Writing.MaxSubmitCount,goWritingActivity:w})}):e.jsxs(e.Fragment,{children:[e.jsx($e,{quizNumber:1,totalQuizCnt:S.Writing.Question.length,life:1,timeMin:a.time.timeMin,timeSec:a.time.timeSec,changeSideMenu:E}),e.jsx("div",{className:`${Hs.comment} animate__animated animate__fadeInLeft`,children:xi}),e.jsxs(Qe,{children:[xo?e.jsx(e.Fragment,{}):e.jsx(Z,{height:15}),e.jsx(Be,{typeCSS:Hs.writingActivity2,containerCSS:Hs.container,children:S.Rewriting&&e.jsxs(e.Fragment,{children:[e.jsx(_C,{revisionImageTop:S.Rewriting.ReWritingImage1,revisionImageBottom:S.Rewriting.ReWritingImage2,comment:S.Rewriting.ReWritingComment}),e.jsx(cC,{wordMinCount:S.Writing.WordMinCount,wordMaxCount:S.Writing.WordMaxCount,answerData:h,isRewriting:S.Rewriting.IsReWriting,onChangeHandler:R}),S.Rewriting.IsReWriting&&e.jsx(dC,{isSubmit:g,wordMinCount:S.Writing.WordMinCount,wordMaxCount:S.Writing.WordMaxCount,answerLength:z(),submitAnswer:v})]})}),xo?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),_&&e.jsx(Ce,{isSideOpen:_,currentStep:s,currentStepType:xi,quizLength:0,maxAnswerCount:0,scoreBoardData:m,changeSideMenu:E,changeStep:t.changeStep})]})})}const yC=new A(navigator.userAgent),Hi=t=>{const{t:i}=he(),n=Yt(),{studyInfo:s,bookInfo:a,handler:u}=c.useContext(ie);c.useEffect(()=>{if(s.availableQuizStatus===1){alert(i("common.ReTest 정책으로 당일 재학습 불가"));try{window.onExitStudy()}catch{location.replace("/")}}else if(s.availableQuizStatus===2){alert(i("common.일일 획득 가능 포인트 초과"));try{window.onExitStudy()}catch{location.replace("/")}}},[]);let l=s.startStep;a.RevisionStatusCode==="028010"&&s.openSteps.find(w=>w===5)&&(l=5);const[r,x]=c.useState(l);c.useEffect(()=>{s.startStep=r},[r]);const[_,b]=c.useState(!s.isPassedVocabularyPractice||s.mode!=="Quiz"),f=s.mappedStepActivity[r-1],p=()=>{const y=s.openSteps.findIndex(w=>w===r);return y>=0&&s.openSteps.length>y+1?s.openSteps[y+1]:void 0},S=()=>{const y=p();if(y)x(y);else if(s.mode==="Quiz")u.actionFinishStudy(u.finishStudy,n);else try{window.onExitStudy()}catch{location.replace("/")}},k=y=>{s.isPassedVocabularyPractice=!y,b(y)},m=y=>{x(y)},o=Number(a.BookCode.substring(6));let h="";if(s.bookType==="EB"){if(a.BookLevel==="KA"){const y=["theme-zoo-2","theme-jungle","theme-antarctica","theme-zoo-1"];h=y[o%y.length]}else if(a.BookLevel==="KB"||a.BookLevel==="KC"){const y=["theme-farm","theme-forest","theme-kids-room","theme-space"];h=y[o%y.length]}}if(h===""){const y=["theme-camping","theme-season-spring","theme-season-summer","theme-season-autumn","theme-season-winter","theme-playground"];h=y[o%y.length]}const d={mode:s.mode,currentStep:r,studyId:s.studyId,studentHistoryId:s.studentHistoryId,bookType:s.bookType,studyTypeCode:s.bookType==="EB"?"001006":"001001",isEnabledPractice:s.isPassedVocabularyPractice&&s.mode==="Quiz",theme:h,lastStep:s.openSteps[s.openSteps.length-1],isReTestYn:s.isReTestYn,onFinishActivity:S,changeVocaState:k,changeStep:m};let g;switch(f){case Ge.LISTENING_1:g=e.jsx(N1,{...d});break;case Ge.LISTENING_2:g=e.jsx(R1,{...d});break;case Ge.LISTENING_3:g=e.jsx(K1,{...d});break;case Ge.LISTENING_4:g=e.jsx(dx,{...d});break;case Ge.VOCABULARY_1:_?g=e.jsx($S,{...d}):g=e.jsx(g2,{...d});break;case Ge.VOCABULARY_2:_?g=e.jsx(R2,{...d}):g=e.jsx(Y2,{...d});break;case Ge.VOCABULARY_3:_?g=e.jsx(vv,{...d}):g=e.jsx(Uv,{...d});break;case Ge.VOCABULARY_4:_?g=e.jsx(pj,{...d}):g=e.jsx(Bj,{...d});break;case Ge.READING_COMP_1:g=e.jsx(hh,{...d});break;case Ge.READING_COMP_2:g=e.jsx(Ch,{...d});break;case Ge.READING_COMP_3:g=e.jsx(Hh,{...d});break;case Ge.READING_COMP_4:g=e.jsx(x_,{...d});break;case Ge.SUMMARY_1:g=e.jsx(Cg,{...d});break;case Ge.SUMMARY_2:g=e.jsx(Zg,{...d});break;case Ge.TRUE_OR_FALSE:g=e.jsx(tf,{...d});break;case Ge.CLOZE_1:g=e.jsx(Ym,{...d});break;case Ge.CLOZE_2:g=e.jsx(m0,{...d});break;case Ge.CLOZE_3:g=e.jsx($0,{...d});break;case Ge.WRITING_1:g=e.jsx(l$,{...d});break;case Ge.WRITING_2:s.isReview?a.RevisionStatusCode==="028010"||a.RevisionStatusCode==="028009"?g=e.jsx(gC,{...d}):g=e.jsx(tC,{...d}):g=e.jsx(Z$,{...d});break}return e.jsx("div",{className:`${yC.phone()?po.quizTemplate:_o.quizTemplate} ${h}`,children:g})};function fC(){const[t,i]=c.useState(!1),[n,s]=c.useState({width:1,height:1});return{imgSize:n,preloadImage:u=>{if(!t){const l=[...new Set(u.map(r=>r.ImagePath))];l.map((r,x)=>{const _=new Image;_.src=r,x===0&&r!==null&&s({width:_.width,height:_.height}),x===l.length-1&&i(!0)})}}}}const bC="_ebook_tgkc0_1",kC="_ebook_page_tgkc0_26",SC="_text_wrapper_tgkc0_29",wC="_ebook_header_tgkc0_36",vC="_menu_button_tgkc0_48",jC="_ebook_play_bar_drop_down_menu_tgkc0_57",zC="_read_mode_option_tgkc0_60",$C="_read_mode_option_menu_tgkc0_66",CC="_menu_name_tgkc0_80",QC="_menu_item_tgkc0_86",AC="_on_tgkc0_91",NC="_light_box_tgkc0_95",TC="_ebook_play_mode_mobile_tgkc0_105",IC="_slide_in_bottom_tgkc0_114",BC="_slide_out_bottom_tgkc0_138",EC="_label_tgkc0_162",PC="_select_box_tgkc0_168",MC="_select_button_tgkc0_173",LC="_radio_tgkc0_190",RC="_page_turning_mode_tgkc0_210",qC="_choose_button_tgkc0_219",FC="_container_tgkc0_231",HC="_ebook_progress_bar_tgkc0_275",OC="_progress_tgkc0_282",DC="_ebook_play_bar_tgkc0_57",WC="_ebook_play_bar_pc_area_l_tgkc0_301",VC="_read_mode_button_tgkc0_313",GC="_ebook_play_bar_pc_area_c_tgkc0_320",UC="_backward_tgkc0_327",KC="_forward_tgkc0_328",JC="_play_tgkc0_342",YC="_ebook_play_bar_pc_area_r_tgkc0_354",XC="_full_screen_button_tgkc0_361",ZC="_word_button_tgkc0_369",eQ="_landscape_tgkc0_389",tQ="_mobile_tgkc0_420",nQ="_ebook_page_arrows_tgkc0_439",sQ="_left_arrow_tgkc0_439",oQ="_right_arrow_tgkc0_440",iQ="_ebook_body_pc_tgkc0_466",rQ="_ebook_contents_tgkc0_471",aQ="_pages_tgkc0_474",cQ="_ebook_body_mobile_p_tgkc0_499",uQ="_ebook_voca_list_tgkc0_516",lQ="_voca_item_tgkc0_521",dQ="_word_item_tgkc0_526",mQ="_word_tgkc0_369",xQ="_mean_tgkc0_535",hQ="_ebook_vocabulary_note_tgkc0_541",_Q="_ebook_vocabulary_note_container_tgkc0_549",pQ="_ebook_vocabulary_note_area_top_tgkc0_566",gQ="_close_vocabulary_note_tgkc0_569",yQ="_btn_delete_tgkc0_574",fQ="_btn_print_tgkc0_586",bQ="_book_info_tgkc0_597",kQ="_book_code_tgkc0_597",SQ="_book_title_tgkc0_600",wQ="_line_tgkc0_604",vQ="_ebook_vocabulary_note_screen_block_tgkc0_610",jQ="_chooseRating_tgkc0_619",zQ="_btnStarOn_tgkc0_625",$Q="_btnStarOff_tgkc0_633",CQ="_ebookRating_tgkc0_642",QQ="_groupBookcover_tgkc0_680",AQ="_imgBookcover_tgkc0_688",NQ="_groupChoose_tgkc0_698",TQ="_txtQuestion_tgkc0_708",IQ="_groupChooseRating_tgkc0_723",BQ="_groupConfirm_tgkc0_732",EQ="_btnConfirm_tgkc0_739",PQ="_blue_tgkc0_759",MQ="_gray_tgkc0_768",LQ="_groupComment_tgkc0_777",RQ="_icoExclamationMark_tgkc0_784",qQ="_txtComment_tgkc0_793",FQ="_warningMessage_tgkc0_799",HQ="_textWrapper_tgkc0_802",OQ="_movieContents_tgkc0_806",DQ="_btnDelete_tgkc0_826",C={ebook:bC,ebook_page:kC,text_wrapper:SC,ebook_header:wC,menu_button:vC,ebook_play_bar_drop_down_menu:jC,read_mode_option:zC,read_mode_option_menu:$C,menu_name:CC,menu_item:QC,on:AC,light_box:NC,ebook_play_mode_mobile:TC,slide_in_bottom:IC,"slide-in-bottom":"_slide-in-bottom_tgkc0_1",slide_out_bottom:BC,"slide-out-bottom":"_slide-out-bottom_tgkc0_1",label:EC,select_box:PC,select_button:MC,radio:LC,page_turning_mode:RC,choose_button:qC,container:FC,ebook_progress_bar:HC,progress:OC,ebook_play_bar:DC,ebook_play_bar_pc_area_l:WC,read_mode_button:VC,ebook_play_bar_pc_area_c:GC,backward:UC,forward:KC,play:JC,ebook_play_bar_pc_area_r:YC,full_screen_button:XC,word_button:ZC,landscape:eQ,mobile:tQ,ebook_page_arrows:nQ,left_arrow:sQ,right_arrow:oQ,ebook_body_pc:iQ,ebook_contents:rQ,pages:aQ,ebook_body_mobile_p:cQ,ebook_voca_list:uQ,voca_item:lQ,word_item:dQ,word:mQ,mean:xQ,ebook_vocabulary_note:hQ,ebook_vocabulary_note_container:_Q,ebook_vocabulary_note_area_top:pQ,close_vocabulary_note:gQ,btn_delete:yQ,btn_print:fQ,book_info:bQ,book_code:kQ,book_title:SQ,line:wQ,ebook_vocabulary_note_screen_block:vQ,chooseRating:jQ,btnStarOn:zQ,btnStarOff:$Q,ebookRating:CQ,groupBookcover:QQ,imgBookcover:AQ,groupChoose:NQ,txtQuestion:TQ,groupChooseRating:IQ,groupConfirm:BQ,btnConfirm:EQ,blue:PQ,gray:MQ,groupComment:LQ,icoExclamationMark:RQ,txtComment:qQ,warningMessage:FQ,textWrapper:HQ,movieContents:OQ,btnDelete:DQ};function WQ({studyId:t,studentHistoryId:i,pageData:n,storyMode:s,changeSideMenu:a,changeStoryMode:u,changeReadingComplete:l}){const r=c.useMemo(()=>new Audio,[]);r.autoplay=!0;const[x,_]=c.useState(""),b=c.useRef(!0),[f,p]=c.useState(0),[S,k]=c.useState(1),m=c.useRef(!0),[o,h]=c.useState(1),[d,g]=c.useState({playPage:2,sequnce:0}),y=c.useRef(2),[w,v]=c.useState(0);c.useEffect(()=>{if(n){const N=n.find(B=>B.Page===o&&B.SoundPath);g({playPage:N?o:o+1,sequnce:0})}},[o]),c.useEffect(()=>{const N=()=>{b.current?(b.current=!1,E()):(r.play(),_("play"))};r.addEventListener("canplaythrough",N);const B=()=>{p(r.currentTime)};r.addEventListener("timeupdate",B);const D=()=>{};r.addEventListener("pause",D);const K=()=>{if(b.current)b.current=!1;else{const G=m.current;d.playPage%2===1?g({playPage:d.playPage+1,sequnce:0}):G?n.find(I=>I.Page===o+2)?h(o+2):(v(w+1),_("")):_("")}};return r.addEventListener("ended",K),R(d.playPage,d.sequnce),()=>{r.removeEventListener("canplaythrough",N),r.removeEventListener("timeupdate",B),r.removeEventListener("pause",D),r.removeEventListener("ended",K),z()}},[d]),c.useEffect(()=>{r.playbackRate=S},[S]),c.useEffect(()=>{w===1?s==="ListenAndRepeat"?h(3):(b.current=!0,a(!0),H(1),l(t,i)):w===2&&s==="ListenAndRepeat"&&(b.current=!0,u("Story"),a(!0),H(1),l(t,i))},[w]);const R=(N,B)=>{const D=n.filter(K=>K.Page===N&&K.SoundPath!=="");D.length>0&&D.length>B-1?(s==="ListenAndRepeat"&&w===1?r.src=D[0].SoundPath2:r.src=D[0].SoundPath,r.playbackRate=S,B>0&&(r.currentTime=D[B-1].StartTime/1e3)):(r.src="",r.currentTime=0)},z=()=>{r.pause(),r.src="",r.currentTime=0,_("")},E=()=>{r.pause(),_("pause")},j=()=>{r.pause()},$=()=>{r.play(),_("play")},M=N=>{k(N)},F=(N,B)=>{g({playPage:N,sequnce:B})},O=N=>{r.volume=N},H=N=>{N===1&&_(""),h(N)};return{pageNumber:o,playState:x,pageSeq:d,currentTime:f,readCnt:w,playAudio:R,stopAudio:z,pauseAudio:E,pauseAudioByWord:j,resumeAudio:$,changePlaySpeed:M,changeDuration:F,changeVolume:O,changePageNumber:H,changeAutoNextPage:N=>{m.current=N},changeMaxReadCnt:N=>{y.current=N}}}function VQ({children:t}){var l,r,x;const n=(((x=(r=(l=c.useContext(ie))==null?void 0:l.bookInfo)==null?void 0:r.BookLevel)==null?void 0:x.substring(0,1))||"K")==="K"?480:525,s=window.matchMedia("(orientation: portrait)").matches,a=(window.innerHeight-100)/750,u=window.innerWidth/(n*2);return e.jsx("div",{className:C.ebook_body_pc,children:e.jsx("div",{className:C.ebook_contents,children:e.jsx("div",{style:{transform:`scale(${s?u:a})`},className:`${C.pages}`,children:t})})})}function hi({pageNumber:t,sentence:i,sequence:n,marginTop:s,marginLeft:a,clickSentence:u}){const l=x=>{const _=/id=\"t/g;let b=x.replace(_,`id="t_${t}_`);if(n!==999){const f=/ id=\"t/g;b=b.replace(f,` style='margin-top: ${s}px; margin-left: ${a}px; cursor:pointer;' id="t`)}else if(n===999){const f=/ id=\"t/g;b=b.replace(f,` style='margin-top: ${s}px; margin-left: ${a}px;' id="t`)}return b},r=()=>{n!==999&&u(t,n)};return e.jsx("div",{dangerouslySetInnerHTML:{__html:l(i)},onClick:()=>r()})}function GQ({pageNumber:t,sentence:i,marginTop:n,marginLeft:s,sequence:a,color:u,clickSentence:l}){const r=_=>{const b=/id=\"t/g;return _.replace(b,`style='margin-top: ${n}px; margin-left: ${s}px; background-color:${u}' id="t_${t}_`)},x=()=>{a!==999&&l(t,a)};return e.jsx("div",{dangerouslySetInnerHTML:{__html:r(i)},onClick:()=>x()})}function fn({isTextShow:t,pageSeq:i,pageNumber:n,storyData:s,currentTime:a,readCnt:u,isHighlight:l,clickSentence:r}){const{handler:x,bookInfo:_}=c.useContext(ie),[b,f]=c.useState(""),[p,S]=c.useState(),[k,m]=c.useState(),o=_.BookLevel.substring(0,1)||"K",[h,d]=c.useState(""),[g,y]=c.useState(n);return c.useEffect(()=>{},[t]),c.useEffect(()=>{var w,v;if(s){const R=(w=s.find(j=>j.Page===n&&j.Sequence===999))==null?void 0:w.Css;if(R){const j=/\#t/g,$=R.replace(j,`#t_${n}_`);f($)}const z=(v=s.find(j=>j.Page===n&&j.Sequence===999))==null?void 0:v.ImagePath,E=s.filter(j=>j.Page===n);m(z),S(E),g<n?(y(n),d("slide-in-right"),setTimeout(()=>{d("")},100)):(y(n),d("slide-in-left"),setTimeout(()=>{d("")},100))}},[n]),e.jsx("div",{className:`${C.ebook_page} ${h}`,children:e.jsxs("div",{className:C.text_wrapper,style:{backgroundImage:`url(${k})`,width:o.toUpperCase()==="K"?"480px":"525px"},children:[e.jsx("div",{dangerouslySetInnerHTML:{__html:b}}),p&&t&&p.map(w=>x.storyMode==="ListenAndRepeat"&&u===1?e.jsx(hi,{pageNumber:n,sequence:w.Sequence,sentence:w.Contents,marginTop:w.MarginTop,marginLeft:w.MarginLeft,clickSentence:r}):i.playPage===n&&w.Sequence!==999&&a>=w.StartTime/1e3&&a<=w.EndTime/1e3&&l?e.jsx(GQ,{pageNumber:n,sequence:w.Sequence,sentence:w.Contents,marginTop:w.MarginTop,marginLeft:w.MarginLeft,color:w.FontColor,clickSentence:r}):e.jsx(hi,{pageNumber:n,sequence:w.Sequence,sentence:w.Contents,marginTop:w.MarginTop,marginLeft:w.MarginLeft,clickSentence:r}))]})})}const wo="/study/BookReading/assets/icon_chev_white_left-1ab06882.svg",vo="/study/BookReading/assets/icon_chev_white_right-ff1d2e9e.svg";function UQ({turnPageLeft:t,turnPageRight:i}){return e.jsxs("div",{className:C.ebook_page_arrows,children:[e.jsx("div",{className:C.left_arrow,children:e.jsx("button",{tabIndex:-1,contentEditable:!1,onClick:n=>{n.currentTarget.blur(),t()},children:e.jsx("img",{src:wo,width:60,alt:""})})}),e.jsx("div",{className:C.right_arrow,children:e.jsx("button",{tabIndex:-1,contentEditable:!1,onClick:n=>{n.currentTarget.blur(),i()},children:e.jsx("img",{src:vo,width:60,alt:""})})})]})}const jo="/study/BookReading/assets/icon_chev_down-3920372e.svg";function KQ({changeTextShow:t,changeMuteAudio:i,changeHighlight:n}){const{t:s}=he(),{handler:a,bookInfo:u}=c.useContext(ie),[l,r]=c.useState(!1),x=u.HighlightDataYn==="Y"?[{name:"Basic",selected:"on"},{name:"No Text",selected:""},{name:"No Audio",selected:""},{name:"No Highlight",selected:""}]:[{name:"Basic",selected:"on"},{name:"No Audio",selected:""}],[_,b]=c.useState(x),f=_.find(k=>k.selected==="on"),p=()=>{a.storyMode==="Story"?r(!l):alert(s("story.Listen & Repeat 모드에서는 지원하지 않는 기능입니다."))},S=k=>{const m=[..._];if(m.map(o=>{o.selected=""}),m[k].selected="on",u.HighlightDataYn==="Y")switch(k){case 0:t(!0),i(!1),n(!0);break;case 1:t(!1),i(!1),n(!0);break;case 2:t(!0),i(!0),n(!1);break;case 3:t(!0),i(!1),n(!1);break}else switch(k){case 0:t(!0),i(!1),n(!0);break;case 1:t(!0),i(!0),n(!1);break}b(m),r(!1)};return e.jsxs("div",{className:C.ebook_play_bar_drop_down_menu,children:[e.jsxs("div",{className:C.read_mode_option,onClick:()=>p(),children:[e.jsx("span",{children:f==null?void 0:f.name}),e.jsx("img",{src:jo,width:15,alt:""})]}),l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:C.read_mode_option_menu,children:[e.jsx("div",{className:C.menu_name,children:"Read Mode"}),_.map((k,m)=>e.jsx("div",{className:`${C.menu_item} ${k.selected?C.on:""}`,onClick:()=>S(m),children:k.name}))]}),e.jsx("div",{className:C.light_box,onClick:()=>{r(!1)}})]})]})}function JQ({changePlaySpeed:t}){const[i,n]=c.useState(!1),[s,a]=c.useState([{rate:.8,selected:""},{rate:1,selected:"on"},{rate:1.2,selected:""},{rate:1.5,selected:""}]),u=s.find(r=>r.selected==="on"),l=r=>{const x=[...s];x.map(_=>{_.selected=""}),x[r].selected="on",t(x[r].rate),a(x),n(!1)};return e.jsxs("div",{className:C.ebook_play_bar_drop_down_menu,children:[e.jsxs("div",{className:C.read_mode_option,onClick:()=>{n(!i)},children:[e.jsxs("span",{children:[u==null?void 0:u.rate,"x"]}),e.jsx("img",{src:jo,width:15,alt:""})]}),i&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:C.read_mode_option_menu,children:[e.jsx("div",{className:C.menu_name,children:"Speed"}),s.map((r,x)=>e.jsxs("div",{className:`${C.menu_item} ${r.selected?C.on:""}`,onClick:()=>l(x),children:[r.rate,"x"]}))]}),e.jsx("div",{className:C.light_box,onClick:()=>{n(!1)}})]})]})}function YQ({menuName:t,menuItems:i,changeAutoNextPage:n}){const{t:s}=he(),{handler:a}=c.useContext(ie),[u,l]=c.useState(!1),[r,x]=c.useState(i),_=r.filter(f=>f.selected==="on"),b=()=>{a.storyMode==="Story"?l(!u):alert(s("story.Listen & Repeat 모드에서는 지원하지 않는 기능입니다."))};return e.jsxs("div",{className:C.ebook_play_bar_drop_down_menu,children:[e.jsxs("div",{className:C.read_mode_option,onClick:()=>b(),children:[e.jsx("span",{children:_[0].name}),e.jsx("img",{src:jo,width:15,alt:""})]}),u&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:C.read_mode_option_menu,children:[e.jsx("div",{className:C.menu_name,children:t}),r.map((f,p)=>e.jsx("div",{className:`${C.menu_item} ${f.selected?C.on:""}`,onClick:()=>{const S=[...r];S.map(k=>{k.selected=""}),S[p].selected="on",n(p===0),x(S),l(!1)},children:f.name}))]}),e.jsx("div",{className:C.light_box,onClick:()=>{l(!1)}})]})]})}const Oi="/study/BookReading/assets/btn_play-ce293349.svg",Di="/study/BookReading/assets/btn_pause-1b0dd29c.svg",Wi="/study/BookReading/assets/icon_word-4b133954.svg",XQ="/study/BookReading/assets/icon_full_screen-e667f2e6.svg",ZQ="/study/BookReading/assets/icon_full_screen_out-18188977.svg",Vi="/study/BookReading/assets/icon_menu-e46b7a18.svg",eA=new A(navigator.userAgent);function tA({progressWidth:t,pageSeq:i,playState:n,isFullScreen:s,turnPageLeft:a,turnPageRight:u,changeTextShow:l,changeMuteAudio:r,changeHighlight:x,changePlaySpeed:_,changeAutoNextPage:b,playAudio:f,pauseAudio:p,resumeAudio:S,changeVocaOpen:k,changeSideMenu:m,changeMaxReadCnt:o}){const{t:h}=he(),{handler:d}=c.useContext(ie);return c.useEffect(()=>{},[s]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:C.ebook_progress_bar,children:e.jsx("div",{className:C.progress,style:{width:`${t}%`}})}),e.jsxs("div",{className:C.ebook_play_bar,children:[e.jsxs("div",{className:C.ebook_play_bar_pc_area_l,children:[e.jsx(KQ,{changeTextShow:l,changeMuteAudio:r,changeHighlight:x}),e.jsx(JQ,{changePlaySpeed:_}),e.jsx(YQ,{menuName:h("story.페이지 넘기기"),menuItems:[{name:"Auto",selected:"on"},{name:"Manually",selected:""}],changeAutoNextPage:b})]}),e.jsxs("div",{className:C.ebook_play_bar_pc_area_c,children:[d.storyMode==="Story"&&e.jsx("div",{className:C.backward,onClick:()=>{a()},children:e.jsx("img",{src:wo,width:40,alt:""})}),e.jsx("div",{className:C.play,onClick:()=>{switch(n){case"play":case"resume":p();break;case"":case"stop":f(i.playPage,i.sequnce);break;case"pause":S();break}},children:n!=="play"?e.jsx("img",{src:Oi,width:40}):e.jsx("img",{src:Di,width:40})}),d.storyMode==="Story"&&e.jsx("div",{className:C.forward,onClick:()=>{u()},children:e.jsx("img",{src:vo,width:40,alt:""})})]}),e.jsxs("div",{className:C.ebook_play_bar_pc_area_r,children:[e.jsx("div",{className:C.word_button,onClick:()=>{k(!0)},children:e.jsx("img",{src:Wi,width:28,height:28,alt:""})}),e.jsx("div",{className:C.menu_button,onClick:()=>{m(!0)},children:e.jsx("img",{src:Vi,width:24,height:24,alt:""})}),e.jsx("div",{style:{display:eA.tablet()?"none":"flex"},className:C.full_screen_button,onClick:()=>{s?document.exitFullscreen():document.body.requestFullscreen()},children:s?e.jsx("img",{src:ZQ,width:20,height:20,alt:""}):e.jsx("img",{src:XQ,width:20,height:20,alt:""})})]})]})]})}const nA="/study/BookReading/assets/check_board-04b361f3.svg",sA="/study/BookReading/assets/rec-236d3098.svg",oA="/study/BookReading/assets/movie_book-0bc631c4.svg";function Gi({isSideOpen:t,changeSideMenu:i,changeRatingShow:n,toggleMovieShow:s,submitBookMark:a}){const{t:u}=he(),{studyInfo:l,bookInfo:r,handler:x}=c.useContext(ie),[_,b]=c.useState("animate__fadeIn"),[f,p]=c.useState();c.useEffect(()=>{b("animate__fadeIn"),p("animate__slideInRight")},[t]);const S=()=>{b("animate__fadeOut"),p("animate__slideOutRight"),setTimeout(()=>{i(!1)},300)};return e.jsx(e.Fragment,{children:t&&e.jsxs("div",{className:`${xe.study_side_menu} animate__animated ${_}`,children:[e.jsxs("div",{className:`${xe.study_side_menu_container} animate__animated ${f}`,children:[e.jsxs("div",{className:xe.study_side_menu_area_top,children:[e.jsx("div",{className:xe.close_side_menu,children:e.jsx("div",{className:xe.btn_delete,onClick:()=>{S()},children:e.jsx("img",{src:vi,alt:""})})}),e.jsxs("div",{className:xe.book_info,children:[e.jsx("div",{className:xe.book_code,children:r.BookCode}),e.jsx("div",{className:xe.book_title,children:r.Title})]}),e.jsx("div",{className:xe.select_study_menu,children:e.jsxs("div",{className:`${xe.select_study_menu_item} ${xe.go_on} `,onClick:()=>{l.availableQuizStatus===0?x.isPreference?x.changeView("quiz"):x.isReadingComplete||x.storyMode==="Story"?(i(!1),n(!0)):alert(u("story.책을 완독한 후 학습을 진행할 수 있습니다.")):l.availableQuizStatus===1&&alert(u("stroy.ReTest 정책으로 당일 재학습 불가"))},children:[e.jsx("img",{src:nA,alt:""}),u("story.퀴즈 풀기")]})}),(r.AnimationPath!==""||l.isAvailableSpeaking)&&e.jsx("div",{className:xe.label,children:u("story.보너스 학습")}),e.jsxs("div",{className:xe.ebook_more_activity,children:[r.AnimationPath!==""&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:xe.ebook_more_activity_item,onClick:()=>{i(!1),s(!0)},children:[e.jsx("img",{src:oA,alt:""}),u("story.무비 시청")]})}),l.isAvailableSpeaking&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:xe.ebook_more_activity_item,onClick:()=>{x.changeView("speaking")},children:[e.jsx("img",{src:sA,alt:""}),"SPEAK (",u("story.말하기 연습"),")"]})})]})]}),e.jsx("div",{className:xe.study_side_menu_area_bottom,children:e.jsxs("div",{className:xe.btn_exit,onClick:()=>a(),children:[e.jsx("img",{src:ji,alt:""}),e.jsx("div",{className:"txt",children:u("common.나가기")})]})})]}),e.jsx("div",{className:xe.screen_block,onClick:()=>S()})]})})}const ms="/study/BookReading/assets/icon_speaker-32763dad.svg";function xs({playState:t,pauseStoryAudio:i,resumeStoryAudio:n}){const s=c.useRef(new Audio);s.current.autoplay=!0;const a=s.current;c.useEffect(()=>{const r=()=>{i(),a.play()};a.addEventListener("canplaythrough",r);const x=()=>{t==="play"&&n()};return a.addEventListener("ended",x),()=>{a.removeEventListener("canplaythrough",r),a.removeEventListener("ended",x),l()}},[]);const u=r=>{a.src=r},l=()=>{a.pause(),a.src="",a.currentTime=0};return{playAudio:u,stopAudio:l}}function iA({vocaData:t,mainLang:i,playState:n,pauseStoryAudio:s,resumeStoryAudio:a}){var x;const{playAudio:u}=xs({playState:n,pauseStoryAudio:s,resumeStoryAudio:a});let l=(x=t.Examples[0])!=null&&x.Text?t.Examples[0].Text:t.Question.Text,r="";switch(i.toLowerCase()){case"korean":r=t.Question.Korean;break;case"chinese":r=t.Question.Chinese;break;case"japanese":r=t.Question.Japanese;break;case"vietnamese":r=t.Question.Vietnamese;break;case"indonesian":r=t.Question.Indonesian;break;case"english":r=t.Question.Britannica?t.Question.Britannica:"";break}return e.jsxs("div",{className:C.voca_item,children:[e.jsxs("div",{className:C.word_item,children:[e.jsx("div",{className:C.word,children:l}),e.jsx("img",{src:ms,alt:"",onClick:()=>{u(t.Question.Sound)}})]}),e.jsx("div",{className:C.mean,children:r})]})}function rA({vocaData:t,mainLang:i,playState:n,pauseStoryAudio:s,resumeStoryAudio:a}){var x;const{playAudio:u}=xs({playState:n,pauseStoryAudio:s,resumeStoryAudio:a});let l=(x=t.Examples[0])!=null&&x.Text?t.Examples[0].Text:t.Question.Text,r="";switch(i.toLowerCase()){case"korean":r=t.Question.Korean;break;case"chinese":r=t.Question.Chinese;break;case"japanese":r=t.Question.Japanese;break;case"vietnamese":r=t.Question.Vietnamese;break;case"indonesian":r=t.Question.Indonesian;break;case"english":r=t.Question.Britannica?t.Question.Britannica:"";break}return e.jsxs("div",{className:C.voca_item,children:[e.jsxs("div",{className:C.word_item,children:[e.jsx("div",{className:C.word,children:l}),e.jsx("img",{src:ms,alt:"",onClick:()=>{u(t.Question.WordSound)}})]}),e.jsx("div",{className:C.mean,children:r})]})}function aA({vocaData:t,mainLang:i,playState:n,pauseStoryAudio:s,resumeStoryAudio:a}){const{playAudio:u}=xs({playState:n,pauseStoryAudio:s,resumeStoryAudio:a});let l=t.Question.Text,r="";switch(i.toLowerCase()){case"korean":r=t.Question.Korean;break;case"chinese":r=t.Question.Chinese;break;case"japanese":r=t.Question.Japanese;break;case"vietnamese":r=t.Question.Vietnamese;break;case"indonesian":r=t.Question.Indonesian;break;case"english":r=t.Question.Britannica?t.Question.Britannica:"";break}return e.jsxs("div",{className:C.voca_item,children:[e.jsxs("div",{className:C.word_item,children:[e.jsx("div",{className:C.word,children:l}),e.jsx("img",{src:ms,alt:"",onClick:()=>{u(t.Question.Sound)}})]}),e.jsx("div",{className:C.mean,children:r})]})}function cA({vocaData:t,mainLang:i,playState:n,pauseStoryAudio:s,resumeStoryAudio:a}){var x;const{playAudio:u}=xs({playState:n,pauseStoryAudio:s,resumeStoryAudio:a});let l=(x=t.Examples[0])!=null&&x.Text?t.Examples[0].Text:t.Question.Text,r="";switch(i.toLowerCase()){case"korean":r=t.Question.Korean;break;case"chinese":r=t.Question.Chinese;break;case"japanese":r=t.Question.Japanese;break;case"vietnamese":r=t.Question.Vietnamese;break;case"indonesian":r=t.Question.Indonesian;break;case"english":r=t.Question.Britannica?t.Question.Britannica:"";break}return e.jsxs("div",{className:C.voca_item,children:[e.jsxs("div",{className:C.word_item,children:[e.jsx("div",{className:C.word,children:l}),e.jsx("img",{src:ms,alt:"",onClick:()=>{u(t.Question.Sound)}})]}),e.jsx("div",{className:C.mean,children:r})]})}const uA=({playState:t,pauseStoryAudio:i,resumeStoryAudio:n})=>{const{studyInfo:s}=c.useContext(ie),[a,u]=c.useState(),[l,r]=c.useState(),[x,_]=c.useState(),[b,f]=c.useState();return c.useEffect(()=>{!a&&!l&&!x&&!b&&(async()=>{const S={mode:s.mode,currentStep:2,studyId:s.studyId,studentHistoryId:s.studentHistoryId,bookType:s.bookType,studyTypeCode:s.bookType==="EB"?"001006":"001001",isEnabledPractice:s.isPassedVocabularyPractice,theme:"theme-antarctica",lastStep:s.allSteps[s.allSteps.length-1],isReTestYn:s.isReTestYn,onFinishActivity:()=>{},changeVocaState:()=>{},changeStep:k=>{}};switch(s.mappedStepActivity[1]){case"Vocabulary1":u(await Ai(S));break;case"Vocabulary2":r(await Ni(S));break;case"Vocabulary3":_(await Ti(S));break;case"Vocabulary4":f(await Ii(S));break}})()},[]),e.jsxs("div",{className:C.ebook_voca_list,children:[a&&a.Quiz.map(p=>e.jsx(iA,{vocaData:p,mainLang:a.MainMeanLanguage,playState:t,pauseStoryAudio:i,resumeStoryAudio:n})),l&&l.Quiz.map(p=>e.jsx(rA,{vocaData:p,mainLang:l.MainMeanLanguage,playState:t,pauseStoryAudio:i,resumeStoryAudio:n})),x&&x.Quiz.map(p=>e.jsx(aA,{vocaData:p,mainLang:x.MainMeanLanguage,playState:t,pauseStoryAudio:i,resumeStoryAudio:n})),b&&b.Quiz.map(p=>e.jsx(cA,{vocaData:p,mainLang:b.MainMeanLanguage,playState:t,pauseStoryAudio:i,resumeStoryAudio:n}))]})},lA="/study/BookReading/assets/icon_delete_black-5f381612.svg",dA="/study/BookReading/assets/icon_printer-6fba39e5.svg";function Ui({isVocaOpen:t,playState:i,changeVocaOpen:n,pauseStoryAudio:s,resumeStoryAudio:a}){const{bookInfo:u}=c.useContext(ie),[l,r]=c.useState("animate__fadeIn"),[x,_]=c.useState("animate__slideInRight");c.useEffect(()=>{r("animate__fadeIn"),_("animate__slideInRight")},[t]);const b=()=>{r("animate__fadeOut"),_("animate__slideOutRight"),setTimeout(()=>{i==="play"&&a(),n(!1)},300)};return e.jsx(e.Fragment,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${C.ebook_vocabulary_note} animate__animated ${l}`,children:e.jsx("div",{id:"ebook-vocabulary-note-container",className:`${C.ebook_vocabulary_note_container} animate__animated ${x}`,children:e.jsxs("div",{className:C.ebook_vocabulary_note_area_top,children:[e.jsxs("div",{className:C.close_vocabulary_note,children:[u.VocabularyPath&&e.jsx("div",{className:C.btn_print,onClick:()=>{window.open(u.VocabularyPath)},children:e.jsx("img",{src:dA,alt:""})}),e.jsx("div",{className:C.btn_delete,onClick:()=>{b()},children:e.jsx("img",{src:lA,alt:""})})]}),e.jsxs("div",{className:C.book_info,children:[e.jsx("div",{className:C.book_code,children:u.BookCode}),e.jsx("div",{className:C.book_title,children:u.Title})]}),e.jsx("div",{className:C.line}),e.jsx("div",{className:C.voca_list,children:e.jsx(uA,{playState:i,pauseStoryAudio:s,resumeStoryAudio:a})})]})})}),e.jsx("div",{className:C.ebook_vocabulary_note_screen_block,onClick:()=>{b()}})]})})}function mA({isRatingShow:t,isMovieShow:i,storyData:n,imgSize:s,pageScale:a,changeRatingShow:u,toggleMovieShow:l}){const{t:r}=he(),{bookInfo:x,studyInfo:_,handler:b}=c.useContext(ie),f=ne=>{O(ne)},{pageNumber:p,playState:S,pageSeq:k,currentTime:m,readCnt:o,playAudio:h,pauseAudio:d,pauseAudioByWord:g,resumeAudio:y,changePlaySpeed:w,changeDuration:v,changeVolume:R,changePageNumber:z,changeAutoNextPage:E,changeMaxReadCnt:j}=WQ({studyId:_.studyId,studentHistoryId:_.studentHistoryId,pageData:n,storyMode:b.storyMode,changeSideMenu:f,changeStoryMode:b.changeStoryMode,changeReadingComplete:b.changeReadingComplete}),[$,M]=c.useState(""),[F,O]=c.useState(!1),[H,W]=c.useState(!0),[q,N]=c.useState(!1),[B,D]=c.useState(!0),[K,G]=c.useState(!1),[V,I]=c.useState(!1),Q=(p+1)/n[n.length-1].Page*100;c.useEffect(()=>{_.bookmarkPage>0&&p===1&&b.storyMode==="Story"&&!b.isReadingComplete&&Number(x.BookLevel.substring(0,1))>1&&confirm("마지막으로 읽은 곳부터 시작할까요?")&&z(_.bookmarkPage%2===0?_.bookmarkPage-1:_.bookmarkPage)},[]),c.useEffect(()=>{(t||i)&&d(),!t&&!i&&S==="pause"&&y()},[t,i]),c.useEffect(()=>{M("")},[p]),c.useEffect(()=>{if(n){switch($){case"play":break;case"left":b.storyMode==="Story"&&z(p-2);break;case"right":b.storyMode==="Story"&&z(p+2);break}const ne=P=>{switch(P.key){case"ArrowRight":L();break;case"ArrowLeft":T();break;case" ":case"SpaceBar":S==="play"?d():S==="pause"&&y();break}};return window.addEventListener("keyup",ne),()=>{window.removeEventListener("keyup",ne)}}},[$]),c.useEffect(()=>{const ne=P=>{switch(P.key){case"ArrowRight":L();break;case"ArrowLeft":T();break;case" ":case"SpaceBar":S==="play"?d():S==="pause"&&y();break}};return window.addEventListener("keyup",ne),()=>{window.removeEventListener("keyup",ne)}},[S]),c.useEffect(()=>{R(q?0:1)},[q]),c.useEffect(()=>{const ne=()=>{document.fullscreenElement?I(!0):I(!1)};return document.body.addEventListener("fullscreenchange",ne),()=>{document.body.removeEventListener("fullscreenchange",ne)}},[document.fullscreenElement]);const T=()=>{p>1&&$===""&&b.storyMode==="Story"&&M("left")},L=()=>{p+2<=n[n.length-1].Page&&$===""&&b.storyMode==="Story"&&M("right")},Y=(ne,P)=>{b.storyMode==="Story"&&v(ne,P)},te=ne=>{W(ne)},oe=ne=>{N(ne)},ue=ne=>{D(ne)},ce=ne=>{G(ne)},re=async()=>{if(Number(x.BookLevel.substring(0,1))>1)if((await ki(_.studyId,_.studentHistoryId,p)).success)try{window.onExitStudy()}catch{location.replace("/")}else{alert(r("story.책갈피 저장에 실패했습니다."));try{window.onExitStudy()}catch{location.replace("/")}}else try{window.onExitStudy()}catch{location.replace("/")}};return e.jsxs(e.Fragment,{children:[e.jsxs(VQ,{children:[e.jsx(fn,{isTextShow:H,pageSeq:k,pageNumber:p,storyData:n,currentTime:m,readCnt:o,isHighlight:B,clickSentence:Y},"page-1"),e.jsx(fn,{isTextShow:H,pageSeq:k,pageNumber:p+1,storyData:n,currentTime:m,readCnt:o,isHighlight:B,clickSentence:Y},"page-2")]}),b.storyMode==="Story"&&e.jsx(UQ,{turnPageLeft:T,turnPageRight:L}),e.jsx(tA,{progressWidth:Q,pageSeq:k,playState:S,isFullScreen:V,turnPageLeft:T,turnPageRight:L,changeTextShow:te,changeMuteAudio:oe,changeHighlight:ue,changePlaySpeed:w,changeAutoNextPage:E,playAudio:h,pauseAudio:d,resumeAudio:y,changeVocaOpen:ce,changeSideMenu:f,changeMaxReadCnt:j}),e.jsx(Gi,{isSideOpen:F,changeSideMenu:f,changeRatingShow:u,toggleMovieShow:l,submitBookMark:re}),e.jsx(Ui,{isVocaOpen:K,playState:S,changeVocaOpen:ce,pauseStoryAudio:g,resumeStoryAudio:y})]})}function Ki(){const[t,i]=c.useState(window.innerWidth>window.innerHeight);return c.useEffect(()=>{window.addEventListener("orientationchange",()=>{const n=screen.orientation;n.type.includes("portrait")?i(!1):n.type.includes("landscape")&&i(!0)})},[]),t}function xA({studyId:t,studentHistoryId:i,pageData:n,storyMode:s,changeSideMenu:a,changeStoryMode:u,changeReadingComplete:l}){const r=c.useMemo(()=>new Audio,[]);r.autoplay=!0;const[x,_]=c.useState(""),b=c.useRef(!0),[f,p]=c.useState(0),[S,k]=c.useState(1),m=c.useRef(!0),[o,h]=c.useState(1),[d,g]=c.useState({playPage:1,sequnce:0}),[y,w]=c.useState(0),v=Ki();c.useEffect(()=>{n&&(n.find(N=>N.Page===o&&N.SoundPath)?g({playPage:o,sequnce:0}):setTimeout(()=>{h(o+1)},2e3))},[o]),c.useEffect(()=>{const q=()=>{b.current?(b.current=!1,E()):(r.play(),_("play"))};r.addEventListener("canplaythrough",q);const N=()=>{p(r.currentTime)};r.addEventListener("timeupdate",N);const B=()=>{};r.addEventListener("pause",B);const D=()=>{if(b.current)b.current=!1;else{const K=m.current,G=n.find(V=>V.Page===d.playPage+1);v?K?G?d.playPage%2===1?g({playPage:d.playPage+1,sequnce:0}):h(o+2):(w(y+1),_("")):_(""):K&&(G?g({playPage:d.playPage+1,sequnce:0}):(w(y+1),_("")))}};return r.addEventListener("ended",D),R(d.playPage,d.sequnce),()=>{r.removeEventListener("canplaythrough",q),r.removeEventListener("timeupdate",N),r.removeEventListener("pause",B),r.removeEventListener("ended",D),z()}},[d]),c.useEffect(()=>{r.playbackRate=S},[S]),c.useEffect(()=>{y===1?s==="ListenAndRepeat"?h(3):(b.current=!0,a(!0),H(1),l(t,i)):y===2&&s==="ListenAndRepeat"&&(b.current=!0,u("Story"),a(!0),H(1),l(t,i))},[y]);const R=(q,N)=>{const B=n.filter(D=>D.Page===q&&D.SoundPath!=="");B.length>0&&B.length>N-1?(s==="ListenAndRepeat"&&y===1?r.src=B[0].SoundPath2:r.src=B[0].SoundPath,r.playbackRate=S,N>0&&(r.currentTime=B[N-1].StartTime/1e3)):(r.src="",r.currentTime=0)},z=()=>{r.pause(),r.src="",r.currentTime=0,_("")},E=()=>{r.pause(),_("pause")},j=()=>{r.pause()},$=()=>{_("play"),r.play()},M=q=>{k(q)},F=(q,N)=>{g({playPage:q,sequnce:N})},O=q=>{r.volume=q},H=q=>{q===1&&_(""),h(q)};return{isAutoRef:m,pageNumber:o,playState:x,pageSeq:d,currentTime:f,readCnt:y,playAudio:R,stopAudio:z,pauseAudio:E,pauseAudioByWord:j,resumeAudio:$,changePlaySpeed:M,changeDuration:F,changeVolume:O,changePageNumber:H,changeAutoNextPage:q=>{m.current=q}}}function hA({onTouchStartHandler:t,onTouchEndHandler:i,children:n}){var _,b,f;const s=((f=(b=(_=c.useContext(ie))==null?void 0:_.bookInfo)==null?void 0:b.BookLevel)==null?void 0:f.substring(0,1))||"K",a=window.matchMedia("(orientation: landscape)").matches,u=s==="K"?480:525,l=750,r=window.innerWidth/u,x=screen.height/l;return e.jsx("div",{className:C.ebook_body_mobile_p,onTouchStart:p=>t(p),onTouchEnd:p=>i(p),children:e.jsx("div",{className:C.container,style:{transform:`scale(${a?x:r})`},children:n})})}const _A="/study/BookReading/assets/icon_speed10-0ef1da58.svg";function zo({text:t}){return e.jsx("div",{className:C.label,children:t})}function Ji({children:t}){return e.jsx("div",{className:C.select_box,children:t})}function pA({readTypeList:t,changeReadTypeList:i,changeTextShow:n,changeMuteAudio:s,changeHighlight:a}){const{t:u}=he(),{handler:l}=c.useContext(ie),r=x=>{if(l.storyMode==="Story"){const _=[...t];switch(_.map(b=>{b.selected=""}),_[x].selected="on",x){case 0:n(!0),s(!1),a(!0);break;case 1:n(!1),s(!1),a(!0);break;case 2:n(!0),s(!0),a(!1);break;case 3:n(!0),s(!1),a(!1);break}i(_)}else alert(u("story.Listen & Repeat 모드에서는 지원하지 않는 기능입니다."))};return e.jsxs(e.Fragment,{children:[e.jsx(zo,{text:u("story.읽기 모드")}),e.jsx(Ji,{children:t.map((x,_)=>e.jsxs("div",{className:`${C.select_button} ${x.selected==="on"?C.on:""}`,onClick:()=>r(_),children:[e.jsx("div",{className:C.radio}),x.name]}))})]})}function gA({isAutoNextPage:t,changeAutoNext:i}){const{t:n}=he(),{handler:s}=c.useContext(ie),[a,u]=c.useState([{name:n("story.수동으로 넘기기"),selected:t?"":"on"},{name:n("story.자동으로 넘기기"),selected:t?"on":""}]),l=r=>{if(s.storyMode==="Story"){const x=[...a];x.map(_=>{_.selected=""}),x[r].selected="on",u(x),i(r!==0)}else alert(n("story.Listen & Repeat 모드에서는 지원하지 않는 기능입니다."))};return e.jsxs(e.Fragment,{children:[e.jsx(zo,{text:n("story.책장 넘기기")}),e.jsx("div",{className:C.page_turning_mode,children:a.map((r,x)=>e.jsx("div",{className:r.selected===""?C.choose_button:`${C.choose_button} ${C.on}`,onClick:()=>{l(x)},children:r.name}))})]})}function yA({speedList:t,changePlaySpeedList:i,changePlaySpeed:n}){const{t:s}=he();t.find(u=>u.selected==="on");const a=u=>{const l=[...t];l.map(r=>{r.selected=""}),l[u].selected="on",n(l[u].rate),i(l)};return e.jsxs(e.Fragment,{children:[e.jsx(zo,{text:s("story.읽기 속도")}),e.jsx(Ji,{children:t.map((u,l)=>e.jsxs("div",{className:`${C.select_button} ${u.selected==="on"?C.on:""}`,onClick:()=>{a(l)},children:[e.jsx("div",{className:C.radio}),u.rate,"x"]}))})]})}function fA({isBottomLeftMenuOpen:t,isAutoNextPage:i,changeTextShow:n,changeMuteAudio:s,changeHighlight:a,changePlaySpeed:u,changeAutoNext:l,toggleBottomLeft:r}){const[x,_]=c.useState("slide-in-bottom"),[b,f]=c.useState([{name:"Basic",selected:"on"},{name:"No Text",selected:""},{name:"No Audio",selected:""},{name:"No Highlight",selected:""}]),[p,S]=c.useState([{rate:.8,selected:""},{rate:1,selected:"on"},{rate:1.2,selected:""},{rate:1.5,selected:""}]),k=()=>{_("slide-out-bottom"),setTimeout(()=>{_("slide-in-bottom"),r()},500)},m=h=>{f(h)},o=h=>{S(h)};return e.jsx(e.Fragment,{children:t&&e.jsxs("div",{className:`${C.ebook_play_mode_mobile}
      ${x==="slide-in-bottom"?C.slide_in_bottom:C.slide_out_bottom}`,children:[e.jsxs("div",{className:C.container,children:[e.jsx(pA,{readTypeList:b,changeReadTypeList:m,changeTextShow:n,changeHighlight:a,changeMuteAudio:s}),e.jsx(yA,{speedList:p,changePlaySpeedList:o,changePlaySpeed:u}),e.jsx(gA,{isAutoNextPage:i,changeAutoNext:l})]}),e.jsx("div",{className:C.light_box,onClick:()=>{k()}})]})})}function bA({progressWidth:t,isAutoNextPage:i,pageSeq:n,playState:s,turnPageLeft:a,turnPageRight:u,changeTextShow:l,changeMuteAudio:r,changeHighlight:x,changePlaySpeed:_,changeAutoNext:b,playAudio:f,pauseAudio:p,resumeAudio:S,changeVocaOpen:k,changeSideMenu:m}){const{handler:o}=c.useContext(ie),[h,d]=c.useState(!1),g=()=>{d(!h)},y=window.matchMedia("(orientation: landscape)").matches;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:C.ebook_progress_bar,children:e.jsx("div",{className:C.progress,style:{width:`${t}%`}})}),e.jsxs("div",{className:`${C.ebook_play_bar} ${C.mobile}`,children:[e.jsxs("div",{className:C.ebook_play_bar_pc_area_l,children:[e.jsx("div",{className:`${C.read_mode_button} ${y&&C.landscape}`,onClick:()=>{g()},children:e.jsx("img",{src:_A,width:30,height:30})}),e.jsx(fA,{isBottomLeftMenuOpen:h,isAutoNextPage:i,changeTextShow:l,changeMuteAudio:r,changeHighlight:x,changePlaySpeed:_,changeAutoNext:b,toggleBottomLeft:g})]}),e.jsxs("div",{className:C.ebook_play_bar_pc_area_c,children:[o.storyMode==="Story"&&e.jsx("div",{className:`${C.backward} ${y&&C.landscape}`,onClick:()=>{a()},children:e.jsx("img",{src:wo,width:40,alt:""})}),e.jsx("div",{className:`${C.play} ${y&&C.landscape}`,onClick:()=>{switch(s){case"play":case"resume":p();break;case"":case"stop":f(n.playPage,n.sequnce);break;case"pause":S();break}},children:s!=="play"?e.jsx("img",{src:Oi,width:40}):e.jsx("img",{src:Di,width:40})}),o.storyMode==="Story"&&e.jsx("div",{className:`${C.forward} ${y&&C.landscape}`,onClick:()=>{u()},children:e.jsx("img",{src:vo,width:40,alt:""})})]}),e.jsxs("div",{className:C.ebook_play_bar_pc_area_r,children:[e.jsx("div",{className:`${C.word_button} ${y&&C.landscape}`,onTouchEnd:()=>{k(!0)},children:e.jsx("img",{src:Wi,width:28,height:28,alt:""})}),e.jsx("div",{className:`${C.menu_button} ${y&&C.landscape}`,onClick:()=>{m(!0)},children:e.jsx("img",{src:Vi,width:24,height:24,alt:""})})]})]})]})}function kA({isRatingShow:t,isMovieShow:i,storyData:n,changeRatingShow:s,toggleMovieShow:a}){const{t:u}=he(),{bookInfo:l,studyInfo:r,handler:x}=c.useContext(ie),_=J=>{B(J)},{pageNumber:b,playState:f,pageSeq:p,currentTime:S,readCnt:k,playAudio:m,pauseAudio:o,pauseAudioByWord:h,resumeAudio:d,changePlaySpeed:g,changeDuration:y,changeVolume:w,changePageNumber:v,changeAutoNextPage:R}=xA({studyId:r.studyId,studentHistoryId:r.studentHistoryId,pageData:n,storyMode:x.storyMode,changeSideMenu:_,changeStoryMode:x.changeStoryMode,changeReadingComplete:x.changeReadingComplete});c.useState("");const[z,E]=c.useState(!0),[j,$]=c.useState(!0),[M,F]=c.useState(!1),[O,H]=c.useState(!0),[W,q]=c.useState(!1),[N,B]=c.useState(!1),[D,K]=c.useState(0),[G,V]=c.useState(0),I=Ki(),Q=p.playPage/n[n.length-1].Page*100;c.useEffect(()=>{r.bookmarkPage>0&&b===1&&x.storyMode==="Story"&&!x.isReadingComplete&&Number(l.BookLevel.substring(0,1))>1&&confirm(u("story.마지막으로 읽은 곳부터 시작할까요?"))&&v(r.bookmarkPage%2===0?r.bookmarkPage-1:r.bookmarkPage)},[]),c.useEffect(()=>{D-G>5?L():D-G<0&&T()},[G]),c.useEffect(()=>{(t||i)&&o(),!t&&!i&&f==="pause"&&d()},[t,i]);const T=()=>{b>1&&setTimeout(()=>{if(x.storyMode==="Story"){let J;I?J=p.playPage%2===0?p.playPage-3:p.playPage-2:J=p.playPage-1,v(J)}},160)},L=()=>{let J;I?b+2<=n[n.length-1].Page&&setTimeout(()=>{x.storyMode==="Story"&&(J=p.playPage%2===0?p.playPage+1:p.playPage+2,v(J))},160):b+1<=n[n.length-1].Page&&setTimeout(()=>{x.storyMode==="Story"&&(J=p.playPage+1,v(J))},160)};c.useEffect(()=>{w(M?0:1)},[M]);const Y=J=>{const U=J.changedTouches[0].pageX;K(U)},te=J=>{const U=J.changedTouches[0].pageX;V(U)},oe=(J,U)=>{x.storyMode==="Story"&&y(J,U)},ue=J=>{$(J)},ce=J=>{F(J)},re=J=>{H(J)},ne=J=>{E(J),R(J)},P=J=>{q(J)},X=async()=>{if(Number(l.BookLevel.substring(0,1))>1)if((await ki(r.studyId,r.studentHistoryId,b)).success)try{window.onExitStudy()}catch{location.replace("/")}else{alert(u("story.책갈피 저장에 실패했습니다."));try{window.onExitStudy()}catch{location.replace("/")}}else try{window.onExitStudy()}catch{location.replace("/")}};return e.jsxs(e.Fragment,{children:[e.jsx(hA,{onTouchStartHandler:Y,onTouchEndHandler:te,children:e.jsx(e.Fragment,{children:I&&!ho?e.jsxs(e.Fragment,{children:[e.jsx(fn,{isTextShow:j,pageSeq:p,pageNumber:p.playPage%2===1?p.playPage:p.playPage-1,storyData:n,currentTime:S,readCnt:k,isHighlight:O,clickSentence:oe}),e.jsx(fn,{isTextShow:j,pageSeq:p,pageNumber:p.playPage%2===1?p.playPage+1:p.playPage,storyData:n,currentTime:S,readCnt:k,isHighlight:O,clickSentence:oe})]}):e.jsx(fn,{isTextShow:j,pageSeq:p,pageNumber:p.playPage,storyData:n,currentTime:S,readCnt:k,isHighlight:O,clickSentence:oe})})}),e.jsx(bA,{progressWidth:Q,isAutoNextPage:z,pageSeq:p,playState:f,turnPageLeft:T,turnPageRight:L,changeTextShow:ue,changeMuteAudio:ce,changeHighlight:re,changePlaySpeed:g,changeAutoNext:ne,playAudio:m,pauseAudio:o,resumeAudio:d,changeVocaOpen:P,changeSideMenu:_}),e.jsx(Gi,{isSideOpen:N,changeSideMenu:_,changeRatingShow:s,toggleMovieShow:a,submitBookMark:X}),e.jsx(Ui,{isVocaOpen:W,playState:f,changeVocaOpen:P,pauseStoryAudio:h,resumeStoryAudio:d})]})}function Yi({starCount:t,changeStarCount:i}){const n=[1,2,3,4,5];return e.jsx("div",{className:C.chooseRating,children:n.map((s,a)=>{const u=a+1;return e.jsx("div",{className:t>=u?C.btnStarOn:C.btnStarOff,onClick:()=>{i(u)}},a)})})}function SA({changeRatingShow:t}){const{t:i}=he(),{bookInfo:n,studyInfo:s,handler:a}=c.useContext(ie),[u,l]=c.useState(3),r=_=>{l(_)},x=async()=>{(await Si(s.studyId,s.studentHistoryId,u*10)).success&&a.changeView("quiz")};return e.jsx("div",{className:`${C.ebookRating}`,children:e.jsxs("div",{className:`${C.container} animate__animated animate__zoomIn`,children:[e.jsx("div",{className:C.groupBookcover,children:e.jsx("img",{className:C.imgBookcover,src:`${n.SurfaceImage}`})}),e.jsxs("div",{className:C.groupChoose,children:[e.jsx("div",{className:C.txtQuestion,children:"How do you like this book?"}),e.jsx("div",{className:C.groupChooseRating,children:e.jsx(Yi,{starCount:u,changeStarCount:r})}),e.jsxs("div",{className:C.groupConfirm,children:[e.jsx("button",{className:`${C.btnConfirm} ${C.gray}`,onClick:()=>{t(!1)},children:i("story.다시 읽기")}),e.jsx("button",{className:`${C.btnConfirm} ${C.blue}`,onClick:()=>{a.isPreference?a.changeView("quiz"):x()},children:i("story.퀴즈 풀기")})]})]}),e.jsxs("div",{className:C.groupComment,children:[e.jsx("span",{className:C.icoExclamationMark}),e.jsx("span",{className:C.txtComment,children:e.jsx(as,{i18nKey:"story.모든 학습을 완료하고 평균 70점을 넘어야 포인트를 획득 할 수 있습니다.",components:{b:e.jsx("b",{})}})})]})]})})}function wA({toggleMovieShow:t}){const{studyInfo:i,bookInfo:n}=c.useContext(ie),s=()=>{ur(i.studyId,i.studentHistoryId)};return e.jsx("div",{className:C.movieContents,children:e.jsxs("div",{className:C.container,children:[JSON.parse(JSON.stringify(n.AnimationPath))===""||!n.AnimationPath?"No Movie Book":e.jsx("video",{width:"100%",height:"100%",controls:!0,onEnded:()=>{s()},children:e.jsx("source",{src:JSON.parse(JSON.stringify(n.AnimationPath)),type:"video/mp4"})}),e.jsx("div",{className:C.btnDelete,onClick:()=>t(!1)})]})})}function vA(){const{t}=he(),{bookInfo:i,handler:n}=c.useContext(ie);return e.jsx("div",{className:`${C.ebookRating}`,children:e.jsxs("div",{className:`${C.container} animate__animated animate__zoomIn`,children:[e.jsx("div",{className:C.groupBookcover,children:e.jsx("img",{className:C.imgBookcover,src:`${i.SurfaceImage}`})}),e.jsx("div",{className:C.groupComment,children:e.jsxs("span",{className:C.txtComment,children:[e.jsx("div",{children:e.jsx(as,{style:{color:"red"},i18nKey:"story.이미 한번 포인트를 획득한 학습입니다.",components:{b:e.jsx("b",{})}})}),e.jsx("div",{children:t("story.두번째 학습을 통과하여도 50% 포인트만 획득할 수 있습니다.")}),e.jsx("div",{children:t("story.계속 학습하시겠습니까?")})]})}),e.jsx("div",{className:C.groupChoose,children:e.jsxs("div",{className:C.groupConfirm,children:[e.jsx("button",{className:`${C.btnConfirm} ${C.blue}`,onClick:()=>{n.changeView("quiz")},children:t("common.네")}),e.jsx("button",{className:`${C.btnConfirm} ${C.gray}`,onClick:()=>{try{window.onExitStudy()}catch{location.replace("/")}},children:t("common.아니오")})]})})]})})}function jA(){const{t}=he(),{bookInfo:i,handler:n}=c.useContext(ie);return e.jsx("div",{className:`${C.ebookRating}`,children:e.jsxs("div",{className:`${C.container} animate__animated animate__zoomIn`,children:[e.jsx("div",{className:C.groupBookcover,children:e.jsx("img",{className:C.imgBookcover,src:`${i.SurfaceImage}`})}),e.jsx("div",{className:C.groupComment,children:e.jsxs("span",{className:C.txtComment,children:[e.jsx("div",{children:"이미 두 번 포인트를 획득한 학습입니다."}),e.jsx("div",{children:e.jsx(as,{i18nKey:"story.더 이상 포인트를 획득할 수 없습니다.",components:{b:e.jsx("b",{})}})}),e.jsx("div",{children:t("story.계속 학습하시겠습니까?")})]})}),e.jsx("div",{className:C.groupChoose,children:e.jsxs("div",{className:C.groupConfirm,children:[e.jsx("button",{className:`${C.btnConfirm} ${C.blue}`,onClick:()=>{n.changeView("quiz")},children:"네"}),e.jsx("button",{className:`${C.btnConfirm} ${C.gray}`,onClick:()=>{try{window.onExitStudy()}catch{location.replace("/")}},children:"아니오"})]})})]})})}const zA=new A(navigator.userAgent),Os=zA.phone();function _i(){const{bookInfo:t,studyInfo:i}=c.useContext(ie),[n,s]=c.useState(),[a,u]=c.useState(!1),[l,r]=c.useState(!1),{imgSize:x,preloadImage:_}=fC(),[b,f]=c.useState(window.innerHeight),[p,S]=c.useState(1);c.useEffect(()=>{n||(async()=>{const h=await lr(i.studyId,i.studentHistoryId);h&&(s(h),_(h))})()},[n]),c.useEffect(()=>{const o=()=>{Os?(f(window.innerHeight),S(screen.width/x.width)):(f(window.innerHeight),S(window.innerHeight/x.height*.9))};return o(),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},[Os,x,b]);const k=o=>{u(o)},m=o=>{r(o)};return n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:C.ebook,style:{backgroundImage:`url('${t.BackgroundImage}')`,height:b},children:Os?e.jsx(kA,{isRatingShow:a,isMovieShow:l,storyData:n,changeRatingShow:k,toggleMovieShow:m}):e.jsx(mA,{isRatingShow:a,isMovieShow:l,storyData:n,imgSize:x,pageScale:p,changeRatingShow:k,toggleMovieShow:m})}),a&&t.PassCount===0&&e.jsx(SA,{changeRatingShow:k,studyCount:t.StudyMode}),a&&t.PassCount===1&&e.jsx(vA,{}),a&&t.PassCount===2&&e.jsx(jA,{}),l&&e.jsx(wA,{toggleMovieShow:m})]}):e.jsx(e.Fragment,{children:"Loading..."})}const $A="_btnExit_1jkel_9",CA="_mobile_1jkel_25",QA="_active_1jkel_30",AA="_screenBlock_1jkel_34",NA="_screenBgColor_1jkel_48",TA="_speakButtonArea_1jkel_60",IA="_startButton_1jkel_68",BA="_recAni_1jkel_90",EA="_speackBodyBg_1jkel_98",PA="_speackBodyBgColor_1jkel_103",MA="_speakBody_1jkel_116",LA="_ebookViewer_1jkel_139",RA="_speakEbookPage_1jkel_154",qA="_levelK_1jkel_159",FA="_level1_1jkel_164",HA="_level2_1jkel_169",OA="_playBar_1jkel_176",DA="_progress_1jkel_189",WA="_progressBar_1jkel_194",VA="_recProgress_1jkel_199",GA="_runReady_1jkel_208",UA="_txtSome_1jkel_217",KA="_btnSpeakPlay_1jkel_224",JA="_icon_1jkel_239",YA="_play_1jkel_176",XA="_record_1jkel_250",ZA="_txtWord_1jkel_253",e3="_runEbookAudioPlay_1jkel_260",t3="_runVoiceRecord_1jkel_267",n3="_txtLabel_1jkel_275",s3="_runVoicePlay_1jkel_281",o3="_lottieVoicePlay_1jkel_289",i3="_runCorrectSign_1jkel_296",r3="_runIncorrectSign_1jkel_313",a3="_t_1jkel_217",c3="_result_1jkel_337",u3="_groupResultMark_1jkel_350",l3="_txt_1jkel_217",d3="_popUp_1jkel_368",m3="_row1_1jkel_378",x3="_btn_1jkel_9",h3="_gray_1jkel_397",_3="_blue_1jkel_401",p3="_retry_1jkel_405",g3="_iconSpeaker_1jkel_411",y3="_iconRetry_1jkel_419",f3="_row2_1jkel_427",b3="_graph_1jkel_436",k3="_wrapperProgress_1jkel_443",S3="_native_1jkel_454",w3="_progressArrow_1jkel_457",v3="_student_1jkel_468",j3="_sentence_1jkel_482",z3="_word_1jkel_489",$3="_red_1jkel_493",C3="_phonemes_1jkel_496",Q3="_wordContainer_1jkel_507",A3="_phonemeResult_1jkel_531",N3="_phoneme_1jkel_496",T3="_orange_1jkel_542",I3="_green_1jkel_545",B3="_phonemeScore_1jkel_548",E3="_btnToggle_1jkel_561",P3="_icoChev_1jkel_574",M3="_rotate_1jkel_584",L3="_row3_1jkel_587",R3="_goodJob_1jkel_600",q3="_tryAgain_1jkel_603",F3="_iconArrow_1jkel_612",H3="_wrapperResult_1jkel_621",O3="_resultMark_1jkel_648",D3="_btnExitResult_1jkel_666",W3="_visualizer_1jkel_694",ee={btnExit:$A,mobile:CA,active:QA,screenBlock:AA,screenBgColor:NA,speakButtonArea:TA,startButton:IA,recAni:BA,speackBodyBg:EA,speackBodyBgColor:PA,speakBody:MA,ebookViewer:LA,speakEbookPage:RA,levelK:qA,level1:FA,level2:HA,playBar:OA,progress:DA,progressBar:WA,recProgress:VA,runReady:GA,txtSome:UA,btnSpeakPlay:KA,icon:JA,play:YA,record:XA,txtWord:ZA,runEbookAudioPlay:e3,runVoiceRecord:t3,txtLabel:n3,runVoicePlay:s3,lottieVoicePlay:o3,runCorrectSign:i3,runIncorrectSign:r3,t:a3,result:c3,groupResultMark:u3,txt:l3,popUp:d3,row1:m3,btn:x3,gray:h3,blue:_3,retry:p3,iconSpeaker:g3,iconRetry:y3,row2:f3,graph:b3,wrapperProgress:k3,native:S3,progressArrow:w3,student:v3,sentence:j3,word:z3,red:$3,phonemes:C3,wordContainer:Q3,phonemeResult:A3,phoneme:N3,orange:T3,green:I3,phonemeScore:B3,btnToggle:E3,icoChev:P3,rotate:M3,row3:L3,goodJob:R3,tryAgain:q3,iconArrow:F3,wrapperResult:H3,resultMark:O3,btnExitResult:D3,"btn-exit":"_btn-exit_1jkel_688",visualizer:W3},V3="/study/BookReading/assets/dodo_23_1-f9dd096b.png";function G3({startRecord:t}){const[i,n]=c.useState(!1),s=yo();return c.useEffect(()=>{setTimeout(()=>{n(!i)},3e3)},[]),e.jsxs("button",{className:`${ee.btnSpeakPlay} ${i&&"heartbeat"}`,onClick:()=>{s.micPermission==="denied"&&alert(s.alertMessage),n(!1),t()},children:[e.jsx("div",{className:`${ee.icon} ${ee.record}`}),e.jsx("div",{className:ee.txtWord,children:"Speak"})]})}function U3({playSentence:t}){return e.jsxs("button",{className:ee.btnSpeakPlay,onClick:()=>t(),children:[e.jsx("div",{className:`${ee.icon} ${ee.play}`}),e.jsx("div",{className:ee.txtWord,children:"Listen"})]})}function K3({playSentence:t,startRecord:i}){return e.jsxs("div",{className:`${ee.runReady} animate__animated animate__slideInUp`,children:[e.jsx(U3,{playSentence:t}),e.jsx("div",{className:ee.txtSome,children:"•"}),e.jsx(G3,{startRecord:i})]})}function J3(){return e.jsx("div",{className:`${ee.runVoiceRecord} animate__animated animate__slideInUp`,children:e.jsx(ds,{})})}function Y3(){return e.jsx("div",{className:`${ee.runEbookAudioPlay} animate__animated animate__slideInUp`,children:e.jsx(rS,{})})}function Xi({progressWidth:t,playBarState:i,nativeAudio:n,playSentence:s,startRecord:a}){const l=c.useRef(new Audio(n)).current,r=c.useRef(null);let x;return c.useEffect(()=>{if(r.current&&i==="recording"&&n){let _=0;const b=l.duration>=5?1.4:1.2,f=l.duration*1e3*b;x=setInterval(()=>{_+=25,r.current&&(_/f>1?clearInterval(x):r.current.style.width=`${_/f*100}%`)},25)}else clearInterval(x);return()=>{clearInterval(x)}},[i]),e.jsx("div",{children:e.jsxs("div",{className:ee.playBar,children:[e.jsx("div",{className:ee.progress,children:e.jsx("div",{className:ee.progressBar,style:{width:`${t}%`}})}),e.jsxs("div",{className:ee.wrapperAnims,children:[i===""&&e.jsx(K3,{playSentence:s,startRecord:a}),i==="playing-sentence"&&e.jsx(Y3,{}),i==="recording"&&e.jsxs(e.Fragment,{children:[e.jsx(J3,{}),e.jsx("div",{ref:r,className:ee.recProgress})]})]})]})})}function X3({pageNumber:t,sentence:i,sequence:n,marginTop:s,marginLeft:a}){const u=l=>{const r=/id=\"t/g;let x=l.replace(r,`id="t_${t}_`);if(n!==999){const _=/ id=\"t/g;x=x.replace(_,` style='margin-top: ${s}px; margin-left: ${a}px;' id="t`)}else if(n===999){const _=/ id=\"t/g;x=x.replace(_,` style='margin-top: ${s}px; margin-left: ${a}px;' id="t`)}return x};return e.jsx("div",{dangerouslySetInnerHTML:{__html:u(i)}})}function Z3({pageNumber:t,sentence:i,marginTop:n,marginLeft:s,sequence:a,color:u,clickSentence:l}){const r=_=>{const b=/id=\"t/g;return _.replace(b,`style='margin-top: ${n}px; margin-left: ${s}px; background-color:${u}; cursor:pointer;' id="t_${t}_`)},x=()=>{a!==999&&l(t,a)};return e.jsx("div",{dangerouslySetInnerHTML:{__html:r(i)},onClick:()=>x()})}function Ds({pageNumber:t,pageSeq:i,speakData:n,clickSentence:s}){const[a,u]=c.useState(""),[l,r]=c.useState(),[x,_]=c.useState(),[b,f]=c.useState(""),[p,S]=c.useState(t);return c.useEffect(()=>{var k,m;if(n){const o=(k=n.find(g=>g.Page===t&&g.Sequence===999))==null?void 0:k.Css;if(o){const g=/\#t/g,y=o.replace(g,`#t_${t}_`);u(y)}const h=(m=n.find(g=>g.Page===t&&g.Sequence===999))==null?void 0:m.ImagePath,d=n.filter(g=>g.Page===t);_(h),r(d),p<t?(S(t),f("slide-in-right"),setTimeout(()=>{f("")},100)):(S(t),f("slide-in-left"),setTimeout(()=>{f("")},100))}},[t]),e.jsxs("div",{style:{backgroundImage:`url(${x})`},className:`${ee.speakEbookPage} ${ee.level1}`,children:[e.jsx("div",{dangerouslySetInnerHTML:{__html:a}}),l&&l.map(k=>i.playPage===t&&k.Sequence!==999&&k.Sequence===i.sequnce?e.jsx(Z3,{pageNumber:t,sequence:k.Sequence,sentence:k.Contents,marginTop:k.MarginTop,marginLeft:k.MarginLeft,color:k.FontColor,clickSentence:s}):e.jsx(X3,{pageNumber:t,sequence:k.Sequence,sentence:k.Contents,marginTop:k.MarginTop,marginLeft:k.MarginLeft}))]})}const eN=new A(navigator.userAgent),pi=eN.phone();function Zi({pageNumber:t,pageSeq:i,speakData:n,clickSentence:s}){var l,r,x;const a=((x=(r=(l=c.useContext(ie))==null?void 0:l.bookInfo)==null?void 0:r.BookLevel)==null?void 0:x.substring(0,1))||"K";let u;if(pi){const _=window.innerWidth,b=a==="k"?480:525,f=_/b,p=_/b*750/2;u={transform:`scale(${f})`,top:`calc(50% - ${p+4}px)`}}else u={transform:`scale(${(window.innerHeight-92)/750||1})`};return e.jsx("div",{className:ee.speakBody,children:e.jsx("div",{style:u,className:ee.ebookViewer,children:pi?e.jsx(Ds,{pageNumber:t,pageSeq:i,speakData:n,clickSentence:s}):e.jsxs(e.Fragment,{children:[e.jsx(Ds,{pageNumber:t%2===0?t-1:t,pageSeq:i,speakData:n,clickSentence:s}),e.jsx(Ds,{pageNumber:t%2===0?t:t+1,pageSeq:i,speakData:n,clickSentence:s})]})})})}function er(){return e.jsx("div",{children:e.jsx("button",{className:ee.btnExit,onClick:()=>window.onExitStudy()})})}function tr({speakData:t,quizIndex:i,changeQuizIndex:n,changePlayBarState:s}){const u=c.useRef(new Audio).current;u.autoplay=!0;const[l,r]=c.useState({playPage:t[i].Page,sequnce:t[i].Sequence});c.useEffect(()=>{t&&(t[i].Sequence===999?n(i+1):r({playPage:t[i].Page,sequnce:t[i].Sequence}))},[i]),c.useEffect(()=>{const f=()=>{u.play().then(()=>{s("playing-sentence")}).catch(S=>{s("reset")}).finally(()=>{console.log("finally")})},p=()=>{s("")};return u.addEventListener("canplaythrough",f),u.addEventListener("ended",p),x("",l.playPage,l.sequnce),()=>{u.removeEventListener("canplaythrough",f),u.removeEventListener("ended",p),_()}},[l]);const x=async(f,p,S)=>{if(f===""){const k=t.find(m=>m.Page===p&&m.Sequence===l.sequnce);k?(await fetch(k.SoundPath)).ok&&(u.src=k.SoundPath):(u.src="",u.currentTime=0)}},_=()=>{u.pause(),u.src="",u.currentTime=0,s("")};return{pageSeq:l,playAudio:x,stopAudio:_,changePageSeq:(f,p)=>{r({playPage:f,sequnce:p})}}}const tN="https://api.readinggate.elasolution.com",nN="e874641aac784ff6b9d62c3483f7aaaa";function nr(){const{t}=he(),[i,n]=c.useState(""),s=(u,l,r,x)=>{try{const _=new Audio(l),b=()=>{const f=_.duration>=5?1.4:1.2,p=Math.ceil(_.duration*1e3*f);if(navigator.mediaDevices.getUserMedia){console.log("The mediaDevices.getUserMedia() method is supported.");const S=o=>{r("recording");const h=new MediaRecorder(o),d=[];h.ondataavailable=g=>{d.push(g.data)},h.onstop=()=>{o.getTracks().forEach(function(w){w.stop()});const g=new Blob(d,{type:h.mimeType}),y=new File([g],"student_audio.mp3",{type:"audio/mp3"});n(URL.createObjectURL(g)),a(y,l,u,x)},h.onerror=g=>{alert(g)},h.start(),setTimeout(()=>{h.stop()},p)},k=o=>{r("reset"),console.error("The following error occured: "+o)},m={audio:!0};navigator.mediaDevices.getUserMedia(m).then(S,k).catch(o=>{console.log(o.name),console.log(o.message)})}else r("reset"),alert("MediaDevices.getUserMedia() not supported on your browser!")};ho?_.addEventListener("loadedmetadata",b):_.addEventListener("canplaythrough",b)}catch(_){alert(_)}},a=async(u,l,r,x)=>{const _=await sN(l),b=new FormData;b.append("student_audio",u),b.append("text",r),b.append("get_phoneme_result",!0),b.append("native_audio",_),rs.post(`${tN}/pron_v2/`,b,{headers:{"X-API-Key":nN,"Content-Type":"multipart/form-data"}}).then(f=>{switch(f.status){case 200:x(f.data);break;case 401:alert(t("study.인증키가 잘못되었습니다. 리딩게이트로 전화주세요. 1599-0533"));break;case 403:alert(f.data);break;case 422:alert(f.data);break}}).catch(f=>{console.error(f)})};return{userAudio:i,startRecording:s}}const sN=async t=>{const n=await(await fetch(t)).blob(),s=t.split(".").pop(),a=t.split("/").pop(),u={type:`image/${s}`};return new File([n],a,u)},oN=new A(navigator.userAgent),iN=oN.phone();function gi({src:t,color:i}){const n=c.useRef(null);c.useEffect(()=>{(async()=>{try{const r=await fetch(t);if(r.status===200){const x=new AudioContext,_=new FileReader,b=await r.blob(),f=await b.arrayBuffer(),p=async()=>{x.decodeAudioData(f).then(S=>{u(a(s(S)))})};_.addEventListener("load",p),_.readAsArrayBuffer(b)}}catch(r){alert(r)}})()},[]);const s=l=>{const r=[],x=l.getChannelData(0),_=Math.floor(l.duration*10),b=Math.floor(x.length/_);for(let f=0;f<_;f++){let p=b*f,S=0;if(f===0)for(let k=0;k<b;k++)S=S+Math.abs(x[p+k]);else for(let k=0;k<b;k++)S=S+Math.abs(x[p-k]);r.push(S/b)}return r},a=l=>{const r=Math.max(...l),x=Math.pow(r,-1);return l.map(b=>b*x)},u=l=>{if(n.current){const r=n.current.getContext("2d"),x=800/window.innerWidth||1;if(r){n.current.style.width="100%",n.current.style.height="100%",n.current.width=n.current.offsetWidth,n.current.height=n.current.offsetHeight,r.scale(x,1),r.clearRect(0,0,n.current.width,n.current.height),r.lineWidth=iN?1:3,r.strokeStyle=i,r.beginPath();let _=n.current.width*(window.innerWidth/800)/(l.length-1),b=0;r.moveTo(b-1,n.current.height);for(let f=0;f<l.length-1;f++){let p=l[f]>.5?l[f]*.97:l[f],S=l[f+1]>.5?l[f+1]*.97:l[f+1],k=n.current.height*(1-p),m=n.current.height*(1-S);f===0&&r.lineTo(b-1,k);let o=b+_,h=(b+o)/2,d=(k+m)/2,g=(h+b)/2,y=(h+o)/2;r.quadraticCurveTo(g,k,h,d),r.quadraticCurveTo(y,m,o,m),b+=_}r.stroke(),r.lineTo(n.current.width,n.current.height)}}};return e.jsx("div",{className:ee.visualizer,children:e.jsx("canvas",{ref:n,style:{position:"relative"}})})}function sr({isRetry:t,sentence:i,sentenceScore:n,tryCount:s,nativeAudio:a,userAudio:u,changeRecordResult:l,changeRetry:r}){const x=c.useRef(new Audio(a)),_=c.useRef(new Audio(u)),[b,f]=c.useState(0),p=x.current,S=_.current,[k,m]=c.useState(0),[o,h]=c.useState(!1);c.useEffect(()=>{za();let w,v;const R=()=>{w=setInterval(()=>{const H=p.currentTime/p.duration;H===0?clearInterval(w):f(H)},25)},z=H=>{console.log(H.error),alert(H.error)},E=()=>{p.currentTime=0,clearInterval(w),f(0)},j=()=>{clearInterval(w),f(0)},$=()=>{const H=p.duration>=5?1.4:1.2,W=p.duration*H;v=setInterval(()=>{const q=S.currentTime/(S.duration===1/0?W:S.duration);q===0?clearInterval(v):m(q)},25)},M=H=>{console.log(H.error),alert(H.error)},F=()=>{S.currentTime=0,clearInterval(v),m(0)},O=()=>{clearInterval(v),m(0)};return p.addEventListener("playing",R),p.addEventListener("error",z),p.addEventListener("pause",E),p.addEventListener("ended",j),S.addEventListener("playing",$),S.addEventListener("error",M),S.addEventListener("pause",F),S.addEventListener("ended",O),()=>{p.removeEventListener("playing",R),p.removeEventListener("error",z),p.removeEventListener("pause",E),p.removeEventListener("ended",j),S.removeEventListener("playing",$),S.removeEventListener("error",M),S.removeEventListener("pause",F),S.removeEventListener("ended",O),p.pause(),S.pause(),clearInterval(w),clearInterval(v)}},[]);const d=()=>{S.pause(),p.play()},g=()=>{p.pause(),S.play()},y=()=>{l(!1)};return e.jsx("div",{className:ee.screenBlock,children:e.jsxs("div",{className:ee.popUp,children:[e.jsxs("div",{className:ee.row1,children:[e.jsxs("div",{className:`${ee.btn} ${ee.gray}`,onClick:()=>d(),children:[e.jsx("span",{children:"Native"}),e.jsx("span",{className:ee.iconSpeaker})]}),e.jsxs("div",{className:`${ee.btn} ${ee.gray}`,onClick:()=>g(),children:[e.jsx("span",{children:"My"}),e.jsx("span",{className:ee.iconSpeaker})]}),(n.total_score>=40||t)&&e.jsx(e.Fragment,{children:e.jsx("div",{className:`${ee.btn} ${ee.retry}`,onClick:()=>{t?y():r(!0)},children:e.jsx("span",{className:ee.iconRetry})})})]}),e.jsxs("div",{className:ee.row2,children:[e.jsxs("div",{className:ee.graph,children:[e.jsx(gi,{src:a,color:"#d2d2d2"}),e.jsx(gi,{src:u,color:n.total_score>40?"#3ab6ff":"#ff2424"}),e.jsxs("div",{className:ee.wrapperProgress,children:[e.jsx("div",{style:{left:`${b*100}%`},className:`${ee.progressBar} ${ee.native}`,children:e.jsx("div",{className:ee.progressArrow})}),e.jsx("div",{style:{left:`${k*100}%`},className:`${ee.progressBar} ${ee.student} ${n.total_score>40?ee.passed:null}`,children:e.jsx("div",{className:ee.progressArrow})})]})]}),e.jsx("div",{className:ee.sentence,children:n.phoneme_result.words.map((w,v)=>{const R=w.phonemes.reduce((E,j)=>E+j.score,0)/w.phonemes.length,z=i.split(" ");return e.jsx("div",{className:`${ee.word} ${R<30?ee.red:""}`,children:z[v]})})}),e.jsx("div",{className:ee.phonemes,style:{display:o?"flex":"none"},children:n.phoneme_result.words.map(w=>e.jsxs("div",{className:ee.wordContainer,children:[e.jsx("div",{className:ee.row1,children:w.word}),e.jsx("div",{className:ee.row2,children:w.phonemes.map(v=>e.jsxs("div",{className:ee.phonemeResult,children:[e.jsx("div",{className:`${ee.phoneme} 
                            ${v.score<30&&ee.red}
                            ${v.score>=30&&v.score<70&&ee.orange}  
                            ${v.score>=70&&ee.green}  
                            `,children:v.phoneme}),e.jsxs("div",{className:ee.phonemeScore,children:[Math.floor(v.score),"%"]})]}))})]}))}),e.jsxs("div",{className:ee.btnToggle,onClick:()=>{h(!o)},children:[o?"close":"detail",e.jsx("span",{className:`${ee.icoChev} ${o&&ee.rotate}`})]})]}),e.jsxs("div",{className:`${ee.row3} ${n.total_score>=40?ee.goodJob:ee.tryAgain}`,onClick:()=>{t?r(!1):y()},children:[n.total_score>=40?e.jsx("div",{className:ee.txt,children:"Good Job!"}):e.jsx(e.Fragment,{children:t?e.jsx(e.Fragment,{children:e.jsx("div",{className:ee.txt,children:"Try Again"})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:ee.txt,children:["Try Again (",s+1," / 3)"]})})}),e.jsx("div",{className:ee.iconArrow})]})]})})}const rN="/study/BookReading/assets/good_job-1825e699.mp3",aN="/study/BookReading/assets/good_effort-991632df.mp3",cN=new A(navigator.userAgent),un=cN.phone();function or({isPass:t}){const{handler:i,bookInfo:n}=c.useContext(ie);return c.useEffect(()=>{Vs(t?rN:aN)},[]),e.jsx("div",{className:`${ee.wrapperResult} ${un?"mobile":""}`,style:{backgroundImage:`url(${n.BackgroundImage})`},children:e.jsxs("div",{className:ee.resultMark,children:[t?e.jsxs(e.Fragment,{children:[e.jsx(aS,{width:un?300:450,height:un?300:450}),e.jsx("div",{className:ee.txt,children:"Good Job!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(cS,{width:un?320:500,height:un?160:350}),e.jsx("div",{className:ee.txt,children:"Good Effort"})]}),e.jsx("button",{className:`${ee.btnExitResult} ${un?"mobile":""}`,onClick:()=>{i.changeView("story")}})]})})}const uN=new A(navigator.userAgent),lN=uN.phone();function dN({playBarState:t,tryCount:i,speakData:n,isRetry:s,quizIndex:a,changeQuizIndex:u,changePlayBarState:l,increaseTryCount:r,resetTryCount:x,changeTryCount:_,changeRetry:b}){const{studyInfo:f}=c.useContext(ie),p=c.useRef(!1),S=c.useRef(""),[k,m]=c.useState(!1),{pageSeq:o,playAudio:h,stopAudio:d,changePageSeq:g}=tr({speakData:n,quizIndex:a,changeQuizIndex:u,changePlayBarState:l}),{userAudio:y,startRecording:w}=nr(),[v,R]=c.useState(window.innerWidth),[z,E]=c.useState(window.innerHeight),[j,$]=c.useState(),[M,F]=c.useState(!1);c.useEffect(()=>{const G=()=>{R(window.innerWidth),E(window.innerHeight)};return G(),window.addEventListener("resize",G),()=>{window.removeEventListener("resize",G)}},[lN,z]),c.useEffect(()=>{j&&(j.total_score>=40||i+1>=3?N(j.total_score):F(!0))},[j]),c.useEffect(()=>{t===""?($(void 0),p.current=!1):t==="reset"&&l("")},[t]),c.useEffect(()=>{if(j&&!M){const V=!(n.filter((I,Q)=>I.Sentence!==null&&Q>a&&I.QuizNo>0).length>0);s?(p.current=!1,_(-1),l(""),H(),$(void 0)):j.total_score>=40||i+1>=3||i===-1?V?m(!0):u(a+1):r()}},[M]),c.useEffect(()=>{(s||j)&&B(!1)},[s]),c.useEffect(()=>{$(void 0),x(),p.current=!1},[a]),c.useEffect(()=>{i>=3?F(!0):(p.current=!1,H(),l(""))},[i]);const O=()=>{p.current||H()},H=()=>{p.current||(p.current=!0,l("playing-sentence"),h("",o.playPage,o.sequnce))},W=G=>{$(G)},q=()=>{p.current||(p.current=!0,d(),w(n[a].Sentence,n[a].SoundPath,l,W))},N=async G=>{const I=!(n.filter((L,Y)=>L.Sentence!==null&&Y>a&&L.Sequence!==999).length>0),Q={studyId:f.studyId,studentHistoryId:f.studentHistoryId,challengeNumber:n[0].ChallengeNumber,page:n[a].Page,sequence:n[a].Sequence,quizNo:n[a].QuizNo,sentence:n[a].Sentence,scoreOverall:G,wordsJson:JSON.stringify(j),isLastQuiz:I};let T;s?T={result:0,resultMessage:""}:T=await wi(Q),Number(T.result)===0&&(F(!0),(T.resultMessage==="PASS"||T.resultMessage==="FAIL")&&(S.current=T.resultMessage))},B=G=>{F(G)},D=n.filter(G=>G.QuizNo!==null&&G.QuizNo>0).length,K=n[a].QuizNo/D*100;return e.jsx(e.Fragment,{children:k?e.jsx(or,{isPass:S.current==="PASS"}):e.jsx(e.Fragment,{children:e.jsxs("div",{style:{width:v,height:z},children:[e.jsx(er,{}),e.jsx(Zi,{pageNumber:o.playPage,pageSeq:o,speakData:n,clickSentence:O}),e.jsx(Xi,{progressWidth:K,playBarState:t,nativeAudio:n[a].SoundPath,playSentence:H,startRecord:q}),M?e.jsx(e.Fragment,{children:j&&e.jsx(sr,{isRetry:s,sentence:n[a].Sentence,sentenceScore:j,tryCount:i,nativeAudio:n[a].SoundPath,userAudio:y,changeRecordResult:B,changeRetry:b})}):e.jsx(e.Fragment,{})]})})})}const mN=new A(navigator.userAgent),xN=mN.phone();function hN({playBarState:t,tryCount:i,speakData:n,isRetry:s,quizIndex:a,changeQuizIndex:u,changePlayBarState:l,increaseTryCount:r,resetTryCount:x,changeTryCount:_,changeRetry:b}){const{studyInfo:f}=c.useContext(ie),p=c.useRef(!1),S=c.useRef(""),[k,m]=c.useState(!1),{pageSeq:o,playAudio:h,stopAudio:d,changePageSeq:g}=tr({speakData:n,quizIndex:a,changeQuizIndex:u,changePlayBarState:l}),{userAudio:y,startRecording:w}=nr(),[v,R]=c.useState(window.innerWidth),[z,E]=c.useState(window.innerHeight),[j,$]=c.useState(),[M,F]=c.useState(!1);c.useEffect(()=>{const K=()=>{R(window.innerWidth),E(window.innerHeight)};return K(),window.addEventListener("resize",K),()=>{window.removeEventListener("resize",K)}},[xN,z]),c.useEffect(()=>{j&&(j.total_score>=40||i+1>=3?N(j.total_score):F(!0))},[j]),c.useEffect(()=>{t===""?($(void 0),p.current=!1):t==="reset"&&l("")},[t]),c.useEffect(()=>{if(j&&!M){const G=!(n.filter((V,I)=>V.Sentence!==null&&I>a&&V.QuizNo>0).length>0);s?(p.current=!1,_(-1),l(""),H(),$(void 0)):j.total_score>=40||i+1>=3||i===-1?G?m(!0):u(a+1):r()}},[M]),c.useEffect(()=>{(s||j)&&B(!1)},[s]),c.useEffect(()=>{$(void 0),x(),p.current=!1},[a]),c.useEffect(()=>{i>=3?F(!0):(p.current=!1,H(),l(""))},[i]);const O=()=>{p.current||H()},H=()=>{p.current||(p.current=!0,l("playing-sentence"),h("",o.playPage,o.sequnce))},W=K=>{$(K)},q=()=>{p.current||(p.current=!0,d(),w(n[a].Sentence,n[a].SoundPath,l,W))},N=async K=>{const V=!(n.filter((T,L)=>T.Sentence!==null&&L>a&&T.QuizNo>0).length>0),I={studyId:f.studyId,studentHistoryId:f.studentHistoryId,challengeNumber:n[0].ChallengeNumber,page:n[a].Page,sequence:n[a].Sequence,quizNo:n[a].QuizNo,sentence:n[a].Sentence,scoreOverall:K,wordsJson:JSON.stringify(j),isLastQuiz:V};let Q;s?Q={result:0,resultMessage:""}:Q=await wi(I),Number(Q.result)===0&&(F(!0),(Q.resultMessage==="PASS"||Q.resultMessage==="FAIL")&&(S.current=Q.resultMessage))},B=K=>{F(K)},D=n[a].Page/n[n.length-1].Page*100;return e.jsx(e.Fragment,{children:k?e.jsx(or,{isPass:S.current==="PASS"}):e.jsx(e.Fragment,{children:e.jsxs("div",{style:{width:v,height:z},children:[e.jsx(er,{}),e.jsx(Zi,{pageNumber:o.playPage,pageSeq:o,speakData:n,clickSentence:O}),e.jsx(Xi,{progressWidth:D,playBarState:t,nativeAudio:n[a].SoundPath,playSentence:H,startRecord:q}),M?e.jsx(e.Fragment,{children:j&&e.jsx(sr,{isRetry:s,sentence:n[a].Sentence,sentenceScore:j,tryCount:i,nativeAudio:n[a].SoundPath,userAudio:y,changeRecordResult:B,changeRetry:b})}):e.jsx(e.Fragment,{})]})})})}const _N=new A(navigator.userAgent),yi=_N.phone();function pN(){const{handler:t,studyInfo:i,bookInfo:n}=c.useContext(ie),[s,a]=c.useState(window.innerWidth),[u,l]=c.useState(window.innerHeight),[r,x]=c.useState(!0),[_,b]=ba(fa,{mode:i.mode,studentHistoryId:i.studentHistoryId,studyId:i.studyId}),[f,p]=c.useState(!1),[S,k]=c.useState(0),[m,o]=c.useState(0),[h,d]=c.useState(""),[g,y]=c.useState(!0);c.useEffect(()=>{const M=()=>{a(window.innerWidth),l(window.innerHeight)};return M(),window.addEventListener("resize",M),()=>{window.removeEventListener("resize",M)}},[yi,u]),c.useEffect(()=>{if(_){let M=0;if(b.length>0){const F=b[b.length-1];M=_.findIndex(H=>H.Page===F.Page&&H.Sequence===F.Sequence&&H.DataPath!=="")+1}for(;!(_[M].Contents!==""&&_[M].DataPath!=="");)M++;o(M)}},[_]);const w=M=>{o(M)},v=M=>{d(M)},R=()=>{k(S+1)},z=()=>{k(0)},E=M=>{k(M)},j=()=>{x(!1)},$=M=>{p(M)};return _?e.jsx(e.Fragment,{children:r?e.jsxs("div",{className:ee.screenBlock,style:{backgroundImage:`url(${n.BackgroundImage})`},children:[e.jsxs("div",{className:`${ee.speakButtonArea} animate__animated ${g?"animate__bounceInRight":"animate__bounceOutLeft"}`,children:[e.jsx("img",{src:V3,alt:"",width:150,height:"auto",style:{position:"relative",zIndex:2}}),e.jsx("div",{className:ee.startButton,onClick:()=>{y(!1),setTimeout(()=>{j()},1e3)},children:"Let's Speak!"}),e.jsx("div",{className:`${ee.recAni} animate__animated ${g?"animate__zoomIn":"animate__zoomOut"}`,children:e.jsx(iS,{})})]}),e.jsx("div",{className:ee.screenBgColor})]}):e.jsx(e.Fragment,{children:yi?e.jsxs("div",{className:ee.speackBodyBg,style:{backgroundImage:`url(${n.BackgroundImage})`},children:[e.jsx("div",{style:{position:"relative",zIndex:2},children:e.jsx(hN,{playBarState:h,tryCount:S,speakData:_,isRetry:f,quizIndex:m,changeQuizIndex:w,changePlayBarState:v,increaseTryCount:R,resetTryCount:z,changeTryCount:E,changeRetry:$})}),e.jsx("div",{className:ee.speackBodyBgColor})]}):e.jsxs("div",{className:ee.speackBodyBg,style:{backgroundImage:`url(${n.BackgroundImage})`},children:[e.jsx("div",{style:{position:"relative",zIndex:2},children:e.jsx(dN,{playBarState:h,tryCount:S,speakData:_,isRetry:f,quizIndex:m,changeQuizIndex:w,changePlayBarState:v,increaseTryCount:R,resetTryCount:z,changeTryCount:E,changeRetry:$})}),e.jsx("div",{className:ee.speackBodyBgColor})]})})}):e.jsx(e.Fragment,{children:"Loading..."})}const gN=()=>{const{handler:t}=c.useContext(ie);c.useEffect(()=>{console.log(t.viewStudy)},[t.viewStudy]);let i;switch(t.viewStudy){case"story":i=e.jsx(_i,{});break;case"speaking":i=e.jsx(pN,{});break;case"quiz":i=e.jsx(Hi,{});break;default:i=e.jsx(_i,{})}return i};function yN(){he();const{bookInfo:t,studyInfo:i,handler:n}=c.useContext(ie),[s,a]=c.useState(3),u=r=>{a(r)},l=async()=>{(await Si(i.studyId,i.studentHistoryId,s*10)).success&&n.changeView("quiz")};return e.jsx("div",{className:`${C.ebookRating}`,children:e.jsxs("div",{className:`${C.container} animate__animated animate__zoomIn`,children:[e.jsx("div",{className:C.groupBookcover,children:e.jsx("img",{className:C.imgBookcover,src:`${t.SurfaceImage}`})}),e.jsxs("div",{className:C.groupChoose,children:[e.jsx("div",{className:C.txtQuestion,children:"How do you like this book?"}),e.jsx("div",{className:C.groupChooseRating,children:e.jsx(Yi,{starCount:s,changeStarCount:u})}),e.jsx("div",{className:C.groupConfirm,children:e.jsx("button",{className:`${C.btnConfirm} ${C.blue}`,onClick:()=>{n.isPreference?n.changeView("quiz"):l()},children:"퀴즈 풀기"})})]}),e.jsxs("div",{className:C.groupComment,children:[e.jsx("span",{className:C.icoExclamationMark}),e.jsx("span",{className:C.txtComment,children:e.jsx(as,{i18nKey:"story.모든 학습을 완료하고 평균 70점을 넘어야 포인트를 획득 할 수 있습니다.",components:{b:e.jsx("b",{})}})})]})]})})}const fN=t=>{const{handler:i}=c.useContext(ie);let n;return i.isPreference?n=e.jsx(Hi,{}):n=e.jsx(yN,{}),n};function bN({onUpdateReviewInform:t}){const{t:i}=he(),{bookInfo:n}=c.useContext(ie);return e.jsx("div",{className:`${C.ebookRating}`,children:e.jsxs("div",{className:`${C.container} animate__animated animate__zoomIn`,children:[e.jsx("div",{className:C.groupBookcover,children:e.jsx("img",{className:C.imgBookcover,src:`${n.SurfaceImage}`})}),e.jsxs("div",{className:C.groupChoose,children:[e.jsx("div",{className:C.txtQuestion,children:"Let's start the study review."}),e.jsx("div",{className:C.groupConfirm,children:e.jsx("button",{className:`${C.btnConfirm} ${C.blue}`,onClick:()=>{t()},children:"Go!"})})]}),e.jsxs("div",{className:C.groupComment,children:[e.jsx("span",{className:C.icoExclamationMark}),e.jsx("span",{className:C.txtComment,children:i("story.다시 보기 모드에서는 학습을 완료해도 포인트가 제공되지 않아요.")})]})]})})}const HN=()=>{const{studyInfo:t}=c.useContext(ie);let i="error";t.bookType==="EB"?i="ebook":t.bookType==="PB"&&(i="pbook");const n=i,[s,a]=c.useState(!1),u=()=>{a(!0)};let l;return n==="ebook"?l=e.jsx(gN,{}):n==="pbook"&&(l=e.jsx(fN,{})),e.jsx("div",{children:t.isReview&&!s?e.jsx(bN,{onUpdateReviewInform:u}):l})};export{HN as default};
