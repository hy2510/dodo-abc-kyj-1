import{r as c,j as e}from"./react-db179e3f.js";import{A as ne,g as Ie,G as Pe,a as ur,S as lr,b as dr,l as Co,s as Te,d as ls,c as Us,e as Si,f as vi,h as bn,i as mr,j as Ge,k as ji,m as xr,n as zi,o as hr}from"./index-1a8c6b7a.js";import{M as A}from"./mobile-detect-2a7fec19.js";import{l as _e}from"./lodash-a4c554b9.js";import{a as ds}from"./axios-78cd9fea.js";import{u as de,T as mn}from"./react-i18next-14713821.js";import{r as dn}from"./react-string-replace-0260c66b.js";import{i as go}from"./react-device-detect-45df9d2e.js";import{_ as wn}from"./react-lottie-1caeb1a2.js";import"./babel-runtime-01576600.js";import"./core-js-0b17ae42.js";import"./react-dom-0faac95a.js";import"./scheduler-765c72db.js";/* empty css                    */import"./i18next-21d03132.js";import"./universal-cookie-ec792dfe.js";import"./html-parse-stringify-1df96aab.js";import"./void-elements-9d0bbc9d.js";import"./ua-parser-js-5a23bf3c.js";import"./prop-types-387d7a00.js";import"./lottie-web-c026a525.js";const Xt=()=>{const{bookInfo:t}=c.useContext(ne),i=window.REF,n=i.Unit||i.unit;let o="baro";if(n!==void 0&&n!=="")o=n.replace("https://wcfresource.a1edu.com/newsystem/image/character/subcharacter/").replace(".png");else switch(t.BookLevel){case"6C":case"6B":case"6A":case"5C":case"5B":case"5A":o="dodo";break;case"4C":case"4B":case"4A":o="gino";break;case"3C":o="goma";break;case"3B":o="leoni";break;case"3A":o="edmond";break;case"2C":o="roro";break;case"2B":o="tori";break;case"2A":o="greenthumb";break;case"1C":o="blanc";break;case"1B":o="sheila";break;case"1A":o="jack";break;case"KC":o="millo";break;case"KB":o="chello";break;default:o="baro"}return o};async function _r(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Pe}/cloze-test-1?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Quiz:a.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound},Examples:x.Examples.map(_=>({Text:_.Text}))}))}))}async function pr(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Pe}/cloze-test-2?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),IsEnablePenaltyReview:!!a.IsEnablePenaltyReview,Quiz:a.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound},Examples:x.Examples.map(_=>({Text:_.Text}))}))}))}async function gr(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Pe}/cloze-test-3?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),IsEnablePenaltyReview:!!a.IsEnablePenaltyReview,Quiz:a.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound},Examples:x.Examples.map(_=>({Text:_.Text}))}))}))}const yr="_comment_1f96m_2",fr="_wordPlayButton_1f96m_21",br="_txtL_1f96m_36",kr="_cardNumber_1f96m_47",wr="_testReview_1f96m_62",Sr="_title_1f96m_65",vr="_container_1f96m_70",jr="_sentence_1f96m_79",zr="_nextButton_1f96m_88",$r="_deactNextButton_1f96m_110",Cr="_reviewAnswer_1f96m_131",Qr="_currentOrder_1f96m_140",Ar="_blink_1f96m_1",Nr="_currentInput_1f96m_160",Tr="_otherInput_1f96m_161",Ir="_enterButton_1f96m_168",Br="_hintText_1f96m_194",Er="_clozeTest1_1f96m_204",Pr="_textCard_1f96m_208",Mr="_correct_1f96m_243",Lr="_incorrect_1f96m_248",Rr="_awnserText_1f96m_253",Fr="_answers_1f96m_258",qr="_questionBox_1f96m_271",Hr="_answerBox_1f96m_296",Or="_correctAnswer_1f96m_313",Dr="_incorrectAnswer_1f96m_317",Vr="_clozeTest2_1f96m_328",Wr="_clozeTest3_1f96m_439",it={comment:yr,wordPlayButton:fr,txtL:br,cardNumber:kr,testReview:wr,title:Sr,container:vr,sentence:jr,nextButton:zr,deactNextButton:$r,reviewAnswer:Cr,currentOrder:Qr,blink:Ar,currentInput:Nr,otherInput:Tr,enterButton:Ir,hintText:Br,clozeTest1:Er,textCard:Pr,correct:Mr,incorrect:Lr,awnserText:Rr,answers:Fr,questionBox:qr,answerBox:Hr,correctAnswer:Or,incorrectAnswer:Dr,clozeTest2:Vr,clozeTest3:Wr},Gr="_comment_nyw2n_2",Ur="_wordPlayButton_nyw2n_16",Kr="_txtL_nyw2n_31",Jr="_cardNumber_nyw2n_42",Yr="_testReview_nyw2n_57",Xr="_title_nyw2n_57",Zr="_container_nyw2n_62",ea="_sentence_nyw2n_71",ta="_nextButton_nyw2n_79",na="_deactNextButton_nyw2n_101",sa="_reviewAnswer_nyw2n_122",oa="_currentOrder_nyw2n_131",ia="_blink_nyw2n_1",ra="_currentInput_nyw2n_153",aa="_otherInput_nyw2n_154",ca="_hintText_nyw2n_162",ua="_clozeTest1_nyw2n_172",la="_textCard_nyw2n_176",da="_correct_nyw2n_211",ma="_incorrect_nyw2n_216",xa="_awnserText_nyw2n_221",ha="_answers_nyw2n_226",_a="_questionBox_nyw2n_236",pa="_answerBox_nyw2n_256",ga="_correctAnswer_nyw2n_273",ya="_incorrectAnswer_nyw2n_277",fa="_clozeTest2_nyw2n_288",ba="_enterButton_nyw2n_354",ka="_clozeTest3_nyw2n_381",lt={comment:Gr,wordPlayButton:Ur,txtL:Kr,cardNumber:Jr,testReview:Yr,title:Xr,container:Zr,sentence:ea,nextButton:ta,deactNextButton:na,reviewAnswer:sa,currentOrder:oa,blink:ia,currentInput:ra,otherInput:aa,hintText:ca,clozeTest1:ua,textCard:la,correct:da,incorrect:ma,awnserText:xa,answers:ha,questionBox:_a,answerBox:pa,correctAnswer:ga,incorrectAnswer:ya,clozeTest2:fa,enterButton:ba,clozeTest3:ka},je=()=>{const[t,i]=c.useState(!0);return{isStepIntro:t,closeStepIntro:o=>{i(!1),o&&o()}}};function wa(t,i){const n=c.useRef();c.useEffect(()=>{n.current=t},[t]),c.useEffect(()=>{function o(){n.current&&n.current()}o();const r=setInterval(o,i);return()=>{clearInterval(r)}},[i])}function ze(t){const i=c.useRef(),[n,o]=c.useState(-1),[r,u]=c.useState(-1),[l,a]=c.useState(0),[x,_]=c.useState(!0),[f,k]=c.useState({timeMin:0,timeSec:0}),p=()=>{a(Date.now()),_(!1)},w=()=>{o(r),_(!0)},b=(m,s)=>{const h=m%60,d=(m-h)/60;k({timeMin:d,timeSec:h}),o(m),s?p():_(!0)};return c.useEffect(()=>{i.current=t},[t]),wa(()=>{if(!x){const m=Math.floor((Date.now()-l)/1e3),s=n-m,h=s>=0?s%60:0,d=s>=0?(s-h)/60:0;s<=0&&(w(),i.current&&i.current()),k({timeMin:d,timeSec:h}),u(s)}},1e3),{time:f,setup:b,start:p,stop:w,isFinish:f.timeMin+f.timeSec<=0}}const Qo=["animate__animated"],dt=()=>({isContain:(i,n)=>i.classList.contains(n),play:(i,n,o)=>{i.classList.add(...Qo,...n),o&&o()},remove:(i,n)=>{i.classList.remove(...n,...Qo)},removeAndPlay:(i,n,o)=>{i.classList.remove(...n),i.classList.add(...o)}});async function Sa(t){const i=`${ur}?studentHistoryId=${t.studentHistoryId}&studyId=${t.studyId}`;return Ie(i,async o=>o.map(r=>({ChallengeNumber:r.ChallengeNumber,BookId:r.BookId,Page:r.Page,QuizNo:r.QuizNo,Css:r.Css,Contents:r.Contents,FontColor:r.FontColor,ImagePath:r.ImagePath,Sequence:r.Sequence,SoundPath:r.SoundPath,MarginTop:Number(r.MarginTop),MarginLeft:Number(r.MarginLeft),DataPath:r.DataPath,Sentence:r.Sentence})))}const Ao=async t=>await ds.get(`/${dr}?studyId=${t.studyId}&studentHistoryId=${t.studentHistoryId}`).then(n=>n.data).catch(n=>{console.error(n)}),$i=async t=>{let i={result:0,resultMessage:""};try{i=await ds.post(`/${lr}`,t).then(n=>n.data)}catch{throw new Error("API Load Failed 2")}return i},$e=(t,i,n,o)=>{const[r,u]=c.useState(),[l,a]=c.useState([]);return c.useEffect(()=>{(async()=>{const _=await t(i);if(!_)throw new Error("No StudyData Error");let f;o?f=await Co("R",i):f=await Co(n,i),u(_),a(f)})()},[t]),[r,l]},va=(t,i,n)=>{const[o,r]=c.useState(),[u,l]=c.useState([]);return c.useEffect(()=>{(async()=>{const x=await t(i);if(!x)throw new Error("No StudyData Error");let _;n?_=await Ao(i):_=await Ao(i),r(x),l(_)})()},[t]),[o,u]},ut=(t,i,n)=>{let o=1,r=0;if(t==="Quiz"&&i&&i.length>0){const u=i[i.length-1];u.AnswerCount===n||u.OX==="1"?o=u.CurrentQuizNo+1:(o=u.CurrentQuizNo,r=u.AnswerCount)}return[o,r]},ja=(t,i,n,o)=>{let r=1,u=1,l=0;if(t==="Quiz"&&i&&i.length>0){const a=i[i.length-1],x=a.StudentAnswer.split(","),_=x[x.length-1].slice(-1),f=x[x.length-1].length;f===o||_==="1"?(x.length===n?u=a.QuizNo+1:u=a.QuizNo,r=a.CurrentQuizNo+1):(r=a.CurrentQuizNo,u=a.QuizNo,l=f)}return[r,u,l]},za=(t,i,n)=>{let o=1,r=0;if(t==="Quiz"&&i&&i.length>0){const u=i[i.length-1],l=u.StudentAnswer.split("/"),a=l.filter(f=>f.length===n||f.slice(-1)==="1").length,x=l.length;if(a===x)o=u.QuizNo+1;else{const f=l.map(k=>k.length);o=u.CurrentQuizNo+1,r=Math.max(...f)}}return[o,r]},$a=(t,i,n)=>{let o=1,r=0;if(t==="Quiz"&&i&&i.length>0){const u=i[i.length-1];u.AnswerCount===n||u.AnswerCount===null?o=u.CurrentQuizNo+1:(o=u.CurrentQuizNo,r=u.AnswerCount)}return[o,r]},Ce=(t,i="normal")=>{const[n,o]=c.useState([]),r=(s,h)=>{const d=p(s,h);o(d)},u=(s,h)=>{let d;i==="normal"?d=w(s,h):d=b(s,h),o(d)},l=s=>{if(t==="Quiz"){let h=[];n.length>0&&(h=[...n]),s.maxCount>1&&n.find(g=>g.quizNo===s.quizNo)?h=_e.map(n,g=>g.quizNo===s.quizNo&&g.answerCount<s.maxCount?{...g,quizNo:s.quizNo,maxCount:s.maxCount,answerCount:s.answerCount,ox:s.ox}:g):h.push(s),o(h)}},a=s=>{if(t==="Quiz"){let h=[];n.length>0&&(h=[...n]),s.map(d=>{d.maxCount>1&&n.find(y=>y.quizNo===d.quizNo)?h=_e.map(n,y=>y.quizNo===d.quizNo&&y.answerCount<d.maxCount?{...y,quizNo:d.quizNo,maxCount:d.maxCount,answerCount:d.answerCount,ox:d.ox}:y):h.push(d)}),o(h)}},x=(s,h,d)=>{const g=[...n,s],y=100/h;let S=0;return g.map(v=>{if(v.ox)switch(v.answerCount){case 1:S+=1*y;break;case 2:S+=.5*y;break;case 3:S+=.25*y;break}else v.answerCount}),Math.round(S)},_=({mobile:s,studyId:h,studentHistoryId:d,bookType:g,step:y,quizId:S,quizNo:v,currentQuizNo:L,correct:$,selectedAnswer:E,tryCount:z,maxQuizCount:C,quizLength:M,isCorrect:q,answerData:D,isEnabledPenalty:H,isFinishStudy:W})=>{let R;if(L+1>M)if(q){const N=x(D,M,C);R={mobile:s,studyId:h,studentHistoryId:d,bookType:g,step:`${y}`,quizId:S,quizNo:v,currentQuizNo:L,correct:$,studentAnswer:E,answerCount:z,isLastQuiz:!0,score:N,isFinishStudy:W}}else if(z>=C){const N=x(D,M,C);R={mobile:s,studyId:h,studentHistoryId:d,bookType:g,step:`${y}`,quizId:S,quizNo:v,currentQuizNo:L,correct:$,studentAnswer:E,answerCount:z,isLastQuiz:!0,score:N,isEnabledPenalty:H,isFinishStudy:W}}else R={mobile:s,studyId:h,studentHistoryId:d,bookType:g,step:`${y}`,quizId:S,quizNo:v,currentQuizNo:L,correct:$,studentAnswer:E,answerCount:z};else H?R={mobile:s,studyId:h,studentHistoryId:d,bookType:g,step:`${y}`,quizId:S,quizNo:v,currentQuizNo:L,correct:$,studentAnswer:E,answerCount:z,isEnabledPenalty:z>=C?!0:void 0}:R={mobile:s,studyId:h,studentHistoryId:d,bookType:g,step:`${y}`,quizId:S,quizNo:v,currentQuizNo:L,correct:$,studentAnswer:E,answerCount:z};return R},f=({mobile:s,studyId:h,studentHistoryId:d,bookType:g,step:y,quizId:S,quizNo:v,currentQuizNo:L,correct:$,selectedAnswer:E,partialRecord:z,tryCount:C,maxQuizCount:M,quizLength:q,isCorrect:D,answerData:H,isEnabledPenalty:W,isFinishStudy:R})=>{let N;if(L+1>q)if(D){const I=x(H,q,M);N={mobile:s,studyId:h,studentHistoryId:d,bookType:g,step:`${y}`,quizId:S,quizNo:v,currentQuizNo:L,correct:$,studentAnswer:E,partialRecord:z,answerCount:C,isLastQuiz:!0,score:I,isFinishStudy:R}}else if(C>=M){const I=x(H,q,M);N={mobile:s,studyId:h,studentHistoryId:d,bookType:g,step:`${y}`,quizId:S,quizNo:v,currentQuizNo:L,correct:$,studentAnswer:E,partialRecord:z,answerCount:C,isLastQuiz:!0,score:I,isEnabledPenalty:W,isFinishStudy:R}}else N={mobile:s,studyId:h,studentHistoryId:d,bookType:g,step:`${y}`,quizId:S,quizNo:v,currentQuizNo:L,correct:$,studentAnswer:E,partialRecord:z,answerCount:C};else N={mobile:s,studyId:h,studentHistoryId:d,bookType:g,step:`${y}`,quizId:S,quizNo:v,currentQuizNo:L,correct:$,studentAnswer:E,partialRecord:z,answerCount:C,isEnabledPenalty:C>=M?!0:void 0};return N},k=()=>{o([])},p=(s,h)=>{let d=[];return s.map(g=>{d.push({quizNo:g.CurrentQuizNo,maxCount:h,answerCount:g.AnswerCount,ox:g.OX==="1"})}),d},w=(s,h)=>{let d=[],g=1;return s.map(y=>{y.StudentAnswer.split(",").map(S=>{const v=S.charAt(S.length-1);d.push({quizNo:g++,maxCount:h,answerCount:S.split("").length,ox:v==="1"})})}),d},b=(s,h)=>{let d=[],g=1;return s.map(y=>{y.StudentAnswer.split("/").map(S=>{const v=S.charAt(S.length-1);d.push({quizNo:g++,maxCount:h,answerCount:S.split("").length,ox:v==="1"})})}),d};return{scoreBoardData:n,setStudentAnswers:r,setStudentAnswersPartial:u,addStudentAnswer:l,addStudentAnswers:a,getScore:x,makeUserAnswerData:_,makeUserPartialAnswerData:f,resetStudentAnswer:k,convertRecordToScoreBoard:p,convertPartialRecordToScoreBoard:w,convertPartialRecordToScoreBoardClozeTest3:b,convertPartialRecordToScoreBoardSummary2:(s,h)=>{let d=[],g=1;return s.map(y=>{y.StudentAnswer.split(",").map(S=>{const v=S.charAt(S.length-1);d.push({quizNo:g++,maxCount:h,answerCount:S.split("").length,ox:v==="1"})})}),d}}};function Le(){const[t,i]=c.useState(""),n=c.useRef(new Audio);n.current.autoplay=!0;const o=n.current,r=c.useRef();c.useEffect(()=>{if(t==="playing"||t==="endFn"){const x=()=>{o.play()};o.addEventListener("canplaythrough",x);const _=()=>{t==="endFn"?r.current&&r.current():i("")};return o.addEventListener("ended",_),()=>{o.removeEventListener("canplaythrough",x),o.removeEventListener("ended",_),i(""),l()}}},[t]);const u=(x,_)=>{o.src=x,_?(r.current=_,i("endFn")):i("playing")},l=()=>{o.pause(),o.src="",o.currentTime=0,i("")};return{playState:t,changePlayState:x=>{i(x)},playAudio:u,stopAudio:l}}const Ca="/study/BookReading/assets/next-4ea4479a.mp3";let fs;const Qa=new Audio(Ca),Ks=t=>{fs=new Audio(t),fs.volume=.7,(()=>{fs.play()})()},Aa=()=>{Qa.play()},Na="/study/BookReading/assets/correct_sound-9efbca1b.mp3",Ta="/study/BookReading/assets/incorrect_sound-3ea1a3ca.mp3";function Xe(){const[t,i]=c.useState({isActive:!1,isCorrect:!1});return c.useEffect(()=>{t.isActive&&Ks(t.isCorrect?Na:Ta)},[t]),{bottomPopupState:t,changeBottomPopupState:o=>{i(o)}}}const He=()=>{const[t,i]=c.useState(!1);return{isResultShow:t,changeResultShow:o=>{i(o)}}},Ia="_stepIntro_19s00_1",Ba="_container_19s00_8",Ea="_stepOrder_19s00_16",Pa="_quizType_19s00_24",Ma="_comment_19s00_33",La="_readingUnit_19s00_43",Ra="_startButton_19s00_50",Fa="_revisionIntro_19s00_73",qa="_revisionBoard_19s00_115",Ha="_txtLabel_19s00_128",Oa="_txtCount_19s00_140",Da="_revisionFreeIntro_19s00_175",Va="_selectBox_19s00_254",Wa="_passButton_19s00_259",Ga="_goButton_19s00_281",ms={stepIntro:Ia,container:Ba,stepOrder:Ea,quizType:Pa,comment:Ma,readingUnit:La,startButton:Ra,revisionIntro:Fa,revisionBoard:qa,txtLabel:Ha,txtCount:Oa,revisionFreeIntro:Da,selectBox:Va,passButton:Wa,goButton:Ga},Ua="_stepIntro_3r5qb_1",Ka="_container_3r5qb_8",Ja="_stepOrder_3r5qb_16",Ya="_quizType_3r5qb_24",Xa="_comment_3r5qb_36",Za="_readingUnit_3r5qb_47",ec="_startButton_3r5qb_54",tc="_revisionIntro_3r5qb_77",nc="_revisionBoard_3r5qb_122",sc="_txtLabel_3r5qb_135",oc="_txtCount_3r5qb_147",ic="_revisionFreeIntro_3r5qb_182",rc="_selectBox_3r5qb_264",ac="_passButton_3r5qb_270",cc="_goButton_3r5qb_292",xs={stepIntro:Ua,container:Ka,stepOrder:Ja,quizType:Ya,comment:Xa,readingUnit:Za,startButton:ec,revisionIntro:tc,revisionBoard:nc,txtLabel:sc,txtCount:oc,revisionFreeIntro:ic,selectBox:rc,passButton:ac,goButton:cc},uc=new A(navigator.userAgent),lc=uc.phone(),Lt=lc?xs:ms;function Me({step:t,quizType:i,comment:n,onStepIntroClozeHandler:o}){const r=Xt();return e.jsx("div",{className:Lt.stepIntro,children:e.jsxs("div",{className:`${Lt.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:Lt.stepOrder,children:t==="R"?"Re Test":`Step ${t}`}),e.jsx("div",{className:Lt.quizType,children:i}),e.jsx("div",{className:Lt.comment,children:n}),e.jsx("div",{className:Lt.readingUnit,children:e.jsx("img",{src:`https://wcfresource.a1edu.com/newsystem/image/character/subcharacter/${r}_13.png`,alt:""})}),e.jsx("div",{className:Lt.startButton,onClick:o,children:"Start"})]})})}const dc="/study/BookReading/assets/icon_play_red-63042177.svg",mc="/study/BookReading/assets/icon_stop_gray-683765e6.svg",xc="/study/BookReading/assets/icon_heart-248c237d.svg",hc="/study/BookReading/assets/icon_return-9e97dd23.svg",_c="/study/BookReading/assets/arrow-right_white-10eaa94b.svg",Re=({width:t,height:i,isColor:n})=>e.jsx(e.Fragment,{children:n&&e.jsx("img",{src:dc,width:t,height:i})}),Fe=({width:t,height:i,isColor:n})=>e.jsx(e.Fragment,{children:n&&e.jsx("img",{src:mc,width:t,height:i})}),pc=({width:t,height:i,isColor:n})=>e.jsx(e.Fragment,{children:n&&e.jsx("img",{src:xc,width:t,height:i})}),hs=({width:t,height:i})=>e.jsx(e.Fragment,{children:e.jsx("img",{src:hc,width:t,height:i})}),gc=({width:t,height:i})=>e.jsx(e.Fragment,{children:e.jsx("img",{src:_c,width:t,height:i})}),yc="_quizTemplate_1fv6z_1",fc="_quizHeader_1fv6z_9",bc="_quizHeaderCol1_1fv6z_23",kc="_quizNumber_1fv6z_27",wc="_attempts_1fv6z_37",Sc="_txtL_1fv6z_46",vc="_qMark_1fv6z_51",jc="_quizHeaderCol2_1fv6z_63",zc="_quizTimer_1fv6z_68",$c="_iconTimer_1fv6z_75",Cc="_quizHeaderCol3_1fv6z_91",Qc="_openMenuButton_1fv6z_96",Ac="_quizBody_1fv6z_114",Nc="_container_1fv6z_125",Tc="_btnDelete_1fv6z_151",yo={quizTemplate:yc,quizHeader:fc,quizHeaderCol1:bc,quizNumber:kc,attempts:wc,txtL:Sc,qMark:vc,quizHeaderCol2:jc,quizTimer:zc,iconTimer:$c,quizHeaderCol3:Cc,openMenuButton:Qc,quizBody:Ac,container:Nc,btnDelete:Tc},Ic="_quizTemplate_1oz7u_2",Bc="_quizHeader_1oz7u_33",Ec="_quizHeaderCol1_1oz7u_47",Pc="_quizNumber_1oz7u_51",Mc="_attempts_1oz7u_61",Lc="_txtL_1oz7u_70",Rc="_qMark_1oz7u_75",Fc="_quizHeaderCol2_1oz7u_87",qc="_quizTimer_1oz7u_92",Hc="_iconTimer_1oz7u_100",Oc="_quizHeaderCol3_1oz7u_113",Dc="_openMenuButton_1oz7u_118",Vc="_quizBody_1oz7u_136",Wc="_container_1oz7u_147",Gc="_btnDelete_1oz7u_173",fo={quizTemplate:Ic,quizHeader:Bc,quizHeaderCol1:Ec,quizNumber:Pc,attempts:Mc,txtL:Lc,qMark:Rc,quizHeaderCol2:Fc,quizTimer:qc,iconTimer:Hc,quizHeaderCol3:Oc,openMenuButton:Dc,quizBody:Vc,container:Wc,btnDelete:Gc},Uc=new A(navigator.userAgent),Kc=Uc.phone(),zt=Kc?fo:yo;function Qe({quizNumber:t,totalQuizCnt:i,life:n,timeMin:o,timeSec:r,changeSideMenu:u}){const l=`${o<=9?"0"+o:o}:${r<=9?"0"+r:r}`;return e.jsxs("div",{className:`${zt.quizHeader} animate__animated animate__slideInDown`,children:[e.jsxs("div",{className:zt.quizHeaderCol1,children:[e.jsxs("div",{className:zt.quizNumber,children:[t,e.jsx("span",{style:{fontSize:"16px"},children:"/"}),i,e.jsxs("div",{className:zt.attempts,children:[e.jsx(pc,{isColor:!0,width:18,height:18}),e.jsx("div",{className:zt.txtL,children:n})]})]}),e.jsx("div",{className:zt.qMark})]}),e.jsx("div",{className:zt.quizHeaderCol2,children:e.jsxs("div",{className:zt.quizTimer,children:[e.jsx("div",{className:zt.iconTimer}),l]})}),e.jsx("div",{className:zt.quizHeaderCol3,children:e.jsx("div",{className:zt.openMenuButton,onClick:()=>u(!0)})})]})}const Jc="_study_side_menu_l0bh9_1",Yc="_study_side_menu_container_l0bh9_9",Xc="_study_side_menu_area_top_l0bh9_33",Zc="_close_side_menu_l0bh9_39",eu="_btn_delete_l0bh9_44",tu="_book_info_l0bh9_56",nu="_book_code_l0bh9_56",su="_book_title_l0bh9_60",ou="_label_l0bh9_65",iu="_study_side_menu_area_bottom_l0bh9_72",ru="_btn_exit_l0bh9_77",au="_txt_l0bh9_81",cu="_screen_block_l0bh9_85",uu="_select_study_menu_l0bh9_94",lu="_select_study_menu_item_l0bh9_101",du="_on_l0bh9_120",mu="_go_on_l0bh9_126",xu="_completed_l0bh9_132",hu="_ebook_more_activity_l0bh9_146",_u="_ebook_more_activity_item_l0bh9_150",pu="_study_side_menu_quiz_scoreboard_l0bh9_167",gu="_step_info_l0bh9_167",yu="_step_l0bh9_167",fu="_score_info_l0bh9_182",bu="_quiz_type_l0bh9_182",ku="_score_row_l0bh9_186",wu="_header_l0bh9_189",Su="_score_col_l0bh9_193",he={study_side_menu:Jc,study_side_menu_container:Yc,study_side_menu_area_top:Xc,close_side_menu:Zc,btn_delete:eu,book_info:tu,book_code:nu,book_title:su,label:ou,study_side_menu_area_bottom:iu,btn_exit:ru,txt:au,screen_block:cu,select_study_menu:uu,select_study_menu_item:lu,on:du,"move-it":"_move-it_l0bh9_1",go_on:mu,completed:xu,ebook_more_activity:hu,ebook_more_activity_item:_u,study_side_menu_quiz_scoreboard:pu,step_info:gu,step:yu,score_info:fu,quiz_type:bu,score_row:ku,header:wu,score_col:Su},vu="/study/BookReading/assets/repeat-627ef06f.svg",Ci="/study/BookReading/assets/delete-351e7fec.svg",Qi="/study/BookReading/assets/exite-6d407d36.svg";function ju({currentStep:t,changeStep:i}){const{studyInfo:n}=c.useContext(ne);return e.jsx(e.Fragment,{children:n.openSteps.map((o,r)=>e.jsxs("div",{className:`${he.step} ${t===o?he.on:""}`,onClick:()=>{n.mode!=="Quiz"&&i(o)},children:[t===o?"Step":"",o]},`step-header-${r}`))})}function zu({maxAnswerCount:t}){const i=["1st","2nd","3rd","th"];let n=[];for(let o=0;o<t;o++)n.push(e.jsx("div",{className:`${he.score_col}`,children:i[o]},`col-header-side-menu-${o}`));return e.jsxs("div",{className:`${he.score_row} ${he.header}`,children:[e.jsx("div",{className:`${he.score_col}`,children:"Q"}),n]})}const $u="/study/BookReading/assets/icon_score_item_correct-30152e7d.svg",No="/study/BookReading/assets/icon_score_item_incorrect-c4ad3860.svg",Cu=({maxAnswerCount:t,scoreBoardData:i})=>{let n=[];if(i){for(let o=1;o<=t;o++)o<i.answerCount?n.push(e.jsx("div",{className:`${he.score_col}`,children:e.jsx("img",{src:No,alt:""})})):o===i.answerCount?i.ox?n.push(e.jsx("div",{className:`${he.score_col}`,children:e.jsx("img",{src:$u,alt:""})})):n.push(e.jsx("div",{className:`${he.score_col}`,children:e.jsx("img",{src:No,alt:""})})):n.push(e.jsx("div",{className:`${he.score_col}`}));return n}else{for(let o=0;o<t;o++)n.push(e.jsx("div",{className:`${he.score_col}`}));return n}};function Qu({quizLength:t,maxAnswerCount:i,scoreBoardData:n}){let o=[];for(let r=0;r<t;r++)o.push(e.jsxs("div",{className:`${he.score_row}`,children:[e.jsx("div",{className:`${he.score_col}`,children:r+1}),e.jsx(Cu,{maxAnswerCount:i,scoreBoardData:n[r]})]},`smsbr-${r}`));return e.jsx(e.Fragment,{children:o})}function Au({currentStep:t,currentStepType:i,quizLength:n,maxAnswerCount:o,scoreBoardData:r,changeStep:u}){return e.jsxs("div",{className:he.study_side_menu_quiz_scoreboard,children:[e.jsx("div",{className:he.step_info,children:e.jsx(ju,{currentStep:t,changeStep:u})}),e.jsxs("div",{className:he.score_info,children:[e.jsx("div",{className:he.quiz_type,children:i}),i!=="Vocabulary Practice"&&e.jsxs(e.Fragment,{children:[e.jsx(zu,{maxAnswerCount:o}),e.jsx("div",{children:e.jsx(Qu,{quizLength:n,maxAnswerCount:o,scoreBoardData:r})})]})]})]})}function Ae({isSideOpen:t,currentStep:i,currentStepType:n,quizLength:o,maxAnswerCount:r,scoreBoardData:u,changeSideMenu:l,changeStep:a}){const{t:x}=de(),{bookInfo:_,handler:f}=c.useContext(ne),[k,p]=c.useState("animate__fadeIn"),[w,b]=c.useState("animate__slideInRight"),m=()=>{p("animate__fadeOut"),b("animate__slideOutRight")},s=()=>{k==="animate__fadeOut"&&l(!1)};return e.jsx(e.Fragment,{children:t&&e.jsxs("div",{id:"study-side-menu",className:`${he.study_side_menu} ${k}`,onAnimationEnd:()=>{s()},children:[e.jsxs("div",{id:"study-side-menu-container",className:`${he.study_side_menu_container} ${w}`,children:[e.jsxs("div",{className:he.study_side_menu_area_top,children:[e.jsx("div",{className:he.close_side_menu,children:e.jsx("div",{className:he.btn_delete,onClick:()=>{m()},children:e.jsx("img",{src:Ci,alt:""})})}),e.jsxs("div",{className:he.book_info,children:[e.jsx("div",{className:he.book_code,children:_.BookCode}),e.jsx("div",{className:he.book_title,children:_.Title})]}),_.BookCode.includes("EB")&&e.jsx("div",{className:he.select_study_menu,children:e.jsxs("div",{className:`${he.select_study_menu_item}`,onClick:()=>{f.changeView("story")},children:[e.jsx("img",{src:vu,alt:""}),x("story.다시 읽기"),e.jsxs("div",{className:"pyro",children:[e.jsx("div",{className:"before"}),e.jsx("div",{className:"after"})]})]})}),e.jsx(Au,{currentStep:i,currentStepType:n,quizLength:o,maxAnswerCount:r,scoreBoardData:u,changeStep:a})]}),e.jsx("div",{className:he.study_side_menu_area_bottom,children:e.jsxs("div",{className:he.btn_exit,onClick:()=>{try{window.onExitStudy()}catch{location.replace("/")}},children:[e.jsx("img",{src:Qi,alt:""}),e.jsx("div",{className:"txt",children:x("common.나가기")})]})})]}),e.jsx("div",{className:he.screen_block,onClick:()=>m()})]})})}const Nu=new A(navigator.userAgent),Tu=Nu.phone(),To=Tu?fo:yo;function Ne({children:t}){return e.jsx("div",{className:`${To.quizBody} animate__animated animate__fadeIn`,children:e.jsx("div",{className:To.container,children:t})})}function Be({typeCSS:t,containerCSS:i,children:n}){return e.jsx("div",{className:`${t}`,children:e.jsx("div",{className:`${i}`,children:n})})}const Iu="_correctPopup_10dqy_1",Bu="_readingUnitArea_10dqy_16",Eu="_txtL_10dqy_26",Pu="_incorrectPopup_10dqy_38",Mu="_screenBlock_10dqy_75",Lu={correctPopup:Iu,readingUnitArea:Bu,txtL:Eu,incorrectPopup:Pu,screenBlock:Mu},Ru="_correctPopup_4ircx_1",Fu="_readingUnitArea_4ircx_15",qu="_txtL_4ircx_25",Hu="_incorrectPopup_4ircx_38",Ou="_screenBlock_4ircx_75",Du={correctPopup:Ru,readingUnitArea:Fu,txtL:qu,incorrectPopup:Hu,screenBlock:Ou},Vu=new A(navigator.userAgent),Wu=Vu.phone(),xn=Wu?Du:Lu;function Ze({bottomPopupState:t}){const i=Xt();return e.jsx(e.Fragment,{children:t.isActive&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${t.isCorrect?xn.correctPopup:xn.incorrectPopup}  animate__animated animate__slideInUp`,children:e.jsxs("div",{className:xn.readingUnitArea,children:[e.jsx("div",{className:xn.txtL,children:t.isCorrect?"Correct!":"Oops..."}),e.jsx("img",{src:`https://wcfresource.a1edu.com/newsystem/image/character/subcharacter/${i}_${t.isCorrect?"08":"09"}.png`,alt:"",className:`animate__animated ${t.isCorrect?"animate__tada":"animate__pulse"}`})]})}),e.jsx("div",{className:xn.screenBlock})]})})}const Gu="_testResult_1nhls_1",Uu="_scoreBoard_1nhls_9",Ku="_score_1nhls_9",Ju="_count1_1nhls_26",Yu="_count3_1nhls_29",Xu="_wrongAnswers_1nhls_44",Zu="_title_1nhls_50",el="_quizQuestion_1nhls_61",tl="_questionSentence_1nhls_68",nl="_answers_1nhls_71",sl="_correctAnswer_1nhls_78",ol="_txtL_1nhls_85",il="_correctAnswerNum_1nhls_88",rl="_quizAnswer_1nhls_98",al="_label_1nhls_109",cl="_correctIcon_1nhls_114",ul="_incorrectIcon_1nhls_122",ll="_wrongAnswer_1nhls_44",dl="_quizType_1nhls_141",ml="_large_1nhls_150",xl="_nextToVocaTest_1nhls_153",hl="_totalScoreContainer_1nhls_163",_l="_totalScore_1nhls_163",pl="_container_1nhls_184",gl="_borderNone_1nhls_202",yl="_readingUnit_1nhls_205",fl="_passmark_1nhls_211",bl="_board1_1nhls_220",kl="_correctScore_1nhls_226",wl="_number_1nhls_240",Sl="_incorrectScore_1nhls_244",vl="_board2_1nhls_262",jl="_row_1nhls_268",zl="_nextButton_1nhls_280",$l="_shadow_1nhls_1",Cl="_goButton_1nhls_311",Ql="_notYetButton_1nhls_333",Al="_submitRevision_1nhls_357",Nl="_stepOrder_1nhls_372",Tl="_comment_1nhls_394",Il="_revisionBoard_1nhls_404",Bl="_txtLabel_1nhls_417",El="_txtCount_1nhls_429",Pl="_selectBox_1nhls_441",Ml="_revisionDone_1nhls_446",Ll="_noButton_1nhls_449",Rl="_yesButton_1nhls_471",Fl="_heartbeat_1nhls_494",ql="_btnDelete_1nhls_567",Hl="_quizEndingPass_1nhls_582",Ol="_groupGoodJob_1nhls_608",Dl="_imgUnit_1nhls_617",Vl="_imgPointCoin_1nhls_625",Wl="_txtAchivePoint_1nhls_638",Gl="_imgGoodJobRibbon_1nhls_644",Ul="_imgConfetti_1nhls_652",Kl="_groupScore_1nhls_663",Jl="_txtMessage_1nhls_683",Yl="_quizEndingFail_1nhls_688",Xl="_groupTryAgin_1nhls_714",Zl="_imgTryAgainRibbon_1nhls_731",vt={testResult:Gu,scoreBoard:Uu,score:Ku,count1:Ju,count3:Yu,wrongAnswers:Xu,title:Zu,quizQuestion:el,questionSentence:tl,answers:nl,correctAnswer:sl,txtL:ol,correctAnswerNum:il,quizAnswer:rl,label:al,correctIcon:cl,incorrectIcon:ul,wrongAnswer:ll,quizType:dl,large:ml,nextToVocaTest:xl,totalScoreContainer:hl,totalScore:_l,container:pl,borderNone:gl,readingUnit:yl,passmark:fl,board1:bl,correctScore:kl,number:wl,incorrectScore:Sl,board2:vl,row:jl,nextButton:zl,shadow:$l,goButton:Cl,notYetButton:Ql,submitRevision:Al,stepOrder:Nl,comment:Tl,revisionBoard:Il,txtLabel:Bl,txtCount:El,selectBox:Pl,revisionDone:Ml,noButton:Ll,yesButton:Rl,heartbeat:Fl,btnDelete:ql,quizEndingPass:Hl,groupGoodJob:Ol,imgUnit:Dl,imgPointCoin:Vl,txtAchivePoint:Wl,imgGoodJobRibbon:Gl,imgConfetti:Ul,groupScore:Kl,txtMessage:Jl,quizEndingFail:Yl,groupTryAgin:Xl,imgTryAgainRibbon:Zl},ed="_testResult_1jboh_1",td="_scoreBoard_1jboh_10",nd="_score_1jboh_10",sd="_count1_1jboh_27",od="_count3_1jboh_30",id="_wrongAnswers_1jboh_45",rd="_title_1jboh_51",ad="_quizQuestion_1jboh_63",cd="_questionSentence_1jboh_70",ud="_answers_1jboh_73",ld="_correctAnswer_1jboh_80",dd="_txtL_1jboh_87",md="_correctAnswerNum_1jboh_90",xd="_quizAnswer_1jboh_100",hd="_label_1jboh_111",_d="_correctIcon_1jboh_116",pd="_incorrectIcon_1jboh_124",gd="_wrongAnswer_1jboh_45",yd="_quizType_1jboh_143",fd="_large_1jboh_152",bd="_nextToVocaTest_1jboh_155",kd="_totalScoreContainer_1jboh_165",wd="_totalScore_1jboh_165",Sd="_container_1jboh_186",vd="_borderNone_1jboh_204",jd="_readingUnit_1jboh_207",zd="_passmark_1jboh_213",$d="_board1_1jboh_222",Cd="_correctScore_1jboh_228",Qd="_number_1jboh_242",Ad="_incorrectScore_1jboh_246",Nd="_board2_1jboh_264",Td="_row_1jboh_270",Id="_nextButton_1jboh_282",Bd="_shadow_1jboh_1",Ed="_goButton_1jboh_313",Pd="_notYetButton_1jboh_335",Md="_submitRevision_1jboh_359",Ld="_stepOrder_1jboh_373",Rd="_comment_1jboh_395",Fd="_revisionBoard_1jboh_405",qd="_txtLabel_1jboh_418",Hd="_txtCount_1jboh_430",Od="_selectBox_1jboh_442",Dd="_revisionDone_1jboh_448",Vd="_noButton_1jboh_451",Wd="_yesButton_1jboh_473",Gd="_heartbeat_1jboh_496",Ud="_btnDelete_1jboh_569",Kd="_quizEndingPass_1jboh_584",Jd="_groupGoodJob_1jboh_610",Yd="_imgUnit_1jboh_619",Xd="_imgPointCoin_1jboh_627",Zd="_txtAchivePoint_1jboh_640",em="_imgGoodJobRibbon_1jboh_646",tm="_imgConfetti_1jboh_654",nm="_groupScore_1jboh_665",sm="_txtMessage_1jboh_685",om="_quizEndingFail_1jboh_690",im="_groupTryAgin_1jboh_716",rm="_imgTryAgainRibbon_1jboh_733",jt={testResult:ed,scoreBoard:td,score:nd,count1:sd,count3:od,wrongAnswers:id,title:rd,quizQuestion:ad,questionSentence:cd,answers:ud,correctAnswer:ld,txtL:dd,correctAnswerNum:md,quizAnswer:xd,label:hd,correctIcon:_d,incorrectIcon:pd,wrongAnswer:gd,quizType:yd,large:fd,nextToVocaTest:bd,totalScoreContainer:kd,totalScore:wd,container:Sd,borderNone:vd,readingUnit:jd,passmark:zd,board1:$d,correctScore:Cd,number:Qd,incorrectScore:Ad,board2:Nd,row:Td,nextButton:Id,shadow:Bd,goButton:Ed,notYetButton:Pd,submitRevision:Md,stepOrder:Ld,comment:Rd,revisionBoard:Fd,txtLabel:qd,txtCount:Hd,selectBox:Od,revisionDone:Dd,noButton:Vd,yesButton:Wd,heartbeat:Gd,btnDelete:Ud,quizEndingPass:Kd,groupGoodJob:Jd,imgUnit:Yd,imgPointCoin:Xd,txtAchivePoint:Zd,imgGoodJobRibbon:em,imgConfetti:tm,groupScore:nm,txtMessage:sm,quizEndingFail:om,groupTryAgin:im,imgTryAgainRibbon:rm};function Z({height:t}){return e.jsx("div",{style:{height:`${t}px`}})}const am=new A(navigator.userAgent),cm=am.phone(),bs=cm?jt:vt;function um({studentAnswer:t,quizAnswerCount:i}){let n=0,o=[],r=[];return t.map(u=>{n!==u.quizNo&&(n=u.quizNo,r.push(e.jsx("div",{children:n})));for(let l=1;l<=i;l++)l<u.answerCount?r.push(e.jsx("div",{children:"X"})):l===u.answerCount?u.ox?r.push(e.jsx("div",{children:"O"})):r.push(e.jsx("div",{children:"X"})):r.push(e.jsx("div",{}));o.push(e.jsx("div",{className:`${bs.score} ${i===3?bs.count3:i===1?bs.count1:""}`,children:r},`rows-result-${n}`)),r=[]}),e.jsx(e.Fragment,{children:o})}const lm=new A(navigator.userAgent),dm=lm.phone(),ks=dm?jt:vt;function mm({quizAnswerCount:t}){const i=["1st","2nd","3rd","th"];let n=[];for(let o=0;o<t;o++)n.push(e.jsx("div",{children:i[o]},`col-header-test-result-${o}`));return e.jsxs("div",{className:`${ks.row} ${t===3?ks.count3:t===1?ks.count1:""}`,children:[e.jsx("div",{children:"Q"}),n]})}const xm=new A(navigator.userAgent),hm=xm.phone(),_m=hm?jt:vt;function Ai({quizAnswerCount:t,studentAnswer:i}){return e.jsxs("div",{className:_m.scoreBoard,children:[e.jsx(mm,{quizAnswerCount:t}),e.jsx(um,{studentAnswer:i,quizAnswerCount:t})]})}const pm=new A(navigator.userAgent),gm=pm.phone(),et=gm?jt:vt;function rt({step:t,quizType:i,quizAnswerCount:n,studentAnswer:o,passMark:r,onFinishActivity:u}){const l=Xt();let a=0,x=0,_=0;const f=100/o.length;return o.map(k=>{if(k.ox)switch(x++,k.answerCount){case 1:a+=1*f;break;case 2:a+=.5*f;break;case 3:a+=.25*f;break}else k.answerCount>=n&&_++}),e.jsxs("div",{className:et.testResult,children:[e.jsxs("div",{className:et.quizType,children:["Step ",t,". ",i]}),e.jsxs("div",{className:et.totalScoreContainer,children:[e.jsx("div",{className:et.txtL,children:"SCORE: "}),e.jsx("div",{className:`${et.totalScore} ${et.heartbeat}`,children:Math.round(a)})]}),e.jsxs("div",{className:et.container,children:[e.jsx("div",{className:`${et.readingUnit} animate__animated animate__jackInTheBox`,children:e.jsx("img",{src:`https://wcfresource.a1edu.com/newsystem/image/character/subcharacter/${l}_10.png`,alt:""})}),r&&e.jsxs("div",{className:et.passmark,children:["Passmark: ",r]}),e.jsxs("div",{className:`${et.board1} animate__animated animate__fadeIn`,children:[e.jsxs("div",{className:et.correctScore,children:[e.jsx("div",{className:et.title,children:"correct"}),e.jsx("div",{className:et.number,children:x})]}),e.jsxs("div",{className:et.incorrectScore,children:[e.jsx("div",{className:et.title,children:"incorrect"}),e.jsx("div",{className:et.number,children:_})]})]}),e.jsx("div",{className:et.board2,children:e.jsx(Ai,{quizAnswerCount:n,studentAnswer:o})}),e.jsx(Z,{height:50})]}),e.jsx("div",{className:et.nextButton,onClick:()=>u(),children:"Next"})]})}const ym=new A(navigator.userAgent),fm=ym.phone(),vn=fm?lt:it;function bm({index:t,correctText:i,example:n,checkAnswer:o}){const{bookInfo:r,studyInfo:u}=c.useContext(ne);return e.jsxs("div",{className:`${vn.textCard} 
      ${u.mode==="Review"&&Number(r.Average)>=70&&n.Text===i?vn.correct:""}`,onClick:l=>o(l.currentTarget,n.Text),children:[e.jsx("div",{className:vn.cardNumber,children:Number(t+1)}),e.jsx("div",{className:vn.awnserText,children:n.Text})]})}const km=new A(navigator.userAgent),wm=km.phone(),Io=wm?lt:it;function Sm({correctText:t,exampleData:i,checkAnswer:n}){return e.jsx("div",{className:Io.answers,children:e.jsx("div",{className:Io.container,children:i.map((o,r)=>e.jsx(bm,{index:r,correctText:t,example:o,checkAnswer:n}))})})}const vm=new A(navigator.userAgent),jm=vm.phone(),Bo=jm?lt:it;function zm({playState:t,playSentence:i}){return e.jsxs("div",{className:Bo.wordPlayButton,onClick:()=>i(),children:[t==="playing"?e.jsx(Fe,{isColor:!0,width:34,height:34}):e.jsx(Re,{isColor:!0,width:34,height:34}),e.jsx("div",{className:Bo.txtL,children:"Listen"})]})}const $m=new A(navigator.userAgent),Cm=$m.phone(),Qm=Cm?lt:it;function Am({blankRef:t,correctAnswer:i}){return e.jsx("span",{ref:t,className:`${Qm.answerBox}`,children:t.current&&t.current.classList.length>1&&i})}const Nm=new A(navigator.userAgent),Tm=Nm.phone(),Im=Tm?lt:it;function Bm({blankRef:t,question:i,correctAnswer:n}){return e.jsx("div",{className:Im.questionBox,children:i.split(" ").map((o,r)=>o.includes("┒")?dn(o,"┒",()=>e.jsx(Am,{blankRef:t,correctAnswer:n})):e.jsx("span",{children:o}))})}const Em="_wordPlayButton_167cv_1",Pm="_txtL_167cv_16",Mm="_trueSentencePopup_167cv_28",Lm="_title_167cv_31",Rm="_container_167cv_36",Fm="_sentence_167cv_50",qm="_nextButton_167cv_56",Hm={wordPlayButton:Em,txtL:Pm,trueSentencePopup:Mm,title:Lm,container:Rm,sentence:Fm,nextButton:qm},Om="_wordPlayButton_csjet_1",Dm="_txtL_csjet_16",Vm="_trueSentencePopup_csjet_28",Wm="_title_csjet_31",Gm="_container_csjet_36",Um="_sentence_csjet_50",Km="_nextButton_csjet_57",Jm={wordPlayButton:Om,txtL:Dm,trueSentencePopup:Vm,title:Wm,container:Gm,sentence:Um,nextButton:Km},Ym=new A(navigator.userAgent),Xm=Ym.phone(),Rt=Xm?Jm:Hm;function Zm({playState:t,sentence:i,changeCorrectSentenceState:n,playSentence:o}){return e.jsxs("div",{className:Rt.trueSentencePopup,children:[e.jsx("div",{className:Rt.title,children:"Correct Sentence"}),e.jsxs("div",{className:Rt.container,children:[e.jsxs("div",{className:Rt.wordPlayButton,onClick:()=>o(),children:[t==="playing"?e.jsx(Fe,{isColor:!0,width:24,height:24}):e.jsx(Re,{isColor:!0,width:24,height:24}),e.jsx("div",{className:Rt.txtL,children:"Play Sound"})]}),e.jsx("div",{className:Rt.sentence,children:i})]}),e.jsx("div",{className:Rt.nextButton,onClick:()=>n(!1),children:"Next"})]})}const e0=new A(navigator.userAgent),Js=e0.phone(),jn="Cloze Test",$t=Js?lt:it;function t0(t){const{t:i}=de(),{bookInfo:n,handler:o,studyInfo:r}=c.useContext(ne),u=t.currentStep,l=ze(()=>{Q()}),a=dt(),[x,_]=c.useState("animate__bounceInRight"),{isStepIntro:f,closeStepIntro:k}=je(),{isResultShow:p,changeResultShow:w}=He(),[b,m]=c.useState(!1),s=c.useRef(null),h=c.useRef(!1),[d,g]=$e(_r,t,u),[y,S]=c.useState(1),{scoreBoardData:v,setStudentAnswers:L,addStudentAnswer:$,makeUserAnswerData:E}=Ce(r.mode),[z,C]=c.useState([]),[M,q]=c.useState(0),[D,H]=c.useState(0),[W,R]=c.useState(!1),{bottomPopupState:N,changeBottomPopupState:I}=Xe(),{playState:V,playAudio:U,stopAudio:O}=Le();if(c.useEffect(()=>{!f&&d&&(l.setup(d.QuizTime,!0),U(d.Quiz[y-1].Question.Sound),h.current=!1)},[f]),c.useEffect(()=>{if(d){const[ie,ue]=ut(r.mode,g,d.QuizAnswerCount);q(ue),H(ue),r.mode==="Super"?C(d.Quiz[ie-1].Examples):C(_e.shuffle(d.Quiz[ie-1].Examples)),L(g,d.QuizAnswerCount),S(ie)}},[d]),c.useEffect(()=>{d&&(O(),W?U(d.Quiz[y-1].Question.Sound):y+1>d.Quiz.length?w(!0):S(y+1))},[W]),c.useEffect(()=>{!f&&!p&&d&&(l.setup(d.QuizTime,!0),H(0),q(0),r.mode==="Super"?C(d.Quiz[y-1].Examples):C(_e.shuffle(d.Quiz[y-1].Examples)),U(d.Quiz[y-1].Question.Sound),h.current=!1)},[y]),!d)return e.jsx(e.Fragment,{children:"Loading..."});const G=async(ie,ue="")=>{var ce,re;try{if(!h.current){h.current=!0,l.stop();const se=d.Quiz[y-1].Examples[0].Text,P=se===ue,J={quizNo:y,maxCount:d.QuizAnswerCount,answerCount:M+1,ox:P},Y=E({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:u,quizId:d.Quiz[y-1].QuizId,quizNo:d.Quiz[y-1].QuizNo,currentQuizNo:y,correct:se,selectedAnswer:ue,tryCount:M+1,maxQuizCount:d.QuizAnswerCount,quizLength:d.Quiz.length,isCorrect:P,answerData:J,isFinishStudy:t.lastStep===u}),K=await Te(r.mode,Y);Number(K.result)===0&&(K.resultMessage&&(o.finishStudy={id:Number(K.result),cause:K.resultMessage}),P?(a.play(ie,[$t.correct,"animate__fadeIn"]),(ce=s.current)==null||ce.classList.add($t.correctAnswer)):(a.play(ie,[$t.incorrect,"animate__headShake"]),(re=s.current)==null||re.classList.add($t.incorrectAnswer)),$(J),P||H(D+1),q(M+1),B(P,ie))}}catch(se){console.error(se)}},B=(ie,ue)=>{I({isActive:!0,isCorrect:ie}),setTimeout(()=>{var ce;I({isActive:!1,isCorrect:!1}),(ce=s.current)==null||ce.classList.remove($t.correctAnswer,$t.incorrectAnswer),n.BookLevel.includes("1")?y+1>d.Quiz.length?w(!0):S(y+1):X(!0),a.remove(ue,[$t.correct,$t.incorrect,"animate__fadeIn","animate__headShake"])},2e3)},Q=async()=>{try{if(!h.current){h.current=!0,l.stop();const ie=d.Quiz[y-1].Examples[0].Text,ue={quizNo:y,maxCount:d.QuizAnswerCount,answerCount:M+1,ox:!1},ce=E({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:u,quizId:d.Quiz[y-1].QuizId,quizNo:d.Quiz[y-1].QuizNo,currentQuizNo:y,correct:ie,selectedAnswer:"",tryCount:M+1,maxQuizCount:d.QuizAnswerCount,quizLength:d.Quiz.length,isCorrect:!1,answerData:ue,isFinishStudy:t.lastStep===u}),re=await Te(r.mode,ce);Number(re.result)===0&&(re.resultMessage&&(o.finishStudy={id:Number(re.result),cause:re.resultMessage}),$(ue),H(D+1),q(M+1),T())}}catch(ie){console.error(ie)}},T=()=>{I({isActive:!0,isCorrect:!1}),setTimeout(()=>{I({isActive:!1,isCorrect:!1}),n.BookLevel.includes("1")?y+1>d.Quiz.length?w(!0):S(y+1):X(!0)},2e3)},F=()=>{V===""?U(d.Quiz[y-1].Question.Sound):O()},X=ie=>{R(ie)},te=ie=>{m(ie)};return e.jsx(e.Fragment,{children:f?e.jsx("div",{className:`animate__animated ${x}`,onAnimationEnd:()=>{x==="animate__bounceOutLeft"&&k()},children:e.jsx(Me,{step:u,quizType:jn,comment:i("study.문장을 읽고 빈칸에 들어갈 알맞은 답을 고르세요."),onStepIntroClozeHandler:()=>{_("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:p?e.jsx(rt,{step:u,quizType:jn,quizAnswerCount:d.QuizAnswerCount,studentAnswer:v,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:y,totalQuizCnt:Object.keys(d.Quiz).length,life:d.QuizAnswerCount-D,timeMin:l.time.timeMin,timeSec:l.time.timeSec,changeSideMenu:te}),e.jsx("div",{className:`${$t.comment} animate__animated animate__fadeInLeft`,children:jn}),e.jsx(Ne,{children:W?e.jsx(Zm,{playState:V,sentence:d.Quiz[y-1].Question.Text.replace("┒",d.Quiz[y-1].Examples[0].Text),changeCorrectSentenceState:X,playSentence:F}):e.jsxs(Be,{typeCSS:$t.clozeTest1,containerCSS:$t.container,children:[Js?e.jsx(e.Fragment,{}):e.jsx(Z,{height:0}),e.jsx(zm,{playState:V,playSentence:F}),e.jsx(Bm,{blankRef:s,question:d.Quiz[y-1].Question.Text,correctAnswer:d.Quiz[y-1].Examples[0].Text}),Js?e.jsx(Z,{height:20}):e.jsx(Z,{height:30}),e.jsx(Sm,{correctText:d.Quiz[y-1].Examples[0].Text,exampleData:z,checkAnswer:G})]})}),b&&e.jsx(Ae,{isSideOpen:b,currentStep:u,currentStepType:jn,quizLength:d.Quiz.length,maxAnswerCount:d.QuizAnswerCount,changeSideMenu:te,scoreBoardData:v,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:N})]})})})}const n0=new A(navigator.userAgent),s0=n0.phone(),Eo=s0?lt:it;function o0({playState:t,playSentence:i}){return e.jsxs("div",{className:Eo.wordPlayButton,onClick:()=>i(),children:[t==="playing"||t==="endFn"?e.jsx(Fe,{isColor:!0,width:34,height:34}):e.jsx(Re,{isColor:!0,width:34,height:34}),e.jsx("div",{className:Eo.txtL,children:"Play Sound"})]})}const i0=new A(navigator.userAgent),r0=i0.phone(),zn=r0?lt:it;function a0({inputRefs:t,isWorking:i,inputIndex:n,currentIndex:o,inputValues:r,correctText:u,changeInputValue:l,checkAnswer:a,changeInputIndex:x}){const _=m=>{i&&m.preventDefault(),(m.key==="Tab"||m.altKey&&m.key==="Tab")&&(m.preventDefault(),t==null||t.current[o].focus())},f=m=>{m.preventDefault();const s=/^[a-zA-Z-' ]+(?:'){0,1}[a-zA-Z]?$/g;let h=m.currentTarget.value;s.test(h)||(h=h.slice(0,h.length-1)),l(o,h)},k=(m,s)=>{const h=m.currentTarget.value;if(m.key==="Enter"&&h!=="")if(w(t,s)===-1)x(-1),a();else{const g=p(t,s);x(g)}},p=(m,s)=>m==null?void 0:m.current.findIndex((d,g)=>!r[g].isCorrected&&g>s),w=(m,s)=>m==null?void 0:m.current.findLastIndex((d,g)=>!r[g].isCorrected&&g>s),b=()=>{x(n)};return e.jsx("div",{className:`${zn.answerBox} ${o===n?zn.currentOrder:""}`,children:o===n?e.jsx(e.Fragment,{children:e.jsx("div",{className:zn.currentInput,style:{width:"fit-contents"},children:e.jsx("input",{ref:m=>t.current[n]=m,id:"textFild",style:{width:`${u.length*15.6}px`},type:"text",value:r[o].text,onKeyDown:m=>_(m),onChange:m=>f(m),onKeyUp:m=>k(m,o),onCopy:m=>m.preventDefault(),onPaste:m=>m.preventDefault(),onCut:m=>m.preventDefault(),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search",autoFocus:!0,tabIndex:-1})})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:zn.otherInput,style:{width:"fit-contents"},children:e.jsx("input",{ref:m=>t.current[n]=m,style:{width:`${u.length*15.6}px`},value:r[n].text,onFocus:()=>b()})})})})}const c0=new A(navigator.userAgent),u0=c0.phone(),en=u0?lt:it;function l0({inputRefs:t,penaltyState:i,inputIndex:n,currentIndex:o,correctText:r,changeInputIndex:u,changePenaltyState:l}){const[a,x]=c.useState(""),[_,f]=c.useState(0),[k,p]=c.useState(0),w=c.useRef(null),b=c.useRef(null),m=y=>{i!=="penalty"&&y.preventDefault(),(y.key==="Tab"||y.altKey&&y.key==="Tab")&&(y.preventDefault(),t.current[o].focus())},s=y=>{y.preventDefault();const S=/^[ㄱ-ㅎa-zA-Z-'~ ]+(?:'){0,1}[a-zA-Z]?$/g;let v=y.currentTarget.value;S.test(v)||(v=v.slice(0,v.length-1)),x(v)},h=(y,S)=>{if(y.currentTarget.value===r)if(g(t,S)===-1)u(-1),l("success");else{const $=d(t,S);u($)}},d=(y,S)=>y.current.findIndex((L,$)=>(L==null?void 0:L.value)===""||$>S),g=(y,S)=>y.current.findLastIndex((L,$)=>$>S);return c.useEffect(()=>{w.current&&w.current.offsetWidth>0&&f(w.current.offsetWidth),b.current&&b.current.offsetWidth>0&&p(b.current.offsetWidth)}),e.jsx("span",{className:`${en.reviewAnswer} ${o===n?en.currentOrder:""}`,children:o===n?e.jsxs("span",{children:[e.jsx("span",{className:en.currentInput,children:e.jsx("input",{ref:y=>t.current[n]=y,id:"textFild",style:{width:`${_}px`},type:"text",value:a,onKeyDown:y=>m(y),onChange:y=>s(y),onKeyUp:y=>h(y,o),onCopy:y=>y.preventDefault(),onPaste:y=>y.preventDefault(),onCut:y=>y.preventDefault(),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search",autoFocus:!0,tabIndex:-1})}),e.jsx("div",{ref:w,className:en.hintText,children:r})]}):e.jsx(e.Fragment,{children:a===r||i==="success"?e.jsx("span",{style:{color:"#289EE4"},children:r}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:en.otherInput,children:e.jsx("input",{ref:y=>t.current[n]=y,style:{width:`${k}px`},disabled:!0})}),e.jsx("div",{ref:b,className:en.hintText,children:r})]})})})}const d0=new A(navigator.userAgent),m0=d0.phone(),x0=m0?lt:it;function h0({inputRefs:t,isWorking:i,exampleData:n,currentIndex:o,inputValues:r,penaltyState:u,changeInputValue:l,changeInputIndex:a,checkAnswer:x,changePenaltyState:_}){t.current=[];let f=-1;const k=n.Question.Text.split(" ").map(p=>({text:p,index:p.includes("┒")?++f:0}));return e.jsx("div",{className:x0.questionBox,children:k.map((p,w)=>p.text.includes("┒")?e.jsx(e.Fragment,{children:u==="none"?dn(p.text,"┒",()=>e.jsx(a0,{inputRefs:t,isWorking:i,inputIndex:p.index,currentIndex:o,inputValues:r,correctText:n.Examples[p.index].Text,changeInputValue:l,checkAnswer:x,changeInputIndex:a},`text-input-${p.index}`)):dn(p.text,"┒",()=>e.jsx(l0,{inputRefs:t,penaltyState:u,inputIndex:p.index,currentIndex:o,correctText:n.Examples[p.index].Text,changeInputIndex:a,changePenaltyState:_},`penalty-input-${p.index}`))}):e.jsx("span",{dangerouslySetInnerHTML:{__html:p.text}},`word-${w}`))})}const _0=new A(navigator.userAgent),Ni=_0.phone(),$n="Cloze Test",Cn=Ni?lt:it;function p0(t){const{t:i}=de(),{handler:n,studyInfo:o}=c.useContext(ne),r=t.currentStep,u=ze(()=>{Q("timeout")}),[l,a]=c.useState("animate__bounceInRight"),{isStepIntro:x,closeStepIntro:_}=je(),{isResultShow:f,changeResultShow:k}=He(),[p,w]=c.useState(!1),b=c.useRef(!0),[m,s]=$e(pr,t,r),[h,d]=c.useState(1),{scoreBoardData:g,setStudentAnswers:y,addStudentAnswer:S,makeUserAnswerData:v}=Ce(o.mode),[L,$]=c.useState(0),[E,z]=c.useState(0),C=c.useRef([]),[M,q]=c.useState([]),[D,H]=c.useState(0),[W,R]=c.useState("none"),{bottomPopupState:N,changeBottomPopupState:I}=Xe(),{playState:V,playAudio:U,stopAudio:O}=Le();if(c.useEffect(()=>{!x&&m&&(W==="none"&&(u.setup(m.QuizTime,!0),re()),b.current=!1)},[x]),c.useEffect(()=>{if(m){const[P,J]=ut(o.mode,s,m.QuizAnswerCount);if(s.length>0)if(o.mode==="Quiz")if(m.IsEnablePenaltyReview&&s[s.length-1].PenaltyWord!=="")q(new Array(m.Quiz[P-2].Examples.length).fill({text:"",isCorrected:!1})),R("penalty"),$(m.QuizAnswerCount),z(m.QuizAnswerCount),d(s[s.length-1].CurrentQuizNo);else{if(s[P-1]&&s[P-1].CurrentQuizNo===P&&s[P-1].StudentAnswer!==""){const Y=s[s.length-1].StudentAnswer.split("┒"),K=ce(Y,P);if(K){const oe=K.findIndex(le=>!le.isCorrected);H(oe)}q(K)}else q(new Array(m.Quiz[P-1].Examples.length).fill({text:"",isCorrected:!1}));$(J),z(J),d(P)}else{const Y=m.Quiz[h-1].Examples;let K=[];for(let oe=0;oe<Y.length;oe++)K.push({text:m.Quiz[P-1].Examples[oe].Text,isCorrected:!1});q(K)}else $(J),z(J),d(P),q([...ce(new Array(m.Quiz[P-1].Examples.length).fill(""),P)]);y(s,m.QuizAnswerCount)}},[m]),c.useEffect(()=>{if(!x&&!f&&m){if(u.setup(m.QuizTime,!0),re(),H(0),o.mode!=="Quiz"){const P=m.Quiz[h-1].Examples;let J=[];for(let Y=0;Y<P.length;Y++)J.push({text:m.Quiz[h-1].Examples[Y].Text,isCorrected:!1});q(J)}b.current=!1}},[h]),c.useEffect(()=>{D>-1&&(C!=null&&C.current[D])&&(C==null||C.current[D].focus())},[D]),c.useEffect(()=>{m&&(W==="penalty"&&!x?u.stop():W==="success"&&ue())},[W]),!m)return e.jsx(e.Fragment,{children:"Loading..."});const G=()=>{let P=[],J=[],Y=[];for(let oe=0;oe<(C==null?void 0:C.current.length);oe++){const le={example:m.Quiz[h-1].Examples[oe].Text,input:C==null?void 0:C.current[oe].value.trimStart().trimEnd(),isEqual:m.Quiz[h-1].Examples[oe].Text===(C==null?void 0:C.current[oe].value.trimStart().trimEnd())};Y.push(le.example),P.push(le),J.push(le.input.trimStart().trimEnd())}return[P.filter(oe=>oe.input.trimStart().trimEnd()==="").length>0,P,Y.join("┒"),J.join("┒")]},B=P=>!P.find(J=>!J.isEqual),Q=async P=>{try{if(!b.current){b.current=!0,u.stop();const[J,Y,K,oe]=G();if(J&&!P)alert(i("study.빈칸이 존재하지 않아야 합니다.")),b.current=!1,u.start();else{const le=B(Y),ae={quizNo:h,maxCount:m.QuizAnswerCount,answerCount:L+1,ox:le},pe=v({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:m.Quiz[h-1].QuizId,quizNo:m.Quiz[h-1].QuizNo,currentQuizNo:h,correct:K,selectedAnswer:oe,tryCount:L+1,maxQuizCount:m.QuizAnswerCount,quizLength:m.Quiz.length,isCorrect:le,answerData:ae,isEnabledPenalty:m.IsEnablePenaltyReview,isFinishStudy:t.lastStep===r}),Ee=await Te(o.mode,pe);Number(Ee.result)===0&&(Ee.resultMessage&&(n.finishStudy={id:Number(Ee.result),cause:Ee.resultMessage}),S(ae),le||z(E+1),$(L+1),T(le,Y))}}}catch(J){console.error(J)}},T=(P,J)=>{I({isActive:!0,isCorrect:P}),setTimeout(()=>{if(P)h+1>Object.keys(m.Quiz).length?(O(),k(!0)):(O(),te(),$(0),z(0),ie("none"),d(h+1));else{let Y=!0,K=0,oe=[];C==null||C.current.forEach((le,ae)=>{J[ae].isEqual||Y&&(Y=!1,K=ae),oe.push({text:J[ae].input,isCorrected:J[ae].isEqual})}),q([...oe]),L===m.QuizAnswerCount-1?m.IsEnablePenaltyReview?(O(),H(0),ie("penalty")):h+1>Object.keys(m.Quiz).length?(O(),k(!0)):(O(),te(),$(0),z(0),ie("none"),d(h+1)):(u.setup(m.QuizTime,!0),H(K),b.current=!1)}I({isActive:!1,isCorrect:!1})},1500)},F=P=>{H(P)},X=(P,J)=>{const Y=M.map((K,oe)=>P===oe?{text:J,isCorrected:K.isCorrected}:{text:K.text,isCorrected:K.isCorrected});q([...Y])},te=()=>{m.Quiz[h-1]&&q([...new Array(m.Quiz[h-1].Examples.length).fill({text:"",isCorrected:!1})])},ie=P=>{R(P)},ue=async()=>{(async()=>{const J=h+1>m.Quiz.length,Y=await ls({mobile:"",bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${r}`,quizId:m.Quiz[h-1].QuizId,isLastQuiz:J,isFinishStudy:!!(J&&t.lastStep===r)});Number(Y.result)===0&&(Y.resultMessage&&(n.finishStudy={id:Number(Y.result),cause:Y.resultMessage}),re(()=>{O(),h+1>Object.keys(m.Quiz).length?(O(),k(!0)):(O(),te(),$(0),z(0),ie("none"),d(h+1))}))})()},ce=(P,J)=>{let Y=[];for(let K=0;K<P.length;K++){const oe={text:P[K].slice(-1)==="1"?m.Quiz[J-1].Examples[K].Text:"",isCorrected:P[K].slice(-1)==="1"};Y.push(oe)}return Y},re=P=>{W==="none"?V==="playing"?O():U(m.Quiz[h-1].Question.Sound):W==="success"&&V===""&&U(m.Quiz[h-1].Question.Sound,P)},se=P=>{w(P)};return e.jsx(e.Fragment,{children:x?e.jsx("div",{className:`animate__animated ${l}`,onAnimationEnd:()=>{l==="animate__bounceOutLeft"&&_()},children:e.jsx(Me,{step:r,quizType:$n,comment:i("study.문장을 읽고 빈칸에 들어갈 답을 입력하세요."),onStepIntroClozeHandler:()=>{a("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(rt,{step:r,quizType:$n,quizAnswerCount:m.QuizAnswerCount,studentAnswer:g,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:h,totalQuizCnt:Object.keys(m.Quiz).length,life:m.QuizAnswerCount-E,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:se}),e.jsx("div",{className:`${it.comment} animate__animated animate__fadeInLeft`,children:$n}),e.jsx(Ne,{children:e.jsxs(Be,{typeCSS:Cn.clozeTest2,containerCSS:Cn.container,children:[Ni?e.jsx(e.Fragment,{}):e.jsx(Z,{height:0}),W==="none"?e.jsx(o0,{playState:V,playSentence:re}):e.jsx("div",{className:Cn.testReview,children:e.jsx("div",{className:Cn.title,children:"Test Review"})}),e.jsx(h0,{inputRefs:C,isWorking:b.current,exampleData:m.Quiz[h-1],currentIndex:D,inputValues:M,penaltyState:W,changeInputValue:X,changeInputIndex:F,checkAnswer:Q,changePenaltyState:ie})]})}),p&&e.jsx(Ae,{isSideOpen:p,currentStep:r,currentStepType:$n,quizLength:m.Quiz.length,maxAnswerCount:m.QuizAnswerCount,changeSideMenu:se,scoreBoardData:g,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:N})]})})})}const g0=new A(navigator.userAgent),y0=g0.phone(),Po=y0?lt:it;function f0({playState:t,playSentence:i}){return e.jsxs("div",{className:Po.wordPlayButton,onClick:()=>i(),children:[t==="playing"||t==="endFn"?e.jsx(Fe,{isColor:!0,width:34,height:34}):e.jsx(Re,{isColor:!0,width:34,height:34}),e.jsx("div",{className:Po.txtL,children:"Listen"})]})}const b0=new A(navigator.userAgent),k0=b0.phone(),hn=k0?lt:it;function w0({inputRefs:t,isWorking:i,inputIndex:n,currentIndex:o,inputValues:r,correctText:u,changeInputValue:l,checkAnswer:a,changeInputIndex:x}){const _=m=>{i&&m.preventDefault(),(m.key==="Tab"||m.altKey&&m.key==="Tab")&&(m.preventDefault(),t==null||t.current[o].focus())},f=m=>{m.preventDefault();const s=/^[a-zA-Z-' ]+(?:'){0,1}[a-zA-Z]?$/g;let h=m.currentTarget.value;s.test(h)||(h=h.slice(0,h.length-1)),l(o,h)},k=(m,s)=>{const h=m.currentTarget.value;if(m.key==="Enter"&&h!=="")if(w(t,s)===-1)x(-1),a();else{const g=p(t,s);x(g)}},p=(m,s)=>m==null?void 0:m.current.findIndex((d,g)=>!r[g].isCorrected&&g>s),w=(m,s)=>m==null?void 0:m.current.findLastIndex((d,g)=>!r[g].isCorrected&&g>s),b=()=>{x(n)};return e.jsx("span",{className:`${hn.answerBox} ${o===n?hn.currentOrder:""}`,children:o===n?e.jsx(e.Fragment,{children:e.jsx("span",{className:hn.currentInput,children:e.jsx("input",{ref:m=>t.current[n]=m,id:"textFild",style:{width:`${u.length*15.6}px`},type:"text",value:r[o].text,onKeyDown:m=>_(m),onChange:m=>f(m),onKeyUp:m=>k(m,o),onCopy:m=>m.preventDefault(),onPaste:m=>m.preventDefault(),onCut:m=>m.preventDefault(),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search",autoFocus:!0,tabIndex:-1})})}):e.jsx(e.Fragment,{children:e.jsx("span",{className:`${hn.otherInput} ${r[n].isCorrected&&hn.correct}`,children:e.jsx("input",{ref:m=>t.current[n]=m,style:{width:`${u.length*15.6}px`},value:r[n].text,onFocus:()=>b(),disabled:!!(r[n].isCorrected||n>o&&r[n].text==="")})})})})}const S0=new A(navigator.userAgent),v0=S0.phone(),tn=v0?lt:it;function j0({inputRefs:t,penaltyState:i,inputIndex:n,currentIndex:o,correctText:r,changeInputIndex:u,changePenaltyState:l}){const[a,x]=c.useState(""),[_,f]=c.useState(0),[k,p]=c.useState(0),w=c.useRef(null),b=c.useRef(null),m=y=>{i!=="penalty"&&y.preventDefault(),(y.key==="Tab"||y.altKey&&y.key==="Tab")&&(y.preventDefault(),t.current[o].focus())},s=y=>{y.preventDefault();const S=/^[ㄱ-ㅎa-zA-Z-'~ ]+(?:'){0,1}[a-zA-Z]?$/g;let v=y.currentTarget.value;S.test(v)||(v=v.slice(0,v.length-1)),x(v)},h=(y,S)=>{if(y.currentTarget.value===r)if(g(t,S)===-1)u(-1),l("success");else{const $=d(t,S);u($)}},d=(y,S)=>y.current.findIndex((L,$)=>(L==null?void 0:L.value)===""||$>S),g=(y,S)=>y.current.findLastIndex((L,$)=>$>S);return c.useEffect(()=>{w.current&&w.current.offsetWidth>0&&f(w.current.offsetWidth),b.current&&b.current.offsetWidth>0&&p(b.current.offsetWidth)}),e.jsx("span",{className:`${tn.reviewAnswer} ${o===n?tn.currentOrder:""}`,children:o===n?e.jsxs("span",{children:[e.jsx("span",{className:tn.currentInput,children:e.jsx("input",{ref:y=>t.current[n]=y,id:"textFild",style:{width:`${_+4}px`},type:"text",value:a,onKeyDown:y=>m(y),onChange:y=>s(y),onKeyUp:y=>h(y,o),onCopy:y=>y.preventDefault(),onPaste:y=>y.preventDefault(),onCut:y=>y.preventDefault(),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search",autoFocus:!0,tabIndex:-1})}),e.jsx("div",{ref:w,className:tn.hintText,children:r})]}):e.jsx(e.Fragment,{children:a===r||i==="success"?e.jsx("span",{style:{color:"#289EE4"},children:r}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:tn.otherInput,children:e.jsx("input",{ref:y=>t.current[n]=y,style:{width:`${k+4}px`},disabled:!0})}),e.jsx("div",{ref:b,className:tn.hintText,children:r})]})})})}const z0=new A(navigator.userAgent),$0=z0.phone(),C0=$0?lt:it;function Q0({inputRefs:t,isWorking:i,exampleData:n,currentIndex:o,inputValues:r,penaltyState:u,changeInputValue:l,changeInputIndex:a,checkAnswer:x,changePenaltyState:_}){t.current=[];let f=-1;const k=n.Question.Text.split(" ").map(p=>({text:p,index:p.includes("┒")?++f:0}));return e.jsx("div",{className:C0.questionBox,children:k.map((p,w)=>p.text.includes("┒")?e.jsx(e.Fragment,{children:u==="none"?dn(p.text,"┒",()=>e.jsx(w0,{inputRefs:t,isWorking:i,inputIndex:p.index,currentIndex:o,inputValues:r,correctText:n.Examples[p.index].Text,changeInputValue:l,checkAnswer:x,changeInputIndex:a},`text-input-${p.index}`)):dn(p.text,"┒",()=>e.jsx(j0,{inputRefs:t,penaltyState:u,inputIndex:p.index,currentIndex:o,correctText:n.Examples[p.index].Text,changeInputIndex:a,changePenaltyState:_},`penalty-input-${p.index}`))}):e.jsx("span",{dangerouslySetInnerHTML:{__html:p.text}},`word-${w}`))})}const A0=new A(navigator.userAgent),Ti=A0.phone(),Qn="Cloze Test",An=Ti?lt:it;function N0(t){const{t:i}=de(),{handler:n,studyInfo:o}=c.useContext(ne),r=t.currentStep,u=ze(()=>{F("timeOut")}),[l,a]=c.useState("animate__bounceInRight"),{isStepIntro:x,closeStepIntro:_}=je(),{isResultShow:f,changeResultShow:k}=He(),[p,w]=c.useState(!1),b=c.useRef(!0),[m,s]=$e(gr,t,r),[h,d]=c.useState([]),[g,y]=c.useState(1),[S,v]=c.useState([]),{scoreBoardData:L,setStudentAnswersPartial:$,makeUserPartialAnswerData:E}=Ce(o.mode,"clozeTest"),[z,C]=c.useState(0),[M,q]=c.useState(0),D=c.useRef([]),[H,W]=c.useState([]),[R,N]=c.useState(0),[I,V]=c.useState("none"),{bottomPopupState:U,changeBottomPopupState:O}=Xe(),{playState:G,playAudio:B,stopAudio:Q}=Le();if(c.useEffect(()=>{!x&&m&&(I==="none"&&(u.setup(m.QuizTime,!0),J()),b.current=!1)},[x]),c.useEffect(()=>{if(m){const[K,oe]=za(o.mode,s,m.QuizAnswerCount);if(s.length>0)if($(se(s),m.QuizAnswerCount),d(s),o.mode==="Quiz")if(m.IsEnablePenaltyReview&&s[s.length-1].PenaltyWord!=="")W(new Array(m.Quiz[K-2].Examples.length).fill({text:"",isCorrected:!1})),v(new Array(m.Quiz[K-2].Examples.length).fill("")),V("penalty"),y(s[s.length-1].CurrentQuizNo);else{if(s[K-1]&&s[K-1].CurrentQuizNo===K&&s[K-1].StudentAnswer!==""){const le=s[s.length-1].StudentAnswer.split("/"),ae=P(le,K);if(v(s[s.length-1].StudentAnswer.split("/")),ae){const pe=ae.findIndex(Ee=>!Ee.isCorrected);N(pe)}W(ae)}else W(new Array(m.Quiz[K-1].Examples.length).fill({text:"",isCorrected:!1})),v(new Array(m.Quiz[K-1].Examples.length).fill(""));C(oe),q(oe),y(K)}else{const le=m.Quiz[g-1].Examples;let ae=[];for(let pe=0;pe<le.length;pe++)ae.push({text:m.Quiz[K-1].Examples[pe].Text,isCorrected:!1});v(new Array(m.Quiz[K-1].Examples.length).fill("")),W(ae)}else C(oe),q(oe),y(K),v(new Array(m.Quiz[K-1].Examples.length).fill("")),W([...P(new Array(m.Quiz[K-1].Examples.length).fill(""),K)])}},[m]),c.useEffect(()=>{if(!x&&!f&&m){if(u.setup(m.QuizTime,!0),J(),N(0),o.mode!=="Quiz"){const K=m.Quiz[g-1].Examples;let oe=[];for(let le=0;le<K.length;le++)oe.push({text:m.Quiz[g-1].Examples[le].Text,isCorrected:!1});W(oe)}b.current=!1}},[g]),c.useEffect(()=>{R>-1&&(D!=null&&D.current[R])&&(D==null||D.current[R].focus())},[R]),c.useEffect(()=>{m&&(I==="penalty"&&!x?u.stop():I==="success"&&re())},[I]),!m)return e.jsx(e.Fragment,{children:"Loading..."});const T=K=>{let oe=[],le=[],ae=[],pe=[...S];for(let be=0;be<(D==null?void 0:D.current.length);be++){const Qt={example:m.Quiz[g-1].Examples[be].Text,input:D==null?void 0:D.current[be].value.trimStart().trimEnd(),isEqual:m.Quiz[g-1].Examples[be].Text===(D==null?void 0:D.current[be].value.trimStart().trimEnd())};pe[be].length>0?pe[be]=pe[be].slice(-1)==="1"?pe[be]:pe[be]+=m.Quiz[g-1].Examples[be].Text===(D==null?void 0:D.current[be].value.trimStart().trimEnd())?"1":"2":pe[be]=m.Quiz[g-1].Examples[be].Text===(D==null?void 0:D.current[be].value.trimStart().trimEnd())?"1":"2",ae.push(Qt.example),oe.push(Qt),le.push(Qt.input.trimStart().trimEnd())}const Ee=oe.filter(be=>be.input.trimStart().trimEnd()==="").length>0;return Ee&&!K?(pe=[],pe=[...S]):v(pe),[Ee,oe,ae.join("┒")===le.join("┒"),ae.join("┒"),le.join("┒"),pe.join("/")]},F=async K=>{try{if(!b.current){b.current=!0,u.stop();const[oe,le,ae,pe,Ee,be]=T(K);if(oe&&!K)alert(i("study.빈칸이 존재하지 않아야 합니다.")),b.current=!1,u.start();else{const Qt={quizNo:g,maxCount:m.QuizAnswerCount,answerCount:z+1,ox:ae},me=E({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:m.Quiz[g-1].QuizId,quizNo:m.Quiz[g-1].QuizNo,currentQuizNo:m.Quiz[g-1].QuizNo,correct:pe,selectedAnswer:Ee,partialRecord:be,tryCount:z+1,maxQuizCount:m.QuizAnswerCount,quizLength:m.Quiz.length,isCorrect:ae,answerData:Qt,isEnabledPenalty:m.IsEnablePenaltyReview,isFinishStudy:t.lastStep===r}),ke=await Us(o.mode,me);if(Number(ke.result)===0){ke.resultMessage&&(n.finishStudy={id:Number(ke.result),cause:ke.resultMessage});const we=h.filter(xe=>xe.QuizNo!==m.Quiz[g-1].QuizNo),qe={QuizId:`${m.Quiz[g-1].QuizId}`,QuizNo:m.Quiz[g-1].QuizNo,CurrentQuizNo:m.Quiz[g-1].QuizNo,OX:ae?"1":"2",TempText:"",PenaltyWord:"",Correct:pe,StudentAnswer:be,AnswerCount:z+1},Ct=[...we,qe];d([...we,qe]),$(se(Ct),m.QuizAnswerCount),ae||q(M+1),C(z+1),X(ae,le)}}}}catch(oe){console.error(oe)}},X=(K,oe)=>{O({isActive:!0,isCorrect:K}),setTimeout(()=>{if(K)g+1>Object.keys(m.Quiz).length?(Q(),k(!0)):(Q(),ue(),C(0),q(0),ce("none"),v(new Array(m.Quiz[g].Examples.length).fill("")),y(g+1));else{let le=!0,ae=0,pe=[];D==null||D.current.forEach((Ee,be)=>{oe[be].isEqual||le&&(le=!1,ae=be),pe.push({text:oe[be].input,isCorrected:oe[be].isEqual})}),W([...pe]),z===m.QuizAnswerCount-1?(Q(),N(0),ce("penalty")):(u.setup(m.QuizTime,!0),N(ae),b.current=!1)}O({isActive:!1,isCorrect:!1})},1500)},te=K=>{N(K)},ie=(K,oe)=>{const le=H.map((ae,pe)=>K===pe?{text:oe,isCorrected:ae.isCorrected}:{text:ae.text,isCorrected:ae.isCorrected});W([...le])},ue=()=>{m.Quiz[g-1]&&W([...new Array(m.Quiz[g].Examples.length).fill({text:"",isCorrected:!1})])},ce=K=>{V(K)},re=async()=>{const K=g+1>m.Quiz.length;(async()=>{const le=await ls({mobile:"",bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${r}`,quizId:m.Quiz[g-1].QuizId,isLastQuiz:K,isFinishStudy:!!(K&&t.lastStep===r)});Number(le.result)===0&&(le.resultMessage&&(n.finishStudy={id:Number(le.result),cause:le.resultMessage}),Q(),g+1>Object.keys(m.Quiz).length?k(!0):(Q(),ue(),C(0),q(0),v(new Array(m.Quiz[g].Examples.length).fill("")),ce("none"),y(g+1)))})()},se=K=>{let oe=[];return K.map(le=>{le.StudentAnswer.split("/").map(ae=>{oe.push({QuizId:`${le.QuizId}`,QuizNo:le.QuizNo,CurrentQuizNo:le.CurrentQuizNo,OX:ae,TempText:"",PenaltyWord:"",Correct:le.Correct,StudentAnswer:ae,AnswerCount:ae.length})})}),oe},P=(K,oe)=>{let le=[];for(let ae=0;ae<K.length;ae++){const pe={text:K[ae].slice(-1)==="1"?m.Quiz[oe-1].Examples[ae].Text:"",isCorrected:K[ae].slice(-1)==="1"};le.push(pe)}return le},J=K=>{I==="none"?G==="playing"?Q():B(m.Quiz[g-1].Question.Sound):I==="success"&&G===""&&B(m.Quiz[g-1].Question.Sound,K)},Y=K=>{w(K)};return e.jsx(e.Fragment,{children:x?e.jsx("div",{className:`animate__animated ${l}`,onAnimationEnd:()=>{l==="animate__bounceOutLeft"&&_()},children:e.jsx(Me,{step:r,quizType:Qn,comment:i("study.문장을 읽고 빈칸에 들어갈 답을 입력하세요."),onStepIntroClozeHandler:()=>{a("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:f?e.jsx(rt,{step:r,quizType:Qn,quizAnswerCount:m.QuizAnswerCount,studentAnswer:L,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:g,totalQuizCnt:Object.keys(m.Quiz).length,life:m.QuizAnswerCount-M,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:Y}),e.jsx("div",{className:`${it.comment} animate__animated animate__fadeInLeft`,children:Qn}),e.jsx(Ne,{children:e.jsxs(Be,{typeCSS:An.clozeTest3,containerCSS:An.container,children:[Ti?e.jsx(e.Fragment,{}):e.jsx(Z,{height:0}),I==="none"?e.jsx(f0,{playState:G,playSentence:J}):e.jsx("div",{className:An.testReview,children:e.jsx("div",{className:An.title,children:"Test Review"})}),e.jsx(Q0,{inputRefs:D,isWorking:b.current,exampleData:m.Quiz[g-1],currentIndex:R,inputValues:H,penaltyState:I,changeInputValue:ie,changeInputIndex:te,checkAnswer:F,changePenaltyState:ce})]})}),p&&e.jsx(Ae,{isSideOpen:p,currentStep:r,currentStepType:Qn,quizLength:m.Quiz.reduce((K,oe)=>K+oe.Examples.length,0),maxAnswerCount:m.QuizAnswerCount,changeSideMenu:Y,scoreBoardData:L,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:U})]})})})}async function T0(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Pe}/listening-activity-1?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Quiz:a.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound}})),Examples:a.Examples.map(x=>({Text:x.Text,Image:x.Image}))}))}async function I0(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Pe}/listening-activity-2?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Quiz:a.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound}})),Examples:a.Examples.map(x=>({Text:x.Text}))}))}async function B0(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Pe}/listening-activity-3?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Quiz:a.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound},Examples:x.Examples.map(_=>({Text:_.Text,Image:_.Image}))}))}))}async function E0(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Pe}/listening-activity-4?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Quiz:a.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Image:x.Question.Image},Examples:x.Examples.map(_=>({Text:_.Text,Sound:_.Sound}))}))}))}const P0="_comment_jujn5_1",M0="_wordPlayButton_jujn5_20",L0="_txtL_jujn5_35",R0="_wordPlayButton2_jujn5_46",F0="_cardNumber_jujn5_65",q0="_listeningActivity1_jujn5_80",H0="_container_jujn5_80",O0="_wordCard_jujn5_87",D0="_done_jujn5_118",V0="_correct_jujn5_131",W0="_incorrect_jujn5_135",G0="_word_jujn5_20",U0="_wordBlock_jujn5_152",K0="_listeningActivity2_jujn5_164",J0="_listeningActivity3_jujn5_231",Y0="_imageCard_jujn5_237",X0="_cardNumberPosition_jujn5_285",Z0="_listeningActivity4_jujn5_291",e1="_questionBox_jujn5_296",t1="_soundCard_jujn5_313",n1="_playSoundPosition_jujn5_366",s1="_enterButton_jujn5_372",o1="_answers_jujn5_399",xt={comment:P0,wordPlayButton:M0,txtL:L0,wordPlayButton2:R0,cardNumber:F0,listeningActivity1:q0,container:H0,wordCard:O0,done:D0,correct:V0,incorrect:W0,word:G0,wordBlock:U0,listeningActivity2:K0,listeningActivity3:J0,imageCard:Y0,cardNumberPosition:X0,listeningActivity4:Z0,questionBox:e1,soundCard:t1,playSoundPosition:n1,enterButton:s1,answers:o1},i1="_comment_1cesw_1",r1="_wordPlayButton_1cesw_20",a1="_txtL_1cesw_35",c1="_wordPlayButton2_1cesw_46",u1="_cardNumber_1cesw_65",l1="_listeningActivity1_1cesw_80",d1="_container_1cesw_80",m1="_wordCard_1cesw_87",x1="_done_1cesw_113",h1="_correct_1cesw_120",_1="_incorrect_1cesw_124",p1="_word_1cesw_20",g1="_wordBlock_1cesw_141",y1="_listeningActivity2_1cesw_153",f1="_listeningActivity3_1cesw_215",b1="_imageCard_1cesw_221",k1="_cardNumberPosition_1cesw_261",w1="_listeningActivity4_1cesw_267",S1="_questionBox_1cesw_272",v1="_soundCard_1cesw_295",j1="_playSoundPosition_1cesw_343",z1="_enterButton_1cesw_349",$1="_answers_1cesw_376",ht={comment:i1,wordPlayButton:r1,txtL:a1,wordPlayButton2:c1,cardNumber:u1,listeningActivity1:l1,container:d1,wordCard:m1,done:x1,correct:h1,incorrect:_1,word:p1,wordBlock:g1,listeningActivity2:y1,listeningActivity3:f1,imageCard:b1,cardNumberPosition:k1,listeningActivity4:w1,questionBox:S1,soundCard:v1,playSoundPosition:j1,enterButton:z1,answers:$1},C1=new A(navigator.userAgent),Q1=C1.phone(),Mo=Q1?ht:xt;function A1({playState:t,onPlay:i}){return e.jsxs("div",{className:Mo.wordPlayButton,onClick:()=>i(),children:[t===""?e.jsx(Re,{isColor:!0,width:34,height:34}):e.jsx(Fe,{isColor:!0,width:34,height:34}),e.jsx("span",{className:Mo.txtL,children:"Listen"})]})}const N1=new A(navigator.userAgent),T1=N1.phone(),_n=T1?ht:xt;function I1({imgSrc:t,text:i,correctText:n,isCorrected:o=!1,onCardAnimationEndHandler:r,onWordAnimationEndHandler:u,checkAnswer:l}){const{studyInfo:a}=c.useContext(ne),[x,_]=c.useState(!1),[f,k]=c.useState(a.mode==="Review"),p=b=>{(!o&&!x||f)&&l(b.currentTarget,i)},w=()=>{f&&n===i&&k(!1),_(!0)};return e.jsxs("div",{className:`animate__animated ${_n.wordCard} ${(x||o)&&!f?_n.done:""} 
      ${f&&n===i?_n.correct:""}`,onClick:b=>{p(b)},onAnimationEnd:b=>{r(b,w)},children:[e.jsx("img",{src:t}),(x||o)&&!f&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${_n.word}`,children:i}),e.jsx("div",{className:`${_n.wordBlock} animate__animated animate__fadeIn`,onAnimationEnd:b=>{u(b,o)}})]})]})}const B1=new A(navigator.userAgent),Ii=B1.phone(),Nn="Listening Activity",ws=Ii?ht:xt;function E1(t){const{t:i}=de(),{handler:n,studyInfo:o}=c.useContext(ne),r=t.currentStep,u=ze(()=>{window.onLogoutStudy()}),l=dt(),[a,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:f}=je(),{isResultShow:k,changeResultShow:p}=He(),[w,b]=c.useState(!1),[m,s]=$e(T0,t,r),[h,d]=c.useState(1),{scoreBoardData:g,setStudentAnswers:y,addStudentAnswer:S,makeUserAnswerData:v}=Ce(o.mode),[L,$]=c.useState(""),[E,z]=c.useState([]),[C,M]=c.useState(0),[q,D]=c.useState(0),{bottomPopupState:H,changeBottomPopupState:W}=Xe(),{playState:R,playAudio:N,stopAudio:I}=Le(),V=c.useRef(!0);if(c.useEffect(()=>{!_&&m&&(u.setup(m.QuizTime,!0),N(m.Quiz[h-1].Question.Sound),V.current=!1)},[_]),c.useEffect(()=>{if(m)try{const[F,X]=ut(o.mode,s,m.QuizAnswerCount);let te=[],ie=[];te=s.map(ue=>{var ce;return(ce=m.Quiz.find(re=>ue.OX==="1"&&ue.QuizNo===re.QuizNo))==null?void 0:ce.Question.Text}),ie=m.Examples.slice(0,5).map(ue=>({...ue,IsCorrected:!!te.find(ce=>ce===ue.Text)})),M(X),D(X),$(m.Quiz[F-1].Question.Text),y(s,m.QuizAnswerCount),o.mode==="Super"?z(ie):z(_e.shuffle(ie)),d(F)}catch(F){console.error(F)}},[m]),c.useEffect(()=>{!_&&!k&&m&&(I(),$(m.Quiz[h-1].Question.Text))},[h]),c.useEffect(()=>{!_&&!k&&m&&(N(m.Quiz[h-1].Question.Sound),u.setup(m.QuizTime,!0),V.current=!1)},[L]),c.useEffect(()=>{k&&u.stop()},[k]),!m)return e.jsx(e.Fragment,{children:"Loading..."});const U=async(F,X)=>{if(!V.current){I(),V.current=!0;const te=L===X,ie={quizNo:h,maxCount:m.QuizAnswerCount,answerCount:C+1,ox:te},ue=v({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:m.Quiz[h-1].QuizId,quizNo:m.Quiz[h-1].QuizNo,currentQuizNo:h,correct:m.Quiz[h-1].Question.Text,selectedAnswer:X,tryCount:C+1,maxQuizCount:m.QuizAnswerCount,quizLength:m.Quiz.length,isCorrect:te,answerData:ie,isFinishStudy:t.lastStep===r}),ce=await Te(o.mode,ue);Number(ce.result)===0&&(ce.resultMessage&&(n.finishStudy={id:Number(ce.result),cause:ce.resultMessage}),S(ie),te||D(q+1),M(C+1),O(F,te))}},O=(F,X)=>{W({isActive:!0,isCorrect:X}),X?l.play(F,["animate__fadeIn"]):l.play(F,["animate__headShake"])},G=(F,X)=>{F.preventDefault(),F.stopPropagation();const te=F.currentTarget,ie=!!l.isContain(te,"animate__fadeIn");setTimeout(()=>{ie?X():(l.remove(te,["animate__headShake"]),W({isActive:!1,isCorrect:!1}),C>=m.QuizAnswerCount?(M(0),D(0),h+1>m.Quiz.length?p(!0):d(h+1)):(Q(),V.current=!1))},1500)},B=(F,X)=>{F.preventDefault(),F.stopPropagation();const te=F.currentTarget;l.remove(te,["selected"]),W({isActive:!1,isCorrect:!1}),(!X||X===void 0||o.mode==="Review")&&setTimeout(()=>{M(0),D(0),h+1>m.Quiz.length?p(!0):d(h+1)},1e3)},Q=()=>{R===""?N(m.Quiz[h-1].Question.Sound):I()},T=F=>{b(F)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${a}`,onAnimationEnd:()=>{a==="animate__bounceOutLeft"&&f()},children:e.jsx(Me,{step:r,quizType:Nn,comment:i("study.소리를 듣고 알맞은 그림을 고르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:k?e.jsx(rt,{step:r,quizType:Nn,quizAnswerCount:m.QuizAnswerCount,studentAnswer:g,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:h,totalQuizCnt:Object.keys(m.Quiz).length,life:m.QuizAnswerCount-q,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:T}),e.jsx("div",{className:`${ws.comment} animate__animated animate__fadeInLeft`,children:Nn}),e.jsxs(Ne,{children:[e.jsx(A1,{playState:R,onPlay:Q}),Ii?e.jsx(Z,{height:10}):e.jsx(Z,{height:15}),e.jsx(Be,{typeCSS:ws.listeningActivity1,containerCSS:ws.container,children:E.map(F=>e.jsx(I1,{imgSrc:F.Image,text:F.Text,correctText:L,isCorrected:F.IsCorrected,onCardAnimationEndHandler:G,onWordAnimationEndHandler:B,checkAnswer:U}))}),e.jsx(Z,{height:15})]}),w&&e.jsx(Ae,{isSideOpen:w,currentStep:r,currentStepType:Nn,quizLength:m.Quiz.length,maxAnswerCount:m.QuizAnswerCount,changeSideMenu:T,scoreBoardData:g,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:H})]})})})}const P1=new A(navigator.userAgent),M1=P1.phone(),Lo=M1?ht:xt;function L1({playState:t,onPlay:i}){return e.jsxs("div",{className:Lo.wordPlayButton,onClick:()=>i(),children:[t===""?e.jsx(Re,{isColor:!0,width:34,height:34}):e.jsx(Fe,{isColor:!0,width:34,height:34}),e.jsx("span",{className:Lo.txtL,children:"Listen"})]})}const R1=new A(navigator.userAgent),F1=R1.phone(),Tn=F1?ht:xt;function q1({text:t,correctText:i,isCorrected:n=!1,checkAnswer:o,onCardAnimationEndHandler:r}){const{studyInfo:u}=c.useContext(ne),[l,a]=c.useState(!1),[x,_]=c.useState(u.mode==="Review"),f=p=>{(!n&&!l||x)&&o(p.currentTarget,t)},k=()=>{x&&i===t&&_(!1),a(!0)};return e.jsx("div",{className:`animate__animated ${Tn.wordCard} ${(l||n)&&!x?Tn.done:""} 
    ${x&&i===t?Tn.correct:""}`,onClick:p=>{f(p)},onAnimationEnd:p=>r(p,k),children:e.jsx("div",{className:Tn.txtL,children:t})})}const H1=new A(navigator.userAgent),Ys=H1.phone(),In="Listening Activity",Ft=Ys?ht:xt;function O1(t){const{t:i}=de(),{handler:n,studyInfo:o}=c.useContext(ne),r=t.currentStep,u=ze(()=>{window.onLogoutStudy()}),l=dt(),[a,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:f}=je(),{isResultShow:k,changeResultShow:p}=He(),[w,b]=c.useState(!1),m=c.useRef(!0),[s,h]=$e(I0,t,r),{scoreBoardData:d,setStudentAnswers:g,addStudentAnswer:y,makeUserAnswerData:S}=Ce(o.mode),[v,L]=c.useState([]),[$,E]=c.useState(1),[z,C]=c.useState(0),[M,q]=c.useState(0),{bottomPopupState:D,changeBottomPopupState:H}=Xe(),{playState:W,playAudio:R,stopAudio:N}=Le();if(c.useEffect(()=>{!_&&s&&(u.setup(s.QuizTime,!0),R(s.Quiz[$-1].Question.Sound),m.current=!1)},[_]),c.useEffect(()=>{if(s)try{const[B,Q]=ut(o.mode,h,s.QuizAnswerCount);let T=[],F=[];T=h.map(X=>{var te;return(te=s.Quiz.slice(0,6).find(ie=>X.OX==="1"&&X.QuizNo===ie.QuizNo))==null?void 0:te.Question.Text}),F=s.Examples.slice(0,6).map(X=>({...X,IsCorrected:!!T.find(te=>te===X.Text)})),C(Q),q(Q),g(h,s.QuizAnswerCount),o.mode==="Super"?L(F):L(_e.shuffle(F)),E(B)}catch(B){console.error(B)}},[s]),c.useEffect(()=>{!_&&!k&&s&&(u.setup(s.QuizTime,!0),C(0),q(0),R(s.Quiz[$-1].Question.Sound),m.current=!1)},[$]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const I=async(B,Q)=>{if(!m.current){m.current=!0;const T=s.Quiz[$-1].Question.Text===Q,F={quizNo:$,maxCount:s.QuizAnswerCount,answerCount:z+1,ox:T},X=S({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:s.Quiz[$-1].QuizId,quizNo:s.Quiz[$-1].QuizNo,currentQuizNo:$,correct:s.Quiz[$-1].Question.Text,selectedAnswer:Q,tryCount:z+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:T,answerData:F,isFinishStudy:t.lastStep===r}),te=await Te(o.mode,X);Number(te.result)===0&&(te.resultMessage&&(n.finishStudy={id:Number(te.result),cause:te.resultMessage}),y(F),T||q(M+1),C(z+1),V(B,T))}},V=(B,Q)=>{H({isActive:!0,isCorrect:Q}),Q?l.play(B,["animate__fadeIn",Ft.correct]):l.play(B,["animate__headShake",Ft.incorrect])},U=(B,Q)=>{const T=B.currentTarget,F=!!l.isContain(T,"animate__fadeIn");setTimeout(()=>{l.remove(T,["animate__fadeIn","animate__headShake",Ft.correct,Ft.incorrect]),H({isActive:!1,isCorrect:!1}),F?(Q(),setTimeout(()=>{$+1>s.Quiz.length?p(!0):E($+1)},300)):(l.remove(T,["animate__headShake"]),H({isActive:!1,isCorrect:!1}),z>=s.QuizAnswerCount?(C(0),q(0),$+1>s.Quiz.length?p(!0):E($+1)):(O(),u.setup(s.QuizTime,!0),m.current=!1))},1500)},O=()=>{W===""?R(s.Quiz[$-1].Question.Sound):N()},G=B=>{b(B)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${a}`,onAnimationEnd:()=>{a==="animate__bounceOutLeft"&&f()},children:e.jsx(Me,{step:r,quizType:In,comment:i("study.소리를 듣고 알맞은 단어를 고르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:k?e.jsx(rt,{step:r,quizType:In,quizAnswerCount:s.QuizAnswerCount,studentAnswer:d,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:$,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-M,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:G}),e.jsx("div",{className:`${Ft.comment} animate__animated animate__fadeInLeft`,children:In}),e.jsxs(Ne,{children:[e.jsx(L1,{playState:W,onPlay:O}),Ys?e.jsx(Z,{height:10}):e.jsx(Z,{height:15}),e.jsx(Be,{typeCSS:Ft.listeningActivity2,containerCSS:Ft.container,children:v.map((B,Q)=>e.jsx(q1,{text:B.Text,correctText:s.Quiz[$-1].Question.Text,isCorrected:B.IsCorrected,checkAnswer:I,onCardAnimationEndHandler:U}))}),Ys?e.jsx(Z,{height:10}):e.jsx(Z,{height:15})]}),w&&e.jsx(Ae,{isSideOpen:w,currentStep:r,currentStepType:In,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:G,scoreBoardData:d,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:D})]})})})}const D1=new A(navigator.userAgent),V1=D1.phone(),Ro=V1?ht:xt;function W1({playState:t,onPlay:i}){return e.jsxs("div",{className:Ro.wordPlayButton,onClick:()=>i(),children:[t===""?e.jsx(Re,{isColor:!0,width:34,height:34}):e.jsx(Fe,{isColor:!0,width:34,height:34}),e.jsx("span",{className:Ro.txtL,children:"Listen"})]})}const G1=new A(navigator.userAgent),Xs=G1.phone(),Bn=Xs?ht:xt;function U1({correctText:t,example:i,index:n,checkAnswer:o,onWrapperAnimationEndHandler:r}){const{bookInfo:u,studyInfo:l}=c.useContext(ne);return e.jsxs("div",{className:`${Bn.imageCard} 
      ${l.mode==="Review"&&Number(u.Average)>=70&&i.Text===t?Bn.correct:""}`,onClick:a=>o(a.currentTarget,i.Text),onAnimationEnd:a=>{r(a)},children:[e.jsx("img",{src:i.Image,width:Xs?"auto":"100%",height:Xs?"100%":"auto"}),e.jsx("div",{className:Bn.cardNumberPosition,children:e.jsx("div",{className:Bn.cardNumber,children:Number(n+1)})})]})}const K1=new A(navigator.userAgent),J1=K1.phone(),Fo=J1?ht:xt;function Y1({correctText:t,exampleData:i,checkAnswer:n,onWrapperAnimationEndHandler:o}){return e.jsx("div",{className:Fo.listeningActivity3,children:e.jsx("div",{className:Fo.container,children:i.map((r,u)=>e.jsx(U1,{correctText:t,example:r,index:u,checkAnswer:n,onWrapperAnimationEndHandler:o},`example-0${u+1}`))})})}const X1=new A(navigator.userAgent),Zs=X1.phone(),En="Listening Activity",pn=Zs?ht:xt;function Z1(t){const{t:i}=de(),{handler:n,studyInfo:o}=c.useContext(ne),r=t.currentStep,u=ze(()=>{window.onLogoutStudy()}),l=dt(),[a,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:f}=je(),{isResultShow:k,changeResultShow:p}=He(),[w,b]=c.useState(!1),m=c.useRef(!0),[s,h]=$e(B0,t,r),[d,g]=c.useState(1),{scoreBoardData:y,setStudentAnswers:S,addStudentAnswer:v,makeUserAnswerData:L}=Ce(o.mode),[$,E]=c.useState([]),[z,C]=c.useState(0),[M,q]=c.useState(0),{bottomPopupState:D,changeBottomPopupState:H}=Xe(),{playState:W,playAudio:R,stopAudio:N}=Le();if(c.useEffect(()=>{!_&&s&&(u.setup(s.QuizTime,!0),R(s.Quiz[d-1].Question.Sound),m.current=!1)},[_]),c.useEffect(()=>{if(s)try{const[B,Q]=ut(o.mode,h,s.QuizAnswerCount);S(h,s.QuizAnswerCount),o.mode==="Super"?E(s.Quiz[B-1].Examples):E(_e.shuffle(s.Quiz[B-1].Examples)),S(h,s.QuizAnswerCount),g(B)}catch(B){console.error(B)}},[s]),c.useEffect(()=>{!_&&!k&&s&&(o.mode==="Super"?E(s.Quiz[d-1].Examples):E(_e.shuffle(s.Quiz[d-1].Examples)),C(0),q(0),u.setup(s.QuizTime,!0),R(s.Quiz[d-1].Question.Sound),m.current=!1)},[d]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const I=async(B,Q)=>{if(!m.current){m.current=!0,N();const T=s.Quiz[d-1].Question.Text===Q,F={quizNo:d,maxCount:s.QuizAnswerCount,answerCount:z+1,ox:T},X=L({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:s.Quiz[d-1].QuizId,quizNo:s.Quiz[d-1].QuizNo,currentQuizNo:d,correct:s.Quiz[d-1].Question.Text,selectedAnswer:Q,tryCount:z+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:T,answerData:F,isFinishStudy:t.lastStep===r});u.stop();const te=await Te(o.mode,X);Number(te.result)===0&&(te.resultMessage&&(n.finishStudy={id:Number(te.result),cause:te.resultMessage}),v(F),T||q(M+1),C(z+1),V(B,T))}},V=(B,Q)=>{u.stop(),H({isActive:!0,isCorrect:Q}),Q?l.play(B,["animate__fadeIn",pn.correct]):l.play(B,["animate__headShake",pn.incorrect])},U=B=>{const Q=B.currentTarget;setTimeout(()=>{l.remove(Q,["selected","animate__fadeIn","animate__headShake",pn.correct,pn.incorrect]),H({isActive:!1,isCorrect:!1}),d+1>s.Quiz.length?p(!0):g(d+1)},1e3)},O=()=>{W===""?R(s.Quiz[d-1].Question.Sound):N()},G=B=>{b(B)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${a}`,onAnimationEnd:()=>{a==="animate__bounceOutLeft"&&f()},children:e.jsx(Me,{step:r,quizType:En,comment:i("study.소리를 듣고 알맞은 카드를 고르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:k?e.jsx(rt,{step:r,quizType:En,quizAnswerCount:s.QuizAnswerCount,studentAnswer:y,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:d,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-M,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:G}),e.jsx("div",{className:`${pn.comment} animate__animated animate__fadeInLeft`,children:En}),e.jsxs(Ne,{children:[e.jsx(W1,{playState:W,onPlay:O}),Zs?e.jsx(Z,{height:10}):e.jsx(Z,{height:15}),e.jsx(Y1,{correctText:s.Quiz[d-1].Examples[0].Text,exampleData:$,checkAnswer:I,onWrapperAnimationEndHandler:U}),Zs?e.jsx(Z,{height:0}):e.jsx(Z,{height:15})]}),w&&e.jsx(Ae,{isSideOpen:w,currentStep:r,currentStepType:En,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:G,scoreBoardData:y,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:D})]})})})}const ex=new A(navigator.userAgent),eo=ex.phone(),tx=eo?ht:xt;function nx({src:t}){return e.jsx("div",{className:tx.questionBox,children:e.jsx("img",{src:t,width:eo?"auto":"250px",height:eo?"100%":"auto"})})}const sx=new A(navigator.userAgent),ox=sx.phone(),ix=ox?ht:xt;function rx({multiPlayState:t,index:i,playWord:n}){return e.jsx("div",{className:ix.wordPlayButton2,onClick:()=>n(i),children:t.playState==="playing"&&t.seq===i?e.jsx(Fe,{isColor:!0,width:44,height:44}):e.jsx(Re,{isColor:!0,width:44,height:44})})}const ax=new A(navigator.userAgent),cx=ax.phone(),nn=cx?ht:xt;function ux({index:t,multiPlayState:i,correctText:n,exampleData:o,playWord:r,checkAnswer:u,onAnimationEndHandler:l}){const{bookInfo:a,studyInfo:x}=c.useContext(ne),_=c.useRef(null),f=()=>{u(_,o.Text)};return e.jsxs("div",{ref:_,className:`${nn.soundCard} 
      ${x.mode==="Review"&&Number(a.Average)>=70&&o.Text===n?nn.correct:""}`,onAnimationEnd:k=>l(k),children:[e.jsx("div",{className:nn.cardNumberPosition,children:e.jsx("div",{className:nn.cardNumber,children:Number(t+1)})}),e.jsx("div",{className:nn.playSoundPosition,children:e.jsx(rx,{multiPlayState:i,index:t,playWord:r})}),e.jsx("span",{className:nn.enterButton,onClick:()=>f(),children:e.jsx("span",{children:e.jsx(hs,{width:15,height:15})})})]})}const lx=new A(navigator.userAgent),dx=lx.phone(),mx=dx?ht:xt;function xx({multiPlayState:t,correctText:i,exampleData:n,playWord:o,checkAnswer:r,onAnimationEndHandler:u}){return e.jsx("div",{className:mx.answers,children:n.map((l,a)=>e.jsx(ux,{index:a,multiPlayState:t,correctText:i,exampleData:l,playWord:o,checkAnswer:r,onAnimationEndHandler:u},`e-0${a}`))})}const hx=new A(navigator.userAgent),to=hx.phone(),Pn="Listening Activity",qt=to?ht:xt;function _x(t){const{t:i}=de(),{handler:n,studyInfo:o}=c.useContext(ne),r=t.currentStep,u=ze(()=>{window.onLogoutStudy()}),l=dt(),[a,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:f}=je(),{isResultShow:k,changeResultShow:p}=He(),[w,b]=c.useState(!1),m=c.useRef(!0),[s,h]=$e(E0,t,r),[d,g]=c.useState(1),{scoreBoardData:y,setStudentAnswers:S,addStudentAnswer:v,makeUserAnswerData:L}=Ce(o.mode),[$,E]=c.useState([]),[z,C]=c.useState(0),[M,q]=c.useState(0),{bottomPopupState:D,changeBottomPopupState:H}=Xe(),{playAudio:W,stopAudio:R}=Le(),[N,I]=c.useState({playState:"",playType:"",seq:-1});if(c.useEffect(()=>{!_&&s&&(u.setup(s.QuizTime,!0),Q(),m.current=!1)},[_]),c.useEffect(()=>{if(s)try{s.Quiz.sort((X,te)=>Number(X.QuizNo)-Number(te.QuizNo));const[T,F]=ut(o.mode,h,s.QuizAnswerCount);C(F),q(F),o.mode==="Super"?E(s.Quiz[T-1].Examples):E(_e.shuffle(s.Quiz[T-1].Examples)),S(h,s.QuizAnswerCount),g(T)}catch(T){console.error(T)}},[s]),c.useEffect(()=>{!_&&!k&&s&&(u.setup(s.QuizTime,!0),C(0),q(0),o.mode==="Super"?E(s.Quiz[d-1].Examples):E(_e.shuffle(s.Quiz[d-1].Examples)),Q(),m.current=!1)},[d]),c.useEffect(()=>{if(R(),s&&N.seq>-1){if(N.playType==="sentence"){const T=()=>{I({playState:"",playType:"",seq:-1})};W($[N.seq].Sound,T)}else if(N.playType==="all"){const T=()=>{N.seq<s.Quiz[d-1].Examples.length-1?I({playState:"playing",playType:"all",seq:N.seq+1}):(R(),I({playState:"",playType:"",seq:-1}))};W($[N.seq].Sound,T)}}},[N]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const V=async(T,F)=>{try{if(!m.current){m.current=!0,R(),I({playState:"",playType:"",seq:-1});const X=s.Quiz[d-1].Question.Text===F,te={quizNo:d,maxCount:s.QuizAnswerCount,answerCount:z+1,ox:X},ie=L({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:s.Quiz[d-1].QuizId,quizNo:s.Quiz[d-1].QuizNo,currentQuizNo:d,correct:s.Quiz[d-1].Question.Text,selectedAnswer:F,tryCount:z+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:X,answerData:te,isFinishStudy:t.lastStep===r});u.stop();const ue=await Te(o.mode,ie);if(Number(ue.result)===0){ue.resultMessage&&(n.finishStudy={id:Number(ue.result),cause:ue.resultMessage});const ce={quizNo:d,maxCount:s.QuizAnswerCount,answerCount:z+1,ox:X};X||q(M+1),C(z+1),v(ce),U(T,X)}}}catch(X){console.error(X)}},U=(T,F)=>{u.stop(),H({isActive:!0,isCorrect:F}),T.current&&(F?l.play(T.current,["animate__fadeIn",qt.correct]):l.play(T.current,["animate__headShake",qt.incorrect]))},O=T=>{const F=T.currentTarget,X=!!l.isContain(F,"animate__fadeIn");setTimeout(()=>{H({isActive:!1,isCorrect:!1}),l.remove(F,[qt.correct,qt.incorrect,"animate__fadeIn","animate__headShake"]),X||z>=s.QuizAnswerCount?d+1>s.Quiz.length?p(!0):g(d+1):(u.setup(s.QuizTime,!0),m.current=!1)},1e3)},G=T=>{b(T)},B=T=>{N.playState===""&&T>-1?I({playState:"playing",playType:"sentence",seq:T}):N.playState==="playing"&&N.seq===T?I({playState:"",playType:"",seq:-1}):N.playState==="playing"&&N.seq!==T&&I({playState:"playing",playType:"sentence",seq:T})},Q=()=>{R(),N.playState==="playing"?I({playState:"",playType:"",seq:-1}):I({playState:"playing",playType:"all",seq:0})};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${a}`,onAnimationEnd:()=>{a==="animate__bounceOutLeft"&&f()},children:e.jsx(Me,{step:r,quizType:Pn,comment:i("study.그림을 보고 알맞은 소리를 고르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:k?e.jsx(rt,{step:r,quizType:Pn,quizAnswerCount:s.QuizAnswerCount,studentAnswer:y,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:d,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-M,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:G}),e.jsx("div",{className:`${qt.comment} animate__animated animate__fadeInLeft`,children:Pn}),e.jsxs(Ne,{children:[to?e.jsx(Z,{height:0}):e.jsx(Z,{height:15}),e.jsxs(Be,{typeCSS:qt.listeningActivity4,containerCSS:qt.container,children:[e.jsx(nx,{src:s.Quiz[d-1].Question.Image}),e.jsx(Z,{height:15}),e.jsx(xx,{multiPlayState:N,correctText:s.Quiz[d-1].Examples[0].Text,exampleData:$,playWord:B,checkAnswer:V,onAnimationEndHandler:O})]}),to?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),w&&e.jsx(Ae,{isSideOpen:w,currentStep:r,currentStepType:Pn,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:G,scoreBoardData:y,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:D})]})})})}async function px(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Pe}/reading-comprehension-1?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Quiz:a.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound},Examples:x.Examples.map(_=>({Text:_.Text,Image:_.Image}))}))}))}async function gx(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Pe}/reading-comprehension-2?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Quiz:a.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Image:x.Question.Image},Examples:x.Examples.map(_=>({Text:_.Text,Sound:_.Sound}))}))}))}async function yx(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Pe}/reading-comprehension-3?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Quiz:a.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Image:x.Question.Image,Sound:x.Question.Sound},Examples:x.Examples.map(_=>({Text:_.Text,Sound:_.Sound}))}))}))}async function fx(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Pe}/reading-comprehension-4?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),IsModeRetest:!!a.IsModeRetest,PassMark:Number(a.PassMark),IsHideQuestionText:!!a.IsHideQuestionText,Quiz:a.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound},Examples:x.Examples.map(_=>({Text:_.Text}))}))}))}const bx="_comment_1s1kv_1",kx="_wordPlayButton_1s1kv_20",wx="_txtL_1s1kv_35",Sx="_wordPlayButton2_1s1kv_40",vx="_cardNumber_1s1kv_61",jx="_readingComprehension1_1s1kv_76",zx="_container_1s1kv_76",$x="_imageCard_1s1kv_82",Cx="_correct_1s1kv_116",Qx="_incorrect_1s1kv_121",Ax="_cardNumberPosition_1s1kv_130",Nx="_readingComprehension2_1s1kv_136",Tx="_questionBox_1s1kv_141",Ix="_wordImage_1s1kv_156",Bx="_wordText_1s1kv_165",Ex="_textCard_1s1kv_171",Px="_awnserText_1s1kv_214",Mx="_enterButton_1s1kv_218",Lx="_answers_1s1kv_242",Rx="_readingComprehension3_1s1kv_250",Fx="_questionImage_1s1kv_259",qx="_questionText_1s1kv_270",Hx="_readingComprehension4_1s1kv_352",at={comment:bx,wordPlayButton:kx,txtL:wx,wordPlayButton2:Sx,cardNumber:vx,readingComprehension1:jx,container:zx,imageCard:$x,correct:Cx,incorrect:Qx,cardNumberPosition:Ax,readingComprehension2:Nx,questionBox:Tx,wordImage:Ix,wordText:Bx,textCard:Ex,awnserText:Px,enterButton:Mx,answers:Lx,readingComprehension3:Rx,questionImage:Fx,questionText:qx,readingComprehension4:Hx},Ox="_comment_8s2bt_1",Dx="_wordPlayButton_8s2bt_20",Vx="_txtL_8s2bt_35",Wx="_wordPlayButton2_8s2bt_40",Gx="_cardNumber_8s2bt_61",Ux="_readingComprehension1_8s2bt_76",Kx="_container_8s2bt_76",Jx="_imageCard_8s2bt_82",Yx="_correct_8s2bt_109",Xx="_incorrect_8s2bt_114",Zx="_cardNumberPosition_8s2bt_123",eh="_readingComprehension2_8s2bt_129",th="_questionBox_8s2bt_134",nh="_wordImage_8s2bt_155",sh="_wordText_8s2bt_170",oh="_textCard_8s2bt_176",ih="_awnserText_8s2bt_215",rh="_enterButton_8s2bt_219",ah="_answers_8s2bt_243",ch="_readingComprehension3_8s2bt_250",uh="_questionImage_8s2bt_261",lh="_questionText_8s2bt_284",dh="_readingComprehension4_8s2bt_362",ct={comment:Ox,wordPlayButton:Dx,txtL:Vx,wordPlayButton2:Wx,cardNumber:Gx,readingComprehension1:Ux,container:Kx,imageCard:Jx,correct:Yx,incorrect:Xx,cardNumberPosition:Zx,readingComprehension2:eh,questionBox:th,wordImage:nh,wordText:sh,textCard:oh,awnserText:ih,enterButton:rh,answers:ah,readingComprehension3:ch,questionImage:uh,questionText:lh,readingComprehension4:dh},mh=new A(navigator.userAgent),xh=mh.phone(),qo=xh?ct:at;function hh({playState:t,question:i,onPlay:n}){return e.jsxs("div",{className:qo.wordPlayButton,onClick:()=>n(),children:[t===""?e.jsx(Re,{isColor:!0,width:34,height:34}):e.jsx(Fe,{isColor:!0,width:34,height:34}),e.jsx("div",{className:qo.txtL,children:i})]})}const _h=new A(navigator.userAgent),no=_h.phone(),Mn=no?ct:at;function ph({index:t,img:i,text:n,correctText:o,checkAnswer:r,onAnimationEndHandler:u}){const{bookInfo:l,studyInfo:a}=c.useContext(ne);return e.jsxs("div",{className:`${Mn.imageCard} ${a.mode==="Review"&&Number(l.Average)>=70&&o===n?Mn.correct:""} animate__animated`,onClick:x=>r(x.currentTarget,n),onAnimationEnd:x=>u(x),children:[e.jsx("img",{src:i,width:no?"auto":"100%",height:no?"100%":"auto"}),e.jsx("div",{className:Mn.cardNumberPosition,children:e.jsx("div",{className:Mn.cardNumber,children:t})})]})}const gh=new A(navigator.userAgent),us=gh.phone(),Ln="Reading Comprehension",Ht=us?ct:at;function yh(t){const{t:i}=de(),{handler:n,studyInfo:o}=c.useContext(ne),r=t.currentStep,u=ze(()=>{window.onLogoutStudy()}),l=dt(),[a,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:f}=je(),{isResultShow:k,changeResultShow:p}=He(),[w,b]=c.useState(!1),m=c.useRef(!0),[s,h]=$e(px,t,r),[d,g]=c.useState(1),{scoreBoardData:y,setStudentAnswers:S,addStudentAnswer:v,makeUserAnswerData:L}=Ce(o.mode),[$,E]=c.useState([]),[z,C]=c.useState(0),[M,q]=c.useState(0),{bottomPopupState:D,changeBottomPopupState:H}=Xe(),{playState:W,playAudio:R,stopAudio:N}=Le();if(c.useEffect(()=>{!_&&s&&(u.setup(s.QuizTime,!0),R(s.Quiz[d-1].Question.Sound),m.current=!1)},[_]),c.useEffect(()=>{if(s){const[B,Q]=ut(o.mode,h,s.QuizAnswerCount);C(Q),q(Q),o.mode==="Super"?E(s.Quiz[B-1].Examples):E(_e.shuffle(s.Quiz[B-1].Examples)),S(h,s.QuizAnswerCount),g(B)}},[s]),c.useEffect(()=>{!_&&!k&&s&&(o.mode==="Super"?E(s.Quiz[d-1].Examples):E(_e.shuffle(s.Quiz[d-1].Examples)),C(0),q(0),u.setup(s.QuizTime,!0),R(s.Quiz[d-1].Question.Sound),m.current=!1)},[d]),c.useEffect(()=>{k&&u.stop()},[k]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const I=async(B,Q)=>{try{if(!m.current){m.current=!0;const T=s.Quiz[d-1].Question.Text===Q,F={quizNo:d,maxCount:s.QuizAnswerCount,answerCount:z+1,ox:T},X=L({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:s.Quiz[d-1].QuizId,quizNo:s.Quiz[d-1].QuizNo,currentQuizNo:d,correct:s.Quiz[d-1].Question.Text,selectedAnswer:Q,tryCount:z+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:T,answerData:F,isFinishStudy:t.lastStep===r});u.stop();const te=await Te(o.mode,X);Number(te.result)===0&&(te.resultMessage&&(n.finishStudy={id:Number(te.result),cause:te.resultMessage}),v(F),T||q(M+1),C(z+1),V(B,T))}}catch(T){console.error(T)}},V=(B,Q)=>{u.stop(),H({isActive:!0,isCorrect:Q}),Q?l.play(B,["animate__fadeIn",Ht.correct]):l.play(B,["animate__headShake",Ht.incorrect])},U=B=>{const Q=B.currentTarget;setTimeout(()=>{l.remove(Q,["animate__fadeIn","animate__headShake",Ht.correct,Ht.incorrect]),H({isActive:!1,isCorrect:!1}),C(0),q(0),d+1>s.Quiz.length?p(!0):g(d+1)},1500)},O=B=>{b(B)},G=()=>{W===""?R(s.Quiz[d-1].Question.Sound):N()};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${a}`,onAnimationEnd:()=>{a==="animate__bounceOutLeft"&&f()},children:e.jsx(Me,{step:r,quizType:Ln,comment:i("study.문장을 듣고 알맞은 카드를 고르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:k?e.jsx(e.Fragment,{children:e.jsx(rt,{step:r,quizType:Ln,quizAnswerCount:s.QuizAnswerCount,studentAnswer:y,onFinishActivity:t.onFinishActivity})}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:d,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-M,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:O}),e.jsx("div",{className:`${Ht.comment} animate__animated animate__fadeInLeft`,children:Ln}),e.jsxs(Ne,{children:[us?e.jsx(Z,{height:0}):e.jsx(Z,{height:15}),e.jsx(hh,{playState:W,question:s.Quiz[d-1].Question.Text,onPlay:G}),us?e.jsx(Z,{height:10}):e.jsx(Z,{height:15}),e.jsx(Be,{typeCSS:Ht.readingComprehension1,containerCSS:Ht.container,children:$.map((B,Q)=>e.jsx(ph,{index:Q+1,img:B.Image,text:B.Text,correctText:s.Quiz[d-1].Question.Text,checkAnswer:I,onAnimationEndHandler:U}))}),us?e.jsx(e.Fragment,{}):e.jsx(Z,{height:15})]}),w&&e.jsx(Ae,{isSideOpen:w,currentStep:r,currentStepType:Ln,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:O,scoreBoardData:y,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:D})]})})})}const fh=new A(navigator.userAgent),so=fh.phone(),Ho=so?ct:at;function bh({src:t}){return e.jsx("div",{className:Ho.questionBox,children:e.jsx("div",{className:Ho.wordImage,children:e.jsx("img",{src:t,width:so?"auto":"100%",height:so?"100%":"auto"})})})}const kh=new A(navigator.userAgent),wh=kh.phone(),Oo=wh?ct:at;function Sh({multiPlayState:t,sentence:i,index:n,playSentence:o}){return e.jsxs("div",{className:Oo.wordPlayButton2,onClick:r=>{o(r,n)},children:[t.playState==="playing"&&t.seq===n?e.jsx(Fe,{isColor:!0,width:24,height:24}):e.jsx(Re,{isColor:!0,width:24,height:24}),e.jsx("div",{className:Oo.txtL,children:i})]})}const vh=new A(navigator.userAgent),jh=vh.phone(),Rn=jh?ct:at;function zh({multiPlayState:t,sentence:i,correctSentence:n,index:o,playSentence:r,checkAnswer:u,onAnimationEndHandler:l}){const{bookInfo:a,studyInfo:x}=c.useContext(ne),_=c.useRef(null),f=()=>{u(_,o)};return e.jsxs("div",{ref:_,className:`${Rn.textCard} ${x.mode==="Review"&&Number(a.Average)>=70&&n===i?Rn.correct:""}`,onAnimationEnd:k=>l(k),children:[e.jsx("div",{className:Rn.cardNumber,children:Number(o+1)}),e.jsx(Sh,{multiPlayState:t,sentence:i,index:o,playSentence:r}),e.jsx("span",{className:Rn.enterButton,onClick:()=>f(),children:e.jsx("span",{children:e.jsx(hs,{width:15,height:15})})})]})}const $h=new A(navigator.userAgent),Ch=$h.phone(),Qh=Ch?ct:at;function Ah({multiPlayState:t,correctSentence:i,exampleData:n,playSentence:o,checkAnswer:r,onAnimationEndHandler:u}){return e.jsx("div",{className:Qh.answers,children:n.map((l,a)=>e.jsx(zh,{multiPlayState:t,sentence:l.Text,correctSentence:i,index:a,playSentence:o,checkAnswer:r,onAnimationEndHandler:u}))})}const Nh=new A(navigator.userAgent),oo=Nh.phone(),Fn="Reading Comprehension",Ot=oo?ct:at;function Th(t){const{t:i}=de(),{handler:n,studyInfo:o}=c.useContext(ne),r=t.currentStep,u=ze(()=>{window.onLogoutStudy()}),l=dt(),[a,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:f}=je(),{isResultShow:k,changeResultShow:p}=He(),[w,b]=c.useState(!1),m=c.useRef(!0),[s,h]=$e(gx,t,r),[d,g]=c.useState([]),{scoreBoardData:y,setStudentAnswers:S,addStudentAnswer:v,makeUserAnswerData:L}=Ce(o.mode),[$,E]=c.useState(1),[z,C]=c.useState(0),[M,q]=c.useState(0),{bottomPopupState:D,changeBottomPopupState:H}=Xe(),{playAudio:W,stopAudio:R}=Le(),[N,I]=c.useState({playState:"",seq:-1});if(c.useEffect(()=>{!_&&s&&(u.setup(s.QuizTime,!0),m.current=!1)},[_]),c.useEffect(()=>{if(R(),N.seq>-1){const Q=()=>{I({playState:"",seq:-1})};W(d[N.seq].Sound,Q)}},[N]),c.useEffect(()=>{if(s){const[Q,T]=ut(o.mode,h,s.QuizAnswerCount);C(T),q(T),o.mode==="Super"?g(s.Quiz[Q-1].Examples):g(_e.shuffle(s.Quiz[Q-1].Examples)),S(h,s.QuizAnswerCount),E(Q)}},[s]),c.useEffect(()=>{!_&&!k&&s&&(u.setup(s.QuizTime,!0),o.mode==="Super"?g(s.Quiz[$-1].Examples):g(_e.shuffle(s.Quiz[$-1].Examples)),m.current=!1)},[$]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const V=async(Q,T)=>{try{if(!m.current){m.current=!0,R(),I({playState:"",seq:-1});const F=s.Quiz[$-1].Question.Text===d[T].Text,X={quizNo:$,maxCount:s.QuizAnswerCount,answerCount:z+1,ox:F},te=L({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:s.Quiz[$-1].QuizId,quizNo:s.Quiz[$-1].QuizNo,currentQuizNo:$,correct:s.Quiz[$-1].Question.Text,selectedAnswer:d[T].Text,tryCount:z+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:F,answerData:X,isFinishStudy:t.lastStep===r});u.stop();const ie=await Te(o.mode,te);Number(ie.result)===0&&(ie.resultMessage&&(n.finishStudy={id:Number(ie.result),cause:ie.resultMessage}),F||q(M+1),C(z+1),v(X),U(Q,F))}}catch{}},U=(Q,T)=>{H({isActive:!0,isCorrect:T}),Q.current&&(T?l.play(Q.current,[Ot.correct,"animate__fadeIn"]):l.play(Q.current,[Ot.incorrect,"animate__headShake"]))},O=Q=>{const T=Q.currentTarget;setTimeout(()=>{l.remove(T,[Ot.correct,Ot.incorrect,"animate__fadeIn","animate__headShake"]),H({isActive:!1,isCorrect:!1}),C(0),q(0),$+1>s.Quiz.length?p(!0):E($+1)},1e3)},G=(Q,T)=>{N.playState===""&&T>-1?I({playState:"playing",seq:T}):N.playState==="playing"&&N.seq===T?I({playState:"",seq:-1}):N.playState==="playing"&&N.seq!==T&&I({playState:"playing",seq:T})},B=Q=>{b(Q)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${a}`,onAnimationEnd:()=>{a==="animate__bounceOutLeft"&&f()},children:e.jsx(Me,{step:r,quizType:Fn,comment:i("study.그림을 보고 알맞은 문장을 고르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:k?e.jsx(rt,{step:r,quizType:Fn,quizAnswerCount:s.QuizAnswerCount,studentAnswer:y,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:$,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-M,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:B}),e.jsx("div",{className:`${Ot.comment} animate__animated animate__fadeInLeft`,children:Fn}),e.jsxs(Ne,{children:[oo?e.jsx(Z,{height:0}):e.jsx(Z,{height:15}),e.jsxs(Be,{typeCSS:Ot.readingComprehension2,containerCSS:Ot.container,children:[e.jsx(bh,{src:s.Quiz[$-1].Question.Image}),e.jsx(Z,{height:15}),e.jsx(Ah,{multiPlayState:N,correctSentence:s.Quiz[$-1].Question.Text,exampleData:d,playSentence:G,checkAnswer:V,onAnimationEndHandler:O})]}),oo?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),w&&e.jsx(Ae,{isSideOpen:w,currentStep:r,currentStepType:Fn,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:B,scoreBoardData:y,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:D})]})})})}const Ih=new A(navigator.userAgent),io=Ih.phone(),Bh=io?ct:at;function Eh({src:t}){return e.jsx("div",{className:Bh.questionImage,children:e.jsx("img",{src:t,width:io?"auto":"100%",height:io?"100%":"auto"})})}const Ph=new A(navigator.userAgent),Mh=Ph.phone(),Do=Mh?ct:at;function Lh({multiPlayState:t,sentence:i,index:n,playSentence:o}){return e.jsxs("div",{className:Do.wordPlayButton2,onClick:r=>{o(n)},children:[t.playState==="playing"&&t.seq===n?e.jsx(Fe,{isColor:!0,width:24,height:24}):e.jsx(Re,{isColor:!0,width:24,height:24}),e.jsx("div",{className:Do.txtL,children:i})]})}const Rh=new A(navigator.userAgent),Fh=Rh.phone(),qn=Fh?ct:at;function qh({index:t,multiPlayState:i,correctText:n,sentence:o,playSentence:r,checkAnswer:u,onAnimationEndHandler:l}){const{bookInfo:a,studyInfo:x}=c.useContext(ne),_=c.useRef(null),f=()=>{u(_,t)};return e.jsxs("div",{ref:_,className:`${qn.textCard} 
      ${x.mode==="Review"&&Number(a.Average)>=70&&o===n?qn.correct:""}`,onAnimationEnd:k=>l(k),children:[e.jsx("div",{className:qn.cardNumber,children:Number(t+1)}),e.jsx(Lh,{multiPlayState:i,sentence:o,index:t,playSentence:r}),e.jsx("span",{className:qn.enterButton,onClick:()=>f(),children:e.jsx("span",{children:e.jsx(hs,{width:15,height:15})})})]})}function Hh({multiPlayState:t,correctText:i,exampleData:n,playSentence:o,checkAnswer:r,onAnimationEndHandler:u}){return e.jsx(e.Fragment,{children:n.map((l,a)=>e.jsx(qh,{index:a,multiPlayState:t,correctText:i,sentence:l.Text,playSentence:o,checkAnswer:r,onAnimationEndHandler:u}))})}const Oh=new A(navigator.userAgent),ro=Oh.phone(),Vo=ro?ct:at;function Dh({multiPlayState:t,question:i,correctText:n,exampleData:o,playSentence:r,checkAnswer:u,onAnimationEndHandler:l}){return e.jsxs("div",{className:Vo.answers,children:[ro?e.jsx(e.Fragment,{}):e.jsx(Z,{height:10}),i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:Vo.questionText,children:i}),ro?e.jsx(e.Fragment,{}):e.jsx(Z,{height:10})]}),e.jsx(Hh,{multiPlayState:t,correctText:n,exampleData:o,playSentence:r,checkAnswer:u,onAnimationEndHandler:l})]})}const Vh=new A(navigator.userAgent),ao=Vh.phone(),Hn="Reading Comprehension",Dt=ao?ct:at;function Wh(t){const{t:i}=de(),{handler:n,studyInfo:o}=c.useContext(ne),r=t.currentStep,u=ze(()=>{window.onLogoutStudy()}),l=dt(),[a,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:f}=je(),{isResultShow:k,changeResultShow:p}=He(),[w,b]=c.useState(!1),m=c.useRef(!0),[s,h]=$e(yx,t,r),[d,g]=c.useState([]),{scoreBoardData:y,setStudentAnswers:S,addStudentAnswer:v,makeUserAnswerData:L}=Ce(o.mode),[$,E]=c.useState(1),[z,C]=c.useState(0),[M,q]=c.useState(0),{bottomPopupState:D,changeBottomPopupState:H}=Xe(),{playAudio:W,stopAudio:R}=Le(),[N,I]=c.useState({playState:"",seq:-1});if(c.useEffect(()=>{!_&&s&&(u.setup(s.QuizTime,!0),G(4),m.current=!1)},[_]),c.useEffect(()=>{if(R(),N.seq>-1){const Q=()=>{I({playState:"",seq:-1})};N.seq===4?s&&W(s==null?void 0:s.Quiz[$-1].Question.Sound,Q):W(d[N.seq].Sound,Q)}},[N]),c.useEffect(()=>{if(s){const[Q,T]=ut(o.mode,h,s.QuizAnswerCount);C(T),q(T),o.mode==="Super"?g(s.Quiz[Q-1].Examples):g(_e.shuffle(s.Quiz[Q-1].Examples)),S(h,s.QuizAnswerCount),E(Q)}},[s]),c.useEffect(()=>{!_&&!k&&s&&(u.setup(s.QuizTime,!0),G(4),C(0),q(0),o.mode==="Super"?g(s.Quiz[$-1].Examples):g(_e.shuffle(s.Quiz[$-1].Examples)),m.current=!1)},[$]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const V=async(Q,T)=>{try{if(!m.current){m.current=!0,R(),I({playState:"",seq:-1});const F=s.Quiz[$-1].Examples[0].Text===d[T].Text,X={quizNo:$,maxCount:s.QuizAnswerCount,answerCount:z+1,ox:F},te=L({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:s.Quiz[$-1].QuizId,quizNo:s.Quiz[$-1].QuizNo,currentQuizNo:$,correct:s.Quiz[$-1].Examples[0].Text,selectedAnswer:d[T].Text,tryCount:z+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:F,answerData:X,isFinishStudy:t.lastStep===r});u.stop();const ie=await Te(o.mode,te);Number(ie.result)===0&&(ie.resultMessage&&(n.finishStudy={id:Number(ie.result),cause:ie.resultMessage}),F||q(M+1),C(z+1),v(X),U(Q,F))}}catch{}},U=(Q,T)=>{u.stop(),H({isActive:!0,isCorrect:T}),Q.current&&(T?l.play(Q.current,[Dt.correct,"animate__fadeIn"]):l.play(Q.current,[Dt.incorrect,"animate__headShake"]))},O=Q=>{const T=Q.currentTarget,F=!!l.isContain(T,"animate__fadeIn");setTimeout(()=>{l.remove(T,[Dt.correct,Dt.incorrect,"animate__fadeIn","animate__headShake"]),H({isActive:!1,isCorrect:!1}),F||z>=s.QuizAnswerCount?$+1>s.Quiz.length?p(!0):E($+1):(u.setup(s.QuizTime,!0),m.current=!1)},1e3)},G=Q=>{N.playState===""&&Q>-1?I({playState:"playing",seq:Q}):N.playState==="playing"&&N.seq===Q?I({playState:"",seq:-1}):N.playState==="playing"&&N.seq!==Q&&I({playState:"playing",seq:Q})},B=Q=>{b(Q)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${a}`,onAnimationEnd:()=>{a==="animate__bounceOutLeft"&&f()},children:e.jsx(Me,{step:r,quizType:Hn,comment:i("study.그림과 질문을 보고 알맞은 대답을 고르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:k?e.jsx(rt,{step:r,quizType:Hn,quizAnswerCount:s.QuizAnswerCount,studentAnswer:y,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:$,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-M,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:B}),e.jsx("div",{className:`${Dt.comment} animate__animated animate__fadeInLeft`,children:Hn}),e.jsxs(Ne,{children:[ao?e.jsx(Z,{height:0}):e.jsx(Z,{height:15}),e.jsxs(Be,{typeCSS:Dt.readingComprehension3,containerCSS:Dt.container,children:[e.jsx(Eh,{src:s.Quiz[$-1].Question.Image}),e.jsx(Dh,{multiPlayState:N,question:s.Quiz[$-1].Question.Text,correctText:s.Quiz[$-1].Examples[0].Text,exampleData:d,playSentence:G,checkAnswer:V,onAnimationEndHandler:O})]}),ao?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),w&&e.jsx(Ae,{isSideOpen:w,currentStep:r,currentStepType:Hn,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:B,scoreBoardData:y,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:D})]})})})}const Gh=new A(navigator.userAgent),Uh=Gh.phone(),Kh=Uh?ct:at;function Jh({question:t}){return e.jsx("div",{className:Kh.questionText,dangerouslySetInnerHTML:{__html:t}})}const Yh=new A(navigator.userAgent),Xh=Yh.phone(),On=Xh?ct:at;function Zh({correctText:t,exampleData:i,index:n,checkAnswer:o}){const{bookInfo:r,studyInfo:u}=c.useContext(ne);return e.jsxs("div",{className:`${On.textCard} ${u.mode==="Review"&&Number(r.Average)>=70&&i.Text===t?On.correct:""}`,onClick:l=>o(i.Text,l.currentTarget),children:[e.jsx("div",{className:On.cardNumber,children:Number(n+1)}),e.jsx("div",{className:On.awnserText,dangerouslySetInnerHTML:{__html:i.Text}})]})}function e_({correctText:t,exampleData:i,checkAnswer:n}){return e.jsx(e.Fragment,{children:i.map((o,r)=>e.jsx(Zh,{correctText:t,exampleData:o,index:r,checkAnswer:n},`e-0${r}`))})}const t_=new A(navigator.userAgent),co=t_.phone(),n_=co?ct:at;function s_({isHideQuestion:t,question:i,correctText:n,exampleData:o,checkAnswer:r}){return e.jsxs("div",{className:n_.answers,children:[co?e.jsx(Z,{height:5}):e.jsx(Z,{height:10}),!t&&e.jsx(Jh,{question:i}),co?e.jsx(Z,{height:0}):e.jsx(Z,{height:10}),e.jsx(e_,{correctText:n,exampleData:o,checkAnswer:r})]})}const o_=new A(navigator.userAgent),i_=o_.phone(),wt=i_?jt:vt;function r_({index:t,question:i,correctAnswer:n,selectedAnswer:o}){return e.jsxs("div",{className:wt.quizQuestion,children:[e.jsxs("div",{className:wt.questionSentence,children:[e.jsxs("span",{className:wt.questionNum,children:[Number(t+1),". "]}),e.jsx("span",{className:wt.questionText,children:i})]}),e.jsx("div",{className:wt.answers,children:e.jsxs("div",{className:wt.quizAnswer,children:[e.jsxs("div",{className:wt.answers,children:[e.jsx("span",{className:wt.correctIcon}),e.jsx("span",{className:wt.correctAnswer,children:n})]}),o!==""&&!Number(o)&&e.jsxs("div",{className:wt.answers,children:[e.jsx("span",{className:wt.incorrectIcon}),e.jsx("div",{className:wt.wrongAnswer,children:o===""?"":o})]})]})})]})}const a_=new A(navigator.userAgent),c_=a_.phone(),Wo=c_?jt:vt;function u_({quizData:t,failedExample:i}){return e.jsxs("div",{className:Wo.wrongAnswers,children:[i.length!=0&&e.jsx("div",{className:Wo.title,children:"Wrong Answers"}),i.map((n,o)=>e.jsx(r_,{index:o,question:t.Quiz[n.CurrentQuizNo-1].Question.Text,correctAnswer:t.Quiz[n.CurrentQuizNo-1].Examples[0].Text,selectedAnswer:n.StudentAnswer}))]})}const l_=new A(navigator.userAgent),d_=l_.phone(),Ue=d_?jt:vt;function m_({isReTest:t,isReTestFail:i,step:n,quizType:o,quizAnswerCount:r,studentAnswer:u,quizData:l,failedExample:a,passMark:x,doReTest:_,onFinishActivity:f}){const k=Xt();let p=0,w=0,b=0;const m=100/u.length;return u.map(s=>{if(s.ox)switch(w++,s.answerCount){case 1:p+=1*m;break;case 2:p+=.5*m;break;case 3:p+=.25*m;break}else s.answerCount===r&&b++}),e.jsxs("div",{className:Ue.testResult,children:[e.jsxs("div",{className:Ue.quizType,children:["Step ",n,". ",o]}),e.jsxs("div",{className:Ue.totalScoreContainer,children:[e.jsx("div",{className:Ue.txtL,children:"SCORE: "}),e.jsx("div",{className:`${Ue.totalScore} ${Ue.heartbeat}`,children:Math.round(p)})]}),e.jsxs("div",{className:Ue.container,children:[e.jsx("div",{className:`${Ue.readingUnit} animate__animated animate__jackInTheBox`,children:e.jsx("img",{src:`https://wcfresource.a1edu.com/newsystem/image/character/subcharacter/${k}_10.png`,alt:""})}),e.jsxs("div",{className:Ue.passmark,children:["Passmark: ",x]}),e.jsxs("div",{className:`${Ue.board1} animate__animated animate__fadeIn`,children:[e.jsxs("div",{className:Ue.correctScore,children:[e.jsx("div",{className:Ue.title,children:"correct"}),e.jsx("div",{className:Ue.number,children:w})]}),e.jsxs("div",{className:Ue.incorrectScore,children:[e.jsx("div",{className:Ue.title,children:"incorrect"}),e.jsx("div",{className:Ue.number,children:b})]})]}),e.jsx("div",{className:Ue.board2,children:t?e.jsx(Ai,{quizAnswerCount:r,studentAnswer:u}):e.jsx(u_,{quizData:l,failedExample:a})}),e.jsx(Z,{height:50})]}),t?i?e.jsx("div",{className:Ue.nextButton,onClick:()=>{try{window.onExitStudy()}catch{location.replace("/")}},children:"OK"}):e.jsx("div",{className:Ue.nextButton,onClick:()=>_(),children:"Re-Test"}):e.jsx("div",{className:Ue.nextButton,onClick:()=>f(),children:"Next"})]})}const x_=new A(navigator.userAgent),h_=x_.phone(),Go=h_?ct:at;function __({playState:t,playSentence:i}){return e.jsxs("div",{className:Go.wordPlayButton,onClick:()=>i(),children:[t==="playing"?e.jsx(Fe,{isColor:!0,width:34,height:34}):e.jsx(Re,{isColor:!0,width:34,height:34}),e.jsx("div",{className:Go.txtL,children:"Listen"})]})}const p_=new A(navigator.userAgent),uo=p_.phone(),Dn="Reading Comprehension",Vt=uo?ct:at;function g_(t){const{t:i}=de(),{bookInfo:n,handler:o,studyInfo:r}=c.useContext(ne),u=o.isReTest||t.isReTestYn?"R":t.currentStep,l=dt(),a=ze(()=>{X("")}),[x,_]=c.useState("animate__bounceInRight"),{isStepIntro:f,closeStepIntro:k}=je(),{isResultShow:p,changeResultShow:w}=He(),[b,m]=c.useState(!1),s=c.useRef(!1),[h,d]=$e(fx,t,u,t.isReTestYn),[g,y]=c.useState([...d]),{scoreBoardData:S,setStudentAnswers:v,addStudentAnswer:L,makeUserAnswerData:$,resetStudentAnswer:E,getScore:z}=Ce(r.mode),[C,M]=c.useState(1),[q,D]=c.useState([]),[H,W]=c.useState(0),[R,N]=c.useState(0),{bottomPopupState:I,changeBottomPopupState:V}=Xe(),[U,O]=c.useState(!1),[G,B]=c.useState(!1),{playState:Q,playAudio:T,stopAudio:F}=Le();if(c.useEffect(()=>{if(!f&&h)if(r.availableQuizStatus===1){alert("Re Test는 하루에 한번만 시도할 수 있습니다. 내일 다시 시도해주세요.");try{window.onExitStudy()}catch{location.replace("/")}}else r.availableQuizStatus===0&&(a.setup(h.QuizTime,!0),(r.bookType==="PB"||n.BookLevel.includes("1"))&&re(),s.current=!1)},[f]),c.useEffect(()=>{if(h){h.Quiz.sort((Y,K)=>Number(Y.QuizNo)-Number(K.QuizNo));const[se,P]=ut(r.mode,d,h.QuizAnswerCount),J=d.filter(Y=>Y.OX==="2");O(h.IsModeRetest||t.isReTestYn?!0:o.isReTest),y([...J]),W(P),N(P),r.mode==="Super"?D(h.Quiz[se-1].Examples):D(_e.shuffle(h.Quiz[se-1].Examples)),v(d,h.QuizAnswerCount),M(se)}},[h]),c.useEffect(()=>{!f&&!p&&h&&(r.mode==="Super"?D(h.Quiz[C-1].Examples):D(_e.shuffle(h.Quiz[C-1].Examples)),N(0),W(0),(r.bookType==="PB"||n.BookLevel.includes("1"))&&re(),s.current=!1,a.setup(h.QuizTime,!0))},[C]),!h)return e.jsx(e.Fragment,{children:"Loading..."});const X=async(se="",P)=>{try{if(!s.current){a.stop(),s.current=!0;const J=h.Quiz[C-1].Examples[0].Text,Y=J===se,K={quizNo:C,maxCount:h.QuizAnswerCount,answerCount:H+1,ox:Y},oe=U||t.isReTestYn||h.IsModeRetest?"R":t.currentStep,le=$({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:oe,quizId:h.Quiz[C-1].QuizId,quizNo:h.Quiz[C-1].QuizNo,currentQuizNo:C,correct:J,selectedAnswer:se,tryCount:H+1,maxQuizCount:h.QuizAnswerCount,quizLength:h.Quiz.length,isCorrect:Y,answerData:K,isFinishStudy:t.lastStep===u});let ae=0;C+1>Object.keys(h.Quiz).length&&(ae=z(K,Object.keys(h.Quiz).length,h.QuizAnswerCount));const pe=await Te(r.mode,le);if(Number(pe.result)===0)if(pe.resultMessage&&(o.finishStudy={id:Number(pe.result),cause:pe.resultMessage}),L(K),!P||se===""){V({isActive:!0,isCorrect:!1});const Ee={QuizId:h.Quiz[C-1].QuizId,QuizNo:h.Quiz[C-1].QuizNo,CurrentQuizNo:C,OX:"2",TempText:"",PenaltyWord:"",Correct:J,StudentAnswer:"",AnswerCount:H};r.mode==="Quiz"&&y([...g,Ee]),te(ae,void 0)}else{if(Y)P&&l.play(P,["animate__fadeIn",Vt.correct]);else{P&&l.play(P,["animate__headShake",Vt.incorrect]);const Ee={QuizId:h.Quiz[C-1].QuizId,QuizNo:h.Quiz[C-1].QuizNo,CurrentQuizNo:C,OX:"2",TempText:"",PenaltyWord:"",Correct:J,StudentAnswer:se,AnswerCount:H};r.mode==="Quiz"&&y([...g,Ee]),N(R+1)}V({isActive:!0,isCorrect:Y}),W(H+1),te(ae,P)}}}catch(J){console.error(J)}},te=(se,P)=>{setTimeout(()=>{V({isActive:!1,isCorrect:!1}),P&&l.remove(P,["animate__headShake","animate__fadeIn",Vt.correct,Vt.incorrect]),C+1>Object.keys(h.Quiz).length?se<h.PassMark&&r.mode==="Quiz"?t.isReTestYn||U||h.IsModeRetest||t.isReTestYn||U||h.IsModeRetest?(B(!0),w(!0)):(o.changeReTest(!0),O(!0),w(!0)):(O(!1),ue()):(F(),M(C+1))},2e3)},ie=()=>{y([]),E(),M(1),w(!1)},ue=()=>{w(!0)},ce=se=>{m(se)},re=()=>{if(Q===""){const se=h.Quiz[C-1].Question.Sound||"";T(se)}else F()};return e.jsx(e.Fragment,{children:f?e.jsx("div",{className:`animate__animated ${x}`,onAnimationEnd:()=>{x==="animate__bounceOutLeft"&&k()},children:e.jsx(Me,{step:u,quizType:Dn,comment:i("study.질문을 보고 알맞은 대답을 고르세요."),onStepIntroClozeHandler:()=>{_("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:p?e.jsx(e.Fragment,{children:e.jsx(m_,{isReTest:U,isReTestFail:G,step:t.currentStep,quizType:Dn,quizAnswerCount:h.QuizAnswerCount,studentAnswer:S,quizData:h,failedExample:g,passMark:h.PassMark,doReTest:ie,onFinishActivity:t.onFinishActivity})}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:C,totalQuizCnt:Object.keys(h.Quiz).length,life:h.QuizAnswerCount-R,timeMin:a.time.timeMin,timeSec:a.time.timeSec,changeSideMenu:ce}),e.jsx("div",{className:`${Vt.comment} animate__animated animate__fadeInLeft`,children:t.isReTestYn||U||h.IsModeRetest?"Re-Test":Dn}),e.jsxs(Ne,{children:[uo?e.jsx(Z,{height:0}):e.jsx(Z,{height:15}),n.BookCode.includes("PB")&&Number(n.BookLevel.substring(0,1))>3?e.jsx(__,{playState:Q,playSentence:re}):e.jsx(e.Fragment,{}),e.jsx(Be,{typeCSS:Vt.readingComprehension4,containerCSS:Vt.container,children:e.jsx(s_,{isHideQuestion:h.IsHideQuestionText,question:h.Quiz[C-1].Question.Text,correctText:h.Quiz[C-1].Examples[0].Text,exampleData:q,checkAnswer:X})}),uo?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),b&&e.jsx(Ae,{isSideOpen:b,currentStep:u,currentStepType:Dn,quizLength:h.Quiz.length,maxAnswerCount:h.QuizAnswerCount,changeSideMenu:ce,scoreBoardData:S,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:I})]})})})}async function y_(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Pe}/summary-1?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),IsEnablePenaltyReview:!!a.IsEnablePenaltyReview,Hint:{IsEnabled:a.Hint.IsEnabled,Max:a.Hint.Max,Try:a.Hint.Try},Quiz:a.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound}}))}))}async function f_(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Pe}/summary-2?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Sentence:{Texts:a.Sentence.Texts,Sounds:a.Sentence.Sounds},Quiz:a.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Examples:x.Examples.map(_=>({Text:_.Text}))}))}))}async function b_(t,i,n,o){const r=`${vi}/Summary?studentHistoryId=${i}&studyId=${t}&quizNo=${n}&step=${o}`;return Si(r,async l=>({Type:l.Type,Hint:l.Hint,TryHint:l.TryHint,ErrorNo:l.ErrorNo}))}const k_="_comment_iakz1_1",w_="_wordPlayButton_iakz1_20",S_="_txtL_iakz1_35",v_="_cardNumber_iakz1_46",j_="_hintButton_iakz1_61",z_="_testReview_iakz1_83",$_="_title_iakz1_83",C_="_container_iakz1_88",Q_="_sentence_iakz1_97",A_="_nextButton_iakz1_106",N_="_deactNextButton_iakz1_128",T_="_reviewAnswer_iakz1_149",I_="_currentOrder_iakz1_159",B_="_blink_iakz1_1",E_="_correctAnswer_iakz1_171",P_="_incorrectAnswer_iakz1_182",M_="_currentInput_iakz1_201",L_="_otherInput_iakz1_202",R_="_enterButton_iakz1_209",F_="_hintText_iakz1_235",q_="_btnNext_iakz1_244",H_="_iconArrowUp_iakz1_267",O_="_summaryTest1_iakz1_281",D_="_textCard_iakz1_288",V_="_correct_iakz1_171",W_="_incorrect_iakz1_182",G_="_awnserText_iakz1_333",U_="_answers_iakz1_338",K_="_correctTextCard_iakz1_342",J_="_question_iakz1_346",Y_="_questionMark_iakz1_352",X_="_playIcon_iakz1_387",Z_="_highlight_iakz1_400",ep="_correctOrders_iakz1_439",tp="_correctDirection_iakz1_467",np="_summaryTest2_iakz1_486",sp="_questionBox_iakz1_564",op="_answerBox_iakz1_589",ip="_word_iakz1_20",rp="_blink1_iakz1_1",Ke={comment:k_,wordPlayButton:w_,txtL:S_,cardNumber:v_,hintButton:j_,testReview:z_,title:$_,container:C_,sentence:Q_,nextButton:A_,deactNextButton:N_,reviewAnswer:T_,currentOrder:I_,blink:B_,correctAnswer:E_,incorrectAnswer:P_,currentInput:M_,otherInput:L_,enterButton:R_,hintText:F_,btnNext:q_,iconArrowUp:H_,summaryTest1:O_,textCard:D_,correct:V_,incorrect:W_,awnserText:G_,answers:U_,correctTextCard:K_,question:J_,questionMark:Y_,playIcon:X_,highlight:Z_,correctOrders:ep,correctDirection:tp,summaryTest2:np,questionBox:sp,answerBox:op,word:ip,blink1:rp},ap="_comment_7ew9o_1",cp="_wordPlayButton_7ew9o_15",up="_txtL_7ew9o_30",lp="_cardNumber_7ew9o_41",dp="_hintButton_7ew9o_55",mp="_testReview_7ew9o_77",xp="_title_7ew9o_77",hp="_container_7ew9o_82",_p="_sentence_7ew9o_91",pp="_nextButton_7ew9o_99",gp="_deactNextButton_7ew9o_121",yp="_reviewAnswer_7ew9o_142",fp="_currentOrder_7ew9o_152",bp="_blink_7ew9o_1",kp="_correctAnswer_7ew9o_164",wp="_incorrectAnswer_7ew9o_175",Sp="_currentInput_7ew9o_194",vp="_otherInput_7ew9o_195",jp="_enterButton_7ew9o_202",zp="_hintText_7ew9o_228",$p="_btnNext_7ew9o_237",Cp="_iconArrowUp_7ew9o_260",Qp="_summaryTest1_7ew9o_274",Ap="_textCard_7ew9o_282",Np="_correct_7ew9o_164",Tp="_incorrect_7ew9o_175",Ip="_awnserText_7ew9o_327",Bp="_answers_7ew9o_332",Ep="_correctTextCard_7ew9o_336",Pp="_question_7ew9o_340",Mp="_questionMark_7ew9o_349",Lp="_playIcon_7ew9o_384",Rp="_highlight_7ew9o_397",Fp="_correctOrders_7ew9o_438",qp="_correctDirection_7ew9o_465",Hp="_summaryTest2_7ew9o_471",Op="_questionBox_7ew9o_540",Dp="_answerBox_7ew9o_571",Vp="_blink1_7ew9o_1",Je={comment:ap,wordPlayButton:cp,txtL:up,cardNumber:lp,hintButton:dp,testReview:mp,title:xp,container:hp,sentence:_p,nextButton:pp,deactNextButton:gp,reviewAnswer:yp,currentOrder:fp,blink:bp,correctAnswer:kp,incorrectAnswer:wp,currentInput:Sp,otherInput:vp,enterButton:jp,hintText:zp,btnNext:$p,iconArrowUp:Cp,summaryTest1:Qp,textCard:Ap,correct:Np,incorrect:Tp,awnserText:Ip,answers:Bp,correctTextCard:Ep,question:Pp,questionMark:Mp,playIcon:Lp,highlight:Rp,correctOrders:Fp,correctDirection:qp,summaryTest2:Hp,questionBox:Op,answerBox:Dp,blink1:Vp},Wp=()=>({exampleManager:{getExamplesByQuizNo:(i,n,o="Quiz")=>{const r=_e.filter(i,(u,l)=>l>=n-1);return o==="Quiz"?_e.shuffle(r):r}}}),Gp=new A(navigator.userAgent),Up=Gp.phone(),Ss=Up?Je:Ke;function Kp(){return e.jsx("div",{className:`${Ss.correctTextCard} ${Ss.question}`,children:e.jsx("div",{className:Ss.questionMark,children:"Choose the sentences in the correct order."})})}const Jp=new A(navigator.userAgent),Yp=Jp.phone(),Wt=Yp?Je:Ke;function Xp({multiPlayState:t,index:i,sentenceData:n,selectedData:o,playSentence:r}){return e.jsx("div",{className:`${Wt.correctTextCard}`,children:o.ox?e.jsx(e.Fragment,{children:e.jsxs("div",{className:Wt.correctAnswer,children:[e.jsx("span",{className:Wt.playIcon}),e.jsx("span",{onClick:()=>r(i),className:`${t.playState==="playing"&&t.seq===i?Wt.highlight:""}`,dangerouslySetInnerHTML:{__html:n.Question.Text}})]})}):e.jsx(e.Fragment,{children:o.answerCount===o.maxCount?e.jsxs("div",{className:Wt.incorrectAnswer,children:[e.jsx("span",{className:Wt.playIcon}),e.jsx("span",{onClick:()=>r(i),className:`sentence ${t.playState==="playing"&&t.seq===i?Wt.highlight:""}`,dangerouslySetInnerHTML:{__html:n.Question.Text}})]}):e.jsx(e.Fragment,{})})})}const Zp=new A(navigator.userAgent),eg=Zp.phone(),tg=eg?Je:Ke;function ng({isStepEnd:t,multiPlayState:i,sentenceData:n,selectedData:o,playSentence:r}){const{studyInfo:u}=c.useContext(ne),l=c.useRef(null);return c.useEffect(()=>{l.current&&u.mode==="Quiz"&&l.current.scrollTo({top:l.current.scrollHeight,behavior:"smooth"})},[o]),e.jsxs("div",{ref:l,className:tg.correctOrders,children:[n.map((a,x)=>o[x]?e.jsx(Xp,{multiPlayState:i,index:x,sentenceData:a,selectedData:o[x],playSentence:r},`$ss-0${x}`):e.jsx(e.Fragment,{})),!t&&e.jsx(Kp,{})]})}const sg=new A(navigator.userAgent),og=sg.phone(),Uo=og?Je:Ke;function ig(){return e.jsx("div",{className:Uo.correctDirection,children:e.jsx("div",{className:Uo.iconArrowUp})})}const rg=new A(navigator.userAgent),ag=rg.phone(),vs=ag?Je:Ke;function cg({index:t,exampleData:i,checkAnswer:n,onAnimationEnd:o}){return e.jsxs("div",{className:`${vs.textCard}`,onClick:r=>n(r.currentTarget,i.Question.Text),onAnimationEnd:r=>o(r.currentTarget),children:[e.jsx("div",{className:vs.cardNumber,children:Number(t+1)}),e.jsx("div",{className:vs.awnserText,dangerouslySetInnerHTML:{__html:i.Question.Text}})]})}const ug=new A(navigator.userAgent),lg=ug.phone(),dg=lg?Je:Ke;function mg({exampleData:t,checkAnswer:i,onAnimationEnd:n}){return e.jsx("div",{className:dg.answers,children:t.map((o,r)=>e.jsx(cg,{index:r,exampleData:o,checkAnswer:i,onAnimationEnd:n},`e-0${r}`))})}const xg=new A(navigator.userAgent),hg=xg.phone(),_g=hg?Je:Ke;function pg({tryCnt:t=0,maxCnt:i=0,onClickHint:n}){return e.jsxs("div",{className:_g.hintButton,onClick:()=>n(),children:["Chance ",i-t," / ",i]})}const gg=new A(navigator.userAgent),yg=gg.phone(),Ko=yg?Je:Ke;function fg({multiPlayState:t,playAll:i}){return e.jsxs("div",{className:Ko.wordPlayButton,onClick:()=>i(),children:[t.playState==="playing"?e.jsx(Fe,{isColor:!0,width:24,height:24}):e.jsx(Re,{isColor:!0,width:24,height:24}),e.jsx("div",{className:Ko.txtL,children:"Play Sound"})]})}const bg=new A(navigator.userAgent),kg=bg.phone(),wg=kg?Je:Ke;function Sg({goNext:t}){return e.jsx("div",{onClick:()=>t(),className:`${wg.btnNext} animate__animated animate__flash`,children:"Next"})}const vg=new A(navigator.userAgent),jg=vg.phone(),At=jg?Je:Ke;function zg({inputRefs:t,word:i,inputIndex:n,currentInputIndex:o,changeInputIndex:r}){const[u,l]=c.useState(""),[a,x]=c.useState(0),[_,f]=c.useState(0),k=c.useRef(null),p=c.useRef(null);c.useEffect(()=>{k.current&&k.current.offsetWidth>0&&x(k.current.offsetWidth),p.current&&p.current.offsetWidth>0&&f(p.current.offsetWidth)});const w=b=>{b.preventDefault();let m=b.currentTarget.value;m===i?(l(m),r(o+1)):l(m)};return e.jsxs(e.Fragment,{children:[n>o&&e.jsxs("span",{className:`${At.reviewAnswer}`,children:[e.jsx("span",{className:At.otherInput,children:e.jsx("input",{ref:b=>t.current[n]=b,style:{width:`${a+4}px`},disabled:!0})}),e.jsx("div",{ref:k,className:At.hintText,children:i})]}),n===o&&e.jsxs("span",{className:`${At.reviewAnswer} ${At.currentOrder}`,children:[e.jsx("span",{className:At.currentInput,children:e.jsx("input",{ref:b=>t.current[n]=b,type:"text",style:{width:`${_+4}px`},value:u,onChange:b=>w(b),onCopy:b=>b.preventDefault(),onPaste:b=>b.preventDefault(),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search",tabIndex:-1})}),e.jsx("div",{ref:p,className:At.hintText,children:i})]}),n<o&&e.jsx("span",{className:`${At.reviewAnswer} ${At.correctAnswer}`,children:i})]})}const $g=new A(navigator.userAgent),Cg=$g.phone(),sn=Cg?Je:Ke;function Qg({isSideOpen:t,correctSentence:i,changePenaltyState:n}){const o=c.useRef([]),[r,u]=c.useState(0),[l,a]=c.useState(!1),x=/<[^>]*>/gi;c.useEffect(()=>{const k=()=>{o.current[r]&&(o.current[r].focus(),t&&o.current[r].blur())};return k(),window.addEventListener("click",k),()=>{window.removeEventListener("click",k)}},[r,t]);const _=k=>{k>=o.current.length?(u(k),f()):u(k)},f=()=>{a(!0)};return e.jsxs("div",{className:`${sn.testReview}`,children:[e.jsx("div",{className:sn.title,children:"Test Review"}),e.jsx("div",{className:sn.container,children:e.jsx("div",{className:sn.sentence,children:i.replace(x,"").split(" ").map((k,p)=>e.jsx(zg,{inputRefs:o,inputIndex:p,currentInputIndex:r,word:k,changeInputIndex:_}))})}),e.jsx(Z,{height:10}),e.jsx("div",{className:`${l?sn.nextButton:sn.deactNextButton} ${l&&"animate__animated animate__bounce"}`,onClick:()=>{l&&n("none")},children:"Next"})]})}const Ag=new A(navigator.userAgent),Ng=Ag.phone(),Vn="Summary Test",Gt=Ng?Je:Ke;function Tg(t){const{t:i}=de(),{bookInfo:n,handler:o,studyInfo:r}=c.useContext(ne),u=t.currentStep,l=ze(()=>{n.BookCode.includes("EB")?n.BookLevel.includes("1")||n.BookLevel.includes("K")?window.onLogoutStudy():J():n.BookCode.includes("PB")&&J()}),a=dt(),[x,_]=c.useState("animate__bounceInRight"),{isStepIntro:f,closeStepIntro:k}=je(),{isResultShow:p,changeResultShow:w}=He(),[b,m]=c.useState(!1),s=c.useRef(!0),[h,d]=$e(y_,t,u),[g,y]=c.useState(1),[S,v]=c.useState(0),[L,$]=c.useState(0),[E,z]=c.useState({penaltyState:"none",sentence:""}),{bottomPopupState:C,changeBottomPopupState:M}=Xe(),{scoreBoardData:q,setStudentAnswers:D,addStudentAnswer:H,makeUserAnswerData:W,convertRecordToScoreBoard:R}=Ce(r.mode),{exampleManager:N}=Wp(),[I,V]=c.useState([]),[U,O]=c.useState([]),{playAudio:G,stopAudio:B}=Le(),[Q,T]=c.useState({playState:"",seq:-1,playType:""}),[F,X]=c.useState({IsEnabled:!1,Max:0,Try:0}),[te,ie]=c.useState(!1),[ue,ce]=c.useState(!1);if(c.useEffect(()=>{!f&&h&&(r.mode==="Review"&&Number(n.Average)>=70?ce(!0):(E.penaltyState==="none"&&l.setup(h.QuizTime,!0),s.current=!1))},[f]),c.useEffect(()=>{if(h){const[me,ke]=ut(r.mode,d,h.QuizAnswerCount),we=N.getExamplesByQuizNo(h.Quiz,me,t.mode);D(d,h.QuizAnswerCount),O(R(d,h.QuizAnswerCount)),r.mode!=="Review"&&V(we),h.Hint.IsEnabled&&X({IsEnabled:h.Hint.IsEnabled,Max:h.Hint.Max,Try:h.Hint.Try}),d.length>0&&r.mode==="Quiz"?(h.IsEnablePenaltyReview&&d[d.length-1].PenaltyWord!==""?(z({penaltyState:"penalty",sentence:d[d.length-1].PenaltyWord}),y(me-1)):y(me),v(ke),$(ke)):(v(ke),$(ke),y(me))}},[h]),c.useEffect(()=>{if(B(),h&&Q.seq>-1){if(Q.playType==="sentence"){const me=()=>{T({playState:"",playType:"",seq:-1})};G(h.Quiz[Q.seq].Question.Sound,me)}else if(Q.playType==="all"){const me=()=>{Q.seq<h.Quiz.length-1?T({playState:"playing",playType:"all",seq:Q.seq+1}):(B(),T({playState:"",playType:"",seq:-1}))};G(h.Quiz[Q.seq].Question.Sound,me)}}},[Q]),c.useEffect(()=>{!f&&!p&&h&&(v(0),$(0),ae(g-2),E.penaltyState==="none"&&l.setup(h.QuizTime,!0),s.current=!1)},[g]),c.useEffect(()=>{te&&K()},[te]),c.useEffect(()=>{E.penaltyState==="penalty"&&h&&l.stop()},[E]),!h)return e.jsx(e.Fragment,{children:"Loading..."});const re=async(me,ke)=>{try{if(!s.current){s.current=!0,B(),T({playState:"",playType:"",seq:-1});const we=/<[^>]*>/gi,qe=h.Quiz[g-1].Question.Text===ke,Ct={quizNo:g,maxCount:h.QuizAnswerCount,answerCount:S+1,ox:qe},xe=W({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:u,quizId:h.Quiz[g-1].QuizId,quizNo:h.Quiz[g-1].QuizNo,currentQuizNo:g,correct:h.Quiz[g-1].Question.Text.replace(we,""),selectedAnswer:ke.replace(we,""),tryCount:S+1,maxQuizCount:h.QuizAnswerCount,quizLength:h.Quiz.length,isCorrect:qe,answerData:Ct,isEnabledPenalty:h.IsEnablePenaltyReview,isFinishStudy:t.lastStep===u});l.stop();const ge=await Te(r.mode,xe);Number(ge.result)===0&&(ge.resultMessage&&(o.finishStudy={id:Number(ge.result),cause:ge.resultMessage}),H(Ct),qe||$(L+1),v(S+1),se(me,qe))}}catch(we){console.error(we)}},se=(me,ke)=>{M({isActive:!0,isCorrect:ke}),ke?me&&a.play(me,["animate__fadeIn",Gt.correct]):a.play(me,["animate__headShake",Gt.incorrect])},P=me=>{const ke=!!a.isContain(me,"animate__fadeIn");setTimeout(()=>{if(a.remove(me,["animate__fadeIn","animate__headShake",Gt.correct,Gt.incorrect]),M({isActive:!1,isCorrect:!1}),ke)setTimeout(()=>{const we=I.filter(qe=>qe.QuizNo!==g);V([...we]),O(q),g+1>h.Quiz.length?(ae(g-1),oe(!0)):y(g+1)},300);else if(S>=h.QuizAnswerCount){const we=I.filter(qe=>qe.QuizNo!==g);V([...we]),O(q),g+1>h.Quiz.length?h.IsEnablePenaltyReview?z({penaltyState:"penalty",sentence:h.Quiz[g-1].Question.Text}):(ae(g-1),oe(!0)):h.IsEnablePenaltyReview?z({penaltyState:"penalty",sentence:h.Quiz[g-1].Question.Text}):y(g+1)}else l.setup(h.QuizTime,!0),s.current=!1},1e3)},J=async()=>{try{if(!s.current){s.current=!0,B(),T({playState:"",playType:"",seq:-1});const me={quizNo:g,maxCount:h.QuizAnswerCount,answerCount:S+1,ox:!1},ke=W({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:u,quizId:h.Quiz[g-1].QuizId,quizNo:h.Quiz[g-1].QuizNo,currentQuizNo:g,correct:h.Quiz[g-1].Question.Text,selectedAnswer:"",tryCount:S+1,maxQuizCount:h.QuizAnswerCount,quizLength:h.Quiz.length,isCorrect:!1,answerData:me,isEnabledPenalty:h.IsEnablePenaltyReview,isFinishStudy:t.lastStep===u});l.stop();const we=await Te(r.mode,ke);Number(we.result)===0&&(we.resultMessage&&(o.finishStudy={id:Number(we.result),cause:we.resultMessage}),H(me),$(L+1),v(S+1),M({isActive:!0,isCorrect:!1}),setTimeout(()=>{if(M({isActive:!1,isCorrect:!1}),S+1>=h.QuizAnswerCount){const qe=I.filter(Ct=>Ct.QuizNo!==g);V(qe),O(Ct=>[...Ct,me]),g+1>h.Quiz.length?h.IsEnablePenaltyReview?z({penaltyState:"penalty",sentence:h.Quiz[g-1].Question.Text}):(ae(g-1),oe(!0)):h.IsEnablePenaltyReview?z({penaltyState:"penalty",sentence:h.Quiz[g-1].Question.Text}):y(g+1)}else l.setup(h.QuizTime,!0),s.current=!1},1e3))}}catch(me){console.error(me)}},Y=async()=>{try{if(F.IsEnabled&&F&&F.Try!==void 0&&F.Max!==void 0&&F.Max-F.Try>0&&!s.current){s.current=!0,B(),T({playState:"",playType:"",seq:-1}),l.stop();const me=await b_(t.studyId,t.studentHistoryId,g,`${t.currentStep}`);if(me.ErrorNo===0){X({IsEnabled:h.Hint.IsEnabled,Max:h.Hint.Max,Try:me.TryHint});const ke={quizNo:g,maxCount:h.QuizAnswerCount,answerCount:S+1,ox:!0},we=W({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:u,quizId:h.Quiz[g-1].QuizId,quizNo:h.Quiz[g-1].QuizNo,currentQuizNo:g,correct:h.Quiz[g-1].Question.Text,selectedAnswer:h.Quiz[g-1].Question.Text,tryCount:S+1,maxQuizCount:h.QuizAnswerCount,quizLength:h.Quiz.length,isCorrect:!0,answerData:ke,isEnabledPenalty:h.IsEnablePenaltyReview,isFinishStudy:t.lastStep===u}),qe=await Te(r.mode,we);Number(qe.result)===0&&(qe.resultMessage&&(o.finishStudy={id:Number(qe.result),cause:qe.resultMessage}),H(ke),v(S+1),ie(!0))}}}catch(me){console.error(me)}},K=()=>{const me=I.filter(ke=>ke.QuizNo!==g);V([...me]),O(q),g+1>h.Quiz.length?(ae(g-1),oe(!0)):y(g+1),ie(!1)},oe=me=>{l.setup(0),ce(me)},le=me=>{m(me)},ae=me=>{Q.playState===""&&me>-1?T({playState:"playing",playType:"sentence",seq:me}):Q.playState==="playing"&&Q.seq===me?T({playState:"",playType:"",seq:-1}):Q.playState==="playing"&&Q.seq!==me&&T({playState:"playing",playType:"sentence",seq:me})},pe=()=>{B(),Q.playState==="playing"?T({playState:"",playType:"",seq:-1}):T({playState:"playing",playType:"all",seq:0})},Ee=()=>{B(),T({playState:"",playType:"",seq:-1}),w(!0)},be=me=>{me==="none"?Qt():z({penaltyState:me,sentence:h.Quiz[g-1].Question.Text})},Qt=async()=>{(async()=>{const ke=g+1>h.Quiz.length,we=await ls({mobile:"",bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${u}`,quizId:h.Quiz[g-1].QuizId,isLastQuiz:ke,isFinishStudy:!!(ke&&t.lastStep===u)});Number(we.result)===0&&(we.resultMessage&&(o.finishStudy={id:Number(we.result),cause:we.resultMessage}),B(),ke?(z({penaltyState:"none",sentence:""}),ae(g-1),oe(!0)):(z({penaltyState:"none",sentence:""}),y(g+1)))})()};return e.jsx(e.Fragment,{children:f?e.jsx("div",{className:`animate__animated ${x}`,onAnimationEnd:()=>{x==="animate__bounceOutLeft"&&k()},children:e.jsx(Me,{step:u,quizType:Vn,comment:i("study.나열된 문장을 보고 올바른 순서대로 고르세요."),onStepIntroClozeHandler:()=>{_("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:p?e.jsx(rt,{step:u,quizType:Vn,quizAnswerCount:h.QuizAnswerCount,studentAnswer:q,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:g,totalQuizCnt:Object.keys(h.Quiz).length,life:h.QuizAnswerCount-L,timeMin:l.time.timeMin,timeSec:l.time.timeSec,changeSideMenu:le}),e.jsx("div",{className:`${Gt.comment} animate__animated animate__fadeInLeft`,children:Vn}),e.jsx(Ne,{children:E.penaltyState==="none"?e.jsxs(Be,{typeCSS:Gt.summaryTest1,containerCSS:Gt.container,children:[e.jsx(e.Fragment,{children:ue&&e.jsx(fg,{multiPlayState:Q,playAll:pe})}),e.jsx(ng,{isStepEnd:ue,multiPlayState:Q,sentenceData:h.Quiz,selectedData:U,playSentence:ae}),e.jsx(e.Fragment,{children:ue?e.jsx(Sg,{goNext:Ee}):e.jsxs(e.Fragment,{children:[e.jsx(ig,{}),e.jsx(mg,{exampleData:I,checkAnswer:re,onAnimationEnd:P}),F.IsEnabled&&e.jsx(pg,{tryCnt:F.Try,maxCnt:F.Max,onClickHint:Y})]})})]}):e.jsx(Qg,{isSideOpen:b,correctSentence:E.sentence,changePenaltyState:be})}),b&&e.jsx(Ae,{isSideOpen:b,currentStep:u,currentStepType:Vn,quizLength:h.Quiz.length,maxAnswerCount:h.QuizAnswerCount,changeSideMenu:le,scoreBoardData:q,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:C})]})})})}const Ig=new A(navigator.userAgent),Bg=Ig.phone(),Wn=Bg?Je:Ke;function Eg({isComplete:t,wordData:i,questionNo:n}){const o=c.useRef(null);c.useEffect(()=>{i.QuestionIndex===n&&o.current!==null&&o.current.scrollIntoView()},[n]);let r="";return i.State==="none"&&i.QuestionIndex>0?i.QuestionIndex===n&&(r="?"):r=i.Word,e.jsx("span",{ref:o,className:`
        ${Wn.answerBox}
        ${i.QuestionIndex===n&&!t?Wn.currentOrder:""}
        ${i.State==="correct"?Wn.correctAnswer:""}        
        ${i.State==="incorrect"?Wn.incorrectAnswer:""}
      `,dangerouslySetInnerHTML:{__html:r}})}const Pg=new A(navigator.userAgent),Mg=Pg.phone(),Jo=Mg?Je:Ke;function Lg({isComplete:t,sentenceData:i,questionNo:n}){const o=c.useRef(null);return c.useEffect(()=>{t&&o.current&&o.current.scrollTo({top:0,behavior:"smooth"})},[t]),e.jsx("div",{ref:o,className:Jo.questionBox,children:i.map((r,u)=>r.QuestionIndex>0?e.jsx(Eg,{isComplete:t,wordData:r,questionNo:n},`answer-${u}`):e.jsx("span",{className:Jo.word,dangerouslySetInnerHTML:{__html:r.Word}},`answer-${u}`))})}const Rg=new A(navigator.userAgent),Fg=Rg.phone(),Yo=Fg?Je:Ke;function qg(){return e.jsx("div",{className:Yo.correctDirection,children:e.jsx("div",{className:Yo.iconArrowUp})})}const Hg=new A(navigator.userAgent),Og=Hg.phone(),js=Og?Je:Ke;function Dg({index:t,exampleData:i,checkAnswer:n,onAnimationEnd:o}){return e.jsxs("div",{className:`${js.textCard}`,onClick:r=>n(r.currentTarget,i.Text),onAnimationEnd:r=>o(r.currentTarget),children:[e.jsx("div",{className:js.cardNumber,children:Number(t+1)}),e.jsx("div",{className:js.awnserText,children:i.Text})]})}const Vg=new A(navigator.userAgent),Wg=Vg.phone(),Xo=Wg?Je:Ke;function Gg({exampleData:t,checkAnswer:i,onAnimationEnd:n}){return e.jsx("div",{className:Xo.answers,children:e.jsx("div",{className:Xo.container,children:t.map((o,r)=>e.jsx(Dg,{index:r,exampleData:o,checkAnswer:i,onAnimationEnd:n},`example-${r}`))})})}const Ug=new A(navigator.userAgent),Kg=Ug.phone(),Zo=Kg?Je:Ke;function Jg({playState:t,playSentence:i}){return e.jsxs("div",{className:Zo.wordPlayButton,onClick:()=>i(),children:[t==="playing"?e.jsx(Fe,{isColor:!0,width:24,height:24}):e.jsx(Re,{isColor:!0,width:24,height:24}),e.jsx("div",{className:Zo.txtL,children:"Play Sound (completed sentence)"})]})}const Yg=new A(navigator.userAgent),Xg=Yg.phone(),Zg=Xg?Je:Ke;function ey({showResult:t}){return e.jsx("div",{className:`${Zg.btnNext}`,onClick:()=>t(),children:"Next"})}const ty=new A(navigator.userAgent),ny=ty.phone(),Gn="Summary Test",Ut=ny?Je:Ke;function sy(t){const{t:i}=de(),{bookInfo:n,handler:o,studyInfo:r}=c.useContext(ne),u=t.currentStep,l=ze(()=>{Y()}),a=dt(),[x,_]=c.useState("animate__bounceInRight"),{isStepIntro:f,closeStepIntro:k}=je(),{isResultShow:p,changeResultShow:w}=He(),[b,m]=c.useState(!1),s=c.useRef(!0),[h,d]=$e(f_,t,u),[g,y]=c.useState(1),[S,v]=c.useState(1),[L,$]=c.useState([]),[E,z]=c.useState([]),[C,M]=c.useState([]),[q,D]=c.useState([]),[H,W]=c.useState(""),[R,N]=c.useState(0),[I,V]=c.useState(0),{scoreBoardData:U,addStudentAnswer:O,addStudentAnswers:G,convertPartialRecordToScoreBoardSummary2:B,convertPartialRecordToScoreBoard:Q,makeUserPartialAnswerData:T}=Ce(r.mode),{bottomPopupState:F,changeBottomPopupState:X}=Xe(),{playState:te,playAudio:ie,stopAudio:ue}=Le(),[ce,re]=c.useState(!1);if(c.useEffect(()=>{!f&&h&&(r.mode==="Review"&&Number(n.Average)>=70?re(!0):(l.setup(h.QuizTime,!0),s.current=!1))},[f]),c.useEffect(()=>{if(h){let[xe,ge,ye]=[1,1,0];if(d&&d.length>0){const Bt=h.Quiz.find(Mt=>Mt.QuizNo===d[d.length-1].QuizNo),mt=(Bt==null?void 0:Bt.Examples.length)||0;[xe,ge,ye]=ja(r.mode,d,mt,h.QuizAnswerCount)}const fe=Qt(h.Quiz),Ye=ae(h.Sentence,d,fe);if(xe>1||ye>0){const[Bt,mt]=me(fe,xe-1);y(ge),v(xe),le(d,ge),M(Bt),D(_e.shuffle(mt))}else r.mode==="Super"?D(fe):D(_e.shuffle(fe));const _t=B(d,h.QuizAnswerCount);G([..._t]),V(ye),N(ye),$(Ye),z(fe)}},[h]),c.useEffect(()=>{h&&!f&&(N(0),V(0),l.setup(h.QuizTime,!0),s.current=!1)},[S]),c.useEffect(()=>{ce&&h&&ke()},[ce]),!h)return e.jsx(e.Fragment,{children:"Loading..."});const se=async(xe,ge)=>{try{if(!s.current){s.current=!0;const ye=E[S-1].Text===ge;l.stop();let Ye=H+(ye?"1":"2");const _t={quizNo:S,maxCount:h.QuizAnswerCount,answerCount:R+1,ox:ye},Bt=T({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:u,quizId:h.Quiz[g-1].QuizId,quizNo:h.Quiz[g-1].QuizNo,currentQuizNo:S,correct:E[S-1].Text,selectedAnswer:ge,partialRecord:Ye,tryCount:R+1,maxQuizCount:h.QuizAnswerCount,quizLength:E.length,isCorrect:ye,answerData:_t,isFinishStudy:t.lastStep===u}),mt=await Us(r.mode,Bt);Number(mt.result)===0&&(mt.resultMessage&&(o.finishStudy={id:Number(mt.result),cause:mt.resultMessage}),O(_t),ye||V(I+1),W(Ye),N(R+1),P(ye,xe))}}catch(ye){console.error(ye)}},P=(xe,ge)=>{X({isActive:!0,isCorrect:xe}),xe?a.play(ge,[Ut.correct,"animate__fadeIn"]):a.play(ge,[Ut.incorrect,"animate__headShake"])},J=xe=>{const ge=!!a.isContain(xe,"animate__fadeIn");setTimeout(()=>{if(a.remove(xe,["animate__fadeIn","animate__headShake",Ut.correct,Ut.incorrect]),X({isActive:!1,isCorrect:!1}),ge){const ye=pe(S,ge),fe=Ee(S),Ye=be(S);if($(ye),M(fe),D(Ye),S+1<=E.length){const _t=oe();g!==_t?(W(""),y(_t)):W(H+","),v(S+1)}else re(!0)}else if(R<h.QuizAnswerCount)l.setup(h.QuizTime,!0),s.current=!1;else{const ye=pe(S,ge),fe=Ee(S),Ye=be(S);if($(ye),M(fe),D(Ye),S+1<=E.length){const _t=oe();g!==_t?(W(""),y(_t)):W(H+","),v(S+1)}else re(!0)}},1e3)},Y=async()=>{try{if(!s.current){s.current=!0,l.stop();let xe=H+"2";const ge={quizNo:S,maxCount:h.QuizAnswerCount,answerCount:R+1,ox:!1},ye=T({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:u,quizId:h.Quiz[g-1].QuizId,quizNo:h.Quiz[g-1].QuizNo,currentQuizNo:S,correct:"2",selectedAnswer:xe,partialRecord:xe,tryCount:R+1,maxQuizCount:h.QuizAnswerCount,quizLength:E.length,isCorrect:!1,answerData:ge,isFinishStudy:t.lastStep===u}),fe=await Us(r.mode,ye);Number(fe.result)===0&&(fe.resultMessage&&(o.finishStudy={id:Number(fe.result),cause:fe.resultMessage}),O(ge),V(I+1),W(xe),N(R+1),X({isActive:!0,isCorrect:!1}),K(R+1,xe))}}catch(xe){console.error(xe)}},K=(xe,ge)=>{setTimeout(()=>{if(X({isActive:!1,isCorrect:!1}),xe>=h.QuizAnswerCount){const ye=pe(S,!1),fe=Ee(S),Ye=be(S);if($(ye),M(fe),D(Ye),S+1<=E.length){const _t=oe();g!==_t?(W(""),y(_t)):W(ge+","),v(S+1)}else re(!0)}else l.setup(h.QuizTime,!0),s.current=!1},1e3)},oe=()=>{let xe=1;return h.Quiz.map((ge,ye)=>{ge.Examples.length>0&&ge.Examples.map(fe=>{fe.Text===E[S].Text&&(xe=ye+1)})}),xe},le=(xe,ge)=>{let ye="";xe.filter(fe=>{fe.QuizNo===ge&&(fe.AnswerCount===h.QuizAnswerCount||fe.StudentAnswer.slice(-1)==="1"?ye=fe.StudentAnswer+",":ye=fe.StudentAnswer)}),W(ye)},ae=(xe,ge,ye)=>{const fe=Q(ge,h.QuizAnswerCount);let Ye=0;return xe.Texts.map(mt=>mt.split(" ")).reduce((mt,Mt)=>[...mt,...Mt]).map(mt=>{if(mt.includes("┒")){let Mt="none";return fe[Ye]&&(fe[Ye].ox?Mt="correct":!fe[Ye].ox&&fe[Ye].answerCount===h.QuizAnswerCount&&(Mt="incorrect")),{Word:ye[Ye].Text,QuestionIndex:++Ye,State:Mt}}else return{Word:mt,QuestionIndex:0,State:"none"}})},pe=(xe,ge)=>{let ye=[...L];const fe=L.findIndex(Ye=>Ye.QuestionIndex===xe);return ye[fe].State=ge?"correct":"incorrect",ye},Ee=xe=>[...C,E[xe-1]],be=xe=>{const ge=E[xe-1].Text;return q.filter(fe=>fe.Text!==ge)},Qt=xe=>xe.map(ye=>ye.Examples).reduce((ye,fe)=>[...ye,...fe]),me=(xe,ge)=>{const ye=xe.slice(0,ge),fe=xe.slice(ge,xe.length);return[ye,fe]},ke=()=>{te==="playing"?ue():ie(h.Sentence.Sounds[0])},we=()=>{ue(),w(!0)},qe=xe=>{m(xe)},Ct=h.Quiz.reduce((xe,ge)=>xe+ge.Examples.length,0);return e.jsx(e.Fragment,{children:f?e.jsx("div",{className:`animate__animated ${x}`,onAnimationEnd:()=>{x==="animate__bounceOutLeft"&&k()},children:e.jsx(Me,{step:u,quizType:Gn,comment:i("study.지문을 보고 빈칸에 들어갈 알맞은 답을 순서대로 고르세요."),onStepIntroClozeHandler:()=>{_("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:p?e.jsx(rt,{step:u,quizType:Gn,quizAnswerCount:h.QuizAnswerCount,studentAnswer:U,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:S,totalQuizCnt:E.length,life:h.QuizAnswerCount-I,timeMin:l.time.timeMin,timeSec:l.time.timeSec,changeSideMenu:qe}),e.jsx("div",{className:`${Ut.comment} animate__animated animate__fadeInLeft`,children:Gn}),e.jsx(Ne,{children:e.jsxs(Be,{typeCSS:Ut.summaryTest2,containerCSS:Ut.container,children:[e.jsx(e.Fragment,{children:ce&&e.jsx(Jg,{playState:te,playSentence:ke})}),e.jsx(Lg,{isComplete:ce,sentenceData:L,questionNo:S}),e.jsx(e.Fragment,{children:ce?e.jsx(ey,{showResult:we}):e.jsxs(e.Fragment,{children:[e.jsx(qg,{}),e.jsx(Gg,{exampleData:q,checkAnswer:se,onAnimationEnd:J})]})})]})}),b&&e.jsx(Ae,{isSideOpen:b,currentStep:u,currentStepType:Gn,quizLength:Ct,maxAnswerCount:h.QuizAnswerCount,changeSideMenu:qe,scoreBoardData:U,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:F})]})})})}async function oy(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Pe}/true-or-false?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Quiz:a.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound},Examples:x.Examples.map(_=>({Text:_.Text,Sound:_.Sound}))}))}))}const iy="_comment_1kqy6_1",ry="_trueOrFalse_1kqy6_20",ay="_container_1kqy6_20",cy="_questionText_1kqy6_27",uy="_textCard_1kqy6_32",ly="_correct_1kqy6_66",dy="_incorrect_1kqy6_71",my="_answer_1kqy6_76",xy="_awnserText_1kqy6_87",hy="_answers_1kqy6_91",_y="_wordPlayButton_1kqy6_97",py="_txtL_1kqy6_112",gy="_trueSentencePopup_1kqy6_124",yy="_title_1kqy6_127",fy="_sentence_1kqy6_146",by="_nextButton_1kqy6_152",It={comment:iy,trueOrFalse:ry,container:ay,questionText:cy,textCard:uy,correct:ly,incorrect:dy,answer:my,true:"_true_1kqy6_20",false:"_false_1kqy6_83",awnserText:xy,answers:hy,wordPlayButton:_y,txtL:py,trueSentencePopup:gy,title:yy,sentence:fy,nextButton:by},ky="_comment_mb20r_1",wy="_trueOrFalse_mb20r_15",Sy="_container_mb20r_18",vy="_questionText_mb20r_25",jy="_textCard_mb20r_30",zy="_correct_mb20r_64",$y="_incorrect_mb20r_69",Cy="_answer_mb20r_74",Qy="_awnserText_mb20r_85",Ay="_answers_mb20r_89",Ny="_wordPlayButton_mb20r_95",Ty="_txtL_mb20r_110",Iy="_trueSentencePopup_mb20r_122",By="_title_mb20r_125",Ey="_sentence_mb20r_144",Py="_nextButton_mb20r_150",Zt={comment:ky,trueOrFalse:wy,container:Sy,questionText:vy,textCard:jy,correct:zy,incorrect:$y,answer:Cy,true:"_true_mb20r_15",false:"_false_mb20r_81",awnserText:Qy,answers:Ay,wordPlayButton:Ny,txtL:Ty,trueSentencePopup:Iy,title:By,sentence:Ey,nextButton:Py},My=new A(navigator.userAgent),Ly=My.phone(),Ry=Ly?Zt:It;function Fy({text:t}){return e.jsx("div",{className:Ry.questionText,dangerouslySetInnerHTML:{__html:t}})}const qy=new A(navigator.userAgent),Hy=qy.phone(),Un=Hy?Zt:It;function Oy({isCorrect:t,checkAnswer:i}){const{bookInfo:n,studyInfo:o}=c.useContext(ne);return e.jsx("div",{className:`${Un.textCard} ${o.mode==="Review"&&Number(n.Average)>=70&&t?It.correct:""}`,onClick:r=>i(r.currentTarget,!0),children:e.jsxs("div",{className:Un.answer,children:[e.jsx("div",{className:Un.true,children:"O"}),e.jsx("div",{className:Un.answerText,children:"True"})]})})}const Dy=new A(navigator.userAgent),Vy=Dy.phone(),Kn=Vy?Zt:It;function Wy({isCorrect:t,checkAnswer:i}){const{bookInfo:n,studyInfo:o}=c.useContext(ne);return e.jsx("div",{className:`${Kn.textCard}  ${o.mode==="Review"&&Number(n.Average)>=70&&!t?It.correct:""}`,onClick:r=>i(r.currentTarget,!1),children:e.jsxs("div",{className:Kn.answer,children:[e.jsx("div",{className:Kn.false,children:"X"}),e.jsx("div",{className:Kn.answerText,children:"False"})]})})}const Gy=new A(navigator.userAgent),Uy=Gy.phone(),Ky=Uy?Zt:It;function Jy({isCorrect:t,checkAnswer:i}){return e.jsxs("div",{className:Ky.answers,children:[e.jsx(Oy,{isCorrect:t,checkAnswer:i}),e.jsx(Wy,{isCorrect:t,checkAnswer:i})]})}const Yy=new A(navigator.userAgent),Xy=Yy.phone(),ei=Xy?Zt:It;function Zy({playState:t,playTrueSentence:i}){return e.jsxs("div",{className:ei.wordPlayButton,onClick:()=>i(),children:[t==="playing"?e.jsx(Fe,{isColor:!0,width:24,height:24}):e.jsx(Re,{isColor:!0,width:24,height:24}),e.jsx("div",{className:ei.txtL,children:"Play Sound"})]})}const ef=new A(navigator.userAgent),tf=ef.phone(),gn=tf?Zt:It;function nf({playState:t,sentence:i,playTrueSentence:n,goNextQuiz:o}){return e.jsxs("div",{className:gn.trueSentencePopup,children:[e.jsx("div",{className:gn.title,children:"True Sentence"}),e.jsxs("div",{className:gn.container,children:[e.jsx(Zy,{playState:t,playTrueSentence:n}),e.jsx("div",{className:gn.sentence,dangerouslySetInnerHTML:{__html:i}})]}),e.jsx("div",{className:gn.nextButton,onClick:()=>o(),children:"Next"})]})}const sf=new A(navigator.userAgent),of=sf.phone(),Jn="True or False",Kt=of?Zt:It;function rf(t){const{t:i}=de(),{handler:n,studyInfo:o}=c.useContext(ne),r=t.currentStep,u=ze(()=>{s&&(s.QuizTime>300?window.onLogoutStudy():V())}),l=dt(),[a,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:f}=je(),{isResultShow:k,changeResultShow:p}=He(),[w,b]=c.useState(!1),m=c.useRef(!0),[s,h]=$e(oy,t,r),{scoreBoardData:d,setStudentAnswers:g,addStudentAnswer:y,makeUserAnswerData:S}=Ce(o.mode),[v,L]=c.useState(1),[$,E]=c.useState(0),[z,C]=c.useState(0),{bottomPopupState:M,changeBottomPopupState:q}=Xe(),[D,H]=c.useState(!1),{playState:W,playAudio:R,stopAudio:N}=Le();if(c.useEffect(()=>{!_&&s&&(u.setup(s.QuizTime,!0),B(),m.current=!1)},[_]),c.useEffect(()=>{if(s){const[T,F]=ut(o.mode,h,s.QuizAnswerCount);E(F),C(F),g(h,s.QuizAnswerCount),L(T)}},[s]),c.useEffect(()=>{!_&&!k&&s&&(u.setup(s.QuizTime,!0),E(0),C(0),B(),m.current=!1)},[v]),c.useEffect(()=>{s&&!_&&!k&&(D?Q():v+1>s.Quiz.length?p(!0):L(v+1))},[D]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const I=async(T,F)=>{try{if(!m.current){m.current=!0,N(),u.stop();const X=/<[^>]*>/gi,te=s.Quiz[v-1].Question.Text,ie=s.Quiz[v-1].Examples[0].Text,ue=te===ie,ce=ue===F,re={quizNo:v,maxCount:s.QuizAnswerCount,answerCount:$+1,ox:ce},se=S({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:s.Quiz[v-1].QuizId,quizNo:s.Quiz[v-1].QuizNo,currentQuizNo:v,correct:ie.replace(X,""),selectedAnswer:ce?ie.replace(X,""):"user has the wrong opinion.",tryCount:$+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:ce,answerData:re,isFinishStudy:t.lastStep===r}),P=await Te(o.mode,se);Number(P.result)===0&&(P.resultMessage&&(n.finishStudy={id:Number(P.result),cause:P.resultMessage}),y(re),ce?l.play(T,["animate__fadeIn",Kt.correct]):(l.play(T,["animate__pulse",Kt.incorrect]),C(z+1)),E($+1),U(ce,ue,T))}}catch(X){console.error(X)}},V=async()=>{try{if(!m.current){m.current=!0,N(),u.stop();const T=/<[^>]*>/gi,F=s.Quiz[v-1].Question.Text,X=s.Quiz[v-1].Examples[0].Text,te=F===X,ie=!1,ue={quizNo:v,maxCount:s.QuizAnswerCount,answerCount:$+1,ox:!1},ce=S({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:s.Quiz[v-1].QuizId,quizNo:s.Quiz[v-1].QuizNo,currentQuizNo:v,correct:s.Quiz[v-1].Question.Text.replace(T,""),selectedAnswer:"user has the wrong opinion",tryCount:$+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:ie,answerData:ue,isFinishStudy:t.lastStep===r}),re=await Te(o.mode,ce);Number(re.result)===0&&(re.resultMessage&&(n.finishStudy={id:Number(re.result),cause:re.resultMessage}),y(ue),C(z+1),E($+1),U(!1,te))}}catch(T){console.error(T)}},U=(T,F,X)=>{q({isActive:!0,isCorrect:T}),setTimeout(()=>{q({isActive:!1,isCorrect:!1}),X&&l.remove(X,["animate__fadeIn","animate__headShake",Kt.correct,Kt.incorrect]),F?v+1>s.Quiz.length?p(!0):L(v+1):H(!0)},2e3)},O=()=>{N(),H(!1)},G=T=>{b(T)},B=()=>{W==="playing"?N():R(s.Quiz[v-1].Question.Sound)},Q=()=>{W==="playing"?N():R(s.Quiz[v-1].Examples[0].Sound)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${a}`,onAnimationEnd:()=>{a==="animate__bounceOutLeft"&&f()},children:e.jsx(Me,{step:r,quizType:Jn,comment:i("study.문장을 읽고 맞으면 O, 틀리면 X를 누르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:k?e.jsx(rt,{step:r,quizType:Jn,quizAnswerCount:s.QuizAnswerCount,studentAnswer:d,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:v,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-z,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:G}),e.jsx("div",{className:`${Kt.comment} animate__animated animate__fadeInLeft`,children:Jn}),e.jsx(Ne,{children:D?e.jsx(nf,{playState:W,sentence:s.Quiz[v-1].Examples[0].Text,playTrueSentence:Q,goNextQuiz:O}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{height:15}),e.jsxs(Be,{typeCSS:Kt.trueOrFalse,containerCSS:Kt.container,children:[e.jsx(Z,{height:10}),e.jsx(Fy,{text:s.Quiz[v-1].Question.Text}),e.jsx(Z,{height:10}),e.jsx(Jy,{isCorrect:s.Quiz[v-1].Question.Text===s.Quiz[v-1].Examples[0].Text,checkAnswer:I})]}),e.jsx(Z,{height:15})]})}),w&&e.jsx(Ae,{isSideOpen:w,currentStep:r,currentStepType:Jn,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,scoreBoardData:d,changeSideMenu:G,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:M})]})})})}const af="_comment_1xb87_1",cf="_wordPlayButton_1xb87_20",uf="_txtL_1xb87_34",lf="_txtP_1xb87_38",df="_wordPlayButton2_1xb87_43",mf="_btnNext_1xb87_66",xf="_reTryButton_1xb87_89",hf="_iconChevLeft_1xb87_112",_f="_iconChevRight_1xb87_127",pf="_vocabularyPractice1_1xb87_142",gf="_container_1xb87_149",yf="_wordCard_1xb87_157",ff="_wordImage_1xb87_174",bf="_screenBlock_1xb87_180",kf="_wordText_1xb87_188",wf="_btnRec_1xb87_199",Sf="_recIcon_1xb87_206",vf="_indicator_1xb87_224",jf="_speakResultVoca1_1xb87_290",zf="_phonemes_1xb87_319",$f="_phonemeItem_1xb87_328",Cf="_phoneme_1xb87_319",Qf="_red_1xb87_336",Af="_orange_1xb87_339",Nf="_green_1xb87_342",Tf="_phonemeScore_1xb87_345",If="_signBox_1xb87_352",Bf="_goodJob_1xb87_363",Ef="_tryAgain_1xb87_366",Pf="_txt_1xb87_34",Mf="_iconArrow_1xb87_375",Lf="_goNextStepBox_1xb87_383",Rf="_vocabularyPractice2_1xb87_401",Ff="_word_1xb87_20",qf="_speakResultVoca2_1xb87_552",Hf="_vocabularyPractice3_1xb87_663",Of="_wordTyping_1xb87_676",Df="_textField_1xb87_680",Vf="_inputField_1xb87_685",Wf="_overLength_1xb87_703",Gf="_count_1xb87_732",Uf="_enterButton_1xb87_740",Kf="_enterIcon_1xb87_754",Jf="_skipButton_1xb87_778",Yf="_meaning_1xb87_805",Xf="_vocabularyPractice4_1xb87_836",Zf="_sentence_1xb87_918",eb="_speakResultVoca4_1xb87_979",tb="_studyModeSelectTab_1xb87_1090",nb="_btnTab_1xb87_1096",sb="_active_1xb87_1101",ob="_speakQuestionText_1xb87_1113",ib="_recProgress_1xb87_1144",rb="_speakResult_1xb87_290",ab="_speakResultSign_1xb87_1253",Se={comment:af,wordPlayButton:cf,txtL:uf,txtP:lf,wordPlayButton2:df,btnNext:mf,reTryButton:xf,iconChevLeft:hf,iconChevRight:_f,vocabularyPractice1:pf,container:gf,wordCard:yf,wordImage:ff,screenBlock:bf,wordText:kf,btnRec:wf,recIcon:Sf,indicator:vf,speakResultVoca1:jf,phonemes:zf,phonemeItem:$f,phoneme:Cf,red:Qf,orange:Af,green:Nf,phonemeScore:Tf,signBox:If,goodJob:Bf,tryAgain:Ef,txt:Pf,iconArrow:Mf,goNextStepBox:Lf,vocabularyPractice2:Rf,word:Ff,speakResultVoca2:qf,vocabularyPractice3:Hf,wordTyping:Of,textField:Df,inputField:Vf,overLength:Wf,count:Gf,enterButton:Uf,enterIcon:Kf,skipButton:Jf,meaning:Yf,vocabularyPractice4:Xf,sentence:Zf,speakResultVoca4:eb,studyModeSelectTab:tb,btnTab:nb,active:sb,speakQuestionText:ob,recProgress:ib,speakResult:rb,speakResultSign:ab},cb="_comment_1r9w9_1",ub="_wordPlayButton_1r9w9_20",lb="_txtL_1r9w9_34",db="_txtP_1r9w9_38",mb="_wordPlayButton2_1r9w9_43",xb="_btnNext_1r9w9_64",hb="_reTryButton_1r9w9_86",_b="_iconChevLeft_1r9w9_108",pb="_iconChevRight_1r9w9_123",gb="_vocabularyPractice1_1r9w9_138",yb="_container_1r9w9_141",fb="_wordCard_1r9w9_149",bb="_wordImage_1r9w9_166",kb="_wordText_1r9w9_172",wb="_btnRec_1r9w9_180",Sb="_recIcon_1r9w9_187",vb="_indicator_1r9w9_206",jb="_speakResultVoca1_1r9w9_271",zb="_phonemes_1r9w9_300",$b="_phonemeItem_1r9w9_309",Cb="_phoneme_1r9w9_300",Qb="_red_1r9w9_317",Ab="_orange_1r9w9_320",Nb="_green_1r9w9_323",Tb="_phonemeScore_1r9w9_326",Ib="_signBox_1r9w9_333",Bb="_goodJob_1r9w9_344",Eb="_tryAgain_1r9w9_347",Pb="_txt_1r9w9_34",Mb="_iconArrow_1r9w9_356",Lb="_goNextStepBox_1r9w9_364",Rb="_vocabularyPractice2_1r9w9_382",Fb="_word_1r9w9_20",qb="_speakResultVoca2_1r9w9_511",Hb="_vocabularyPractice3_1r9w9_622",Ob="_wordTyping_1r9w9_638",Db="_textField_1r9w9_644",Vb="_inputField_1r9w9_649",Wb="_overLength_1r9w9_667",Gb="_count_1r9w9_698",Ub="_enterButton_1r9w9_711",Kb="_enterIcon_1r9w9_726",Jb="_skipButton_1r9w9_749",Yb="_meaning_1r9w9_775",Xb="_vocabularyPractice4_1r9w9_809",Zb="_screenBlock_1r9w9_823",ek="_sentence_1r9w9_889",tk="_speakResultVoca4_1r9w9_949",nk="_studyModeSelectTab_1r9w9_1060",sk="_btnTab_1r9w9_1066",ok="_active_1r9w9_1071",ik="_speakQuestionText_1r9w9_1083",rk="_recProgress_1r9w9_1111",ak="_speakResult_1r9w9_271",ck="_speakResultSign_1r9w9_1220",ve={comment:cb,wordPlayButton:ub,txtL:lb,txtP:db,wordPlayButton2:mb,btnNext:xb,reTryButton:hb,iconChevLeft:_b,iconChevRight:pb,vocabularyPractice1:gb,container:yb,wordCard:fb,wordImage:bb,wordText:kb,btnRec:wb,recIcon:Sb,indicator:vb,speakResultVoca1:jb,phonemes:zb,phonemeItem:$b,phoneme:Cb,red:Qb,orange:Ab,green:Nb,phonemeScore:Tb,signBox:Ib,goodJob:Bb,tryAgain:Eb,txt:Pb,iconArrow:Mb,goNextStepBox:Lb,vocabularyPractice2:Rb,word:Fb,speakResultVoca2:qb,vocabularyPractice3:Hb,wordTyping:Ob,textField:Db,inputField:Vb,overLength:Wb,count:Gb,enterButton:Ub,enterIcon:Kb,skipButton:Jb,meaning:Yb,vocabularyPractice4:Xb,screenBlock:Zb,sentence:ek,speakResultVoca4:tk,studyModeSelectTab:nk,btnTab:sk,active:ok,speakQuestionText:ik,recProgress:rk,speakResult:ak,speakResultSign:ck};async function Bi(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,r=`${Pe}/vocabulary-1-practice?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(r,async l=>({ContentsId:Number(l.ContentsId),IsQuizTimeoutIncorrect:!!l.isQuizTimeoutIncorrect,QuizAnswerCount:Number(l.QuizAnswerCount),QuizTime:Number(l.QuizTime),MainMeanLanguage:l.MainMeanLanguage,SubMeanLanguage:l.SubMeanLanguage,Quiz:l.Quiz.map(a=>({QuizId:a.QuizId.toString(),QuizNo:Number(a.QuizNo),Question:{Text:a.Question.Text,Image:a.Question.Image,Sound:a.Question.Sound,SpeechPart:a.Question.SpeechPart,Korean:a.Question.Korean,Chinese:a.Question.Chinese,Japanese:a.Question.Japanese,Vietnamese:a.Question.Vietnamese,Indonesian:a.Question.Indonesian,English:a.Question.English,Britannica:a.Question.Britannica},Examples:a.Examples.map(x=>({Text:x.Text}))}))}))}async function uk(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,r=`${Pe}/vocabulary-1?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(r,async l=>({ContentsId:Number(l.ContentsId),IsQuizTimeoutIncorrect:!!l.isQuizTimeoutIncorrect,QuizAnswerCount:Number(l.QuizAnswerCount),QuizTime:Number(l.QuizTime),MainMeanLanguage:l.MainMeanLanguage,SubMeanLanguage:l.SubMeanLanguage,Quiz:l.Quiz.map(a=>({QuizId:a.QuizId.toString(),QuizNo:Number(a.QuizNo),Question:{Text:a.Question.Text,Image:a.Question.Image,Sound:a.Question.Sound,SpeechPart:a.Question.SpeechPart,Korean:a.Question.Korean,Chinese:a.Question.Chinese,Japanese:a.Question.Japanese,Vietnamese:a.Question.Vietnamese,Indonesian:a.Question.Indonesian,English:a.Question.English,Britannica:a.Question.Britannica},Examples:a.Examples.map(x=>({Text:x.Text}))}))}))}async function Ei(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,r=`${Pe}/vocabulary-2-practice?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(r,async l=>({ContentsId:Number(l.ContentsId),IsQuizTimeoutIncorrect:!!l.isQuizTimeoutIncorrect,QuizAnswerCount:Number(l.QuizAnswerCount),QuizTime:Number(l.QuizTime),MainMeanLanguage:l.MainMeanLanguage,SubMeanLanguage:l.SubMeanLanguage,Quiz:l.Quiz.map(a=>({QuizId:a.QuizId.toString(),QuizNo:Number(a.QuizNo),Question:{Text:a.Question.Text,Image:a.Question.Image,Sound:a.Question.Sound,Word:a.Question.Word,WordSound:a.Question.WordSound,SpeechPart:a.Question.SpeechPart,Korean:a.Question.Korean,Chinese:a.Question.Chinese,Japanese:a.Question.Japanese,Vietnamese:a.Question.Vietnamese,Indonesian:a.Question.Indonesian,English:a.Question.English,Britannica:a.Question.Britannica},Examples:a.Examples.map(x=>({Text:x.Text}))}))}))}async function lk(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,r=`${Pe}/vocabulary-2?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(r,async l=>({ContentsId:Number(l.ContentsId),IsQuizTimeoutIncorrect:!!l.isQuizTimeoutIncorrect,QuizAnswerCount:Number(l.QuizAnswerCount),QuizTime:Number(l.QuizTime),MainMeanLanguage:l.MainMeanLanguage,SubMeanLanguage:l.SubMeanLanguage,Quiz:l.Quiz.map(a=>({QuizId:a.QuizId.toString(),QuizNo:Number(a.QuizNo),Question:{Text:a.Question.Text,Image:a.Question.Image,Sound:a.Question.Sound,Word:a.Question.Word,WordSound:a.Question.WordSound,SpeechPart:a.Question.SpeechPart,Korean:a.Question.Korean,Chinese:a.Question.Chinese,Japanese:a.Question.Japanese,Vietnamese:a.Question.Vietnamese,Indonesian:a.Question.Indonesian,English:a.Question.English,Britannica:a.Question.Britannica},Examples:a.Examples.map(x=>({Text:x.Text}))}))}))}async function Pi(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,r=`${Pe}/vocabulary-3-practice?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(r,async l=>({ContentsId:Number(l.ContentsId),IsQuizTimeoutIncorrect:!!l.isQuizTimeoutIncorrect,QuizAnswerCount:Number(l.QuizAnswerCount),QuizTime:Number(l.QuizTime),IsEnabledTyping:l.IsEnabledTyping,IsSkipAvailable:l.IsSkipAvailable,MainMeanLanguage:l.MainMeanLanguage,SubMeanLanguage:l.SubMeanLanguage,Quiz:l.Quiz.map(a=>({QuizId:a.QuizId.toString(),QuizNo:Number(a.QuizNo),Question:{Text:a.Question.Text,Sound:a.Question.Sound,SpeechPart:a.Question.SpeechPart,Korean:a.Question.Korean,Chinese:a.Question.Chinese,Japanese:a.Question.Japanese,Vietnamese:a.Question.Vietnamese,Indonesian:a.Question.Indonesian,English:a.Question.English,Britannica:a.Question.Britannica}}))}))}async function dk(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,r=`${Pe}/vocabulary-3?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(r,async l=>({ContentsId:Number(l.ContentsId),IsQuizTimeoutIncorrect:!!l.isQuizTimeoutIncorrect,QuizAnswerCount:Number(l.QuizAnswerCount),QuizTime:Number(l.QuizTime),MainMeanLanguage:l.MainMeanLanguage,SubMeanLanguage:l.SubMeanLanguage,IsEnablePenaltyReview:!!l.IsEnablePenaltyReview,Hint:{IsEnabled:l.Hint.IsEnabled,Max:l.Hint.Max,Try:l.Hint.Try},Quiz:l.Quiz.map(a=>({QuizId:a.QuizId.toString(),QuizNo:Number(a.QuizNo),Question:{Text:a.Question.Text,Sound:a.Question.Sound,SpeechPart:a.Question.SpeechPart,Korean:a.Question.Korean,Chinese:a.Question.Chinese,Japanese:a.Question.Japanese,Vietnamese:a.Question.Vietnamese,Indonesian:a.Question.Indonesian,English:a.Question.English,Britannica:a.Question.Britannica}}))}))}async function mk(t,i,n){const o=`${vi}/Vocabulary?studentHistoryId=${i}&studyId=${t}&quizNo=${n}`;return Si(o,async u=>({Type:u.Type,Hint:u.Hint,TryHint:u.TryHint,ErrorNo:u.ErrorNo}))}async function Mi(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,r=`${Pe}/vocabulary-4-practice?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(r,async l=>({ContentsId:Number(l.ContentsId),IsQuizTimeoutIncorrect:!!l.isQuizTimeoutIncorrect,QuizAnswerCount:Number(l.QuizAnswerCount),QuizTime:Number(l.QuizTime),MainMeanLanguage:l.MainMeanLanguage,SubMeanLanguage:l.SubMeanLanguage,Quiz:l.Quiz.map(a=>({QuizId:a.QuizId.toString(),QuizNo:Number(a.QuizNo),Question:{Text:a.Question.Text,Sound:a.Question.Sound,SpeechPart:a.Question.SpeechPart,Korean:a.Question.Korean,Chinese:a.Question.Chinese,Japanese:a.Question.Japanese,Vietnamese:a.Question.Vietnamese,Indonesian:a.Question.Indonesian,English:a.Question.English,Britannica:a.Question.Britannica},Examples:a.Examples.map(x=>({Text:x.Text}))}))}))}async function xk(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,r=`${Pe}/vocabulary-4?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(r,async l=>({ContentsId:Number(l.ContentsId),IsQuizTimeoutIncorrect:!!l.isQuizTimeoutIncorrect,QuizAnswerCount:Number(l.QuizAnswerCount),QuizTime:Number(l.QuizTime),MainMeanLanguage:l.MainMeanLanguage,SubMeanLanguage:l.SubMeanLanguage,Quiz:l.Quiz.map(a=>({QuizId:a.QuizId.toString(),QuizNo:Number(a.QuizNo),Question:{Text:a.Question.Text,Sound:a.Question.Sound,SpeechPart:a.Question.SpeechPart,Korean:a.Question.Korean,Chinese:a.Question.Chinese,Japanese:a.Question.Japanese,Vietnamese:a.Question.Vietnamese,Indonesian:a.Question.Indonesian,English:a.Question.English,Britannica:a.Question.Britannica},Examples:a.Examples.map(x=>({Text:x.Text}))}))}))}const hk="https://api.readinggate.elasolution.com",_k="e874641aac784ff6b9d62c3483f7aaaa";function _s(){const{t}=de(),i=(o,r,u,l)=>{try{const a=new Audio(r),x=()=>{const _=a.duration>=5?1.4:1.2,f=Math.ceil(a.duration*1e3*_);if(navigator.mediaDevices.getUserMedia){console.log("The mediaDevices.getUserMedia() method is supported.");const k=b=>{u("recording");const m=new MediaRecorder(b),s=[];m.ondataavailable=h=>{s.push(h.data)},m.onstop=()=>{b.getTracks().forEach(function(g){g.stop()});const h=new Blob(s,{type:m.mimeType}),d=new File([h],"student_audio.mp3",{type:"audio/mp3"});n(d,o,l)},m.onerror=h=>{alert(h)},m.start(),setTimeout(()=>{m.stop()},f)},p=b=>{u("reset"),console.error("The following error occured: "+b)},w={audio:!0};navigator.mediaDevices.getUserMedia(w).then(k,p).catch(b=>{console.log(b.name),console.log(b.message)})}else u("reset"),alert("MediaDevices.getUserMedia() not supported on your browser!")};go?a.addEventListener("loadedmetadata",x):a.addEventListener("canplaythrough",x)}catch(a){alert(a)}},n=async(o,r,u)=>{const l=new FormData;l.append("audio",o),l.append("text",r),ds.post(`${hk}/pron_v2/phoneme`,l,{headers:{"X-API-Key":_k,"Content-Type":"multipart/form-data"}}).then(a=>{switch(a.status){case 200:u(a.data);break;case 401:alert(t("study.인증키가 잘못되었습니다. 리딩게이트로 전화주세요. 1599-0533"));break;case 403:alert(a.data);break;case 422:alert(a.data);break}}).catch(a=>{console.error(a)})};return{startRecording:i}}const pk="Comp 1",gk="",yk=[{ty:4,nm:"Shape Layer 2",mn:"",sr:1,st:0,op:41.0000016699642,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[127,127,100],t:0},{o:{x:.333,y:0},i:{x:.667,y:1},s:[147,147,100],t:10},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[127,127,100],t:20.0000008146167}],ix:6},sk:{a:0,k:0},p:{a:0,k:[31.524,31.524,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Group",nm:"Ellipse 1",ix:1,cix:2,np:3,it:[{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0],ix:3},s:{a:0,k:[26.25,26.25],ix:2}},{ty:"fl",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.9882,.3333,.3333],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[.375,.375],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:1},{ty:4,nm:"Shape Layer 1",mn:"",sr:1,st:0,op:41.0000016699642,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[127,127,100],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[250,250,100],t:40.0000016292334}],ix:6},sk:{a:0,k:0},p:{a:0,k:[31.524,31.524,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[100],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:40.0000016292334}],ix:11}},ef:[],shapes:[{ty:"gr",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Group",nm:"Ellipse 1",ix:1,cix:2,np:3,it:[{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0],ix:3},s:{a:0,k:[26.25,26.25],ix:2}},{ty:"fl",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.9882,.3333,.3333],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[.375,.375],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:2}],fk=0,bk=64,kk=64,wk={a:"",k:"",d:"",g:"LottieFiles AE 1.0.0",tc:"#000000"},Sk="4.8.0",vk=29.9700012207031,jk=41.0000016699642,zk=0,$k=[],Li={nm:pk,mn:gk,layers:yk,ddd:fk,h:bk,w:kk,meta:wk,v:Sk,fr:vk,op:jk,ip:zk,assets:$k},Ck="5.5.8",Qk=30,Ak=0,Nk=60,Tk=128,Ik=128,Bk="Comp 1",Ek=0,Pk=[],Mk=[{ddd:0,ind:1,ty:4,nm:"Shape Layer 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[102.49999999999999,113.99999999999999,0],ix:2},a:{a:0,k:[0,50,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.665,y:1},o:{x:.088,y:0},t:0,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,-8.75],[10,45],[5,50],[-5,50],[-10,45],[-10,-8.75],[-5,-13.75],[5,-13.75]],c:!0}]},{i:{x:.888,y:.992},o:{x:.315,y:0},t:15,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,-29.5],[10,45],[5,50],[-5,50],[-10,45],[-10,-29.5],[-5,-34.5],[5,-34.5]],c:!0}]},{i:{x:.777,y:1},o:{x:.117,y:.013},t:30,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,-8.75],[10,45],[5,50],[-5,50],[-10,45],[-10,-8.75],[-5,-13.75],[5,-13.75]],c:!0}]},{i:{x:.853,y:1},o:{x:.098,y:0},t:46,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,18.75],[10,45],[5,50],[-5,50],[-10,45],[-10,18.75],[-5,13.75],[5,13.75]],c:!0}]},{t:60,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,-8.75],[10,45],[5,50],[-5,50],[-10,45],[-10,-8.75],[-5,-13.75],[5,-13.75]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9568627450980393,.9411764705882353,.9568627450980393,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:0,op:61,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Shape Layer 3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[62.5,113.99999999999999,0],ix:2},a:{a:0,k:[0,50,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.631,y:1},o:{x:.167,y:0},t:0,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,-33],[10,45],[5,50],[-5,50],[-10,45],[-10,-33],[-5,-38],[5,-38]],c:!0}]},{i:{x:.667,y:1},o:{x:.391,y:0},t:13.846,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,4],[10,45],[5,50],[-5,50],[-10,45],[-10,4],[-5,-1],[5,-1]],c:!0}]},{i:{x:.88,y:1},o:{x:.093,y:0},t:27,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,-33],[10,45],[5,50],[-5,50],[-10,45],[-10,-33],[-5,-38],[5,-38]],c:!0}]},{i:{x:.873,y:1},o:{x:.165,y:0},t:45,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,11.875],[10,45],[5,50],[-5,50],[-10,45],[-10,11.875],[-5,6.875],[5,6.875]],c:!0}]},{t:60,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,-33],[10,45],[5,50],[-5,50],[-10,45],[-10,-33],[-5,-38],[5,-38]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9568627450980393,.9411764705882353,.9568627450980393,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:0,op:61,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Shape Layer 4",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[22.5,113.99999999999999,0],ix:2},a:{a:0,k:[0,50,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.562,y:1},o:{x:.46,y:0},t:0,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,29.25],[10,45],[5,50],[-5,50],[-10,45],[-10,29.25],[-5,24.25],[5,24.25]],c:!0}]},{i:{x:.505,y:1},o:{x:.402,y:0},t:15,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,13],[10,45],[5,50],[-5,50],[-10,45],[-10,13],[-5,8],[5,8]],c:!0}]},{i:{x:.407,y:1},o:{x:.167,y:0},t:32,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,29.25],[10,45],[5,50],[-5,50],[-10,45],[-10,29.25],[-5,24.25],[5,24.25]],c:!0}]},{i:{x:.599,y:1},o:{x:.526,y:0},t:47,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,3],[10,45],[5,50],[-5,50],[-10,45],[-10,3],[-5,-2],[5,-2]],c:!0}]},{t:60,s:[{i:[[0,-2.761],[0,0],[2.761,0],[0,0],[0,2.761],[0,0],[-2.761,0],[0,0]],o:[[0,0],[0,2.761],[0,0],[-2.761,0],[0,0],[0,-2.761],[0,0],[2.761,0]],v:[[10,29.25],[10,45],[5,50],[-5,50],[-10,45],[-10,29.25],[-5,24.25],[5,24.25]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9568627450980393,.9411764705882353,.9568627450980393,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:0,op:61,st:0,bm:0}],Lk=[],Rk={v:Ck,fr:Qk,ip:Ak,op:Nk,w:Tk,h:Ik,nm:Bk,ddd:Ek,assets:Pk,layers:Mk,markers:Lk},Fk="best-seller",qk=0,Hk=700,Ok=700,Dk={g:"@lottiefiles/toolkit-js 0.33.2"},Vk=[{ty:4,nm:"Layer 2 Outlines",sr:1,st:0,op:61,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[34.732,47.8,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[34.733,-6.771,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0],[0,0],[9.278,2.974],[.372,.093],[3.698,-7.396],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[2.974,-9.279],[-.366,-.117],[-8.022,-2.006],[0,0],[0,0],[0,0],[0,0]],v:[[-16.8,47.55],[21.791,7.264],[31.508,-23.045],[20.093,-45.23],[18.988,-45.545],[-1.071,-36.318],[-10.742,-16.979],[-34.482,7.021],[-16.329,45.669]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.9843,.8588,.5529],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[34.732,47.8],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:1,parent:3},{ty:4,nm:"Layer 3 Outlines",sr:1,st:0,op:61,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[36.38,56.411,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[-35.879,56.089,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[6.624,.007],[0,-6.627],[-6.627,0],[0,6.627]],o:[[-6.627,0],[0,6.627],[6.627,0],[-.007,-6.624]],v:[[0,-12],[-12,0],[0,12],[12,0]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.1765,.2784,.3608],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[36.25,76.573],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 2",ix:2,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-36.13,-56.161],[36.13,-56.161],[36.13,56.161],[-36.13,56.161]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.2588,.4078,.5294],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[36.38,56.411],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:2,parent:3},{ty:4,nm:"Layer 4 Outlines",sr:1,st:0,op:61,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[-35.879,77.25,0],ix:1},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[0,0,100],t:18},{s:[100,100,100],t:28}],ix:6},sk:{a:0,k:0},p:{a:0,k:[290.13,371,0],ix:2},r:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[15],t:22},{o:{x:.333,y:0},i:{x:.667,y:1},s:[-12],t:26},{s:[0],t:35}],ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0],[0,0],[0,13.255],[0,0],[0,0],[0,3.005],[10.69,0],[.025,0],[0,0]],o:[[0,0],[0,0],[13.255,0],[0,0],[0,0],[1.344,-2.688],[.001,-10.69],[-.025,0],[0,0],[0,0]],v:[[-59.871,-56],[-59.871,56],[27.87,56],[51.87,32],[51.87,-16],[57.826,-27.913],[59.87,-36.569],[40.515,-55.926],[40.44,-55.926],[-3.597,-55.758]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.9843,.8588,.5529],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[60.121,56.25],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:3},{ty:4,nm:"Layer 5 Outlines",sr:1,st:0,op:61,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[144.25,144.25,0],ix:1},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[0,0,100],t:4},{o:{x:.333,y:0},i:{x:.667,y:1},s:[110,110,100],t:11},{s:[100,100,100],t:19}],ix:6},sk:{a:0,k:0},p:{a:0,k:[350,342,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-79.529,0],[0,-79.529],[79.529,0],[0,79.529]],o:[[79.529,0],[0,79.529],[-79.529,0],[0,-79.529]],v:[[0,-144],[144,0],[0,144],[-144,0]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[1,1,1],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[144.25,144.25],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:4},{ty:4,nm:"Layer 6 Outlines",sr:1,st:0,op:61,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[195.385,195.385,0],ix:1},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[0,0,100],t:0},{o:{x:.333,y:0},i:{x:.667,y:1},s:[110,110,100],t:7},{s:[100,100,100],t:15}],ix:6},sk:{a:0,k:0},p:{a:0,k:[350,342,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-18.346,-12.541],[-12.224,.931],[-9.617,-20.034],[-11.052,-5.305],[1.689,-22.159],[-6.919,-10.121],[12.541,-18.346],[-.931,-12.224],[20.034,-9.617],[5.305,-11.052],[22.159,1.689],[10.121,-6.919],[18.346,12.541],[12.224,-.931],[9.617,20.034],[11.052,5.305],[-1.689,22.159],[6.919,10.121],[-12.541,18.346],[.931,12.224],[-20.034,9.617],[-5.305,11.052],[-22.159,-1.689],[-10.121,6.919]],o:[[10.121,6.919],[22.159,-1.689],[5.305,11.052],[20.034,9.617],[-.931,12.224],[12.541,18.346],[-6.919,10.121],[1.689,22.159],[-11.052,5.305],[-9.617,20.034],[-12.224,-.931],[-18.346,12.541],[-10.121,-6.919],[-22.159,1.689],[-5.305,-11.052],[-20.034,-9.617],[.931,-12.224],[-12.541,-18.346],[6.919,-10.121],[-1.689,-22.159],[11.052,-5.305],[9.617,-20.034],[12.224,.931],[18.346,-12.541]],v:[[30.426,-182.594],[64.947,-173.344],[117.647,-142.918],[142.918,-117.647],[173.344,-64.947],[182.594,-30.426],[182.594,30.426],[173.344,64.947],[142.918,117.647],[117.647,142.918],[64.947,173.344],[30.426,182.594],[-30.426,182.594],[-64.947,173.344],[-117.647,142.918],[-142.918,117.647],[-173.344,64.947],[-182.594,30.426],[-182.594,-30.426],[-173.344,-64.947],[-142.918,-117.647],[-117.647,-142.918],[-64.947,-173.344],[-30.426,-182.594]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[1,.7059,.1922],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[195.385,195.385],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:5},{ty:4,nm:"Layer 7 Outlines",sr:1,st:0,op:61,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[144.25,20.25,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[310,386,0],ix:2},r:{a:1,k:[{o:{x:.925,y:0},i:{x:.865,y:.826},s:[117],t:3},{o:{x:.215,y:-3.017},i:{x:.509,y:1},s:[-10],t:17},{s:[0],t:29}],ix:10},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[0],t:3},{s:[100],t:29}],ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[8,-108],[-96,68],[-40,60],[-8,108],[96,-68]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.8706,.3333,.251],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[96.25,108.25],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:6},{ty:4,nm:"Layer 8 Outlines",sr:1,st:0,op:61,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[42.25,20.25,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[384,386,0],ix:2},r:{a:1,k:[{o:{x:.925,y:0},i:{x:.865,y:.826},s:[-115],t:3},{o:{x:.215,y:-2.965},i:{x:.509,y:1},s:[10],t:17},{s:[0],t:29}],ix:10},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[0],t:3},{s:[100],t:29}],ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[-8,-108],[96,68],[40,60],[8,108],[-96,-68]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.8706,.3333,.251],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[96.25,108.25],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:7},{ty:0,nm:"crackers",sr:1,st:9,op:39,ip:9,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[500,500,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[350,350,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],w:1e3,h:1e3,refId:"comp_0",ind:8}],Wk="5.7.4",Gk=30,Uk=60,Kk=0,Jk=[{nm:"",id:"comp_0",layers:[{ty:4,nm:"Layer 20 Outlines",sr:1,st:0,op:30,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[257.117,257.118,0],ix:1},s:{a:1,k:[{o:{x:.823,y:0},i:{x:.079,y:1},s:[0,0,100],t:0},{s:[174,174,100],t:28}],ix:6},sk:{a:0,k:0},p:{a:0,k:[500,500,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.333,y:0},i:{x:0,y:1},s:[0],t:0},{o:{x:.333,y:0},i:{x:.667,y:1},s:[50],t:10},{s:[0],t:23}],ix:11}},ef:[{ty:21,mn:"ADBE Fill",nm:"Fill",ix:1,en:1,ef:[{ty:10,mn:"ADBE Fill-0001",nm:"Fill Mask",ix:1,v:{a:0,k:0,ix:1}},{ty:7,mn:"ADBE Fill-0007",nm:"All Masks",ix:2,v:{a:0,k:0,ix:2}},{ty:2,mn:"ADBE Fill-0002",nm:"Color",ix:3,v:{a:0,k:[1,0,0],ix:3}},{ty:7,mn:"ADBE Fill-0006",nm:"Invert",ix:4,v:{a:0,k:0,ix:4}},{ty:0,mn:"ADBE Fill-0003",nm:"Horizontal Feather",ix:5,v:{a:0,k:0,ix:5}},{ty:0,mn:"ADBE Fill-0004",nm:"Vertical Feather",ix:6,v:{a:0,k:0,ix:6}},{ty:0,mn:"ADBE Fill-0005",nm:"Opacity",ix:7,v:{a:0,k:1,ix:7}}]}],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,-100.581],[100.581,0],[0,100.581],[-100.58,0]],o:[[0,100.581],[-100.58,0],[0,-100.581],[100.581,0]],v:[[182.117,0],[-.001,182.118],[-182.117,0],[-.001,-182.118]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:5,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[257.117,257.118],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:1},{ty:4,nm:"Layer 5 Outlines",sr:1,st:0,op:30,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[335.642,330.771,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[500,505.182,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[{ty:21,mn:"ADBE Fill",nm:"Fill",ix:1,en:1,ef:[{ty:10,mn:"ADBE Fill-0001",nm:"Fill Mask",ix:1,v:{a:0,k:0,ix:1}},{ty:7,mn:"ADBE Fill-0007",nm:"All Masks",ix:2,v:{a:0,k:0,ix:2}},{ty:2,mn:"ADBE Fill-0002",nm:"Color",ix:3,v:{a:0,k:[1,.6627,.102],ix:3}},{ty:7,mn:"ADBE Fill-0006",nm:"Invert",ix:4,v:{a:0,k:0,ix:4}},{ty:0,mn:"ADBE Fill-0003",nm:"Horizontal Feather",ix:5,v:{a:0,k:0,ix:5}},{ty:0,mn:"ADBE Fill-0004",nm:"Vertical Feather",ix:6,v:{a:0,k:0,ix:6}},{ty:0,mn:"ADBE Fill-0005",nm:"Opacity",ix:7,v:{a:0,k:1,ix:7}}]}],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[335.642,15],[335.642,325.588]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[0,0],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 2",ix:2,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-99.821,-118.962],[99.821,118.962]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[226.179,210.135],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 3",ix:3,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-152.935,-26.966],[152.935,26.966]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[167.935,311.017],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 4",ix:4,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-134.488,77.647],[134.488,-77.647]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[188.163,425.735],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 5",ix:5,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-53.114,145.928],[53.113,-145.928]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[277.398,500.613],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 6",ix:6,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[53.113,145.928],[-53.113,-145.928]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[393.886,500.613],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 7",ix:7,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[134.488,77.647],[-134.488,-77.647]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[483.121,425.735],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 8",ix:8,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[152.935,-26.966],[-152.935,26.966]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[503.349,311.017],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 9",ix:9,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[99.821,-118.962],[-99.821,118.962]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[445.105,210.135],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"tm",bm:0,hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:10,e:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[100],t:7},{s:[0],t:25}],ix:2},o:{a:0,k:0,ix:3},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[100],t:0},{s:[0],t:20}],ix:1},m:1}],ind:2},{ty:4,nm:"Layer 5 Outlines 2",sr:1,st:2,op:32,ip:2,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[335.642,330.771,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[500,505.182,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[{ty:21,mn:"ADBE Fill",nm:"Fill",ix:1,en:1,ef:[{ty:10,mn:"ADBE Fill-0001",nm:"Fill Mask",ix:1,v:{a:0,k:0,ix:1}},{ty:7,mn:"ADBE Fill-0007",nm:"All Masks",ix:2,v:{a:0,k:0,ix:2}},{ty:2,mn:"ADBE Fill-0002",nm:"Color",ix:3,v:{a:0,k:[.9647,1,0],ix:3}},{ty:7,mn:"ADBE Fill-0006",nm:"Invert",ix:4,v:{a:0,k:0,ix:4}},{ty:0,mn:"ADBE Fill-0003",nm:"Horizontal Feather",ix:5,v:{a:0,k:0,ix:5}},{ty:0,mn:"ADBE Fill-0004",nm:"Vertical Feather",ix:6,v:{a:0,k:0,ix:6}},{ty:0,mn:"ADBE Fill-0005",nm:"Opacity",ix:7,v:{a:0,k:1,ix:7}}]}],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[335.642,15],[335.642,325.588]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[0,0],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 2",ix:2,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-99.821,-118.962],[99.821,118.962]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[226.179,210.135],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 3",ix:3,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-152.935,-26.966],[152.935,26.966]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[167.935,311.017],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 4",ix:4,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-134.488,77.647],[134.488,-77.647]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[188.163,425.735],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 5",ix:5,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-53.114,145.928],[53.113,-145.928]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[277.398,500.613],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 6",ix:6,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[53.113,145.928],[-53.113,-145.928]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[393.886,500.613],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 7",ix:7,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[134.488,77.647],[-134.488,-77.647]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[483.121,425.735],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 8",ix:8,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[152.935,-26.966],[-152.935,26.966]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[503.349,311.017],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 9",ix:9,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[99.821,-118.962],[-99.821,118.962]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},c:{a:0,k:[.8196,0,.1569],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[445.105,210.135],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"tm",bm:0,hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:10,e:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[100],t:9},{s:[0],t:27}],ix:2},o:{a:0,k:0,ix:3},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[100],t:2},{s:[0],t:22}],ix:1},m:1}],ind:3}]}],Yk={nm:Fk,ddd:qk,h:Hk,w:Ok,meta:Dk,layers:Vk,v:Wk,fr:Gk,op:Uk,ip:Kk,assets:Jk},Xk="5.5.7",Zk={g:"LottieFiles AE 0.1.20",a:"",k:"",d:"",tc:""},ew=29.9700012207031,tw=0,nw=30.0000012219251,sw=240,ow=120,iw="spot_celebration",rw=0,aw=[],cw=[{ddd:0,ind:1,ty:4,nm:"hand-1 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.389,y:0},t:0,s:[110.657,60.209,0],to:[.724,0,0],ti:[0,0,0]},{i:{x:.623,y:1},o:{x:.167,y:.167},t:2.024,s:[115,60.209,0],to:[0,0,0],ti:[.724,0,0]},{i:{x:0,y:0},o:{x:.333,y:.333},t:4.048,s:[110.657,60.209,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.333,y:0},t:6.476,s:[110.657,60.209,0],to:[.724,0,0],ti:[0,0,0]},{i:{x:.665,y:1},o:{x:.167,y:.167},t:8.5,s:[115,60.209,0],to:[0,0,0],ti:[.724,0,0]},{i:{x:0,y:0},o:{x:.333,y:.333},t:10.524,s:[110.657,60.209,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.333,y:0},t:12.953,s:[110.657,60.209,0],to:[.724,0,0],ti:[0,0,0]},{i:{x:.673,y:1},o:{x:.167,y:.167},t:14.976,s:[115,60.209,0],to:[0,0,0],ti:[.724,0,0]},{t:17.0000006924242,s:[110.657,60.209,0]}],ix:2},a:{a:0,k:[32.553,37.706,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.429,.24],[-2.884,5.153],[-.429,-.24],[2.885,-5.151]],o:[[-.43,-.24],[2.885,-5.151],[.429,.24],[-2.885,5.152]],v:[[-5.223,9.328],[-.777,-.436],[5.223,-9.328],[.777,.435]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9686274509803922,.7647058823529411,.2823529411764706,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[53.708,31.209],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.419,.258],[-4.27,6.936],[-.419,-.258],[4.269,-6.935]],o:[[-.419,-.258],[4.269,-6.936],[.419,.258],[-4.269,6.936]],v:[[-7.73,12.558],[-.758,-.467],[7.73,-12.558],[.758,.467]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9686274509803922,.7647058823529411,.2823529411764706,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[47.387,21.728],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.405,.279],[-4.573,6.65],[-.406,-.278],[4.572,-6.65]],o:[[-.405,-.279],[4.573,-6.65],[.405,.279],[-4.573,6.65]],v:[[-8.28,12.04],[-.735,-.506],[8.28,-12.042],[.734,.505]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9686274509803922,.7647058823529411,.2823529411764706,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[37.738,16.357],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-6.325,8.378],[-1.545,.86],[-1.401,-.707],[-.22,-1.281],[-2.303,-1.33],[1.017,-1.762],[-1.904,-1.099],[.438,-2.609],[0,0],[-1.884,-1.46],[.706,-2.636],[8.825,-14.156],[10.784,5.694],[-.367,10.607],[-2.949,2.041],[-.571,-3.589]],o:[[0,0],[6.324,-8.378],[1.545,-.86],[1.402,.706],[1.596,-1.939],[2.304,1.33],[0,0],[1.904,1.099],[-.459,2.736],[0,0],[1.945,1.507],[-.707,2.636],[-9.158,14.689],[-11.407,-6.023],[.346,-10.016],[2.841,-1.965],[.691,4.346]],v:[[-17.535,-7.632],[-6.74,-22.076],[6.333,-36.38],[10.971,-36.749],[13.465,-33.391],[20.363,-34.589],[22.563,-28.538],[26.479,-28.079],[28.655,-22.57],[26.377,-15.826],[30.358,-14.93],[30.987,-7.947],[16.788,21.879],[-17.294,31.762],[-31.936,3.014],[-23.617,-22.577],[-17.156,-17.087]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.984313725490196,.8588235294117647,.5490196078431373,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[32.553,37.706],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"hand-2 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.389,y:0},t:0,s:[129.637,60.209,0],to:[-.94,0,0],ti:[0,0,0]},{i:{x:.623,y:1},o:{x:.167,y:.167},t:2.024,s:[124,60.209,0],to:[0,0,0],ti:[-.94,0,0]},{i:{x:0,y:0},o:{x:.333,y:.333},t:4.048,s:[129.637,60.209,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.333,y:0},t:6.476,s:[129.637,60.209,0],to:[-.94,0,0],ti:[0,0,0]},{i:{x:.665,y:1},o:{x:.167,y:.167},t:8.5,s:[124,60.209,0],to:[0,0,0],ti:[-.94,0,0]},{i:{x:0,y:0},o:{x:.333,y:.333},t:10.524,s:[129.637,60.209,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.333,y:0},t:12.953,s:[129.637,60.209,0],to:[-.94,0,0],ti:[0,0,0]},{i:{x:.673,y:1},o:{x:.167,y:.167},t:14.976,s:[124,60.209,0],to:[0,0,0],ti:[-.94,0,0]},{t:17.0000006924242,s:[129.637,60.209,0]}],ix:2},a:{a:0,k:[32.553,37.706,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-6.324,8.378],[-1.545,.86],[-1.402,-.707],[-.22,-1.281],[-2.303,-1.33],[1.017,-1.762],[-1.905,-1.099],[.438,-2.609],[0,0],[-1.884,-1.46],[.707,-2.636],[8.826,-14.156],[10.784,5.694],[-.366,10.607],[-2.949,2.041],[-.571,-3.589]],o:[[0,0],[6.325,-8.378],[1.545,-.86],[1.401,.706],[1.596,-1.939],[2.304,1.33],[0,0],[1.904,1.099],[-.459,2.736],[0,0],[1.945,1.507],[-.706,2.636],[-9.157,14.689],[-11.407,-6.023],[.347,-10.016],[2.841,-1.965],[.692,4.346]],v:[[-17.535,-7.632],[-6.742,-22.076],[6.333,-36.38],[10.971,-36.749],[13.464,-33.391],[20.363,-34.589],[22.563,-28.538],[26.479,-28.079],[28.655,-22.57],[26.377,-15.826],[30.358,-14.93],[30.986,-7.947],[16.786,21.879],[-17.294,31.762],[-31.938,3.014],[-23.617,-22.577],[-17.158,-17.087]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9764705882352941,.807843137254902,.3843137254901961,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[32.553,37.706],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"particle-8 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:6.4,s:[100]},{t:22.4000009123707,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.138,y:1},o:{x:.167,y:.167},t:0,s:[161.579,70.143,0],to:[2.5,.542,0],ti:[-2.5,-.542,0]},{t:17.0000006924242,s:[176.579,73.393,0]}],ix:2},a:{a:0,k:[4.076,4.076,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.789,-1.677],[-1.677,-.789],[-.788,1.678],[1.677,.789]],o:[[-.789,1.677],[1.678,.789],[.789,-1.677],[-1.677,-.788]],v:[[-3.036,-1.428],[-1.429,3.036],[3.036,1.428],[1.428,-3.038]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.25882352941176473,.5843137254901961,.9764705882352941,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[4.076,4.076],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"particle-7 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:6.4,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:13,s:[100]},{t:24.00000097754,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.212,y:1},o:{x:.167,y:.167},t:4.8,s:[173.53,67.136,0],to:[5.854,-.5,0],ti:[-5.854,.5,0]},{t:20.0000008146167,s:[208.655,64.136,0]}],ix:2},a:{a:0,k:[5.942,5.942,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.505,-2.865],[-2.864,-.506],[-.505,2.865],[2.864,.505]],o:[[-.505,2.865],[2.865,.505],[.505,-2.864],[-2.865,-.505]],v:[[-5.187,-.915],[-.915,5.187],[5.187,.914],[.915,-5.187]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.43529411764705883,.7098039215686275,.984313725490196,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[5.942,5.942],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"particle-6 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:6.4,s:[100]},{t:22.4000009123707,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.138,y:1},o:{x:.167,y:.167},t:0,s:[168.108,53.605,0],to:[4.583,-.875,0],ti:[-4.583,.875,0]},{t:17.0000006924242,s:[195.608,48.355,0]}],ix:2},a:{a:0,k:[4.804,4.804,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.404,-2.292],[-2.292,-.404],[-.404,2.292],[2.292,.404]],o:[[-.404,2.292],[2.291,.404],[.404,-2.291],[-2.292,-.404]],v:[[-4.149,-.732],[-.731,4.15],[4.15,.732],[.732,-4.15]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.32941176470588235,.6431372549019608,.984313725490196,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[4.803,4.804],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:6,ty:4,nm:"particle-5 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:6.4,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:13,s:[100]},{t:24.00000097754,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.212,y:1},o:{x:.167,y:.167},t:4.8,s:[163.17,58.428,0],to:[2.771,-.562,0],ti:[-2.771,.562,0]},{t:20.0000008146167,s:[179.795,55.053,0]}],ix:2},a:{a:0,k:[2.982,2.982,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.242,-1.375],[-1.375,-.242],[-.242,1.375],[1.375,.243]],o:[[-.243,1.375],[1.375,.243],[.243,-1.375],[-1.376,-.242]],v:[[-2.49,-.439],[-.439,2.489],[2.49,.439],[.439,-2.49]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.5882352941176471,.792156862745098,.9921568627450981,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[2.982,2.982],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"particle-4 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:6.4,s:[100]},{t:22.4000009123707,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.138,y:1},o:{x:.167,y:.167},t:0,s:[73.269,64.839,0],to:[-4.458,.625,0],ti:[4.458,-.625,0]},{t:17.0000006924242,s:[46.519,68.589,0]}],ix:2},a:{a:0,k:[3.164,3.163,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.601,-1.278],[-1.277,-.601],[-.601,1.277],[1.277,.6]],o:[[-.601,1.277],[1.278,.6],[.601,-1.278],[-1.278,-.601]],v:[[-2.313,-1.088],[-1.088,2.313],[2.313,1.089],[1.088,-2.312]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.5882352941176471,.792156862745098,.9921568627450981,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[3.164,3.164],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:8,ty:4,nm:"particle-3 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:6.4,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:13,s:[100]},{t:24.00000097754,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.212,y:1},o:{x:.167,y:.167},t:4.8,s:[75.582,55.3,0],to:[-2.375,-.333,0],ti:[2.375,.333,0]},{t:20.0000008146167,s:[61.332,53.3,0]}],ix:2},a:{a:0,k:[4.016,4.015,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[1.497,1.055],[1.055,-1.497],[-1.497,-1.056],[-1.055,1.497]],o:[[-1.497,-1.055],[-1.056,1.497],[1.497,1.055],[1.056,-1.496]],v:[[1.911,-2.711],[-2.71,-1.911],[-1.911,2.71],[2.71,1.91]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.43529411764705883,.7098039215686275,.984313725490196,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[4.016,4.015],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:9,ty:4,nm:"particle-2 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:6.4,s:[100]},{t:22.4000009123707,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.138,y:1},o:{x:.167,y:.167},t:0,s:[73.293,48.233,0],to:[-3.708,-.958,0],ti:[3.708,.958,0]},{t:17.0000006924242,s:[51.043,42.483,0]}],ix:2},a:{a:0,k:[5.368,5.368,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[2.197,-1.138],[1.138,2.197],[-2.198,1.139],[-1.138,-2.198]],o:[[-2.197,1.139],[-1.139,-2.198],[2.197,-1.138],[1.139,2.197]],v:[[2.062,3.979],[-3.979,2.061],[-2.062,-3.98],[3.979,-2.062]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.32941176470588235,.6431372549019608,.984313725490196,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[5.368,5.368],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:10,ty:4,nm:"particle-1 Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:6.4,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:13,s:[100]},{t:24.00000097754,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.212,y:1},o:{x:.167,y:.167},t:4.8,s:[62.37,58.549,0],to:[-5.25,-.25,0],ti:[5.25,.25,0]},{t:20.0000008146167,s:[30.87,57.049,0]}],ix:2},a:{a:0,k:[4.349,4.348,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.364,-2.063],[-2.062,-.364],[-.364,2.062],[2.063,.364]],o:[[-.364,2.063],[2.063,.364],[.364,-2.063],[-2.062,-.364]],v:[[-3.734,-.659],[-.659,3.734],[3.734,.658],[.659,-3.734]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.25882352941176473,.5843137254901961,.9764705882352941,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[4.348,4.348],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0}],uw=[],lw={v:Xk,meta:Zk,fr:ew,ip:tw,op:nw,w:sw,h:ow,nm:iw,ddd:rw,assets:aw,layers:cw,markers:uw};function Sn(){const t={loop:!0,autoplay:!0,animationData:Li,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return e.jsx(e.Fragment,{children:e.jsx(wn,{isClickToPauseDisabled:!0,options:t,height:40,width:40})})}function dw(){const t={loop:!0,autoplay:!0,animationData:Li,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return e.jsx(e.Fragment,{children:e.jsx(wn,{isClickToPauseDisabled:!0,options:t,height:200,width:200})})}function mw(){const t={loop:!0,autoplay:!0,animationData:Rk,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return e.jsx(e.Fragment,{children:e.jsx(wn,{isClickToPauseDisabled:!0,options:t,height:40,width:50})})}function xw({width:t,height:i}){const n={loop:!1,autoplay:!0,animationData:Yk,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return e.jsx(e.Fragment,{children:e.jsx(wn,{isClickToPauseDisabled:!0,options:n,width:t,height:i})})}function hw({width:t,height:i}){const n={loop:!1,autoplay:!0,animationData:lw,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return e.jsx(e.Fragment,{children:e.jsx(wn,{isClickToPauseDisabled:!0,options:n,width:t,height:i})})}function ps(){const[t,i]=c.useState(""),n="기기의 마이크 사용이 차단되었습니다. 해제 후 다시 사용해 주세요.";return c.useEffect(()=>{(async()=>{try{const r=await navigator.permissions.query({name:"microphone"});i(r.state),r.onchange=()=>{i(r.state)}}catch(r){console.error("마이크 권한을 확인할 수 없습니다.",r)}})()},[]),{micPermission:t,alertMessage:n}}const _w=new A(navigator.userAgent),pw=_w.phone(),ti=pw?ve:Se;function gw({playState:t,cardInfo:i,playWord:n}){return e.jsxs("div",{className:ti.wordPlayButton,onClick:()=>n(),children:[t===""?e.jsx(Re,{isColor:!0,width:24,height:24}):e.jsx(Fe,{isColor:!0,width:24,height:24}),e.jsx("div",{className:ti.txtL,children:i.Question.Text})]})}const yw=new A(navigator.userAgent),fw=yw.phone(),tt=fw?ve:Se;function bw({word:t,phonemeScore:i,changePlayBarState:n}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:tt.speakResultVoca1,children:[e.jsx("div",{className:tt.container,children:i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:tt.wordText,children:t}),e.jsx("div",{className:tt.phonemes,children:i.words.map(o=>e.jsx(e.Fragment,{children:o.phonemes.map(r=>e.jsxs("div",{className:tt.phonemeItem,children:[e.jsx("div",{className:`${tt.phoneme} 
                        ${r.score<30&&tt.red}
                        ${r.score>=30&&r.score<60&&tt.orange}  
                        ${r.score>=60&&tt.green}  
                        `,children:r.phoneme}),e.jsxs("div",{className:tt.phonemeScore,children:[Math.floor(r.score),"%"]})]}))}))})]})}),i&&i.average_phoneme_score>=40?e.jsxs("div",{className:`${tt.signBox} ${tt.goodJob}`,onClick:()=>n(""),children:[e.jsx("div",{className:tt.txt,children:"Good Job"}),e.jsx("div",{className:tt.iconArrow})]}):e.jsxs("div",{className:`${tt.signBox} ${tt.tryAgain}`,onClick:()=>n(""),children:[e.jsx("div",{className:tt.txt,children:"Try Again"}),e.jsx("div",{className:tt.iconArrow})]})]})})}const kw=new A(navigator.userAgent),ww=kw.phone(),on=ww?ve:Se;function Sw({isSpeakResult:t,playState:i,playBarState:n,cardInfo:o,phonemeScore:r,playWord:u,startRecord:l,changePlayBarState:a}){const x=ps();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`${on.wordCard} animate__animated`,children:[e.jsx("div",{className:on.wordImage,children:e.jsx("img",{src:o.Question.Image,width:"100%"})}),n==="recording"&&!t&&e.jsx("div",{className:on.screenBlock}),e.jsxs("div",{className:on.wordText,children:[e.jsx(gw,{playState:i,cardInfo:o,playWord:u}),e.jsx("div",{className:on.btnRec,onClick:()=>{x.micPermission==="denied"?alert(x.alertMessage):l()},children:n==="recording"?e.jsx(Sn,{}):e.jsx("div",{className:on.recIcon})})]})]}),t&&e.jsx(bw,{word:o.Question.Text,phonemeScore:r,changePlayBarState:a})]})}const vw=new A(navigator.userAgent),jw=vw.phone(),zs=jw?ve:Se;function zw({isLastPage:t,quizNo:i,totalQuizCnt:n,changeQuizNo:o}){return e.jsxs("div",{className:zs.indicator,children:[e.jsx("span",{style:t||i>1?{opacity:"1"}:{opacity:".2"},onClick:()=>o(i-1),children:e.jsx("div",{className:zs.iconChevLeft})}),e.jsxs("span",{children:[i," / ",n]}),e.jsx("span",{onClick:()=>o(i+1),children:e.jsx("div",{className:zs.iconChevRight})})]})}const $w=new A(navigator.userAgent),Cw=$w.phone(),Qw=Cw?ve:Se;function Aw({goTest:t}){return e.jsx("div",{className:`${Qw.btnNext} animate__animated animate__flash`,onClick:()=>t(),children:"Next"})}const $s="Vocabulary Practice",Nw=new A(navigator.userAgent),Tw=Nw.phone(),Cs=Tw?ve:Se;function Iw(t){const{t:i}=de(),{studyInfo:n}=c.useContext(ne),o=t.currentStep,{startRecording:r}=_s(),u=ze(()=>{window.onLogoutStudy()}),[l,a]=c.useState("animate__bounceInRight"),{isStepIntro:x,closeStepIntro:_}=je(),[f,k]=c.useState(!1),p=c.useRef(!0),{scoreBoardData:w}=Ce(n.mode),[b,m]=$e(Bi,t,o),[s,h]=c.useState(1),[d,g]=c.useState(!1),{playState:y,playAudio:S,stopAudio:v}=Le(),[L,$]=c.useState(""),[E,z]=c.useState(),[C,M]=c.useState(!1);if(c.useEffect(()=>{!x&&b&&(u.setup(b.QuizTime,!0),D(),p.current=!1)},[x]),c.useEffect(()=>{!x&&b&&(v(),s===b.Quiz.length&&g(!0),D())},[s]),c.useEffect(()=>{b&&y===""&&s===Object.keys(b.Quiz).length&&g(!0)},[y]),c.useEffect(()=>{!x&&!d&&h(1)},[d]),c.useEffect(()=>{E&&M(!0)},[E]),c.useEffect(()=>{L===""&&E&&b?(p.current=!1,z(void 0),M(!1),E.average_phoneme_score>=40&&s+1<=Object.keys(b.Quiz).length&&q(s+1)):L==="reset"&&N("")},[L]),!b)return e.jsx("div",{children:"Loading..."});const q=V=>{v(),V<1?d&&h(Object.keys(b.Quiz).length):V>Object.keys(b.Quiz).length?h(1):h(V)},D=()=>{y===""&&L===""?S(b.Quiz[s-1].Question.Sound):v()},H=V=>{k(V)},W=()=>{v(),t.changeVocaState(!1)},R=()=>{p.current||(p.current=!0,v(),r(b.Quiz[s-1].Question.Text,b.Quiz[s-1].Question.Sound,N,I))},N=V=>{$(V)},I=V=>{z(V)};return e.jsx(e.Fragment,{children:x?e.jsx("div",{className:`animate__animated ${l}`,onAnimationEnd:()=>{l==="animate__bounceOutLeft"&&_()},children:e.jsx(Me,{step:o,quizType:$s,comment:i("study.카드를 넘기면서 단어를 학습하세요."),onStepIntroClozeHandler:()=>{a("animate__bounceOutLeft")}})}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:s,totalQuizCnt:Object.keys(b.Quiz).length,life:b.QuizAnswerCount,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:H}),e.jsx("div",{className:`${Cs.comment} animate__animated animate__fadeInLeft`,children:$s}),e.jsx(Ne,{children:e.jsxs(Be,{typeCSS:Cs.vocabularyPractice1,containerCSS:Cs.container,children:[e.jsx(Sw,{isSpeakResult:C,playState:y,playBarState:L,cardInfo:b.Quiz[s-1],phonemeScore:E,playWord:D,startRecord:R,changePlayBarState:N}),e.jsx(zw,{isLastPage:d,quizNo:s,totalQuizCnt:b.Quiz.length,changeQuizNo:q}),e.jsx(e.Fragment,{children:d&&e.jsx(Aw,{goTest:W})})]})}),f&&e.jsx(Ae,{isSideOpen:f,currentStep:o,currentStepType:$s,quizLength:b.Quiz.length,maxAnswerCount:b.QuizAnswerCount,changeSideMenu:H,scoreBoardData:w,changeStep:t.changeStep})]})})}const Bw="_comment_1vzk9_1",Ew="_wordPlayButton_1vzk9_20",Pw="_txtL_1vzk9_35",Mw="_cardNumber_1vzk9_46",Lw="_hintButton_1vzk9_61",Rw="_hintPopup_1vzk9_84",Fw="_screenBlock_1vzk9_121",qw="_testReview_1vzk9_131",Hw="_title_1vzk9_134",Ow="_container_1vzk9_139",Dw="_sentence_1vzk9_148",Vw="_nextButton_1vzk9_158",Ww="_deactNextButton_1vzk9_180",Gw="_reviewAnswer_1vzk9_206",Uw="_currentOrder_1vzk9_217",Kw="_blink_1vzk9_1",Jw="_currentInput_1vzk9_238",Yw="_otherInput_1vzk9_239",Xw="_enterButton_1vzk9_246",Zw="_hintText_1vzk9_272",eS="_correctAnswer_1vzk9_280",tS="_overLength_1vzk9_295",nS="_vocabularyTest1_1vzk9_299",sS="_questionBox_1vzk9_304",oS="_wordImage_1vzk9_320",iS="_wordText_1vzk9_329",rS="_textCard_1vzk9_335",aS="_correct_1vzk9_280",cS="_incorrect_1vzk9_375",uS="_awnserText_1vzk9_384",lS="_answers_1vzk9_388",dS="_vocabularyTest2_1vzk9_395",mS="_blank_1vzk9_442",xS="_vocabularyTest3_1vzk9_526",hS="_wordCard_1vzk9_539",_S="_wordTyping_1vzk9_539",pS="_textField_1vzk9_543",gS="_inputField_1vzk9_551",yS="_count_1vzk9_608",fS="_enterIcon_1vzk9_630",bS="_meaning_1vzk9_640",kS="_txtP_1vzk9_648",wS="_vocabularyTest4_1vzk9_654",Oe={comment:Bw,wordPlayButton:Ew,txtL:Pw,cardNumber:Mw,hintButton:Lw,hintPopup:Rw,screenBlock:Fw,testReview:qw,title:Hw,container:Ow,sentence:Dw,nextButton:Vw,deactNextButton:Ww,reviewAnswer:Gw,currentOrder:Uw,blink:Kw,currentInput:Jw,otherInput:Yw,enterButton:Xw,hintText:Zw,correctAnswer:eS,overLength:tS,vocabularyTest1:nS,questionBox:sS,wordImage:oS,wordText:iS,textCard:rS,correct:aS,incorrect:cS,awnserText:uS,answers:lS,vocabularyTest2:dS,blank:mS,vocabularyTest3:xS,wordCard:hS,wordTyping:_S,textField:pS,inputField:gS,count:yS,enterIcon:fS,meaning:bS,txtP:kS,vocabularyTest4:wS},SS="_comment_13cyr_1",vS="_wordPlayButton_13cyr_20",jS="_txtL_13cyr_35",zS="_cardNumber_13cyr_47",$S="_hintButton_13cyr_62",CS="_hintPopup_13cyr_85",QS="_screenBlock_13cyr_122",AS="_testReview_13cyr_132",NS="_title_13cyr_132",TS="_container_13cyr_137",IS="_sentence_13cyr_146",BS="_nextButton_13cyr_155",ES="_deactNextButton_13cyr_177",PS="_reviewAnswer_13cyr_198",MS="_currentOrder_13cyr_209",LS="_blink_13cyr_1",RS="_currentInput_13cyr_230",FS="_otherInput_13cyr_231",qS="_enterButton_13cyr_238",HS="_hintText_13cyr_264",OS="_correctAnswer_13cyr_272",DS="_overLength_13cyr_287",VS="_vocabularyTest1_13cyr_291",WS="_questionBox_13cyr_296",GS="_wordImage_13cyr_311",US="_wordText_13cyr_320",KS="_textCard_13cyr_326",JS="_correct_13cyr_272",YS="_incorrect_13cyr_360",XS="_awnserText_13cyr_369",ZS="_answers_13cyr_373",ev="_vocabularyTest2_13cyr_380",tv="_blank_13cyr_426",nv="_vocabularyTest3_13cyr_505",sv="_wordCard_13cyr_518",ov="_wordTyping_13cyr_521",iv="_textField_13cyr_525",rv="_inputField_13cyr_533",av="_count_13cyr_590",cv="_enterIcon_13cyr_612",uv="_meaning_13cyr_622",lv="_txtP_13cyr_631",dv="_vocabularyTest4_13cyr_637",De={comment:SS,wordPlayButton:vS,txtL:jS,cardNumber:zS,hintButton:$S,hintPopup:CS,screenBlock:QS,testReview:AS,title:NS,container:TS,sentence:IS,nextButton:BS,deactNextButton:ES,reviewAnswer:PS,currentOrder:MS,blink:LS,currentInput:RS,otherInput:FS,enterButton:qS,hintText:HS,correctAnswer:OS,overLength:DS,vocabularyTest1:VS,questionBox:WS,wordImage:GS,wordText:US,textCard:KS,correct:JS,incorrect:YS,awnserText:XS,answers:ZS,vocabularyTest2:ev,blank:tv,vocabularyTest3:nv,wordCard:sv,wordTyping:ov,textField:iv,inputField:rv,count:av,enterIcon:cv,meaning:uv,txtP:lv,vocabularyTest4:dv},mv=new A(navigator.userAgent),xv=mv.phone(),ni=xv?De:Oe;function hv({img:t}){return e.jsx("div",{className:ni.questionBox,children:e.jsx("div",{className:ni.wordImage,children:e.jsx("img",{src:t,width:"100%"})})})}const _v=new A(navigator.userAgent),pv=_v.phone(),Yn=pv?De:Oe;function gv({index:t,text:i,correctText:n,checkAnswer:o,onAnimationEndHandler:r}){const{bookInfo:u,studyInfo:l}=c.useContext(ne);return e.jsxs("div",{className:`${Yn.textCard} 
      ${l.mode==="Review"&&Number(u.Average)>=70&&i===n?Yn.correct:""}
      animate__animated`,onClick:a=>o(a.currentTarget,i),onAnimationEnd:a=>r(a),children:[e.jsx("div",{className:Yn.cardNumber,children:t}),e.jsx("div",{className:Yn.awnserText,children:i})]})}const yv=new A(navigator.userAgent),fv=yv.phone(),bv=fv?De:Oe;function kv({exampleData:t,correctText:i,checkAnswer:n,onAnimationEndHandler:o}){return e.jsx("div",{className:bv.answers,children:t.map((r,u)=>e.jsx(gv,{index:u+1,text:r.Text,correctText:i,checkAnswer:n,onAnimationEndHandler:o}))})}const wv=new A(navigator.userAgent),lo=wv.phone(),Xn="Vocabulary Test",Nt=lo?De:Oe;function Sv(t){const{t:i}=de(),{handler:n,studyInfo:o}=c.useContext(ne),r=t.currentStep,u=ze(()=>{I(void 0)}),l=dt(),[a,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:f}=je(),{isResultShow:k,changeResultShow:p}=He(),[w,b]=c.useState(!1),m=c.useRef(!1),[s,h]=$e(uk,t,r),[d,g]=c.useState(1),{scoreBoardData:y,setStudentAnswers:S,addStudentAnswer:v,makeUserAnswerData:L}=Ce(o.mode),[$,E]=c.useState([]),[z,C]=c.useState(0),[M,q]=c.useState(0),{bottomPopupState:D,changeBottomPopupState:H}=Xe(),{playAudio:W}=Le(),R=c.useRef(null),N=c.useRef(null);if(c.useEffect(()=>{!_&&s&&(u.setup(s.QuizTime,!0),R.current&&N.current&&(u.setup(s.QuizTime,!0),l.remove(R.current,["animate__fadeInRight"]),l.remove(N.current,["animate__fadeInRight"])),m.current=!1)},[_]),c.useEffect(()=>{if(s)try{const[B,Q]=ut(o.mode,h,s.QuizAnswerCount);C(Q),q(Q),o.mode==="Super"?E(s.Quiz[B-1].Examples):E(_e.shuffle(s.Quiz[B-1].Examples)),S(h,s.QuizAnswerCount),g(B)}catch(B){console.error(B)}},[s]),c.useEffect(()=>{!_&&!k&&s&&(u.setup(s.QuizTime,!0),R.current&&N.current&&(l.play(R.current,["animate__fadeInRight"]),l.play(N.current,["animate__fadeInRight"])),C(0),q(0),o.mode==="Super"?E(s.Quiz[d-1].Examples):E(_e.shuffle(s.Quiz[d-1].Examples)),setTimeout(()=>{R.current&&N.current&&(u.setup(s.QuizTime,!0),l.remove(R.current,["animate__fadeInRight"]),l.remove(N.current,["animate__fadeInRight"])),m.current=!1},1e3))},[d]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const I=async(B=void 0,Q="quiz time over")=>{try{if(!m.current){m.current=!0;const T=s.Quiz[d-1].Question.Text===Q,F={quizNo:d,maxCount:s.QuizAnswerCount,answerCount:z+1,ox:T},X=L({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:s.Quiz[d-1].QuizId,quizNo:s.Quiz[d-1].QuizNo,currentQuizNo:d,correct:s.Quiz[d-1].Question.Text,selectedAnswer:Q,tryCount:z+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:T,answerData:F,isFinishStudy:t.lastStep===r});u.stop();const te=await Te(o.mode,X);Number(te.result)===0&&(te.resultMessage&&(n.finishStudy={id:Number(te.result),cause:te.resultMessage}),T||q(M+1),C(z+1),v(F),V(B,T,z+1))}}catch(T){console.error(T)}},V=(B,Q,T)=>{u.stop(),H({isActive:!0,isCorrect:Q}),B?Q?l.play(B,["animate__fadeIn",Nt.correct]):l.play(B,["animate__headShake",Nt.incorrect]):O(T)},U=B=>{const Q=B.currentTarget;setTimeout(()=>{if(H({isActive:!1,isCorrect:!1}),!!l.isContain(Q,"animate__fadeIn")){const F=()=>{l.remove(Q,["animate__fadeIn",Nt.correct]),d+1>s.Quiz.length?p(!0):g(d+1)};W(s.Quiz[d-1].Question.Sound,F)}else if(z>=s.QuizAnswerCount)if(d+1>s.Quiz.length){const F=()=>{l.remove(Q,["animate__headShake",Nt.incorrect]),p(!0)};W(s.Quiz[d-1].Question.Sound,F)}else{const F=()=>{l.remove(Q,["animate__headShake",Nt.incorrect]),g(d+1)};W(s.Quiz[d-1].Question.Sound,F)}else l.remove(Q,["animate__headShake",Nt.incorrect]),u.setup(s.QuizTime,!0),m.current=!1},1500)},O=B=>{setTimeout(()=>{if(H({isActive:!1,isCorrect:!1}),B>=s.QuizAnswerCount)if(d+1>s.Quiz.length){const Q=()=>{p(!0)};W(s.Quiz[d-1].Question.Sound,Q)}else{const Q=()=>{g(d+1)};W(s.Quiz[d-1].Question.Sound,Q)}else u.setup(s.QuizTime,!0),m.current=!1},1e3)},G=B=>{b(B)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${a}`,onAnimationEnd:()=>{a==="animate__bounceOutLeft"&&f()},children:e.jsx(Me,{step:r,quizType:Xn,comment:i("study.그림을 보고 알맞은 단어를 고르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:k?e.jsx(e.Fragment,{children:e.jsx(rt,{step:r,quizType:Xn,quizAnswerCount:s.QuizAnswerCount,studentAnswer:y,onFinishActivity:t.onFinishActivity})}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:d,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-M,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:G}),e.jsx("div",{className:`${Nt.comment} animate__animated animate__fadeInLeft`,children:Xn}),e.jsxs(Ne,{children:[lo?e.jsx(e.Fragment,{}):e.jsx(Z,{height:15}),e.jsxs(Be,{typeCSS:Nt.vocabularyTest1,containerCSS:Nt.container,children:[e.jsx(hv,{img:s.Quiz[d-1].Question.Image}),e.jsx(Z,{height:20}),e.jsx(kv,{exampleData:$,correctText:s.Quiz[d-1].Question.Text,checkAnswer:I,onAnimationEndHandler:U})]}),lo?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),w&&e.jsx(Ae,{isSideOpen:w,currentStep:r,currentStepType:Xn,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:G,scoreBoardData:y,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:D})]})})})}const vv=new A(navigator.userAgent),jv=vv.phone(),si=jv?ve:Se;function zv({multiPlayState:t,cardInfo:i,playWord:n}){return e.jsxs("div",{className:si.wordPlayButton,onClick:()=>n(),children:[t.playState==="playing"&&t.playType==="word"?e.jsx(Fe,{isColor:!0,width:24,height:24}):e.jsx(Re,{isColor:!0,width:24,height:24}),e.jsx("div",{className:si.txtL,children:i.Question.Word})]})}const $v=new A(navigator.userAgent),Cv=$v.phone(),oi=Cv?ve:Se;function Qv({multiPlayState:t,cardInfo:i,playSentence:n}){return e.jsxs("div",{className:oi.wordPlayButton,onClick:()=>n(),children:[t.playState==="playing"&&t.playType==="sentence"?e.jsx(Fe,{isColor:!0,width:24,height:24}):e.jsx(Re,{isColor:!0,width:24,height:24}),e.jsx("div",{className:oi.txtP,children:dn(i.Question.Text,i.Question.Word,()=>e.jsx("span",{style:{color:"#f15144"},children:i.Question.Word}))})]})}const Av=new A(navigator.userAgent),Nv=Av.phone(),nt=Nv?ve:Se;function Tv({word:t,phonemeScore:i,changePlayBarState:n}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:nt.speakResultVoca2,children:[e.jsx("div",{className:nt.container,children:i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:nt.wordText,children:t}),e.jsx("div",{className:nt.phonemes,children:i.words.map(o=>e.jsx(e.Fragment,{children:o.phonemes.map(r=>e.jsxs("div",{className:nt.phonemeItem,children:[e.jsx("div",{className:`${nt.phoneme} 
                        ${r.score<30&&nt.red}
                        ${r.score>=30&&r.score<60&&nt.orange}  
                        ${r.score>=60&&nt.green}  
                        `,children:r.phoneme}),e.jsxs("div",{className:nt.phonemeScore,children:[Math.floor(r.score),"%"]})]}))}))})]})}),i&&i.average_phoneme_score>=40?e.jsxs("div",{className:`${nt.signBox} ${nt.goodJob}`,onClick:()=>n(""),children:[e.jsx("div",{className:nt.txt,children:"Good Job"}),e.jsx("div",{className:nt.iconArrow})]}):e.jsxs("div",{className:`${nt.signBox} ${nt.tryAgain}`,onClick:()=>n(""),children:[e.jsx("div",{className:nt.txt,children:"Try Again"}),e.jsx("div",{className:nt.iconArrow})]})]})})}const Iv=new A(navigator.userAgent),Bv=Iv.phone(),Et=Bv?ve:Se;function Ev({isSpeakResult:t,playBarState:i,cardInfo:n,multiPlayState:o,phonemeScore:r,playWord:u,startRecord:l,playSentence:a,changePlayBarState:x}){const _=ps();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`${Et.wordCard} animate__animated animate__slideInRight`,children:[e.jsx("div",{className:Et.wordImage,children:e.jsx("img",{src:n.Question.Image,width:"100%"})}),i==="recording"&&!t&&e.jsx("div",{className:Et.screenBlock}),e.jsxs("div",{className:`${Et.wordText} ${Et.word}`,children:[e.jsx(zv,{multiPlayState:o,cardInfo:n,playWord:u}),e.jsx("div",{className:Et.btnRec,onClick:()=>{_.micPermission==="denied"?alert(_.alertMessage):l()},children:i==="recording"?e.jsx(Sn,{}):e.jsx("div",{className:Et.recIcon})})]}),e.jsx("div",{className:Et.wordText,children:e.jsx(Qv,{multiPlayState:o,cardInfo:n,playSentence:a})})]}),t&&e.jsx(Tv,{word:n.Question.Word,phonemeScore:r,changePlayBarState:x})]})}const Pv=new A(navigator.userAgent),Mv=Pv.phone(),Qs=Mv?ve:Se;function Lv({isLastPage:t,quizNo:i,totalQuizCnt:n,changeQuizNo:o}){return e.jsxs("div",{className:Qs.indicator,children:[e.jsx("span",{style:t||i>1?{opacity:"1"}:{opacity:".2"},onClick:()=>o(i-1),children:e.jsx("div",{className:Qs.iconChevLeft})}),e.jsxs("span",{children:[i," / ",n]}),e.jsx("span",{onClick:()=>o(i+1),children:e.jsx("div",{className:Qs.iconChevRight})})]})}const Rv=new A(navigator.userAgent),Fv=Rv.phone(),qv=Fv?ve:Se;function Hv({goTest:t}){return e.jsx("div",{className:`${qv.btnNext} animate__animated animate__flash`,onClick:()=>t(),children:"Next"})}const Ov=new A(navigator.userAgent),Dv=Ov.phone(),As="Vocabulary Practice",Ns=Dv?ve:Se;function Vv(t){const{t:i}=de(),{studyInfo:n}=c.useContext(ne),o=t.currentStep,{startRecording:r}=_s(),u=ze(()=>{window.onLogoutStudy()}),[l,a]=c.useState("animate__bounceInRight"),{isStepIntro:x,closeStepIntro:_}=je(),[f,k]=c.useState(!1),p=c.useRef(!0),{scoreBoardData:w}=Ce(n.mode),[b,m]=$e(Ei,t,o),[s,h]=c.useState(1),[d,g]=c.useState(!1),{playAudio:y,stopAudio:S}=Le(),[v,L]=c.useState({playState:"",playType:""}),[$,E]=c.useState(""),[z,C]=c.useState(),[M,q]=c.useState(!1);if(c.useEffect(()=>{!x&&b&&(u.setup(b.QuizTime,!0),setTimeout(()=>{R()},500),p.current=!1)},[x]),c.useEffect(()=>{!x&&b&&(S(),s===b.Quiz.length&&g(!0),R())},[s]),c.useEffect(()=>{b&&v.playState===""&&s===Object.keys(b.Quiz).length&&(g(!0),S())},[v]),c.useEffect(()=>{!x&&!d&&h(1)},[d]),c.useEffect(()=>{z&&q(!0)},[z]),c.useEffect(()=>{$===""&&z&&b?(p.current=!1,C(void 0),q(!1),z.average_phoneme_score>=40&&s+1<=Object.keys(b.Quiz).length&&D(s+1)):$==="reset"&&U("")},[$]),!b)return e.jsx("div",{children:"Loading..."});const D=G=>{G<1?d&&h(Object.keys(b.Quiz).length):G>Object.keys(b.Quiz).length?h(1):h(G)},H=()=>{if(S(),v.playState==="playing"&&v.playType==="word")L({playState:"",playType:""});else{L({playState:"playing",playType:"word"});const G=()=>{L({playState:"",playType:""})};y(b.Quiz[s-1].Question.WordSound,G)}},W=()=>{if(S(),v.playState==="playing"&&v.playType==="sentence")L({playState:"",playType:""});else{L({playState:"playing",playType:"sentence"});const G=()=>{L({playState:"",playType:""})};y(b.Quiz[s-1].Question.Sound,G)}},R=()=>{S(),L({playState:"playing",playType:"word"});const G=()=>{L({playState:"",playType:""})},B=()=>{L({playState:"playing",playType:"sentence"}),y(b.Quiz[s-1].Question.Sound,G)};y(b.Quiz[s-1].Question.WordSound,B)},N=G=>{k(G)},I=()=>{S(),t.changeVocaState(!1)},V=()=>{p.current||(p.current=!0,S(),L({playState:"",playType:""}),r(b.Quiz[s-1].Question.Word,b.Quiz[s-1].Question.WordSound,U,O))},U=G=>{E(G)},O=G=>{C(G)};return e.jsx(e.Fragment,{children:x?e.jsx("div",{className:`animate__animated ${l}`,onAnimationEnd:()=>{l==="animate__bounceOutLeft"&&_()},children:e.jsx(Me,{step:o,quizType:As,comment:i("study.카드를 넘기면서 단어를 학습하세요."),onStepIntroClozeHandler:()=>{a("animate__bounceOutLeft")}})}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:s,totalQuizCnt:Object.keys(b.Quiz).length,life:b.QuizAnswerCount,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:N}),e.jsx("div",{className:`${Ns.comment} animate__animated animate__fadeInLeft`,children:As}),e.jsx(Ne,{children:e.jsxs(Be,{typeCSS:Ns.vocabularyPractice2,containerCSS:Ns.container,children:[e.jsx(Ev,{isSpeakResult:M,playBarState:$,cardInfo:b.Quiz[s-1],phonemeScore:z,multiPlayState:v,playWord:H,startRecord:V,playSentence:W,changePlayBarState:U}),e.jsx(Lv,{isLastPage:d,quizNo:s,totalQuizCnt:b.Quiz.length,changeQuizNo:D}),e.jsx(e.Fragment,{children:d&&e.jsx(Hv,{goTest:I})})]})}),f&&e.jsx(Ae,{isSideOpen:f,currentStep:o,currentStepType:As,quizLength:b.Quiz.length,maxAnswerCount:b.QuizAnswerCount,changeSideMenu:N,scoreBoardData:w,changeStep:t.changeStep})]})})}const Wv=new A(navigator.userAgent),Gv=Wv.phone(),Ts=Gv?De:Oe;function Uv({src:t,sentence:i,blankWord:n}){let o="";for(let r=0;r<n.length;r++)o+="_";return e.jsxs("div",{className:Ts.questionBox,children:[e.jsx("div",{className:Ts.wordImage,children:e.jsx("img",{src:t,width:"100%"})}),e.jsxs("div",{className:Ts.wordText,children:[i.split(n)[0]," ",o,i.split(n)[1]]})]})}const Kv=new A(navigator.userAgent),Jv=Kv.phone(),Zn=Jv?De:Oe;function Yv({index:t,correctText:i,exampleData:n,checkAnswer:o,onAnimationEndHandler:r}){const{bookInfo:u,studyInfo:l}=c.useContext(ne);return e.jsxs("div",{className:`${Zn.textCard}
      ${l.mode==="Review"&&Number(u.Average)>=70&&n.Text===i?Zn.correct:""}`,onClick:a=>o(a.currentTarget,n.Text),onAnimationEnd:a=>r(a),children:[e.jsx("div",{className:Zn.cardNumber,children:Number(t+1)}),e.jsx("div",{className:Zn.awnserText,children:n.Text})]})}const Xv=new A(navigator.userAgent),Zv=Xv.phone(),e2=Zv?De:Oe;function t2({correctText:t,exampleData:i,checkAnswer:n,onAnimationEndHandler:o}){return e.jsx("div",{className:e2.answers,children:i.map((r,u)=>e.jsx(Yv,{index:u,correctText:t,exampleData:r,checkAnswer:n,onAnimationEndHandler:o},`e-0${u}`))})}const n2=new A(navigator.userAgent),mo=n2.phone(),es="Vocabulary Test",Tt=mo?De:Oe;function s2(t){const{t:i}=de(),{handler:n,studyInfo:o}=c.useContext(ne),r=t.currentStep,u=ze(()=>{window.onLogoutStudy()}),l=dt(),[a,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:f}=je(),{isResultShow:k,changeResultShow:p}=He(),[w,b]=c.useState(!1),m=c.useRef(!0),[s,h]=$e(lk,t,r),[d,g]=c.useState(1),{scoreBoardData:y,setStudentAnswers:S,addStudentAnswer:v,makeUserAnswerData:L}=Ce(o.mode),[$,E]=c.useState([]),[z,C]=c.useState(0),[M,q]=c.useState(0),{bottomPopupState:D,changeBottomPopupState:H}=Xe(),{playAudio:W}=Le(),R=c.useRef(null),N=c.useRef(null);if(c.useEffect(()=>{!_&&s&&(u.setup(s.QuizTime,!0),R.current&&N.current&&(l.remove(R.current,["animate__fadeInRight"]),l.remove(N.current,["animate__fadeInRight"])),m.current=!1)},[_]),c.useEffect(()=>{if(s)try{const[G,B]=ut(o.mode,h,s.QuizAnswerCount);C(B),q(B),o.mode==="Super"?E(s.Quiz[G-1].Examples):E(_e.shuffle(s.Quiz[G-1].Examples)),S(h,s.QuizAnswerCount),g(G)}catch(G){console.error(G)}},[s]),c.useEffect(()=>{!_&&!k&&s&&(u.setup(s.QuizTime,!0),R.current&&N.current&&(l.play(R.current,["animate__fadeInRight"]),l.play(N.current,["animate__fadeInRight"])),C(0),q(0),o.mode==="Super"?E(s.Quiz[d-1].Examples):E(_e.shuffle(s.Quiz[d-1].Examples)),setTimeout(()=>{R.current&&N.current&&(l.remove(R.current,["animate__fadeInRight"]),l.remove(N.current,["animate__fadeInRight"])),m.current=!1},1e3))},[d]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const I=async(G,B)=>{try{if(!m.current){m.current=!0;const Q=s.Quiz[d-1].Examples[0].Text===B,T={quizNo:d,maxCount:s.QuizAnswerCount,answerCount:z+1,ox:Q},F=L({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:s.Quiz[d-1].QuizId,quizNo:s.Quiz[d-1].QuizNo,currentQuizNo:d,correct:s.Quiz[d-1].Examples[0].Text,selectedAnswer:B,tryCount:z+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:Q,answerData:T,isFinishStudy:t.lastStep===r});u.stop();const X=await Te(o.mode,F);Number(X.result)===0&&(X.resultMessage&&(n.finishStudy={id:Number(X.result),cause:X.resultMessage}),Q||q(M+1),C(z+1),v(T),V(G,Q))}}catch(Q){console.error(Q)}},V=(G,B)=>{H({isActive:!0,isCorrect:B}),B?l.play(G,["animate__fadeIn",Tt.correct]):l.play(G,["animate__headShake",Tt.incorrect])},U=G=>{const B=G.currentTarget,Q=!!l.isContain(B,"animate__fadeIn");setTimeout(()=>{if(H({isActive:!1,isCorrect:!1}),Q){const T=()=>{l.remove(B,["animate__fadeIn",Tt.correct]),d+1>s.Quiz.length?p(!0):g(d+1)};W(s.Quiz[d-1].Question.Sound,T)}else z>=s.QuizAnswerCount?d+1>s.Quiz.length?W(s.Quiz[d-1].Question.Sound,()=>{l.remove(B,["animate__headShake",Tt.incorrect]),p(!0)}):W(s.Quiz[d-1].Question.Sound,()=>{l.remove(B,["animate__headShake",Tt.incorrect]),g(d+1)}):(l.remove(B,["animate__headShake",Tt.incorrect]),u.setup(s.QuizTime,!0),R.current&&N.current&&(l.remove(R.current,["animate__fadeInRight"]),l.remove(N.current,["animate__fadeInRight"])),m.current=!1)},1e3)},O=G=>{b(G)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${a}`,onAnimationEnd:()=>{a==="animate__bounceOutLeft"&&f()},children:e.jsx(Me,{step:r,quizType:es,comment:i("study.그림과 문장의 빈칸을 보고 알맞은 단어를 고르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:k?e.jsx(e.Fragment,{children:e.jsx(rt,{step:r,quizType:es,quizAnswerCount:s.QuizAnswerCount,studentAnswer:y,onFinishActivity:t.onFinishActivity})}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:d,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-M,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:O}),e.jsx("div",{className:`${Tt.comment} animate__animated animate__fadeInLeft`,children:es}),e.jsxs(Ne,{children:[mo?e.jsx(e.Fragment,{}):e.jsx(Z,{height:15}),e.jsxs(Be,{typeCSS:Tt.vocabularyTest2,containerCSS:Tt.container,children:[e.jsx(Uv,{src:s.Quiz[d-1].Question.Image,sentence:s.Quiz[d-1].Question.Text,blankWord:s.Quiz[d-1].Examples[0].Text}),e.jsx(Z,{height:20}),e.jsx(t2,{correctText:s.Quiz[d-1].Examples[0].Text,exampleData:$,checkAnswer:I,onAnimationEndHandler:U})]}),mo?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),w&&e.jsx(Ae,{isSideOpen:w,currentStep:r,currentStepType:es,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:O,scoreBoardData:y,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:D})]})})})}const o2=new A(navigator.userAgent),i2=o2.phone(),Pt=i2?jt:vt;function r2({goVocaTest:t,changeRetry:i}){const n=Xt();return e.jsxs("div",{className:Pt.testResult,children:[e.jsx("div",{className:`${Pt.quizType} ${Pt.nextToVocaTest}`,children:"Begin Vocabulary Test?"}),e.jsx(Z,{height:30}),e.jsxs("div",{className:`${Pt.container} ${Pt.borderNone}`,children:[e.jsx("div",{className:`${Pt.readingUnit} animate__animated animate__jackInTheBox`,children:e.jsx("img",{src:`https://wcfresource.a1edu.com/newsystem/image/character/subcharacter/${n}_10.png`,alt:""})}),e.jsx(Z,{height:50})]}),e.jsx("div",{className:Pt.goButton,onClick:()=>{t()},children:"Go!"}),e.jsx(Z,{height:20}),e.jsx("div",{className:Pt.notYetButton,onClick:()=>{i(!0)},children:"Not yet"})]})}const a2=new A(navigator.userAgent),c2=a2.phone(),u2=c2?ve:Se;function l2({playState:t,playWord:i}){return e.jsx("div",{className:u2.wordPlayButton2,onClick:()=>i(),tabIndex:-1,children:t==="playing"?e.jsx(Fe,{isColor:!0,width:34,height:34}):e.jsx(Re,{isColor:!0,width:34,height:34})})}const d2=new A(navigator.userAgent),m2=d2.phone(),rn=m2?ve:Se;function x2({isSideOpen:t,isEnabledTyping:i,quizData:n,quizNo:o,tryCount:r,inputVal:u,disabled:l,changeInputVal:a,checkAnswer:x}){const _=c.useRef(null);c.useEffect(()=>{const p=()=>{_.current&&(t?_.current.blur():_.current.focus())};return p(),window.addEventListener("click",p),()=>{window.removeEventListener("click",p)}},[t]);const f=p=>{p.preventDefault();const w=/^[ㄱ-ㅎa-zA-Z-'~ ]+(?:'){0,1}[a-zA-Z]?$/g;let b=p.currentTarget.value;w.test(b)||(b=b.slice(0,b.length-1)),a(b)},k=p=>{(p.currentTarget.value===n.Quiz[o-1].Question.Text||p.key==="Enter")&&x()};return e.jsxs("div",{className:rn.textField,children:[e.jsx("input",{ref:_,className:`${rn.inputField} ${n.Quiz[o-1].Question.Text.length>20?rn.overLength:""}`,type:"text",value:u,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search",onChange:p=>f(p),onKeyUp:p=>k(p),onCopy:p=>p.preventDefault(),onPaste:p=>p.preventDefault(),disabled:!i||l,autoFocus:!0,tabIndex:-1}),e.jsx("div",{className:`${rn.wordText} ${n.Quiz[o-1].Question.Text.length>20?rn.overLength:""}`,children:n.Quiz[o-1].Question.Text}),e.jsxs("div",{className:rn.count,children:[r+1," / ",n.QuizAnswerCount]})]})}const h2=new A(navigator.userAgent),_2=h2.phone(),bo=_2?ve:Se,p2=({meanData:t,mainMeanLang:i})=>{const n=_e.upperFirst(i);let o="";switch(n){case"Korean":case"Chinese":case"Japanese":case"Vietnamese":case"Indonesian":o=t.Question[n];break;case"English":t.Question.English!==""&&t.Question.Britannica!==""||t.Question.English===""&&t.Question.Britannica!==""?o=t.Question.Britannica:t.Question.English!==""&&t.Question.Britannica===""&&(o=t.Question[n]);break;default:o=t.Question.Korean}return e.jsxs("div",{className:bo.txtL,children:[t.Question.SpeechPart,". ",o]})},g2=({meanData:t,mainMeanLang:i})=>{const n=_e.upperFirst(i);let o="";return n==="English"?e.jsx(e.Fragment,{}):(o=t.Question.Britannica!==""?t.Question.Britannica:t.Question.English,e.jsxs("div",{className:bo.txtP,children:[t.Question.SpeechPart,". ",o]}))};function y2({meanData:t,mainMeanLang:i}){return e.jsxs("div",{className:bo.meaning,children:[e.jsx(p2,{meanData:t,mainMeanLang:i}),e.jsx(Z,{height:10}),e.jsx(g2,{meanData:t,mainMeanLang:i})]})}const f2=new A(navigator.userAgent),b2=f2.phone(),st=b2?ve:Se;function k2({word:t,phonemeScore:i,changePlayBarState:n}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:st.speakResult,children:i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:st.word,children:t}),e.jsx("div",{className:st.phonemes,children:i.words.map(o=>e.jsx(e.Fragment,{children:o.phonemes.map(r=>e.jsxs("div",{className:st.phonemeItem,children:[e.jsx("div",{className:`${st.phoneme} 
                        ${r.score<30&&st.red}
                        ${r.score>=30&&r.score<60&&st.orange}  
                        ${r.score>=60&&st.green}  
                        `,children:r.phoneme}),e.jsxs("div",{className:st.phonemeScore,children:[Math.floor(r.score),"%"]})]}))}))})]})}),e.jsx("div",{className:st.speakResultSign,onClick:()=>n(""),children:i&&i.average_phoneme_score>=40?e.jsxs("div",{className:`${st.signBox} ${st.goodJob}`,children:[e.jsx("div",{className:st.txt,children:"Good Job"}),e.jsx("div",{className:st.iconArrow})]}):e.jsxs("div",{className:`${st.signBox} ${st.tryAgain}`,children:[e.jsx("div",{className:st.txt,children:"Try Again"}),e.jsx("div",{className:st.iconArrow})]})})]})}const w2=new A(navigator.userAgent),S2=w2.phone(),v2=S2?ve:Se;function j2({checkAnswer:t}){return e.jsxs("div",{className:v2.skipButton,onClick:()=>t("user press skip"),children:[e.jsx("span",{children:"SKIP"}),e.jsx(gc,{width:14,height:14})]})}const z2=new A(navigator.userAgent),Ri=z2.phone(),an=Ri?ve:Se;function $2({isSideOpen:t,inputVal:i,playBarState:n,playState:o,quizData:r,quizNo:u,tryCount:l,isSpeakResult:a,phonemeScore:x,playWord:_,startRecord:f,checkAnswer:k,changeInputVal:p,changePlayBarState:w}){return e.jsxs("div",{className:an.wordCard,children:[e.jsxs("div",{className:an.wordTyping,children:[e.jsx(l2,{playState:o,playWord:_}),e.jsx(x2,{isSideOpen:t,isEnabledTyping:r.IsEnabledTyping,quizData:r,quizNo:u,tryCount:l,inputVal:i,disabled:n==="recording",changeInputVal:p,checkAnswer:k}),i===""?e.jsx("div",{className:an.btnRec,onClick:()=>{f()},children:n==="recording"?e.jsx(Sn,{}):e.jsx("div",{className:an.recIcon})}):e.jsx("div",{className:an.enterButton,onClick:()=>k(),children:e.jsx("div",{className:an.enterIcon})})]}),r.IsSkipAvailable&&e.jsx(j2,{checkAnswer:k}),e.jsx(Z,{height:Ri?30:20}),a?e.jsx(e.Fragment,{children:e.jsx(k2,{word:r.Quiz[u-1].Question.Text,phonemeScore:x,changePlayBarState:w})}):e.jsx(e.Fragment,{children:e.jsx(y2,{meanData:r.Quiz[u-1],mainMeanLang:r.MainMeanLanguage})})]})}const C2=new A(navigator.userAgent),Q2=C2.phone(),Is="Vocabulary Practice",Bs=Q2?ve:Se;function A2(t){const{t:i}=de(),{handler:n,studyInfo:o}=c.useContext(ne),r=t.currentStep,{startRecording:u}=_s(),l=ze(()=>{window.onLogoutStudy()}),[a,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:f}=je(),{isResultShow:k,changeResultShow:p}=He(),[w,b]=c.useState(!1),m=c.useRef(!0),[s,h]=$e(Pi,t,`${r}P`),[d,g]=c.useState(1),{scoreBoardData:y,setStudentAnswers:S,addStudentAnswer:v,resetStudentAnswer:L,makeUserAnswerData:$}=Ce(o.mode),[E,z]=c.useState(0),[C,M]=c.useState(""),{playState:q,playAudio:D,stopAudio:H}=Le(),[W,R]=c.useState(!1),[N,I]=c.useState(""),[V,U]=c.useState(),[O,G]=c.useState(!1);if(c.useEffect(()=>{!_&&s&&(l.setup(s.QuizTime,!0),T(),m.current=!1)},[_]),c.useEffect(()=>{if(s){const[re,se]=$a(o.mode,h,s.QuizAnswerCount);s.Quiz.length<re?X():(h.length>0&&S(h,s.QuizAnswerCount),z(se),g(re))}},[s]),c.useEffect(()=>{s&&!_&&(M(""),z(0),T(),m.current=!1)},[d]),c.useEffect(()=>{k&&R(!1)},[k]),c.useEffect(()=>{W&&(L(),g(1),p(!1))},[W]),c.useEffect(()=>{V&&G(!0)},[V]),c.useEffect(()=>{N===""&&V?(m.current=!1,U(void 0),G(!1),V.average_phoneme_score>=40&&B("speaking correctly")):N==="reset"&&ue("")},[N]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const B=async re=>{try{if(!m.current)if(m.current=!0,s.IsEnabledTyping){let se=s.Quiz[d-1].Question.Text===C;if(re==="speaking correctly"&&(se=!0),se){let P;const J={quizNo:d,maxCount:s.QuizAnswerCount,answerCount:E+1,ox:se},Y=$({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:"2P",quizId:s.Quiz[d-1].QuizId,quizNo:s.Quiz[d-1].QuizNo,currentQuizNo:d,correct:s.Quiz[d-1].Question.Text,selectedAnswer:s.Quiz[d-1].Question.Text,tryCount:E+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:se,answerData:J,isFinishStudy:`${t.lastStep}`=="2P"});W?E+1>=s.QuizAnswerCount?d+1>s.Quiz.length?P={result:"0",resultMessage:"finish"}:P={result:"0",resultMessage:""}:P={result:"0",resultMessage:""}:P=await Te(o.mode,Y),Number(P.result)===0&&(P.resultMessage&&(n.finishStudy={id:Number(P.result),cause:P.resultMessage}),v(J),z(E+1),E+1>=s.QuizAnswerCount?d+1>s.Quiz.length?p(!0):g(d+1):(M(""),T(),m.current=!1))}else if(s.IsSkipAvailable&&re){H();const P={quizNo:d,maxCount:s.QuizAnswerCount,answerCount:E+1,ox:re==="speaking correctly"?!0:se};let J;const Y=$({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:"2P",quizId:s.Quiz[d-1].QuizId,quizNo:s.Quiz[d-1].QuizNo,currentQuizNo:d,correct:s.Quiz[d-1].Question.Text,selectedAnswer:re==="speaking correctly"?s.Quiz[d-1].Question.Text:C,tryCount:re==="user press skip"?s.QuizAnswerCount:E+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:se,answerData:P,isFinishStudy:`${t.lastStep}`=="2P"});W?E+1>=s.QuizAnswerCount?d+1>s.Quiz.length?J={result:"0",resultMessage:"finish"}:J={result:"0",resultMessage:""}:J={result:"0",resultMessage:""}:J=await Te(o.mode,Y),Number(J.result)===0&&(v(P),d+1>s.Quiz.length?re==="user press skip"?p(!0):re==="speaking correctly"&&(E+1>=s.QuizAnswerCount?p(!0):(z(E+1),M(""),T(),m.current=!1)):re==="user press skip"?g(d+1):re==="speaking correctly"&&(E+1>=s.QuizAnswerCount?g(d+1):(z(E+1),M(""),T(),m.current=!1)))}else M(""),m.current=!1}else{const se={quizNo:d,maxCount:s.QuizAnswerCount,answerCount:E+1,ox:!0};let P;const J=$({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:"2P",quizId:s.Quiz[d-1].QuizId,quizNo:s.Quiz[d-1].QuizNo,currentQuizNo:d,correct:s.Quiz[d-1].Question.Text,selectedAnswer:C,tryCount:E+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:!0,answerData:se,isFinishStudy:`${t.lastStep}`=="2P"});W?E+1>=s.QuizAnswerCount?d+1>s.Quiz.length?P={result:"0",resultMessage:"finish"}:P={result:"0",resultMessage:""}:P={result:"0",resultMessage:""}:P=await Te(o.mode,J),Number(P.result)===0&&(v(se),d+1>s.Quiz.length?p(!0):g(d+1))}}catch(se){console.error(se)}},Q=re=>{M(re)},T=()=>{q===""&&N===""?D(s.Quiz[d-1].Question.Sound):H()},F=re=>{b(re)},X=()=>{t.changeVocaState(!1)},te=re=>{R(re)},ie=()=>{m.current||(m.current=!0,H(),u(s.Quiz[d-1].Question.Text,s.Quiz[d-1].Question.Sound,ue,ce))},ue=re=>{I(re)},ce=re=>{U(re)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${a}`,onAnimationEnd:()=>{a==="animate__bounceOutLeft"&&f()},children:e.jsx(Me,{step:r,quizType:Is,comment:i("study.단어를 보고 듣고 따라서 입력하세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:k?e.jsx(r2,{goVocaTest:X,changeRetry:te}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:d,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount,timeMin:l.time.timeMin,timeSec:l.time.timeSec,changeSideMenu:F}),e.jsx("div",{className:`${Bs.comment} animate__animated animate__fadeInLeft`,children:Is}),e.jsxs(Ne,{children:[e.jsx(Z,{height:10}),e.jsxs(Be,{typeCSS:Bs.vocabularyPractice3,containerCSS:Bs.container,children:[e.jsx(Z,{height:20}),e.jsx($2,{isSideOpen:w,quizData:s,quizNo:d,tryCount:E,inputVal:C,playBarState:N,playState:q,isSpeakResult:O,phonemeScore:V,playWord:T,changeInputVal:Q,startRecord:ie,checkAnswer:B,changePlayBarState:ue})]})]}),w&&e.jsx(Ae,{isSideOpen:w,currentStep:r,currentStepType:Is,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:F,scoreBoardData:y,changeStep:t.changeStep})]})})})}const N2=new A(navigator.userAgent),T2=N2.phone(),yn=T2?De:Oe;function I2({isWorking:t,bottomPopupState:i,isSideOpen:n,isHint:o,inputVal:r,correctAnswer:u,changeInputVal:l,checkAnswer:a}){const x=c.useRef(null);c.useEffect(()=>{const k=()=>{x.current&&(n||o?x.current.blur():x.current.focus())};return k(),window.addEventListener("click",k),()=>{window.removeEventListener("click",k)}},[n,o]);const _=k=>{if(!t){k.preventDefault();const p=/^[ㄱ-ㅎa-zA-Z-'~ ]+(?:'){0,1}[a-zA-Z]?$/g;let w=k.currentTarget.value;p.test(w)||(w=w.slice(0,w.length-1)),l(w)}},f=k=>{k.key==="Enter"&&!t&&r!==""&&a(r)};return e.jsx("div",{className:`${yn.textField} animate__animated} ${i.isActive&&!i.isCorrect?`animate__headShake ${yn.incorrect}`:""}`,children:i.isActive&&i.isCorrect?e.jsx("div",{className:`${yn.correctAnswer} animate__animated animate__flipInX`,children:u}):e.jsxs(e.Fragment,{children:[e.jsx("input",{ref:x,className:yn.inputField,type:"text",value:r,onChange:k=>_(k),onKeyUp:k=>f(k),onCopy:k=>k.preventDefault(),onPaste:k=>k.preventDefault(),tabIndex:-1,autoFocus:!0,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search"}),e.jsx("div",{className:yn.wordText})]})})}const B2=new A(navigator.userAgent),E2=B2.phone(),ko=E2?De:Oe,P2=({meanData:t,mainMeanLang:i})=>{const n=_e.upperFirst(i);let o="";switch(n){case"Korean":case"Chinese":case"Japanese":case"Vietnamese":case"Indonesian":o=t.Question[n];break;case"English":t.Question.English!==""&&t.Question.Britannica!==""||t.Question.English===""&&t.Question.Britannica!==""?o=t.Question.Britannica:t.Question.English!==""&&t.Question.Britannica===""&&(o=t.Question[n]);break;default:o=t.Question.Korean}return e.jsxs("div",{className:ko.txtL,children:[t.Question.SpeechPart,". ",o]})},M2=({meanData:t,mainMeanLang:i})=>{const n=_e.upperFirst(i);let o="";return n==="English"?e.jsx(e.Fragment,{}):(o=t.Question.Britannica!==""?t.Question.Britannica:t.Question.English,e.jsxs("div",{className:ko.txtP,children:[t.Question.SpeechPart,". ",o]}))};function L2({meanData:t,mainMeanLang:i}){return e.jsxs("div",{className:ko.meaning,children:[e.jsx(P2,{meanData:t,mainMeanLang:i}),e.jsx(Z,{height:10}),e.jsx(M2,{meanData:t,mainMeanLang:i})]})}const R2=new A(navigator.userAgent),Fi=R2.phone(),fn=Fi?De:Oe;function F2({isWorking:t,bottomPopupState:i,isSideOpen:n,isHint:o,quizData:r,quizNo:u,inputVal:l,changeInputVal:a,checkAnswer:x}){return e.jsxs("div",{className:fn.wordCard,children:[e.jsxs("div",{className:fn.wordTyping,children:[e.jsx("div",{style:{width:Fi?0:70}}),e.jsx(I2,{isWorking:t,bottomPopupState:i,isSideOpen:n,isHint:o,inputVal:l,correctAnswer:r.Quiz[u-1].Question.Text,changeInputVal:a,checkAnswer:x}),i.isActive&&i.isCorrect?e.jsx("div",{className:fn.enterButton}):e.jsx(e.Fragment,{children:e.jsx("div",{className:fn.enterButton,onClick:()=>{l!==""&&x(l)},children:e.jsx("div",{className:fn.enterIcon,children:e.jsx(hs,{width:20,height:20})})})})]}),e.jsx(Z,{height:20}),e.jsx(L2,{meanData:r.Quiz[u-1],mainMeanLang:r.MainMeanLanguage})]})}const q2=new A(navigator.userAgent),H2=q2.phone(),gt=H2?De:Oe;function Es({inputRefs:t,correctAnswer:i,inputIndex:n,currentInputIndex:o,changeInputIndex:r,playPenalty:u,changeNextButton:l}){const[a,x]=c.useState(""),_=f=>{f.preventDefault();const k=/^[ㄱ-ㅎa-zA-Z-'~ ]+(?:'){0,1}[a-zA-Z]?$/g;let p=f.currentTarget.value;k.test(p)||(p=p.slice(0,p.length-1)),p===i?(x(p),r(o+1),o+1>2&&u(()=>{l()})):x(p)};return e.jsxs(e.Fragment,{children:[n>o&&e.jsxs("span",{className:`${gt.reviewAnswer} ${n===o?gt.currentOrder:""} ${i.length>20?gt.overLength:""}`,children:[e.jsx("span",{className:gt.otherInput,children:e.jsx("input",{disabled:!0})}),e.jsx("div",{className:`${gt.hintText} `,children:i})]}),n===o&&e.jsxs("span",{className:`${gt.reviewAnswer} ${n===o?gt.currentOrder:""}  ${i.length>20?gt.overLength:""}`,children:[e.jsx("span",{className:gt.currentInput,children:e.jsx("input",{ref:f=>t.current[n]=f,type:"text",value:a,onChange:f=>_(f),onCopy:f=>f.preventDefault(),onPaste:f=>f.preventDefault(),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputMode:"search",tabIndex:-1})}),e.jsx("div",{className:`${gt.hintText}`,children:i})]}),n<o&&e.jsx("span",{className:`${gt.reviewAnswer} ${gt.correctAnswer} ${i.length>20?gt.overLength:""} animate__animated animate__flipInX`,children:i})]})}const O2=new A(navigator.userAgent),D2=O2.phone(),cn=D2?De:Oe;function V2({isSideOpen:t,correctAnswer:i,playPenalty:n,changePenaltyState:o}){const r=c.useRef([]),[u,l]=c.useState(0),[a,x]=c.useState(!1);c.useEffect(()=>{const k=()=>{r.current[u]&&(r.current[u].focus(),t&&r.current[u].blur())};return k(),window.addEventListener("click",k),()=>{window.removeEventListener("click",k)}},[u,t]);const _=k=>{l(k)},f=()=>{x(!0)};return e.jsxs("div",{className:`${cn.testReview}`,children:[e.jsx("div",{className:cn.title,children:"Test Review"}),e.jsx("div",{className:cn.container,children:e.jsxs("div",{className:cn.sentence,children:[e.jsx(Es,{inputRefs:r,inputIndex:0,currentInputIndex:u,correctAnswer:i,changeInputIndex:_,playPenalty:n,changeNextButton:f}),e.jsx(Es,{inputRefs:r,inputIndex:1,currentInputIndex:u,correctAnswer:i,changeInputIndex:_,playPenalty:n,changeNextButton:f}),e.jsx(Es,{inputRefs:r,inputIndex:2,currentInputIndex:u,correctAnswer:i,changeInputIndex:_,playPenalty:n,changeNextButton:f})]})}),e.jsx(Z,{height:10}),e.jsx("div",{className:`${a?cn.nextButton:cn.deactNextButton} ${a&&"animate__animated animate__bounce"}`,onClick:()=>a&&o(!1),children:"Next"})]})}const W2=new A(navigator.userAgent),G2=W2.phone(),ii=G2?De:Oe;function U2({playState:t,playHint:i}){return e.jsxs("div",{className:ii.wordPlayButton,onClick:()=>i(),children:[t==="playing"?e.jsx(Fe,{isColor:!0,width:40,height:40}):e.jsx(Re,{isColor:!0,width:40,height:40}),e.jsx("span",{className:ii.txtL,children:"Play Sound"})]})}const K2=new A(navigator.userAgent),J2=K2.phone(),Ps=J2?De:Oe;function Y2({isHint:t,playState:i,remainCount:n,totalCount:o,toggleHint:r,playHint:u}){return e.jsxs("div",{style:{position:"relative"},children:[e.jsx("div",{className:Ps.hintButton,onClick:()=>r(),children:e.jsxs("span",{children:["Hint"," ",o!==void 0&&n!==void 0?o-n:0,"/",o]})}),t&&e.jsxs("div",{style:{position:"relative",zIndex:3},className:"animate__animated animate__fadeIn",children:[e.jsx("div",{className:Ps.hintPopup,children:e.jsx(U2,{playState:i,playHint:u})}),e.jsx("div",{className:Ps.screenBlock,onClick:()=>r()})]})]})}const X2=new A(navigator.userAgent),Z2=X2.phone(),ts="Vocabulary Test",Ms=Z2?De:Oe;function ej(t){const{t:i}=de(),{bookInfo:n,handler:o,studyInfo:r}=c.useContext(ne),u=t.currentStep,l=ze(()=>{F("")}),[a,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:f}=je(),{isResultShow:k,changeResultShow:p}=He(),[w,b]=c.useState(!1),m=c.useRef(!0),[s,h]=$e(dk,t,u),[d,g]=c.useState(1),{scoreBoardData:y,setStudentAnswers:S,addStudentAnswer:v,makeUserAnswerData:L}=Ce(r.mode),[$,E]=c.useState(0),[z,C]=c.useState(0),[M,q]=c.useState(!1),[D,H]=c.useState(0),[W,R]=c.useState(!1),[N,I]=c.useState(!1),{bottomPopupState:V,changeBottomPopupState:U}=Xe(),[O,G]=c.useState(""),{playState:B,playAudio:Q,stopAudio:T}=Le();if(c.useEffect(()=>{!_&&s&&!N&&(l.setup(s.QuizTime,!0),r.mode==="Review"&&Number(n.Average)>=70?G(s.Quiz[d-1].Question.Text):G(""),m.current=!1)},[_]),c.useEffect(()=>{if(s){const[P,J]=ut(r.mode,h,s.QuizAnswerCount);h.length>0&&s.IsEnablePenaltyReview&&h[h.length-1].PenaltyWord!==""?(I(!0),E(s.QuizAnswerCount),C(s.QuizAnswerCount),g(h[h.length-1].CurrentQuizNo)):(E(J),C(J),g(P)),s.Hint.IsEnabled&&s.Hint.Try&&H(s.Hint.Try),S(h,s.QuizAnswerCount)}},[s]),c.useEffect(()=>{!_&&!k&&s&&(r.mode==="Review"&&Number(n.Average)>=70?G(s.Quiz[d-1].Question.Text):G(""),E(0),C(0),R(!1),q(!1),_||l.setup(s.QuizTime,!0),m.current=!1)},[d]),c.useEffect(()=>{!N&&s&&(async()=>{const J=d+1>s.Quiz.length,Y=await ls({mobile:"",bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${u}`,quizId:s.Quiz[d-1].QuizId,isLastQuiz:J,isFinishStudy:!!(J&&t.lastStep===u)});Number(Y.result)===0&&(Y.resultMessage&&(o.finishStudy={id:Number(Y.result),cause:Y.resultMessage}),d+1>s.Quiz.length?p(!0):(l.setup(s.QuizTime,!0),g(d+1)))})()},[N]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const F=async P=>{try{if(!m.current){m.current=!0;const J=s.Quiz[d-1].Question.Text===P.trimStart().trimEnd();J&&te(P);const Y={quizNo:d,maxCount:s.QuizAnswerCount,answerCount:$+1,ox:J},K=L({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:u,quizId:s.Quiz[d-1].QuizId,quizNo:s.Quiz[d-1].QuizNo,currentQuizNo:d,correct:s.Quiz[d-1].Question.Text,selectedAnswer:P.trimStart().trimEnd(),tryCount:$+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:J,answerData:Y,isEnabledPenalty:s.IsEnablePenaltyReview,isFinishStudy:t.lastStep===u});l.stop(),U({isActive:!0,isCorrect:J});const oe=await Te(r.mode,K);Number(oe.result)===0&&(oe.resultMessage&&(o.finishStudy={id:Number(oe.result),cause:oe.resultMessage}),J||C(z+1),E($+1),v(Y),X(J,$+1))}}catch(J){console.error(J)}},X=(P,J)=>{setTimeout(()=>{P?d+1>s.Quiz.length?Q(s.Quiz[d-1].Question.Sound,()=>{T(),U({isActive:!1,isCorrect:!1}),p(!0)}):Q(s.Quiz[d-1].Question.Sound,()=>{T(),U({isActive:!1,isCorrect:!1}),g(d+1)}):(U({isActive:!1,isCorrect:!1}),J>=s.QuizAnswerCount?s.IsEnablePenaltyReview?(G(""),ie(!0)):d+1>s.Quiz.length?p(!0):(l.setup(s.QuizTime,!0),g(d+1)):(l.setup(s.QuizTime,!0),!s.Hint.IsEnabled&&J===s.QuizAnswerCount-1&&Q(s.Quiz[d-1].Question.Sound),m.current=!1))},1e3)},te=P=>{G(P)},ie=P=>{I(P)},ue=async()=>{try{if(M)T(),q(!1);else if(W)q(!0);else{const P=await mk(t.studyId,t.studentHistoryId,d);(P.ErrorNo===0||W)&&(R(!0),q(!0),H(P.TryHint))}}catch(P){console.error(P)}},ce=()=>{B==="playing"?T():Q(s.Quiz[d-1].Question.Sound)},re=P=>{T();const J=()=>{T(),P()};Q(s.Quiz[d-1].Question.Sound,J)},se=P=>{b(P)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${a}`,onAnimationEnd:()=>{a==="animate__bounceOutLeft"&&f()},children:e.jsx(Me,{step:u,quizType:ts,comment:i("study.뜻을 보고 올바른 단어를 입력하세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:k?e.jsx(rt,{step:u,quizType:ts,quizAnswerCount:s.QuizAnswerCount,studentAnswer:y,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:d,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-z,timeMin:l.time.timeMin,timeSec:l.time.timeSec,changeSideMenu:se}),e.jsx("div",{className:`${Ms.comment} animate__animated animate__fadeInLeft`,children:ts}),e.jsx(Ne,{children:N?e.jsx(V2,{isSideOpen:w,correctAnswer:s.Quiz[d-1].Question.Text,playPenalty:re,changePenaltyState:ie}):e.jsxs(Be,{typeCSS:Ms.vocabularyTest3,containerCSS:Ms.container,children:[e.jsx(Z,{height:20}),e.jsx(F2,{isWorking:m.current,bottomPopupState:V,isSideOpen:w,isHint:M,quizData:s,quizNo:d,inputVal:O,changeInputVal:te,checkAnswer:F}),e.jsx(e.Fragment,{children:s.Hint.IsEnabled&&e.jsx(Y2,{isHint:M,playState:B,remainCount:D,totalCount:s.Hint.Max,toggleHint:ue,playHint:ce})})]})}),w&&e.jsx(Ae,{isSideOpen:w,currentStep:u,currentStepType:ts,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:se,scoreBoardData:y,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:V})]})})})}const tj=new A(navigator.userAgent),nj=tj.phone(),ri=nj?ve:Se;function sj({playState:t,word:i,playWord:n}){return e.jsxs("div",{className:ri.wordPlayButton,onClick:()=>n(),children:[t==="playing"?e.jsx(Fe,{isColor:!0,width:24,height:24}):e.jsx(Re,{isColor:!0,width:24,height:24}),e.jsx("div",{className:ri.txtL,children:i})]})}const oj=new A(navigator.userAgent),ij=oj.phone(),qi=ij?ve:Se,rj=({meanData:t,lang:i})=>{const n=_e.upperFirst(i);let o="";switch(n){case"Korean":case"Chinese":case"Japanese":case"Vietnamese":case"Indonesian":case"English":case"Britannica":o=t.Question[n];break;default:o=t.Question.Korean}return e.jsxs("div",{className:qi.meaning,children:[t.Question.SpeechPart,". ",o]})},aj=({meanData:t,lang:i})=>{const n=_e.upperFirst(i);let o="";switch(n){case"Korean":case"Chinese":case"Japanese":case"Vietnamese":case"Indonesian":case"English":case"Britannica":o=t.Question.Britannica?t.Question.Britannica:t.Question[n];break;default:o=t.Question.Britannica}return e.jsxs("div",{className:qi.sentence,children:[t.Question.SpeechPart,". ",o]})};function cj({meanData:t,mainMeanLang:i,subMeanLang:n}){return e.jsxs(e.Fragment,{children:[e.jsx(rj,{meanData:t,lang:i}),e.jsx(aj,{meanData:t,lang:n})]})}const uj=new A(navigator.userAgent),lj=uj.phone(),ns=lj?ve:Se;function dj({playState:t,playBarState:i,quizData:n,quizNo:o,playWord:r,startRecord:u}){const l=ps();return e.jsxs("div",{className:`${ns.wordCard} animate__animated animate__slideInRight`,children:[e.jsxs("div",{className:ns.wordText,children:[e.jsx(sj,{playState:t,word:n.Quiz[o-1].Question.Text,playWord:r}),e.jsx("div",{className:ns.btnRec,onClick:()=>{l.micPermission==="denied"?alert(l.alertMessage):u()},children:i==="recording"?e.jsx(Sn,{}):e.jsx("div",{className:ns.recIcon})})]}),e.jsx(Z,{height:10}),e.jsx(cj,{meanData:n.Quiz[o-1],mainMeanLang:n.MainMeanLanguage,subMeanLang:n.SubMeanLanguage})]})}const mj=new A(navigator.userAgent),xj=mj.phone(),Ls=xj?ve:Se;function hj({isLastPage:t,quizNo:i,totalQuizCnt:n,changeQuizNo:o}){return e.jsxs("div",{className:Ls.indicator,children:[e.jsx("span",{style:t||i>1?{opacity:"1"}:{opacity:".2"},onClick:()=>o(i-1),children:e.jsx("div",{className:Ls.iconChevLeft})}),e.jsxs("span",{children:[i," / ",n]}),e.jsx("span",{onClick:()=>o(i+1),children:e.jsx("div",{className:Ls.iconChevRight})})]})}const _j=new A(navigator.userAgent),pj=_j.phone(),gj=pj?ve:Se;function yj({goTest:t}){return e.jsx("div",{className:`${gj.btnNext} animate__animated animate__flash`,onClick:()=>t(),children:"Next"})}const fj=new A(navigator.userAgent),bj=fj.phone(),ot=bj?ve:Se;function kj({word:t,phonemeScore:i,changePlayBarState:n}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:ot.speakResultVoca4,children:[e.jsx("div",{className:ot.container,children:i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:ot.wordText,children:t}),e.jsx("div",{className:ot.phonemes,children:i.words.map(o=>e.jsx(e.Fragment,{children:o.phonemes.map(r=>e.jsxs("div",{className:ot.phonemeItem,children:[e.jsx("div",{className:`${ot.phoneme} 
                        ${r.score<30&&ot.red}
                        ${r.score>=30&&r.score<60&&ot.orange}  
                        ${r.score>=60&&ot.green}  
                        `,children:r.phoneme}),e.jsxs("div",{className:ot.phonemeScore,children:[Math.floor(r.score),"%"]})]}))}))})]})}),i&&i.average_phoneme_score>=40?e.jsxs("div",{className:`${ot.signBox} ${ot.goodJob}`,onClick:()=>n(""),children:[e.jsx("div",{className:ot.txt,children:"Good Job"}),e.jsx("div",{className:ot.iconArrow})]}):e.jsxs("div",{className:`${ot.signBox} ${ot.tryAgain}`,onClick:()=>n(""),children:[e.jsx("div",{className:ot.txt,children:"Try Again"}),e.jsx("div",{className:ot.iconArrow})]})]})})}const wj=new A(navigator.userAgent),Sj=wj.phone(),Rs="Vocabulary Practice",ss=Sj?ve:Se;function vj(t){const{t:i}=de(),{studyInfo:n}=c.useContext(ne),o=t.currentStep,{startRecording:r}=_s(),u=ze(()=>{window.onLogoutStudy()}),[l,a]=c.useState("animate__bounceInRight"),{isStepIntro:x,closeStepIntro:_}=je(),[f,k]=c.useState(!1),p=dt(),w=c.useRef(!0),[b,m]=$e(Mi,t,o),[s,h]=c.useState(1),{scoreBoardData:d}=Ce(n.mode),[g,y]=c.useState(!1),{playState:S,playAudio:v,stopAudio:L}=Le(),[$,E]=c.useState(""),[z,C]=c.useState(),[M,q]=c.useState(!1),D=c.useRef(null);if(c.useEffect(()=>{!x&&b&&(u.setup(b.QuizTime,!0),D.current&&p.remove(D.current,["animate__fadeInRight","animate__fadeInLeft"]),setTimeout(()=>{W()},500),w.current=!1)},[x]),c.useEffect(()=>{!x&&b&&(L(),s===b.Quiz.length&&y(!0),D.current&&p.remove(D.current,["animate__fadeInRight","animate__fadeInLeft"]),W())},[s]),c.useEffect(()=>{b&&S===""&&s===Object.keys(b.Quiz).length&&y(!0)},[S]),c.useEffect(()=>{!x&&!g&&h(1)},[g]),c.useEffect(()=>{z&&q(!0)},[z]),c.useEffect(()=>{$===""&&z&&b?(w.current=!1,C(void 0),q(!1),z.average_phoneme_score>=40&&s+1<=Object.keys(b.Quiz).length&&H(s+1)):$==="reset"&&V("")},[$]),!b)return e.jsx(e.Fragment,{children:"Loading..."});const H=O=>{L(),O<1?g&&h(Object.keys(b.Quiz).length):O>Object.keys(b.Quiz).length?h(1):h(O)},W=()=>{S==="playing"?L():v(b.Quiz[s-1].Question.Sound)},R=O=>{k(O)},N=()=>{L(),t.changeVocaState(!1)},I=()=>{w.current||(w.current=!0,L(),r(b.Quiz[s-1].Question.Text,b.Quiz[s-1].Question.Sound,V,U))},V=O=>{E(O)},U=O=>{C(O)};return e.jsx(e.Fragment,{children:x?e.jsx("div",{className:`animate__animated ${l}`,onAnimationEnd:()=>{l==="animate__bounceOutLeft"&&_()},children:e.jsx(Me,{step:o,quizType:Rs,comment:i("study.카드를 넘기면서 단어를 학습하세요."),onStepIntroClozeHandler:()=>{a("animate__bounceOutLeft")}})}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:s,totalQuizCnt:Object.keys(b.Quiz).length,life:b.QuizAnswerCount,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:R}),e.jsx("div",{className:`${ss.comment} animate__animated animate__fadeInLeft`,children:Rs}),e.jsx(Ne,{children:e.jsxs(Be,{typeCSS:ss.vocabularyPractice4,containerCSS:ss.container,children:[e.jsx(e.Fragment,{children:$==="recording"&&!M&&e.jsx("div",{className:ss.screenBlock})}),e.jsx(dj,{playState:S,playBarState:$,quizData:b,quizNo:s,playWord:W,startRecord:I}),e.jsx(hj,{isLastPage:g,quizNo:s,totalQuizCnt:b.Quiz.length,changeQuizNo:H}),e.jsx(e.Fragment,{children:M&&e.jsx(kj,{word:b.Quiz[s-1].Question.Text,phonemeScore:z,changePlayBarState:V})}),e.jsx(e.Fragment,{children:g&&e.jsx(yj,{goTest:N})})]})}),f&&e.jsx(Ae,{isSideOpen:f,currentStep:o,currentStepType:Rs,quizLength:b.Quiz.length,maxAnswerCount:b.QuizAnswerCount,changeSideMenu:R,scoreBoardData:d,changeStep:t.changeStep})]})})}const jj=new A(navigator.userAgent),zj=jj.phone(),os=zj?De:Oe;function $j({index:t,correctText:i,exampleData:n,checkAnswer:o,onExampleAnimationEndHandler:r}){const{bookInfo:u,studyInfo:l}=c.useContext(ne);return e.jsxs("div",{className:`${os.textCard} 
      ${l.mode==="Review"&&Number(u.Average)>=70&&n.Text===i?os.correct:""}`,onClick:a=>o(a.currentTarget,n.Text),onAnimationEnd:a=>r(a.currentTarget),children:[e.jsx("div",{className:os.cardNumber,children:Number(t+1)}),e.jsx("div",{className:os.awnserText,children:n.Text})]})}const Cj=new A(navigator.userAgent),Qj=Cj.phone(),Aj=Qj?De:Oe;function Nj({correctText:t,exampleData:i,checkAnswer:n,onExampleAnimationEndHandler:o}){return e.jsx("div",{className:Aj.answers,children:i.map((r,u)=>e.jsx($j,{index:u,correctText:t,exampleData:r,checkAnswer:n,onExampleAnimationEndHandler:o}))})}const Tj=new A(navigator.userAgent),Ij=Tj.phone(),Hi=Ij?De:Oe,Bj=({meanData:t,lang:i})=>{const n=_e.upperFirst(i);let o="";switch(n){case"Korean":case"Chinese":case"Japanese":case"Vietnamese":case"Indonesian":case"English":case"Britannica":o=t.Question[n];break;default:o=t.Question.Korean}return e.jsxs("div",{className:Hi.meaning,children:[t.Question.SpeechPart,". ",o]})},Ej=({meanData:t,lang:i})=>{const n=_e.upperFirst(i);let o="";switch(n){case"Korean":case"Chinese":case"Japanese":case"Vietnamese":case"Indonesian":case"English":case"Britannica":o=t.Question.Britannica?t.Question.Britannica:t.Question[n];break;default:o=t.Question.Britannica}return e.jsxs("div",{className:Hi.sentence,children:[t.Question.SpeechPart,". ",o]})};function Pj({meanData:t,mainMeanLang:i,subMeanLang:n}){return e.jsxs(e.Fragment,{children:[e.jsx(Bj,{meanData:t,lang:i}),e.jsx(Ej,{meanData:t,lang:n})]})}const Mj=new A(navigator.userAgent),Lj=Mj.phone(),Rj=Lj?De:Oe;function Fj({quizData:t,quizNo:i}){return e.jsx("div",{className:Rj.questionBox,children:e.jsx(Pj,{meanData:t.Quiz[i-1],mainMeanLang:t.MainMeanLanguage,subMeanLang:t.SubMeanLanguage})})}const qj=new A(navigator.userAgent),xo=qj.phone(),is="Vocabulary Test",Jt=xo?De:Oe;function Hj(t){const{t:i}=de(),{handler:n,studyInfo:o}=c.useContext(ne),r=t.currentStep,u=ze(()=>{I()}),l=dt(),[a,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:f}=je(),{isResultShow:k,changeResultShow:p}=He(),[w,b]=c.useState(!1),m=c.useRef(!0),[s,h]=$e(xk,t,r),[d,g]=c.useState(1),{scoreBoardData:y,setStudentAnswers:S,addStudentAnswer:v,makeUserAnswerData:L}=Ce(o.mode),[$,E]=c.useState([]),[z,C]=c.useState(0),[M,q]=c.useState(0),{bottomPopupState:D,changeBottomPopupState:H}=Xe();if(c.useEffect(()=>{!_&&s&&(u.setup(s.QuizTime,!0),m.current=!1)},[_]),c.useEffect(()=>{if(s)try{const[O,G]=ut(o.mode,h,s.QuizAnswerCount);u.setup(s.QuizTime,!0),C(G),q(G),o.mode==="Super"?E(s.Quiz[O-1].Examples):E(_e.shuffle(s.Quiz[O-1].Examples)),S(h,s.QuizAnswerCount),g(O)}catch(O){console.error(O)}},[s]),c.useEffect(()=>{!_&&!k&&s&&(u.setup(s.QuizTime,!0),C(0),q(0),o.mode==="Super"?E(s.Quiz[d-1].Examples):E(_e.shuffle(s.Quiz[d-1].Examples)),m.current=!1)},[d]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const W=async(O,G)=>{try{if(!m.current){m.current=!0;const B=s.Quiz[d-1].Question.Text===G,Q={quizNo:d,maxCount:s.QuizAnswerCount,answerCount:z+1,ox:B},T=L({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:r,quizId:s.Quiz[d-1].QuizId,quizNo:s.Quiz[d-1].QuizNo,currentQuizNo:d,correct:s.Quiz[d-1].Question.Text,selectedAnswer:G,tryCount:z+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:B,answerData:Q,isFinishStudy:t.lastStep===r});u.stop();const F=await Te(o.mode,T);Number(F.result)===0&&(F.resultMessage&&(n.finishStudy={id:Number(F.result),cause:F.resultMessage}),B||q(M+1),C(z+1),v(Q),R(O,B))}}catch(B){console.error(B)}},R=(O,G)=>{H({isActive:!0,isCorrect:G}),G?l.play(O,["animate__fadeIn",Jt.correct]):l.play(O,["animate__headShake",Jt.incorrect])},N=O=>{setTimeout(()=>{H({isActive:!1,isCorrect:!1}),l.remove(O,[Jt.correct,Jt.incorrect,"animate__fadeIn","animate__headShake"]),d+1<=s.Quiz.length?g(d+1):p(!0)},1e3)},I=async()=>{try{if(!m.current){m.current=!0;const O={mobile:"",studentHistoryId:t.studentHistoryId,studyId:t.studyId,bookType:t.bookType,step:`${r}`,quizId:s.Quiz[d-1].QuizId,quizNo:s.Quiz[d-1].QuizNo,currentQuizNo:d,correct:s.Quiz[d-1].Question.Text,studentAnswer:"",answerCount:z+1};u.stop();const G=await Te(o.mode,O);if(Number(G.result)===0){G.resultMessage&&(n.finishStudy={id:Number(G.result),cause:G.resultMessage});const B={quizNo:d,maxCount:s.QuizAnswerCount,answerCount:z+1,ox:!1};q(M+1),C(z+1),v(B),H({isActive:!0,isCorrect:!1}),V()}}}catch(O){console.error(O)}},V=()=>{setTimeout(()=>{H({isActive:!1,isCorrect:!1}),d+1>s.Quiz.length?p(!0):g(d+1)},1500)},U=O=>{b(O)};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${a}`,onAnimationEnd:()=>{a==="animate__bounceOutLeft"&&f()},children:e.jsx(Me,{step:r,quizType:is,comment:i("study.뜻을 보고 올바른 단어를 고르세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:k?e.jsx(e.Fragment,{children:e.jsx(rt,{step:r,quizType:is,quizAnswerCount:s.QuizAnswerCount,studentAnswer:y,onFinishActivity:t.onFinishActivity})}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:d,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-M,timeMin:u.time.timeMin,timeSec:u.time.timeSec,changeSideMenu:U}),e.jsx("div",{className:`${Jt.comment} animate__animated animate__fadeInLeft`,children:is}),e.jsxs(Ne,{children:[xo?e.jsx(e.Fragment,{}):e.jsx(Z,{height:15}),e.jsxs(Be,{typeCSS:Jt.vocabularyTest4,containerCSS:Jt.container,children:[e.jsx(Fj,{quizData:s,quizNo:d}),e.jsx(Z,{height:20}),e.jsx(Nj,{correctText:s.Quiz[d-1].Question.Text,exampleData:$,checkAnswer:W,onExampleAnimationEndHandler:N})]}),xo?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),w&&e.jsx(Ae,{isSideOpen:w,currentStep:r,currentStepType:is,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:U,scoreBoardData:y,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:D})]})})})}const Oj="_comment_yqua8_1",Dj="_wordPlayButton_yqua8_20",Vj="_txtL_yqua8_35",Wj="_goNextButton_yqua8_46",Gj="_iconArrowUp_yqua8_69",Uj="_writingActivity1_yqua8_83",Kj="_container_yqua8_83",Jj="_enterBox_yqua8_90",Yj="_correctText_yqua8_101",Xj="_textCard_yqua8_106",Zj="_incorrectText_yqua8_113",ez="_send_yqua8_155",tz="_awnserText_yqua8_177",nz="_answers_yqua8_181",sz="_correctDirection_yqua8_186",oz="_writingActivity2_yqua8_192",iz="_tabs_yqua8_199",rz="_tabButton_yqua8_203",az="_active_yqua8_217",cz="_questionText_yqua8_222",uz="_writingArea_yqua8_226",lz="_wordLimitIndicator_yqua8_250",dz="_limit_yqua8_253",mz="_words_yqua8_254",xz="_saveButton_yqua8_265",hz="_submitButton_yqua8_287",_z="_goNextStepBox_yqua8_309",pz="_groupButtons_yqua8_315",gz="_revisionReport_yqua8_321",Ve={comment:Oj,wordPlayButton:Dj,txtL:Vj,goNextButton:Wj,iconArrowUp:Gj,writingActivity1:Uj,container:Kj,enterBox:Jj,correctText:Yj,textCard:Xj,incorrectText:Zj,send:ez,awnserText:tz,answers:nz,correctDirection:sz,writingActivity2:oz,tabs:iz,tabButton:rz,active:az,questionText:cz,writingArea:uz,wordLimitIndicator:lz,limit:dz,words:mz,saveButton:xz,submitButton:hz,goNextStepBox:_z,groupButtons:pz,revisionReport:gz},yz="_comment_heq11_1",fz="_wordPlayButton_heq11_20",bz="_txtL_heq11_34",kz="_goNextButton_heq11_45",wz="_iconArrowUp_heq11_68",Sz="_writingActivity1_heq11_82",vz="_container_heq11_82",jz="_enterBox_heq11_89",zz="_correctText_heq11_105",$z="_textCard_heq11_110",Cz="_incorrectText_heq11_117",Qz="_send_heq11_153",Az="_awnserText_heq11_175",Nz="_answers_heq11_179",Tz="_correctDirection_heq11_184",Iz="_writingActivity2_heq11_190",Bz="_tabs_heq11_197",Ez="_tabButton_heq11_201",Pz="_active_heq11_215",Mz="_questionText_heq11_220",Lz="_writingArea_heq11_224",Rz="_wordLimitIndicator_heq11_247",Fz="_limit_heq11_250",qz="_words_heq11_251",Hz="_saveButton_heq11_262",Oz="_submitButton_heq11_284",Dz="_goNextStepBox_heq11_306",Vz="_groupButtons_heq11_313",Wz="_revisionReport_heq11_319",We={comment:yz,wordPlayButton:fz,txtL:bz,goNextButton:kz,iconArrowUp:wz,writingActivity1:Sz,container:vz,enterBox:jz,correctText:zz,textCard:$z,incorrectText:Cz,send:Qz,awnserText:Az,answers:Nz,correctDirection:Tz,writingActivity2:Iz,tabs:Bz,tabButton:Ez,active:Pz,questionText:Mz,writingArea:Lz,wordLimitIndicator:Rz,limit:Fz,words:qz,saveButton:Hz,submitButton:Oz,goNextStepBox:Dz,groupButtons:Vz,revisionReport:Wz};async function Gz(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Pe}/writing-activity-1?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(u,async a=>({ContentsId:Number(a.ContentsId),IsQuizTimeoutIncorrect:!!a.isQuizTimeoutIncorrect,QuizAnswerCount:Number(a.QuizAnswerCount),QuizTime:Number(a.QuizTime),Quiz:a.Quiz.map(x=>({QuizId:x.QuizId.toString(),QuizNo:Number(x.QuizNo),Question:{Text:x.Question.Text,Sound:x.Question.Sound},Examples:x.Examples.map(_=>({Text:_.Text}))}))}))}async function wo(t){const{bookType:i,studyId:n,studentHistoryId:o}=t,u=`${Pe}/writing-activity-2?studentHistoryId=${o}&studyId=${n}&bookType=${i}`;return Ie(u,async a=>({QuizTime:a.QuizTime,Title:a.Title,Author:a.Author,Writing:a.Writing,Rewriting:a.Rewriting}))}const Uz=new A(navigator.userAgent),Kz=Uz.phone(),ai=Kz?We:Ve;function Jz({playState:t,onPlay:i}){return e.jsxs("div",{className:ai.wordPlayButton,onClick:()=>i(),children:[t===""?e.jsx(Re,{isColor:!0,width:34,height:34}):e.jsx(Fe,{isColor:!0,width:34,height:34}),e.jsx("span",{className:ai.txtL,children:"Play Sound"})]})}const Yz=new A(navigator.userAgent),Xz=Yz.phone(),ci=Xz?We:Ve;function Zz(){return e.jsx("div",{className:ci.correctDirection,children:e.jsx("div",{className:ci.iconArrowUp})})}const e$=new A(navigator.userAgent),t$=e$.phone(),ui=t$?We:Ve;function n$({exampleRefs:t,index:i,example:n,selectWord:o}){return e.jsx("div",{ref:r=>t.current[i]=r,className:`${ui.textCard}`,onClick:()=>o(i,n.Text),children:e.jsx("div",{className:ui.awnserText,children:n.Text})})}const s$=new A(navigator.userAgent),o$=s$.phone(),i$=o$?We:Ve;function r$({exampleRefs:t,exampleData:i,selectWord:n}){return e.jsx("div",{className:i$.answers,children:i.map((o,r)=>e.jsx(n$,{exampleRefs:t,index:r,example:o,selectWord:n}))})}const a$=new A(navigator.userAgent),c$=a$.phone(),li=c$?We:Ve;function u$({text:t,removeWord:i}){return e.jsx("div",{className:`${li.textCard}`,onClick:()=>i(t),children:e.jsx("div",{className:li.awnserText,children:t})})}const l$=new A(navigator.userAgent),d$=l$.phone(),Fs=d$?We:Ve;function m$({sentenceState:t,sentenceData:i,removeWord:n}){return e.jsx("div",{className:`${Fs.enterBox} ${t==="correct"?Fs.correctText:t==="incorrect"?Fs.incorrectText:""}`,children:i.map((o,r)=>e.jsx(u$,{text:o,removeWord:n}))})}const x$=new A(navigator.userAgent),h$=x$.phone(),_$=h$?We:Ve;function p$({goNextQuiz:t}){return e.jsx("div",{onClick:()=>t(),className:`${_$.goNextButton} animate__animated animate__flash`,children:"Next"})}const g$=new A(navigator.userAgent),Oi=g$.phone(),rs="Writing Activity",un=Oi?We:Ve;function y$(t){const{t:i}=de(),{bookInfo:n,handler:o,studyInfo:r}=c.useContext(ne),u=t.currentStep,l=ze(()=>{window.onLogoutStudy()}),[a,x]=c.useState("animate__bounceInRight"),{isStepIntro:_,closeStepIntro:f}=je(),{isResultShow:k,changeResultShow:p}=He(),[w,b]=c.useState(!1),m=c.useRef(!0),[s,h]=$e(Gz,t,u),[d,g]=c.useState(1),{scoreBoardData:y,setStudentAnswers:S,addStudentAnswer:v,makeUserAnswerData:L}=Ce(r.mode),[$,E]=c.useState(0),[z,C]=c.useState(0),[M,q]=c.useState(""),D=c.useRef([]),[H,W]=c.useState([]),[R,N]=c.useState([]),{bottomPopupState:I,changeBottomPopupState:V}=Xe(),[U,O]=c.useState(!1),{playState:G,playAudio:B,stopAudio:Q}=Le();if(c.useEffect(()=>{!_&&s&&(l.setup(s.QuizTime,!0),n.BookLevel.includes("K")&&B(s.Quiz[d-1].Question.Sound),m.current=!1)},[_]),c.useEffect(()=>{if(s)try{const[P,J]=ut(r.mode,h,s.QuizAnswerCount);E(J),C(J),r.mode==="Quiz"?W(_e.shuffle(s.Quiz[P-1].Examples)):W(s.Quiz[P-1].Examples),S(h,s.QuizAnswerCount),g(P)}catch(P){console.error(P)}},[s]),c.useEffect(()=>{s&&M===""&&R.length===s.Quiz[d-1].Examples.length&&te()},[R]),c.useEffect(()=>{!_&&!k&&s&&(r.mode==="Quiz"?W(_e.shuffle(s.Quiz[d-1].Examples)):W(s.Quiz[d-1].Examples),C(0),E(0),q(""),X(),n.BookLevel.includes("K")&&B(s.Quiz[d-1].Question.Sound),m.current=!1)},[d]),c.useEffect(()=>{U&&s&&m.current&&Q()},[U]),!s)return e.jsx(e.Fragment,{children:"Loading..."});const T=(P,J)=>{D.current[P].classList.add(un.send);const Y=[...R,J];N(Y)},F=P=>{if(!m.current){const J=H.findIndex(K=>K.Text===P),Y=R.filter(K=>K!==P);D.current[J].classList.remove(un.send),N(Y)}},X=()=>{try{D.current&&D.current.map(P=>P.classList.remove(un.send))}catch{}finally{N([])}},te=async()=>{try{if(!m.current){m.current=!0,l.stop(),Q();const P=s.Quiz[d-1].Question.Text,J=R.reduce((pe,Ee)=>pe+(" "+Ee)),Y=P===J;let K=z;const oe={quizNo:d,maxCount:s.QuizAnswerCount,answerCount:$+1,ox:Y},le=L({mobile:"",studyId:t.studyId,studentHistoryId:t.studentHistoryId,bookType:t.bookType,step:u,quizId:s.Quiz[d-1].QuizId,quizNo:s.Quiz[d-1].QuizNo,currentQuizNo:d,correct:s.Quiz[d-1].Question.Text,selectedAnswer:J,tryCount:$+1,maxQuizCount:s.QuizAnswerCount,quizLength:s.Quiz.length,isCorrect:Y,answerData:oe,isFinishStudy:t.lastStep===u}),ae=await Te(r.mode,le);Number(ae.result)===0&&(ae.resultMessage&&(o.finishStudy={id:Number(ae.result),cause:ae.resultMessage}),Y||C(z+1),v(oe),E($+1),ie(Y,K+1))}}catch(P){console.error(P)}},ie=(P,J)=>{q(P?"correct":"incorrect"),V({isActive:!0,isCorrect:P}),setTimeout(()=>{if(V({isActive:!1,isCorrect:!1}),P)if(n.BookLevel.includes("K"))ue();else{const Y=()=>{O(!0)};B(s.Quiz[d-1].Question.Sound,Y)}else if(J>=s.QuizAnswerCount){const Y=s.Quiz[d-1].Examples.map(K=>K.Text);if(N([...Y]),n.BookLevel.includes("K"))ue();else{const K=()=>{O(!0)};B(s.Quiz[d-1].Question.Sound,K)}}else l.setup(s.QuizTime,!0),q(""),X(),n.BookLevel.includes("K")&&B(s.Quiz[d-1].Question.Sound),m.current=!1},2e3)},ue=()=>{Q();const P=()=>{if(X(),q(""),d+1>s.Quiz.length)p(!0);else if(n.BookLevel.includes("K"))l.setup(s.QuizTime,!0),Q(),g(d+1);else{const J=()=>{O(!0)};B(s.Quiz[d-1].Question.Sound,J)}};B(s.Quiz[d-1].Question.Sound,P)},ce=()=>{d+1>s.Quiz.length?(Q(),l.stop(),p(!0)):(l.setup(s.QuizTime,!0),Q(),g(d+1),O(!1))},re=P=>{b(P)},se=()=>{G===""?B(s.Quiz[d-1].Question.Sound):m.current||Q()};return e.jsx(e.Fragment,{children:_?e.jsx("div",{className:`animate__animated ${a}`,onAnimationEnd:()=>{a==="animate__bounceOutLeft"&&f()},children:e.jsx(Me,{step:u,quizType:rs,comment:i("study.카드를 순서대로 나열하여 올바른 문장을 완성하세요."),onStepIntroClozeHandler:()=>{x("animate__bounceOutLeft")}})}):e.jsx(e.Fragment,{children:k?e.jsx(rt,{step:u,quizType:rs,quizAnswerCount:s.QuizAnswerCount,studentAnswer:y,onFinishActivity:t.onFinishActivity}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:d,totalQuizCnt:Object.keys(s.Quiz).length,life:s.QuizAnswerCount-z,timeMin:l.time.timeMin,timeSec:l.time.timeSec,changeSideMenu:re}),e.jsx("div",{className:`${un.comment} animate__animated animate__fadeInLeft`,children:rs}),e.jsxs(Ne,{children:[e.jsx(Jz,{playState:G,onPlay:se}),e.jsx(Z,{height:15}),e.jsxs(Be,{typeCSS:un.writingActivity1,containerCSS:un.container,children:[e.jsx(m$,{sentenceState:M,sentenceData:R,removeWord:F}),e.jsx(e.Fragment,{children:U?e.jsx(p$,{goNextQuiz:ce}):e.jsxs(e.Fragment,{children:[e.jsx(Zz,{}),e.jsx(r$,{exampleRefs:D,exampleData:H,selectWord:T})]})})]}),Oi?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),w&&e.jsx(Ae,{isSideOpen:w,currentStep:u,currentStepType:rs,quizLength:s.Quiz.length,maxAnswerCount:s.QuizAnswerCount,changeSideMenu:re,scoreBoardData:y,changeStep:t.changeStep}),e.jsx(Ze,{bottomPopupState:I})]})})})}const So=()=>{const[t,i]=c.useState("loading");return{quizState:t,changeQuizState:o=>{if(t==="checking"&&o!=="studying")return!1;i(o)}}},f$=new A(navigator.userAgent),b$=f$.phone(),yt=b$?xs:ms;function qs({currentSubmitCount:t,maxSubmitCount:i,noWritingActivity:n,goWritingActivity:o}){const{t:r}=de();return e.jsx("div",{className:yt.revisionFreeIntro,children:e.jsxs("div",{className:`${yt.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:yt.stepOrder,children:"Step5"}),e.jsx("div",{className:yt.quizType,children:"Writing Activity"}),e.jsx("div",{className:yt.comment,children:r("study.글쓰기를 하시겠어요?")}),e.jsxs("div",{className:yt.revisionBoard,children:[e.jsxs("div",{className:yt.txtLabel,children:[r("study.남은 첨삭"),":"]}),e.jsxs("div",{className:yt.txtCount,children:[i-t," / ",i]}),e.jsxs("div",{className:yt.txtLabel,children:[r("study.첨삭 완료"),":"]}),e.jsx("div",{className:yt.txtCount,children:t})]}),e.jsxs("div",{className:yt.selectBox,children:[e.jsx("div",{className:yt.passButton,onClick:()=>n(),children:"Pass"}),e.jsx("div",{className:yt.goButton,onClick:()=>o(),children:"Go"})]})]})})}const k$=new A(navigator.userAgent),w$=k$.phone(),Yt=w$?xs:ms;function S$({unit:t,goWritingActivity:i}){const{t:n}=de();return e.jsx("div",{className:Yt.stepIntro,children:e.jsxs("div",{className:`${Yt.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:Yt.stepOrder,children:"Step5"}),e.jsx("div",{className:Yt.quizType,children:"Writing Activity"}),e.jsx("div",{className:Yt.comment,children:n("study.글쓰기 후 첨삭을 받으세요.")}),e.jsx("div",{className:Yt.readingUnit,children:e.jsx("img",{src:`https://wcfresource.a1edu.com/newsystem/image/character/subcharacter/${t}_13.png`,alt:""})}),e.jsx("div",{className:Yt.startButton,onClick:()=>i(),children:"Start"})]})})}const v$=new A(navigator.userAgent),j$=v$.phone(),ft=j$?jt:vt;function z$({currentSubmitCount:t,maxSubmitCount:i,noWritingActivity:n}){const{t:o}=de();return e.jsx("div",{className:ft.submitRevision,children:e.jsxs("div",{className:`${ft.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:ft.stepOrder,children:"Step5. Writing Activity"}),e.jsx("div",{className:ft.title,children:o("study.이 달의 첨삭")}),e.jsx("div",{className:ft.comment,children:o("study.수고했어요! 이달의 남은 첨삭은 모두 사용했어요.")}),e.jsxs("div",{className:ft.revisionBoard,children:[e.jsxs("div",{className:ft.txtLabel,children:[o("study.남은 첨삭"),":"]}),e.jsxs("div",{className:ft.txtCount,children:[i-t," / ",i]}),e.jsxs("div",{className:ft.txtLabel,children:[o("study.첨삭 완료"),":"]}),e.jsx("div",{className:ft.txtCount,children:t})]}),e.jsx("div",{className:`${ft.selectBox} ${ft.revisionDone}`,children:e.jsx("div",{className:ft.noButton,onClick:()=>n(),children:"Done"})})]})})}function Di({mode:t,type:i,currentSubmitCount:n,maxSubmitCount:o,goWritingActivity:r,noWritingActivity:u}){const l=Xt();let a;switch(i){case"In School":case"Overseas":switch(t){case"All":a=e.jsx(S$,{unit:l,goWritingActivity:r});break;case"Free":a=e.jsx(qs,{currentSubmitCount:n,maxSubmitCount:o,goWritingActivity:r,noWritingActivity:u});break;case"Limit":o-n<1?a=e.jsx(z$,{currentSubmitCount:n,maxSubmitCount:o,noWritingActivity:u}):a=e.jsx(qs,{currentSubmitCount:n,maxSubmitCount:o,goWritingActivity:r,noWritingActivity:u});break}break;case"No Revision":a=e.jsx(qs,{currentSubmitCount:n,maxSubmitCount:o,goWritingActivity:r,noWritingActivity:u});break}return e.jsx(e.Fragment,{children:a})}const $$=new A(navigator.userAgent),C$=$$.phone(),di=C$?We:Ve;function Q$({currentTabIndex:t,index:i,changeTabNo:n}){return e.jsx("div",{className:`${di.tabButton} ${t===i?di.active:""}`,onClick:()=>n(i),children:i+1})}const A$=new A(navigator.userAgent),N$=A$.phone(),T$=N$?We:Ve;function I$({currentTabIndex:t,questionData:i,changeTabNo:n}){return e.jsx("div",{className:T$.tabs,children:i.map((o,r)=>e.jsx(Q$,{currentTabIndex:t,index:r,changeTabNo:n}))})}const B$=new A(navigator.userAgent),E$=B$.phone(),P$=E$?We:Ve;function M$({question:t}){return e.jsx("div",{className:P$.questionText,children:t})}const L$=new A(navigator.userAgent),R$=L$.phone(),F$=R$?We:Ve;function q$({wordMinCount:t,wordMaxCount:i,answerData:n,onChangeHandler:o}){return e.jsx("div",{className:F$.writingArea,children:e.jsx("textarea",{placeholder:`Please fill out within ${t} to ${i} characters.`,value:n,onChange:r=>o(r.currentTarget.value)})})}const H$=new A(navigator.userAgent),O$=H$.phone(),D$=O$?We:Ve;function V$({saveAnswer:t}){return e.jsx("div",{className:D$.saveButton,onClick:()=>t(),children:"Save"})}const W$=new A(navigator.userAgent),G$=W$.phone(),U$=G$?We:Ve;function Vi({isSubmit:t,submitAnswer:i}){return e.jsx("div",{style:t?{}:{opacity:"0.5",cursor:"default"},className:U$.submitButton,onClick:()=>i(),children:"Submit"})}const K$=new A(navigator.userAgent),J$=K$.phone(),as=J$?We:Ve;function Y$({isSubmit:t,wordMinCount:i,wordMaxCount:n,answerLength:o,saveAnswer:r,submitAnswer:u}){return e.jsxs("div",{className:as.goNextStepBox,children:[e.jsxs("div",{className:as.wordLimitIndicator,children:[e.jsxs("div",{className:as.limit,children:["• Word Limit: ",i,"~",n]}),e.jsxs("div",{className:as.words,children:["• The number of words: ",o]})]}),e.jsx(V$,{saveAnswer:r}),e.jsx(Vi,{isSubmit:t,submitAnswer:u})]})}const X$=new A(navigator.userAgent),Z$=X$.phone(),bt=Z$?jt:vt;function Hs({currentSubmitCount:t,maxSubmitCount:i,submitNoRevision:n}){const{t:o}=de();return e.jsx("div",{className:bt.submitRevision,children:e.jsxs("div",{className:`${bt.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:bt.stepOrder,children:"Step5. Writing Activity"}),e.jsx("div",{className:bt.title,children:o("study.이 달의 첨삭")}),e.jsx("div",{className:bt.comment,children:o("study.수고했어요! 이달의 남은 첨삭은 모두 사용했어요.")}),e.jsxs("div",{className:bt.revisionBoard,children:[e.jsxs("div",{className:bt.txtLabel,children:[o("study.남은 첨삭"),":"]}),e.jsxs("div",{className:bt.txtCount,children:[i-t," / ",i]}),e.jsxs("div",{className:bt.txtLabel,children:[o("study.첨삭 완료"),":"]}),e.jsx("div",{className:bt.txtCount,children:t})]}),e.jsx("div",{className:`${bt.selectBox} ${bt.revisionDone}`,children:e.jsx("div",{className:bt.noButton,onClick:()=>n(),children:"Done"})})]})})}const eC=new A(navigator.userAgent),tC=eC.phone(),pt=tC?jt:vt;function nC({currentSubmitCount:t,maxSubmitCount:i,submitWritingActivity:n}){const{t:o}=de();return e.jsx("div",{className:pt.submitRevision,children:e.jsxs("div",{className:`${pt.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:pt.stepOrder,children:"Step5. Writing Activity"}),e.jsx("div",{className:pt.title,children:o("study.이 달의 첨삭")}),e.jsxs("div",{className:pt.revisionBoard,children:[e.jsxs("div",{className:pt.txtLabel,children:[o("study.목표 첨삭"),":"]}),e.jsx("div",{className:pt.txtCount,children:i}),e.jsxs("div",{className:pt.txtLabel,children:[o("study.남은 첨삭"),":"]}),e.jsx("div",{className:pt.txtCount,children:i-t-1}),e.jsxs("div",{className:pt.txtLabel,children:[o("study.첨삭 완료"),":"]}),e.jsxs("div",{className:pt.txtCount,children:[t+1," / ",i]})]}),e.jsx("div",{className:`${pt.selectBox} ${pt.revisionDone}`,children:e.jsx("div",{className:pt.yesButton,onClick:()=>n(),children:"Done"})})]})})}const sC=new A(navigator.userAgent),oC=sC.phone(),kt=oC?jt:vt;function mi({currentSubmitCount:t,maxSubmitCount:i,submitNoRevision:n,submitWritingActivity:o}){const{t:r}=de();return e.jsx("div",{className:kt.submitRevision,children:e.jsxs("div",{className:`${kt.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:kt.stepOrder,children:"Step5. Writing Activity"}),e.jsx("div",{className:kt.title,children:r("study.이 달의 첨삭")}),e.jsx("div",{className:kt.comment,children:r("study.첨삭을 받으시겠어요?")}),e.jsxs("div",{className:kt.revisionBoard,children:[e.jsxs("div",{className:kt.txtLabel,children:[r("study.남은 첨삭"),":"]}),e.jsxs("div",{className:kt.txtCount,children:[i-t," / ",i]}),e.jsxs("div",{className:kt.txtLabel,children:[r("study.첨삭 완료"),":"]}),e.jsx("div",{className:kt.txtCount,children:t})]}),e.jsxs("div",{className:kt.selectBox,children:[e.jsx("div",{className:kt.noButton,onClick:()=>n(),children:"No"}),e.jsx("div",{className:kt.yesButton,onClick:()=>o(),children:"Yes"})]})]})})}function iC({mode:t,type:i,currentSubmitCount:n,maxSubmitCount:o,submitWritingActivity:r,submitNoRevision:u}){let l;switch(i){case"In School":case"Overseas":switch(t){case"All":case"Free":o-n<1?l=e.jsx(Hs,{currentSubmitCount:n,maxSubmitCount:o,submitNoRevision:u}):l=e.jsx(mi,{currentSubmitCount:n,maxSubmitCount:o,submitNoRevision:u,submitWritingActivity:r});break;case"Limit":o-n<1?l=e.jsx(Hs,{currentSubmitCount:n,maxSubmitCount:o,submitNoRevision:u}):l=e.jsx(nC,{currentSubmitCount:n,maxSubmitCount:o,submitWritingActivity:r});break}break;case"No Revision":o-n<1?l=e.jsx(Hs,{currentSubmitCount:n,maxSubmitCount:o,submitNoRevision:u}):l=e.jsx(mi,{currentSubmitCount:n,maxSubmitCount:o,submitNoRevision:u,submitWritingActivity:r});break}return e.jsx(e.Fragment,{children:l})}const rC=new A(navigator.userAgent),ho=rC.phone(),xi="Writing Activity",Os=ho?We:Ve;function aC(t){const{studyInfo:i,handler:n}=c.useContext(ne),o=t.currentStep,r=ze(()=>{window.onLogoutStudy()}),[u,l]=c.useState("animate__bounceInRight"),{isStepIntro:a,closeStepIntro:x}=je(),{isResultShow:_,changeResultShow:f}=He(),[k,p]=c.useState(!1),{quizState:w,changeQuizState:b}=So(),[m,s]=$e(wo,t,o),{scoreBoardData:h,setStudentAnswers:d}=Ce(i.mode),[g,y]=c.useState(0),[S,v]=c.useState([]),[L,$]=c.useState(!1);if(c.useEffect(()=>{!a&&m&&(r.setup(m.QuizTime,!0),b("studying"))},[a]),c.useEffect(()=>{if(m)try{if(s.length>0){const I=[];s.map(V=>I.push(V.TempText)),v([...I])}else{const I=new Array(m.Writing.Question.length).fill("");switch(m.Writing.Activity){case"Book Report":I[0]=`The Title is ${m.Title}`,I[1]=`The author is ${m.Author}`;break;case"Book Review":I[0]="Describe briefly what happens in the book or the main idea.",I[1]="What are interesting features of the book?",I[2]="Describe some morals or new knowledge you've learnt from the book.";break;case"KWL Chart":I[0]="What I know",I[1]="What I want to know",I[2]="What I learned";break;case"Story Map":I[0]="What happened first?",I[1]="What happened next?",I[2]="What happened last?";break}v([...I])}d(s,0)}catch(I){console.error(I)}},[m]),c.useEffect(()=>{if(S&&m){const I=S.filter(U=>U==="").length,V=W();I===0&&V>=m.Writing.WordMinCount&&V<=m.Writing.WordMaxCount?$(!0):$(!1)}},[S]),!m)return e.jsx(e.Fragment,{children:"Loading..."});const E=()=>{l("animate__bounceOutLeft")},z=async()=>{if(b("checking"),w==="loading"){const I=S.join("┒"),V={bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${o}`,saveType:"R",writeText:I,isFinishStudy:!0},U=await bn(i.mode,V);Number(U.result)===0&&(n.finishStudy={id:Number(U.result),cause:U.resultMessage},t.onFinishActivity())}},C=async()=>{if(b("checking"),w==="studying"){const I=S.join("┒"),V={bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${o}`,saveType:"S",writeText:I,isFinishStudy:!0},U=await bn(i.mode,V);Number(U.result)===0&&(n.finishStudy={id:Number(U.result),cause:U.resultMessage},t.onFinishActivity())}},M=async()=>{if(b("checking"),w==="studying"){const I=S.join("┒"),V={bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${o}`,saveType:"E",writeText:I,isFinishStudy:!0},U=await bn(i.mode,V);Number(U.result)===0&&(n.finishStudy={id:Number(U.result),cause:U.resultMessage},t.onFinishActivity())}},q=()=>{L&&f(!0)},D=I=>{y(I)},H=(I="")=>{let V=S!==void 0?[...S]:[I];V[g]=I,v([...V])},W=()=>S.reduce((V,U)=>V+(U===""?0:_e.trimStart(_e.trimEnd(U.replaceAll(/\s+/g," "))).split(" ").length),0),R=async()=>{try{b("checking");const I=S.join("┒");if(w==="studying"){const V={bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${o}`,saveType:"X",writeText:I},U=await bn(i.mode,V);Number(U.result)===0&&b("studying")}}catch(I){console.error(I)}},N=I=>{p(I)};return e.jsx(e.Fragment,{children:a?e.jsx("div",{className:`animate__animated ${u}`,onAnimationEnd:()=>{u==="animate__bounceOutLeft"&&x()},children:e.jsx(Di,{mode:m.Writing.Mode,type:m.Writing.Type,currentSubmitCount:m.Writing.CurrentSubmitCount,maxSubmitCount:m.Writing.MaxSubmitCount,goWritingActivity:E,noWritingActivity:z})}):e.jsx(e.Fragment,{children:_?e.jsx("div",{className:"animate__animated ",children:e.jsx(iC,{mode:m.Writing.Mode,type:m.Writing.Type,currentSubmitCount:m.Writing.CurrentSubmitCount,maxSubmitCount:m.Writing.MaxSubmitCount,submitWritingActivity:C,submitNoRevision:M})}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:g+1,totalQuizCnt:m.Writing.Question.length,life:1,timeMin:r.time.timeMin,timeSec:r.time.timeSec,changeSideMenu:N}),e.jsx("div",{className:`${Os.comment} animate__animated animate__fadeInLeft`,children:xi}),e.jsxs(Ne,{children:[ho?e.jsx(e.Fragment,{}):e.jsx(Z,{height:15}),e.jsxs(Be,{typeCSS:Os.writingActivity2,containerCSS:Os.container,children:[e.jsx(I$,{currentTabIndex:g,questionData:m.Writing.Question,changeTabNo:D}),e.jsx(M$,{question:m.Writing.Question[g]}),e.jsx(q$,{wordMinCount:m.Writing.WordMinCount,wordMaxCount:m.Writing.WordMaxCount,answerData:S[g],onChangeHandler:H}),e.jsx(Y$,{isSubmit:L,wordMinCount:m.Writing.WordMinCount,wordMaxCount:m.Writing.WordMaxCount,answerLength:W(),saveAnswer:R,submitAnswer:q})]}),ho?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),k&&e.jsx(Ae,{isSideOpen:k,currentStep:o,currentStepType:xi,quizLength:0,maxAnswerCount:0,scoreBoardData:h,changeSideMenu:N,changeStep:t.changeStep})]})})})}const cC=new A(navigator.userAgent),_o=cC.phone(),hi="Writing Activity",Ds=_o?We:Ve;function uC(t){const{studyInfo:i,handler:n}=c.useContext(ne),o=t.currentStep,r=ze(()=>{window.onLogoutStudy()}),[u,l]=c.useState("animate__bounceInRight"),{isStepIntro:a,closeStepIntro:x}=je(),[_,f]=c.useState(!1),{quizState:k,changeQuizState:p}=So(),[w,b]=$e(wo,t,"STEP"),{scoreBoardData:m,setStudentAnswers:s}=Ce(i.mode),[h,d]=c.useState([]);if(c.useEffect(()=>{!a&&w&&(r.setup(w.QuizTime,!0),p("studying"))},[a]),c.useEffect(()=>{if(w)try{if(b.length>0){const v=[];b.map(L=>v.push(L.TempText)),d([...v])}else{const v=new Array(w.Writing.Question.length).fill("");switch(w.Writing.Activity){case"Book Report":v[0]=`The Title is ${w.Title}`,v[1]=`The author is ${w.Author}`;break;case"Book Review":v[0]="Describe briefly what happens in the book or the main idea.",v[1]="What are interesting features of the book?",v[2]="Describe some morals or new knowledge you've learnt from the book.";break;case"KWL Chart":v[0]="What I know",v[1]="What I want to know",v[2]="What I learned";break;case"Story Map":v[0]="What happened first?",v[1]="What happened next?",v[2]="What happened last?";break}d([...v])}s(b,0)}catch(v){console.error(v)}},[w]),!w)return e.jsx(e.Fragment,{children:"Loading..."});const g=()=>{l("animate__bounceOutLeft")},y=async()=>{if(p("checking"),k==="loading"){const v=h.join("┒"),L={bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,step:`${o}`,saveType:"R",writeText:v,isFinishStudy:!0},$=await bn(i.mode,L);Number($.result)===0&&(n.finishStudy={id:Number($.result),cause:$.resultMessage},t.onFinishActivity())}},S=v=>{f(v)};return e.jsx(e.Fragment,{children:a?e.jsx("div",{className:`animate__animated ${u}`,onAnimationEnd:()=>{u==="animate__bounceOutLeft"&&x()},children:e.jsx(Di,{mode:w.Writing.Mode,type:w.Writing.Type,currentSubmitCount:w.Writing.CurrentSubmitCount,maxSubmitCount:w.Writing.MaxSubmitCount,goWritingActivity:g,noWritingActivity:y})}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:1,totalQuizCnt:w.Writing.Question.length,life:1,timeMin:r.time.timeMin,timeSec:r.time.timeSec,changeSideMenu:S}),e.jsx("div",{className:`${Ds.comment} animate__animated animate__fadeInLeft`,children:hi}),e.jsxs(Ne,{children:[_o?e.jsx(e.Fragment,{}):e.jsx(Z,{height:15}),e.jsx(Be,{typeCSS:Ds.writingActivity2,containerCSS:Ds.container,children:e.jsx("div",{children:w.Writing.Question.map((v,L)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{fontWeight:700},children:["Q. ",v]}),e.jsxs("div",{children:["A. ",b[L].TempText]}),e.jsx("br",{})]}))})}),_o?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),_&&e.jsx(Ae,{isSideOpen:_,currentStep:o,currentStepType:hi,quizLength:0,maxAnswerCount:0,scoreBoardData:m,changeSideMenu:S,changeStep:t.changeStep})]})})}const lC=new A(navigator.userAgent),dC=lC.phone(),St=dC?xs:ms;function mC({currentSubmitCount:t,maxSubmitCount:i,goWritingActivity:n}){const{t:o}=de();return e.jsx("div",{className:St.revisionFreeIntro,children:e.jsxs("div",{className:`${St.container} animate__animated animate__bounceInRight`,children:[e.jsx("div",{className:St.stepOrder,children:"Step5"}),e.jsx("div",{className:St.quizType,children:"Writing Activity(R)"}),e.jsx("div",{className:St.comment,children:o("study.글쓰기를 하시겠어요?")}),e.jsxs("div",{className:St.revisionBoard,children:[e.jsxs("div",{className:St.txtLabel,children:[o("study.남은 첨삭"),":"]}),e.jsxs("div",{className:St.txtCount,children:[i-t," / ",i]}),e.jsxs("div",{className:St.txtLabel,children:[o("study.첨삭 완료"),":"]}),e.jsx("div",{className:St.txtCount,children:t})]}),e.jsx("div",{style:{display:"flex"},className:St.selectBox,children:e.jsx("div",{className:St.goButton,onClick:()=>n(),children:"Go"})})]})})}const xC=new A(navigator.userAgent),hC=xC.phone(),_C=hC?We:Ve;function pC({wordMinCount:t,wordMaxCount:i,answerData:n,isRewriting:o,onChangeHandler:r}){return e.jsx("div",{className:_C.writingArea,children:e.jsx("textarea",{placeholder:`Please fill out within ${t} to ${i} characters.`,disabled:!o,onChange:u=>r(u.currentTarget.value),value:n.join(`

`)})})}const gC=new A(navigator.userAgent),yC=gC.phone(),cs=yC?We:Ve;function fC({isSubmit:t,wordMinCount:i,wordMaxCount:n,answerLength:o,submitAnswer:r}){return e.jsxs("div",{className:cs.goNextStepBox,children:[e.jsxs("div",{className:cs.wordLimitIndicator,children:[e.jsxs("div",{className:cs.limit,children:["• Word Limit: ",i,"~",n]}),e.jsxs("div",{className:cs.words,children:["• The number of words: ",o]})]}),e.jsx(Vi,{isSubmit:t,submitAnswer:r})]})}const bC=new A(navigator.userAgent),kC=bC.phone(),wC=kC?We:Ve;function SC({revisionImageTop:t,revisionImageBottom:i,comment:n}){return e.jsxs("div",{className:wC.revisionReport,children:[e.jsx("img",{src:t,alt:""}),e.jsx("img",{src:i,alt:""}),e.jsx("span",{children:n})]})}const vC=new A(navigator.userAgent),po=vC.phone(),_i="Writing Activity",Vs=po?We:Ve;function jC(t){const{studyInfo:i,handler:n}=c.useContext(ne),o=t.currentStep,r=ze(()=>{window.onLogoutStudy()}),[u,l]=c.useState("animate__bounceInRight"),{isStepIntro:a,closeStepIntro:x}=je(),[_,f]=c.useState(!1),{quizState:k,changeQuizState:p}=So(),[w,b]=$e(wo,t,"7"),{scoreBoardData:m,setStudentAnswers:s}=Ce(i.mode),[h,d]=c.useState([]),[g,y]=c.useState(!1);if(c.useEffect(()=>{!a&&w&&(r.setup(w.QuizTime,!0),p("studying"))},[a]),c.useEffect(()=>{if(w)try{if(b.length>0){const z=[];b.map(C=>z.push(C.TempText)),d([...z])}else{const z=new Array(w.Writing.Question.length).fill("");switch(w.Writing.Activity){case"Book Report":z[0]=`The Title is ${w.Title}`,z[1]=`The author is ${w.Author}`;break;case"Book Review":z[0]="Describe briefly what happens in the book or the main idea.",z[1]="What are interesting features of the book?",z[2]="Describe some morals or new knowledge you've learnt from the book.";break;case"KWL Chart":z[0]="What I know",z[1]="What I want to know",z[2]="What I learned";break;case"Story Map":z[0]="What happened first?",z[1]="What happened next?",z[2]="What happened last?";break}d([...z])}s(b,0)}catch(z){console.error(z)}},[w]),c.useEffect(()=>{if(h&&w){const z=h.filter(M=>M==="").length,C=$();z===0&&C>=w.Writing.WordMinCount&&C<=w.Writing.WordMaxCount?y(!0):y(!1)}},[h]),!w)return e.jsx(e.Fragment,{children:"Loading..."});const S=()=>{l("animate__bounceOutLeft")},v=async()=>{if(p("checking"),k==="studying"){const z=h.join(" "),C={bookType:t.bookType,studyId:t.studyId,studentHistoryId:t.studentHistoryId,writeText:z},M=await mr(C);Number(M.result)===0&&(n.finishStudy={id:Number(M.result),cause:M.resultMessage},t.onFinishActivity())}},L=(z="")=>{let C=h!==void 0?[...h]:[z];C=z.split(`

`),d([...C])},$=()=>h.reduce((C,M)=>C+(M===""?0:_e.trimStart(_e.trimEnd(M.replaceAll(/\s+/g," "))).split(" ").length),0),E=z=>{f(z)};return e.jsx(e.Fragment,{children:a?e.jsx("div",{className:`animate__animated ${u}`,onAnimationEnd:()=>{u==="animate__bounceOutLeft"&&x()},children:e.jsx(mC,{currentSubmitCount:w.Writing.CurrentSubmitCount,maxSubmitCount:w.Writing.MaxSubmitCount,goWritingActivity:S})}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{quizNumber:1,totalQuizCnt:w.Writing.Question.length,life:1,timeMin:r.time.timeMin,timeSec:r.time.timeSec,changeSideMenu:E}),e.jsx("div",{className:`${Vs.comment} animate__animated animate__fadeInLeft`,children:_i}),e.jsxs(Ne,{children:[po?e.jsx(e.Fragment,{}):e.jsx(Z,{height:15}),e.jsx(Be,{typeCSS:Vs.writingActivity2,containerCSS:Vs.container,children:w.Rewriting&&e.jsxs(e.Fragment,{children:[e.jsx(SC,{revisionImageTop:w.Rewriting.ReWritingImage1,revisionImageBottom:w.Rewriting.ReWritingImage2,comment:w.Rewriting.ReWritingComment}),e.jsx(pC,{wordMinCount:w.Writing.WordMinCount,wordMaxCount:w.Writing.WordMaxCount,answerData:h,isRewriting:w.Rewriting.IsReWriting,onChangeHandler:L}),w.Rewriting.IsReWriting&&e.jsx(fC,{isSubmit:g,wordMinCount:w.Writing.WordMinCount,wordMaxCount:w.Writing.WordMaxCount,answerLength:$(),submitAnswer:v})]})}),po?e.jsx(Z,{height:5}):e.jsx(Z,{height:15})]}),_&&e.jsx(Ae,{isSideOpen:_,currentStep:o,currentStepType:_i,quizLength:0,maxAnswerCount:0,scoreBoardData:m,changeSideMenu:E,changeStep:t.changeStep})]})})}const zC=new A(navigator.userAgent),Wi=t=>{const{t:i}=de(),n=Xt(),{studyInfo:o,bookInfo:r,handler:u}=c.useContext(ne);c.useEffect(()=>{if(o.availableQuizStatus===1){alert(i("common.ReTest 정책으로 당일 재학습 불가"));try{window.onExitStudy()}catch{location.replace("/")}}else if(o.availableQuizStatus===2){alert(i("common.일일 획득 가능 포인트 초과"));try{window.onExitStudy()}catch{location.replace("/")}}},[]);let l=o.startStep;r.RevisionStatusCode==="028010"&&o.openSteps.find(S=>S===5)&&(l=5);const[a,x]=c.useState(l);c.useEffect(()=>{o.startStep=a},[a]);const[_,f]=c.useState(!o.isPassedVocabularyPractice||o.mode!=="Quiz"),k=o.mappedStepActivity[a-1],p=()=>{const y=o.openSteps.findIndex(S=>S===a);return y>=0&&o.openSteps.length>y+1?o.openSteps[y+1]:void 0},w=()=>{const y=p();if(y)x(y);else if(o.mode==="Quiz")u.actionFinishStudy(u.finishStudy,n);else try{window.onExitStudy()}catch{location.replace("/")}},b=y=>{o.isPassedVocabularyPractice=!y,f(y)},m=y=>{x(y)},s=Number(r.BookCode.substring(6));let h="";if(o.bookType==="EB"){if(r.BookLevel==="KA"){const y=["theme-zoo-2","theme-jungle","theme-antarctica","theme-zoo-1"];h=y[s%y.length]}else if(r.BookLevel==="KB"||r.BookLevel==="KC"){const y=["theme-farm","theme-forest","theme-kids-room","theme-space"];h=y[s%y.length]}}if(h===""){const y=["theme-camping","theme-season-spring","theme-season-summer","theme-season-autumn","theme-season-winter","theme-playground"];h=y[s%y.length]}const d={mode:o.mode,currentStep:a,studyId:o.studyId,studentHistoryId:o.studentHistoryId,bookType:o.bookType,studyTypeCode:o.bookType==="EB"?"001006":"001001",isEnabledPractice:o.isPassedVocabularyPractice&&o.mode==="Quiz",theme:h,lastStep:o.openSteps[o.openSteps.length-1],isReTestYn:o.isReTestYn,onFinishActivity:w,changeVocaState:b,changeStep:m};let g;switch(k){case Ge.LISTENING_1:g=e.jsx(E1,{...d});break;case Ge.LISTENING_2:g=e.jsx(O1,{...d});break;case Ge.LISTENING_3:g=e.jsx(Z1,{...d});break;case Ge.LISTENING_4:g=e.jsx(_x,{...d});break;case Ge.VOCABULARY_1:_?g=e.jsx(Iw,{...d}):g=e.jsx(Sv,{...d});break;case Ge.VOCABULARY_2:_?g=e.jsx(Vv,{...d}):g=e.jsx(s2,{...d});break;case Ge.VOCABULARY_3:_?g=e.jsx(A2,{...d}):g=e.jsx(ej,{...d});break;case Ge.VOCABULARY_4:_?g=e.jsx(vj,{...d}):g=e.jsx(Hj,{...d});break;case Ge.READING_COMP_1:g=e.jsx(yh,{...d});break;case Ge.READING_COMP_2:g=e.jsx(Th,{...d});break;case Ge.READING_COMP_3:g=e.jsx(Wh,{...d});break;case Ge.READING_COMP_4:g=e.jsx(g_,{...d});break;case Ge.SUMMARY_1:g=e.jsx(Tg,{...d});break;case Ge.SUMMARY_2:g=e.jsx(sy,{...d});break;case Ge.TRUE_OR_FALSE:g=e.jsx(rf,{...d});break;case Ge.CLOZE_1:g=e.jsx(t0,{...d});break;case Ge.CLOZE_2:g=e.jsx(p0,{...d});break;case Ge.CLOZE_3:g=e.jsx(N0,{...d});break;case Ge.WRITING_1:g=e.jsx(y$,{...d});break;case Ge.WRITING_2:o.isReview?r.RevisionStatusCode==="028010"||r.RevisionStatusCode==="028009"?g=e.jsx(jC,{...d}):g=e.jsx(uC,{...d}):g=e.jsx(aC,{...d});break}return e.jsx("div",{className:`${zC.phone()?fo.quizTemplate:yo.quizTemplate} ${h}`,children:g})};function $C(){const[t,i]=c.useState(!1),[n,o]=c.useState({width:1,height:1});return{imgSize:n,preloadImage:u=>{if(!t){const l=[...new Set(u.map(a=>a.ImagePath))];l.map((a,x)=>{const _=new Image;_.src=a,x===0&&a!==null&&o({width:_.width,height:_.height}),x===l.length-1&&i(!0)})}}}}const CC="_ebook_tgkc0_1",QC="_ebook_page_tgkc0_26",AC="_text_wrapper_tgkc0_29",NC="_ebook_header_tgkc0_36",TC="_menu_button_tgkc0_48",IC="_ebook_play_bar_drop_down_menu_tgkc0_57",BC="_read_mode_option_tgkc0_60",EC="_read_mode_option_menu_tgkc0_66",PC="_menu_name_tgkc0_80",MC="_menu_item_tgkc0_86",LC="_on_tgkc0_91",RC="_light_box_tgkc0_95",FC="_ebook_play_mode_mobile_tgkc0_105",qC="_slide_in_bottom_tgkc0_114",HC="_slide_out_bottom_tgkc0_138",OC="_label_tgkc0_162",DC="_select_box_tgkc0_168",VC="_select_button_tgkc0_173",WC="_radio_tgkc0_190",GC="_page_turning_mode_tgkc0_210",UC="_choose_button_tgkc0_219",KC="_container_tgkc0_231",JC="_ebook_progress_bar_tgkc0_275",YC="_progress_tgkc0_282",XC="_ebook_play_bar_tgkc0_57",ZC="_ebook_play_bar_pc_area_l_tgkc0_301",eQ="_read_mode_button_tgkc0_313",tQ="_ebook_play_bar_pc_area_c_tgkc0_320",nQ="_backward_tgkc0_327",sQ="_forward_tgkc0_328",oQ="_play_tgkc0_342",iQ="_ebook_play_bar_pc_area_r_tgkc0_354",rQ="_full_screen_button_tgkc0_361",aQ="_word_button_tgkc0_369",cQ="_landscape_tgkc0_389",uQ="_mobile_tgkc0_420",lQ="_ebook_page_arrows_tgkc0_439",dQ="_left_arrow_tgkc0_439",mQ="_right_arrow_tgkc0_440",xQ="_ebook_body_pc_tgkc0_466",hQ="_ebook_contents_tgkc0_471",_Q="_pages_tgkc0_474",pQ="_ebook_body_mobile_p_tgkc0_499",gQ="_ebook_voca_list_tgkc0_516",yQ="_voca_item_tgkc0_521",fQ="_word_item_tgkc0_526",bQ="_word_tgkc0_369",kQ="_mean_tgkc0_535",wQ="_ebook_vocabulary_note_tgkc0_541",SQ="_ebook_vocabulary_note_container_tgkc0_549",vQ="_ebook_vocabulary_note_area_top_tgkc0_566",jQ="_close_vocabulary_note_tgkc0_569",zQ="_btn_delete_tgkc0_574",$Q="_btn_print_tgkc0_586",CQ="_book_info_tgkc0_597",QQ="_book_code_tgkc0_597",AQ="_book_title_tgkc0_600",NQ="_line_tgkc0_604",TQ="_ebook_vocabulary_note_screen_block_tgkc0_610",IQ="_chooseRating_tgkc0_619",BQ="_btnStarOn_tgkc0_625",EQ="_btnStarOff_tgkc0_633",PQ="_ebookRating_tgkc0_642",MQ="_groupBookcover_tgkc0_680",LQ="_imgBookcover_tgkc0_688",RQ="_groupChoose_tgkc0_698",FQ="_txtQuestion_tgkc0_708",qQ="_groupChooseRating_tgkc0_723",HQ="_groupConfirm_tgkc0_732",OQ="_btnConfirm_tgkc0_739",DQ="_blue_tgkc0_759",VQ="_gray_tgkc0_768",WQ="_groupComment_tgkc0_777",GQ="_icoExclamationMark_tgkc0_784",UQ="_txtComment_tgkc0_793",KQ="_warningMessage_tgkc0_799",JQ="_textWrapper_tgkc0_802",YQ="_movieContents_tgkc0_806",XQ="_btnDelete_tgkc0_826",j={ebook:CC,ebook_page:QC,text_wrapper:AC,ebook_header:NC,menu_button:TC,ebook_play_bar_drop_down_menu:IC,read_mode_option:BC,read_mode_option_menu:EC,menu_name:PC,menu_item:MC,on:LC,light_box:RC,ebook_play_mode_mobile:FC,slide_in_bottom:qC,"slide-in-bottom":"_slide-in-bottom_tgkc0_1",slide_out_bottom:HC,"slide-out-bottom":"_slide-out-bottom_tgkc0_1",label:OC,select_box:DC,select_button:VC,radio:WC,page_turning_mode:GC,choose_button:UC,container:KC,ebook_progress_bar:JC,progress:YC,ebook_play_bar:XC,ebook_play_bar_pc_area_l:ZC,read_mode_button:eQ,ebook_play_bar_pc_area_c:tQ,backward:nQ,forward:sQ,play:oQ,ebook_play_bar_pc_area_r:iQ,full_screen_button:rQ,word_button:aQ,landscape:cQ,mobile:uQ,ebook_page_arrows:lQ,left_arrow:dQ,right_arrow:mQ,ebook_body_pc:xQ,ebook_contents:hQ,pages:_Q,ebook_body_mobile_p:pQ,ebook_voca_list:gQ,voca_item:yQ,word_item:fQ,word:bQ,mean:kQ,ebook_vocabulary_note:wQ,ebook_vocabulary_note_container:SQ,ebook_vocabulary_note_area_top:vQ,close_vocabulary_note:jQ,btn_delete:zQ,btn_print:$Q,book_info:CQ,book_code:QQ,book_title:AQ,line:NQ,ebook_vocabulary_note_screen_block:TQ,chooseRating:IQ,btnStarOn:BQ,btnStarOff:EQ,ebookRating:PQ,groupBookcover:MQ,imgBookcover:LQ,groupChoose:RQ,txtQuestion:FQ,groupChooseRating:qQ,groupConfirm:HQ,btnConfirm:OQ,blue:DQ,gray:VQ,groupComment:WQ,icoExclamationMark:GQ,txtComment:UQ,warningMessage:KQ,textWrapper:JQ,movieContents:YQ,btnDelete:XQ};function ZQ({studyId:t,studentHistoryId:i,pageData:n,storyMode:o,changeSideMenu:r,changeStoryMode:u,changeReadingComplete:l}){const a=c.useMemo(()=>new Audio,[]);a.autoplay=!0;const[x,_]=c.useState(""),f=c.useRef(!0),[k,p]=c.useState(0),[w,b]=c.useState(1),m=c.useRef(!0),[s,h]=c.useState(1),[d,g]=c.useState({playPage:2,sequnce:0}),y=c.useRef(2),[S,v]=c.useState(0);c.useEffect(()=>{if(n){const N=n.find(I=>I.Page===s&&I.SoundPath);g({playPage:N?s:s+1,sequnce:0})}},[s]),c.useEffect(()=>{const N=()=>{f.current?(f.current=!1,E()):(a.play(),_("play"))};a.addEventListener("canplaythrough",N);const I=()=>{p(a.currentTime)};a.addEventListener("timeupdate",I);const V=()=>{};a.addEventListener("pause",V);const U=()=>{if(f.current)f.current=!1;else{const O=m.current;d.playPage%2===1?g({playPage:d.playPage+1,sequnce:0}):O?n.find(B=>B.Page===s+2)?h(s+2):(v(S+1),_("")):_("")}};return a.addEventListener("ended",U),L(d.playPage,d.sequnce),()=>{a.removeEventListener("canplaythrough",N),a.removeEventListener("timeupdate",I),a.removeEventListener("pause",V),a.removeEventListener("ended",U),$()}},[d]),c.useEffect(()=>{a.playbackRate=w},[w]),c.useEffect(()=>{S===1?o==="ListenAndRepeat"?h(3):(f.current=!0,r(!0),H(1),l(t,i)):S===2&&o==="ListenAndRepeat"&&(f.current=!0,u("Story"),r(!0),H(1),l(t,i))},[S]);const L=(N,I)=>{const V=n.filter(U=>U.Page===N&&U.SoundPath!=="");V.length>0&&V.length>I-1?(o==="ListenAndRepeat"&&S===1?a.src=V[0].SoundPath2:a.src=V[0].SoundPath,a.playbackRate=w,I>0&&(a.currentTime=V[I-1].StartTime/1e3)):(a.src="",a.currentTime=0)},$=()=>{a.pause(),a.src="",a.currentTime=0,_("")},E=()=>{a.pause(),_("pause")},z=()=>{a.pause()},C=()=>{a.play(),_("play")},M=N=>{b(N)},q=(N,I)=>{g({playPage:N,sequnce:I})},D=N=>{a.volume=N},H=N=>{N===1&&_(""),h(N)};return{pageNumber:s,playState:x,pageSeq:d,currentTime:k,readCnt:S,playAudio:L,stopAudio:$,pauseAudio:E,pauseAudioByWord:z,resumeAudio:C,changePlaySpeed:M,changeDuration:q,changeVolume:D,changePageNumber:H,changeAutoNextPage:N=>{m.current=N},changeMaxReadCnt:N=>{y.current=N}}}function eA({children:t}){var l,a,x;const n=(((x=(a=(l=c.useContext(ne))==null?void 0:l.bookInfo)==null?void 0:a.BookLevel)==null?void 0:x.substring(0,1))||"K")==="K"?480:525,o=window.matchMedia("(orientation: portrait)").matches,r=(window.innerHeight-100)/750,u=window.innerWidth/(n*2);return e.jsx("div",{className:j.ebook_body_pc,children:e.jsx("div",{className:j.ebook_contents,children:e.jsx("div",{style:{transform:`scale(${o?u:r})`},className:`${j.pages}`,children:t})})})}function pi({pageNumber:t,sentence:i,sequence:n,marginTop:o,marginLeft:r,clickSentence:u}){const l=x=>{const _=/id=\"t/g;let f=x.replace(_,`id="t_${t}_`);if(n!==999){const k=/ id=\"t/g;f=f.replace(k,` style='margin-top: ${o}px; margin-left: ${r}px; cursor:pointer;' id="t`)}else if(n===999){const k=/ id=\"t/g;f=f.replace(k,` style='margin-top: ${o}px; margin-left: ${r}px;' id="t`)}return f},a=()=>{n!==999&&u(t,n)};return e.jsx("div",{dangerouslySetInnerHTML:{__html:l(i)},onClick:()=>a()})}function tA({pageNumber:t,sentence:i,marginTop:n,marginLeft:o,sequence:r,color:u,clickSentence:l}){const a=_=>{const f=/id=\"t/g;return _.replace(f,`style='margin-top: ${n}px; margin-left: ${o}px; background-color:${u}' id="t_${t}_`)},x=()=>{r!==999&&l(t,r)};return e.jsx("div",{dangerouslySetInnerHTML:{__html:a(i)},onClick:()=>x()})}function kn({isTextShow:t,pageSeq:i,pageNumber:n,storyData:o,currentTime:r,readCnt:u,isHighlight:l,clickSentence:a}){const{handler:x,bookInfo:_}=c.useContext(ne),[f,k]=c.useState(""),[p,w]=c.useState(),[b,m]=c.useState(),s=_.BookLevel.substring(0,1)||"K",[h,d]=c.useState(""),[g,y]=c.useState(n);return c.useEffect(()=>{},[t]),c.useEffect(()=>{var S,v;if(o){const L=(S=o.find(z=>z.Page===n&&z.Sequence===999))==null?void 0:S.Css;if(L){const z=/\#t/g,C=L.replace(z,`#t_${n}_`);k(C)}const $=(v=o.find(z=>z.Page===n&&z.Sequence===999))==null?void 0:v.ImagePath,E=o.filter(z=>z.Page===n);m($),w(E),g<n?(y(n),d("slide-in-right"),setTimeout(()=>{d("")},100)):(y(n),d("slide-in-left"),setTimeout(()=>{d("")},100))}},[n]),e.jsx("div",{className:`${j.ebook_page} ${h}`,children:e.jsxs("div",{className:j.text_wrapper,style:{backgroundImage:`url(${b})`,width:s.toUpperCase()==="K"?"480px":"525px"},children:[e.jsx("div",{dangerouslySetInnerHTML:{__html:f}}),p&&t&&p.map(S=>x.storyMode==="ListenAndRepeat"&&u===1?e.jsx(pi,{pageNumber:n,sequence:S.Sequence,sentence:S.Contents,marginTop:S.MarginTop,marginLeft:S.MarginLeft,clickSentence:a}):i.playPage===n&&S.Sequence!==999&&r>=S.StartTime/1e3&&r<=S.EndTime/1e3&&l?e.jsx(tA,{pageNumber:n,sequence:S.Sequence,sentence:S.Contents,marginTop:S.MarginTop,marginLeft:S.MarginLeft,color:S.FontColor,clickSentence:a}):e.jsx(pi,{pageNumber:n,sequence:S.Sequence,sentence:S.Contents,marginTop:S.MarginTop,marginLeft:S.MarginLeft,clickSentence:a}))]})})}const vo="/study/BookReading/assets/icon_chev_white_left-1ab06882.svg",jo="/study/BookReading/assets/icon_chev_white_right-ff1d2e9e.svg";function nA({turnPageLeft:t,turnPageRight:i}){return e.jsxs("div",{className:j.ebook_page_arrows,children:[e.jsx("div",{className:j.left_arrow,children:e.jsx("button",{tabIndex:-1,contentEditable:!1,onClick:n=>{n.currentTarget.blur(),t()},children:e.jsx("img",{src:vo,width:60,alt:""})})}),e.jsx("div",{className:j.right_arrow,children:e.jsx("button",{tabIndex:-1,contentEditable:!1,onClick:n=>{n.currentTarget.blur(),i()},children:e.jsx("img",{src:jo,width:60,alt:""})})})]})}const zo="/study/BookReading/assets/icon_chev_down-3920372e.svg";function sA({changeTextShow:t,changeMuteAudio:i,changeHighlight:n}){const{t:o}=de(),{handler:r,bookInfo:u}=c.useContext(ne),[l,a]=c.useState(!1),x=u.HighlightDataYn?[{name:"Basic",selected:"on"},{name:"No Text",selected:""},{name:"No Audio",selected:""},{name:"No Highlight",selected:""}]:[{name:"Basic",selected:"on"},{name:"No Audio",selected:""}],[_,f]=c.useState(x),k=_.find(b=>b.selected==="on"),p=()=>{r.storyMode==="Story"?a(!l):alert(o("story.Listen & Repeat 모드에서는 지원하지 않는 기능입니다."))},w=b=>{const m=[..._];if(m.map(s=>{s.selected=""}),m[b].selected="on",u.HighlightDataYn)switch(b){case 0:t(!0),i(!1),n(!0);break;case 1:t(!1),i(!1),n(!0);break;case 2:t(!0),i(!0),n(!1);break;case 3:t(!0),i(!1),n(!1);break}else switch(b){case 0:t(!0),i(!1),n(!0);break;case 1:t(!0),i(!0),n(!1);break}f(m),a(!1)};return e.jsxs("div",{className:j.ebook_play_bar_drop_down_menu,children:[e.jsxs("div",{className:j.read_mode_option,onClick:()=>p(),children:[e.jsx("span",{children:k==null?void 0:k.name}),e.jsx("img",{src:zo,width:15,alt:""})]}),l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:j.read_mode_option_menu,children:[e.jsx("div",{className:j.menu_name,children:"Read Mode"}),_.map((b,m)=>e.jsx("div",{className:`${j.menu_item} ${b.selected?j.on:""}`,onClick:()=>w(m),children:b.name}))]}),e.jsx("div",{className:j.light_box,onClick:()=>{a(!1)}})]})]})}function oA({changePlaySpeed:t}){const[i,n]=c.useState(!1),[o,r]=c.useState([{rate:.8,selected:""},{rate:1,selected:"on"},{rate:1.2,selected:""},{rate:1.5,selected:""}]),u=o.find(a=>a.selected==="on"),l=a=>{const x=[...o];x.map(_=>{_.selected=""}),x[a].selected="on",t(x[a].rate),r(x),n(!1)};return e.jsxs("div",{className:j.ebook_play_bar_drop_down_menu,children:[e.jsxs("div",{className:j.read_mode_option,onClick:()=>{n(!i)},children:[e.jsxs("span",{children:[u==null?void 0:u.rate,"x"]}),e.jsx("img",{src:zo,width:15,alt:""})]}),i&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:j.read_mode_option_menu,children:[e.jsx("div",{className:j.menu_name,children:"Speed"}),o.map((a,x)=>e.jsxs("div",{className:`${j.menu_item} ${a.selected?j.on:""}`,onClick:()=>l(x),children:[a.rate,"x"]}))]}),e.jsx("div",{className:j.light_box,onClick:()=>{n(!1)}})]})]})}function iA({menuName:t,menuItems:i,changeAutoNextPage:n}){const{t:o}=de(),{handler:r}=c.useContext(ne),[u,l]=c.useState(!1),[a,x]=c.useState(i),_=a.filter(k=>k.selected==="on"),f=()=>{r.storyMode==="Story"?l(!u):alert(o("story.Listen & Repeat 모드에서는 지원하지 않는 기능입니다."))};return e.jsxs("div",{className:j.ebook_play_bar_drop_down_menu,children:[e.jsxs("div",{className:j.read_mode_option,onClick:()=>f(),children:[e.jsx("span",{children:_[0].name}),e.jsx("img",{src:zo,width:15,alt:""})]}),u&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:j.read_mode_option_menu,children:[e.jsx("div",{className:j.menu_name,children:t}),a.map((k,p)=>e.jsx("div",{className:`${j.menu_item} ${k.selected?j.on:""}`,onClick:()=>{const w=[...a];w.map(b=>{b.selected=""}),w[p].selected="on",n(p===0),x(w),l(!1)},children:k.name}))]}),e.jsx("div",{className:j.light_box,onClick:()=>{l(!1)}})]})]})}const Gi="/study/BookReading/assets/btn_play-ce293349.svg",Ui="/study/BookReading/assets/btn_pause-1b0dd29c.svg",Ki="/study/BookReading/assets/icon_word-4b133954.svg",rA="/study/BookReading/assets/icon_full_screen-e667f2e6.svg",aA="/study/BookReading/assets/icon_full_screen_out-18188977.svg",Ji="/study/BookReading/assets/icon_menu-e46b7a18.svg",cA=new A(navigator.userAgent);function uA({progressWidth:t,pageSeq:i,playState:n,isFullScreen:o,turnPageLeft:r,turnPageRight:u,changeTextShow:l,changeMuteAudio:a,changeHighlight:x,changePlaySpeed:_,changeAutoNextPage:f,playAudio:k,pauseAudio:p,resumeAudio:w,changeVocaOpen:b,changeSideMenu:m,changeMaxReadCnt:s}){const{t:h}=de(),{handler:d}=c.useContext(ne);return c.useEffect(()=>{},[o]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:j.ebook_progress_bar,children:e.jsx("div",{className:j.progress,style:{width:`${t}%`}})}),e.jsxs("div",{className:j.ebook_play_bar,children:[e.jsxs("div",{className:j.ebook_play_bar_pc_area_l,children:[e.jsx(sA,{changeTextShow:l,changeMuteAudio:a,changeHighlight:x}),e.jsx(oA,{changePlaySpeed:_}),e.jsx(iA,{menuName:h("story.페이지 넘기기"),menuItems:[{name:"Auto",selected:"on"},{name:"Manually",selected:""}],changeAutoNextPage:f})]}),e.jsxs("div",{className:j.ebook_play_bar_pc_area_c,children:[d.storyMode==="Story"&&e.jsx("div",{className:j.backward,onClick:()=>{r()},children:e.jsx("img",{src:vo,width:40,alt:""})}),e.jsx("div",{className:j.play,onClick:()=>{switch(n){case"play":case"resume":p();break;case"":case"stop":k(i.playPage,i.sequnce);break;case"pause":w();break}},children:n!=="play"?e.jsx("img",{src:Gi,width:40}):e.jsx("img",{src:Ui,width:40})}),d.storyMode==="Story"&&e.jsx("div",{className:j.forward,onClick:()=>{u()},children:e.jsx("img",{src:jo,width:40,alt:""})})]}),e.jsxs("div",{className:j.ebook_play_bar_pc_area_r,children:[e.jsx("div",{className:j.word_button,onClick:()=>{b(!0)},children:e.jsx("img",{src:Ki,width:28,height:28,alt:""})}),e.jsx("div",{className:j.menu_button,onClick:()=>{m(!0)},children:e.jsx("img",{src:Ji,width:24,height:24,alt:""})}),e.jsx("div",{style:{display:cA.tablet()?"none":"flex"},className:j.full_screen_button,onClick:()=>{o?document.exitFullscreen():document.body.requestFullscreen()},children:o?e.jsx("img",{src:aA,width:20,height:20,alt:""}):e.jsx("img",{src:rA,width:20,height:20,alt:""})})]})]})]})}const lA="/study/BookReading/assets/check_board-04b361f3.svg",dA="/study/BookReading/assets/rec-236d3098.svg",mA="/study/BookReading/assets/movie_book-0bc631c4.svg";function Yi({isSideOpen:t,changeSideMenu:i,changeRatingShow:n,toggleMovieShow:o,submitBookMark:r}){const{t:u}=de(),{studyInfo:l,bookInfo:a,handler:x}=c.useContext(ne),[_,f]=c.useState("animate__fadeIn"),[k,p]=c.useState();c.useEffect(()=>{f("animate__fadeIn"),p("animate__slideInRight")},[t]);const w=()=>{f("animate__fadeOut"),p("animate__slideOutRight"),setTimeout(()=>{i(!1)},300)};return e.jsx(e.Fragment,{children:t&&e.jsxs("div",{className:`${he.study_side_menu} animate__animated ${_}`,children:[e.jsxs("div",{className:`${he.study_side_menu_container} animate__animated ${k}`,children:[e.jsxs("div",{className:he.study_side_menu_area_top,children:[e.jsx("div",{className:he.close_side_menu,children:e.jsx("div",{className:he.btn_delete,onClick:()=>{w()},children:e.jsx("img",{src:Ci,alt:""})})}),e.jsxs("div",{className:he.book_info,children:[e.jsx("div",{className:he.book_code,children:a.BookCode}),e.jsx("div",{className:he.book_title,children:a.Title})]}),e.jsx("div",{className:he.select_study_menu,children:e.jsxs("div",{className:`${he.select_study_menu_item} ${he.go_on} `,onClick:()=>{l.availableQuizStatus===0?x.isPreference?x.changeView("quiz"):x.isReadingComplete||x.storyMode==="Story"?a.FirstFullEasyCode==="093006"&&a.FullEasyCode==="093003"?x.changeView("quiz"):(i(!1),n(!0)):alert(u("story.책을 완독한 후 학습을 진행할 수 있습니다.")):l.availableQuizStatus===1&&alert(u("stroy.ReTest 정책으로 당일 재학습 불가"))},children:[e.jsx("img",{src:lA,alt:""}),u("story.퀴즈 풀기")]})}),(a.AnimationPath!==""||l.isAvailableSpeaking)&&e.jsx("div",{className:he.label,children:u("story.보너스 학습")}),e.jsxs("div",{className:he.ebook_more_activity,children:[a.AnimationPath!==""&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:he.ebook_more_activity_item,onClick:()=>{i(!1),o(!0)},children:[e.jsx("img",{src:mA,alt:""}),u("story.무비 시청")]})}),l.isAvailableSpeaking&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:he.ebook_more_activity_item,onClick:()=>{x.changeView("speaking")},children:[e.jsx("img",{src:dA,alt:""}),"SPEAK (",u("story.말하기 연습"),")"]})})]})]}),e.jsx("div",{className:he.study_side_menu_area_bottom,children:e.jsxs("div",{className:he.btn_exit,onClick:()=>r(),children:[e.jsx("img",{src:Qi,alt:""}),e.jsx("div",{className:"txt",children:u("common.나가기")})]})})]}),e.jsx("div",{className:he.screen_block,onClick:()=>w()})]})})}const gs="/study/BookReading/assets/icon_speaker-32763dad.svg";function ys({playState:t,pauseStoryAudio:i,resumeStoryAudio:n}){const o=c.useRef(new Audio);o.current.autoplay=!0;const r=o.current;c.useEffect(()=>{const a=()=>{i(),r.play()};r.addEventListener("canplaythrough",a);const x=()=>{t==="play"&&n()};return r.addEventListener("ended",x),()=>{r.removeEventListener("canplaythrough",a),r.removeEventListener("ended",x),l()}},[]);const u=a=>{r.src=a},l=()=>{r.pause(),r.src="",r.currentTime=0};return{playAudio:u,stopAudio:l}}function xA({vocaData:t,mainLang:i,playState:n,pauseStoryAudio:o,resumeStoryAudio:r}){var x;const{playAudio:u}=ys({playState:n,pauseStoryAudio:o,resumeStoryAudio:r});let l=(x=t.Examples[0])!=null&&x.Text?t.Examples[0].Text:t.Question.Text,a="";switch(i.toLowerCase()){case"korean":a=t.Question.Korean;break;case"chinese":a=t.Question.Chinese;break;case"japanese":a=t.Question.Japanese;break;case"vietnamese":a=t.Question.Vietnamese;break;case"indonesian":a=t.Question.Indonesian;break;case"english":a=t.Question.Britannica?t.Question.Britannica:"";break}return e.jsxs("div",{className:j.voca_item,children:[e.jsxs("div",{className:j.word_item,children:[e.jsx("div",{className:j.word,children:l}),e.jsx("img",{src:gs,alt:"",onClick:()=>{u(t.Question.Sound)}})]}),e.jsx("div",{className:j.mean,children:a})]})}function hA({vocaData:t,mainLang:i,playState:n,pauseStoryAudio:o,resumeStoryAudio:r}){var x;const{playAudio:u}=ys({playState:n,pauseStoryAudio:o,resumeStoryAudio:r});let l=(x=t.Examples[0])!=null&&x.Text?t.Question.Word:t.Question.Text,a="";switch(i.toLowerCase()){case"korean":a=t.Question.Korean;break;case"chinese":a=t.Question.Chinese;break;case"japanese":a=t.Question.Japanese;break;case"vietnamese":a=t.Question.Vietnamese;break;case"indonesian":a=t.Question.Indonesian;break;case"english":a=t.Question.Britannica?t.Question.Britannica:"";break}return e.jsxs("div",{className:j.voca_item,children:[e.jsxs("div",{className:j.word_item,children:[e.jsx("div",{className:j.word,children:l}),e.jsx("img",{src:gs,alt:"",onClick:()=>{u(t.Question.WordSound)}})]}),e.jsx("div",{className:j.mean,children:a})]})}function _A({vocaData:t,mainLang:i,playState:n,pauseStoryAudio:o,resumeStoryAudio:r}){const{playAudio:u}=ys({playState:n,pauseStoryAudio:o,resumeStoryAudio:r});let l=t.Question.Text,a="";switch(i.toLowerCase()){case"korean":a=t.Question.Korean;break;case"chinese":a=t.Question.Chinese;break;case"japanese":a=t.Question.Japanese;break;case"vietnamese":a=t.Question.Vietnamese;break;case"indonesian":a=t.Question.Indonesian;break;case"english":a=t.Question.Britannica?t.Question.Britannica:"";break}return e.jsxs("div",{className:j.voca_item,children:[e.jsxs("div",{className:j.word_item,children:[e.jsx("div",{className:j.word,children:l}),e.jsx("img",{src:gs,alt:"",onClick:()=>{u(t.Question.Sound)}})]}),e.jsx("div",{className:j.mean,children:a})]})}function pA({vocaData:t,mainLang:i,playState:n,pauseStoryAudio:o,resumeStoryAudio:r}){var x;const{playAudio:u}=ys({playState:n,pauseStoryAudio:o,resumeStoryAudio:r});let l=(x=t.Examples[0])!=null&&x.Text?t.Examples[0].Text:t.Question.Text,a="";switch(i.toLowerCase()){case"korean":a=t.Question.Korean;break;case"chinese":a=t.Question.Chinese;break;case"japanese":a=t.Question.Japanese;break;case"vietnamese":a=t.Question.Vietnamese;break;case"indonesian":a=t.Question.Indonesian;break;case"english":a=t.Question.Britannica?t.Question.Britannica:"";break}return e.jsxs("div",{className:j.voca_item,children:[e.jsxs("div",{className:j.word_item,children:[e.jsx("div",{className:j.word,children:l}),e.jsx("img",{src:gs,alt:"",onClick:()=>{u(t.Question.Sound)}})]}),e.jsx("div",{className:j.mean,children:a})]})}const gA=({playState:t,pauseStoryAudio:i,resumeStoryAudio:n})=>{const{studyInfo:o}=c.useContext(ne),[r,u]=c.useState(),[l,a]=c.useState(),[x,_]=c.useState(),[f,k]=c.useState();return c.useEffect(()=>{!r&&!l&&!x&&!f&&(async()=>{const w={mode:o.mode,currentStep:2,studyId:o.studyId,studentHistoryId:o.studentHistoryId,bookType:o.bookType,studyTypeCode:o.bookType==="EB"?"001006":"001001",isEnabledPractice:o.isPassedVocabularyPractice,theme:"theme-antarctica",lastStep:o.allSteps[o.allSteps.length-1],isReTestYn:o.isReTestYn,onFinishActivity:()=>{},changeVocaState:()=>{},changeStep:b=>{}};switch(o.mappedStepActivity[1]){case"Vocabulary1":u(await Bi(w));break;case"Vocabulary2":a(await Ei(w));break;case"Vocabulary3":_(await Pi(w));break;case"Vocabulary4":k(await Mi(w));break}})()},[]),e.jsxs("div",{className:j.ebook_voca_list,children:[r&&r.Quiz.map(p=>e.jsx(xA,{vocaData:p,mainLang:r.MainMeanLanguage,playState:t,pauseStoryAudio:i,resumeStoryAudio:n})),l&&l.Quiz.map(p=>e.jsx(hA,{vocaData:p,mainLang:l.MainMeanLanguage,playState:t,pauseStoryAudio:i,resumeStoryAudio:n})),x&&x.Quiz.map(p=>e.jsx(_A,{vocaData:p,mainLang:x.MainMeanLanguage,playState:t,pauseStoryAudio:i,resumeStoryAudio:n})),f&&f.Quiz.map(p=>e.jsx(pA,{vocaData:p,mainLang:f.MainMeanLanguage,playState:t,pauseStoryAudio:i,resumeStoryAudio:n}))]})},yA="/study/BookReading/assets/icon_delete_black-5f381612.svg",fA="/study/BookReading/assets/icon_printer-6fba39e5.svg";function Xi({isVocaOpen:t,playState:i,changeVocaOpen:n,pauseStoryAudio:o,resumeStoryAudio:r}){const{bookInfo:u}=c.useContext(ne),[l,a]=c.useState("animate__fadeIn"),[x,_]=c.useState("animate__slideInRight");c.useEffect(()=>{a("animate__fadeIn"),_("animate__slideInRight")},[t]);const f=()=>{a("animate__fadeOut"),_("animate__slideOutRight"),setTimeout(()=>{i==="play"&&r(),n(!1)},300)};return e.jsx(e.Fragment,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${j.ebook_vocabulary_note} animate__animated ${l}`,children:e.jsx("div",{id:"ebook-vocabulary-note-container",className:`${j.ebook_vocabulary_note_container} animate__animated ${x}`,children:e.jsxs("div",{className:j.ebook_vocabulary_note_area_top,children:[e.jsxs("div",{className:j.close_vocabulary_note,children:[u.VocabularyPath&&e.jsx("div",{className:j.btn_print,onClick:()=>{window.open(u.VocabularyPath)},children:e.jsx("img",{src:fA,alt:""})}),e.jsx("div",{className:j.btn_delete,onClick:()=>{f()},children:e.jsx("img",{src:yA,alt:""})})]}),e.jsxs("div",{className:j.book_info,children:[e.jsx("div",{className:j.book_code,children:u.BookCode}),e.jsx("div",{className:j.book_title,children:u.Title})]}),e.jsx("div",{className:j.line}),e.jsx("div",{className:j.voca_list,children:e.jsx(gA,{playState:i,pauseStoryAudio:o,resumeStoryAudio:r})})]})})}),e.jsx("div",{className:j.ebook_vocabulary_note_screen_block,onClick:()=>{f()}})]})})}function bA({isRatingShow:t,isMovieShow:i,storyData:n,imgSize:o,pageScale:r,changeRatingShow:u,toggleMovieShow:l}){const{t:a}=de(),{bookInfo:x,studyInfo:_,handler:f}=c.useContext(ne),k=se=>{D(se)},{pageNumber:p,playState:w,pageSeq:b,currentTime:m,readCnt:s,playAudio:h,pauseAudio:d,pauseAudioByWord:g,resumeAudio:y,changePlaySpeed:S,changeDuration:v,changeVolume:L,changePageNumber:$,changeAutoNextPage:E,changeMaxReadCnt:z}=ZQ({studyId:_.studyId,studentHistoryId:_.studentHistoryId,pageData:n,storyMode:f.storyMode,changeSideMenu:k,changeStoryMode:f.changeStoryMode,changeReadingComplete:f.changeReadingComplete}),[C,M]=c.useState(""),[q,D]=c.useState(!1),[H,W]=c.useState(!0),[R,N]=c.useState(!1),[I,V]=c.useState(!0),[U,O]=c.useState(!1),[G,B]=c.useState(!1),Q=(p+1)/n[n.length-1].Page*100;c.useEffect(()=>{_.bookmarkPage>0&&p===1&&f.storyMode==="Story"&&!f.isReadingComplete&&Number(x.BookLevel.substring(0,1))>1&&confirm("마지막으로 읽은 곳부터 시작할까요?")&&$(_.bookmarkPage%2===0?_.bookmarkPage-1:_.bookmarkPage)},[]),c.useEffect(()=>{(t||i)&&d(),!t&&!i&&w==="pause"&&y()},[t,i]),c.useEffect(()=>{M("")},[p]),c.useEffect(()=>{if(n){switch(C){case"play":break;case"left":f.storyMode==="Story"&&$(p-2);break;case"right":f.storyMode==="Story"&&$(p+2);break}const se=P=>{switch(P.key){case"ArrowRight":F();break;case"ArrowLeft":T();break;case" ":case"SpaceBar":w==="play"?d():w==="pause"&&y();break}};return window.addEventListener("keyup",se),()=>{window.removeEventListener("keyup",se)}}},[C]),c.useEffect(()=>{const se=P=>{switch(P.key){case"ArrowRight":F();break;case"ArrowLeft":T();break;case" ":case"SpaceBar":w==="play"?d():w==="pause"&&y();break}};return window.addEventListener("keyup",se),()=>{window.removeEventListener("keyup",se)}},[w]),c.useEffect(()=>{L(R?0:1)},[R]),c.useEffect(()=>{const se=()=>{document.fullscreenElement?B(!0):B(!1)};return document.body.addEventListener("fullscreenchange",se),()=>{document.body.removeEventListener("fullscreenchange",se)}},[document.fullscreenElement]);const T=()=>{p>1&&C===""&&f.storyMode==="Story"&&M("left")},F=()=>{p+2<=n[n.length-1].Page&&C===""&&f.storyMode==="Story"&&M("right")},X=(se,P)=>{f.storyMode==="Story"&&v(se,P)},te=se=>{W(se)},ie=se=>{N(se)},ue=se=>{V(se)},ce=se=>{O(se)},re=async()=>{if(Number(x.BookLevel.substring(0,1))>1)if((await ji(_.studyId,_.studentHistoryId,p)).success)try{window.onExitStudy()}catch{location.replace("/")}else{alert(a("story.책갈피 저장에 실패했습니다."));try{window.onExitStudy()}catch{location.replace("/")}}else try{window.onExitStudy()}catch{location.replace("/")}};return e.jsxs(e.Fragment,{children:[e.jsxs(eA,{children:[e.jsx(kn,{isTextShow:H,pageSeq:b,pageNumber:p,storyData:n,currentTime:m,readCnt:s,isHighlight:I,clickSentence:X},"page-1"),e.jsx(kn,{isTextShow:H,pageSeq:b,pageNumber:p+1,storyData:n,currentTime:m,readCnt:s,isHighlight:I,clickSentence:X},"page-2")]}),f.storyMode==="Story"&&e.jsx(nA,{turnPageLeft:T,turnPageRight:F}),e.jsx(uA,{progressWidth:Q,pageSeq:b,playState:w,isFullScreen:G,turnPageLeft:T,turnPageRight:F,changeTextShow:te,changeMuteAudio:ie,changeHighlight:ue,changePlaySpeed:S,changeAutoNextPage:E,playAudio:h,pauseAudio:d,resumeAudio:y,changeVocaOpen:ce,changeSideMenu:k,changeMaxReadCnt:z}),e.jsx(Yi,{isSideOpen:q,changeSideMenu:k,changeRatingShow:u,toggleMovieShow:l,submitBookMark:re}),e.jsx(Xi,{isVocaOpen:U,playState:w,changeVocaOpen:ce,pauseStoryAudio:g,resumeStoryAudio:y})]})}function Zi(){const[t,i]=c.useState(window.innerWidth>window.innerHeight);return c.useEffect(()=>{window.addEventListener("orientationchange",()=>{const n=screen.orientation;n.type.includes("portrait")?i(!1):n.type.includes("landscape")&&i(!0)})},[]),t}function kA({studyId:t,studentHistoryId:i,pageData:n,storyMode:o,changeSideMenu:r,changeStoryMode:u,changeReadingComplete:l}){const a=c.useMemo(()=>new Audio,[]);a.autoplay=!0;const[x,_]=c.useState(""),f=c.useRef(!0),[k,p]=c.useState(0),[w,b]=c.useState(1),m=c.useRef(!0),[s,h]=c.useState(1),[d,g]=c.useState({playPage:1,sequnce:0}),[y,S]=c.useState(0),v=Zi();c.useEffect(()=>{n&&(n.find(N=>N.Page===s&&N.SoundPath)?g({playPage:s,sequnce:0}):setTimeout(()=>{h(s+1)},2e3))},[s]),c.useEffect(()=>{const R=()=>{f.current?(f.current=!1,E()):(a.play(),_("play"))};a.addEventListener("canplaythrough",R);const N=()=>{p(a.currentTime)};a.addEventListener("timeupdate",N);const I=()=>{};a.addEventListener("pause",I);const V=()=>{if(f.current)f.current=!1;else{const U=m.current,O=n.find(G=>G.Page===d.playPage+1);v?U?O?d.playPage%2===1?g({playPage:d.playPage+1,sequnce:0}):h(s+2):(S(y+1),_("")):_(""):U&&(O?g({playPage:d.playPage+1,sequnce:0}):(S(y+1),_("")))}};return a.addEventListener("ended",V),L(d.playPage,d.sequnce),()=>{a.removeEventListener("canplaythrough",R),a.removeEventListener("timeupdate",N),a.removeEventListener("pause",I),a.removeEventListener("ended",V),$()}},[d]),c.useEffect(()=>{a.playbackRate=w},[w]),c.useEffect(()=>{y===1?o==="ListenAndRepeat"?h(3):(f.current=!0,r(!0),H(1),l(t,i)):y===2&&o==="ListenAndRepeat"&&(f.current=!0,u("Story"),r(!0),H(1),l(t,i))},[y]);const L=(R,N)=>{const I=n.filter(V=>V.Page===R&&V.SoundPath!=="");I.length>0&&I.length>N-1?(o==="ListenAndRepeat"&&y===1?a.src=I[0].SoundPath2:a.src=I[0].SoundPath,a.playbackRate=w,N>0&&(a.currentTime=I[N-1].StartTime/1e3)):(a.src="",a.currentTime=0)},$=()=>{a.pause(),a.src="",a.currentTime=0,_("")},E=()=>{a.pause(),_("pause")},z=()=>{a.pause()},C=()=>{_("play"),a.play()},M=R=>{b(R)},q=(R,N)=>{g({playPage:R,sequnce:N})},D=R=>{a.volume=R},H=R=>{R===1&&_(""),h(R)};return{isAutoRef:m,pageNumber:s,playState:x,pageSeq:d,currentTime:k,readCnt:y,playAudio:L,stopAudio:$,pauseAudio:E,pauseAudioByWord:z,resumeAudio:C,changePlaySpeed:M,changeDuration:q,changeVolume:D,changePageNumber:H,changeAutoNextPage:R=>{m.current=R}}}function wA({onTouchStartHandler:t,onTouchEndHandler:i,children:n}){var _,f,k;const o=((k=(f=(_=c.useContext(ne))==null?void 0:_.bookInfo)==null?void 0:f.BookLevel)==null?void 0:k.substring(0,1))||"K",r=window.matchMedia("(orientation: landscape)").matches,u=o==="K"?480:525,l=750,a=window.innerWidth/u,x=screen.height/l;return e.jsx("div",{className:j.ebook_body_mobile_p,onTouchStart:p=>t(p),onTouchEnd:p=>i(p),children:e.jsx("div",{className:j.container,style:{transform:`scale(${r?x:a})`},children:n})})}const SA="/study/BookReading/assets/icon_speed10-0ef1da58.svg";function $o({text:t}){return e.jsx("div",{className:j.label,children:t})}function er({children:t}){return e.jsx("div",{className:j.select_box,children:t})}function vA({readTypeList:t,changeReadTypeList:i,changeTextShow:n,changeMuteAudio:o,changeHighlight:r}){const{t:u}=de(),{handler:l}=c.useContext(ne),a=x=>{if(l.storyMode==="Story"){const _=[...t];switch(_.map(f=>{f.selected=""}),_[x].selected="on",x){case 0:n(!0),o(!1),r(!0);break;case 1:n(!1),o(!1),r(!0);break;case 2:n(!0),o(!0),r(!1);break;case 3:n(!0),o(!1),r(!1);break}i(_)}else alert(u("story.Listen & Repeat 모드에서는 지원하지 않는 기능입니다."))};return e.jsxs(e.Fragment,{children:[e.jsx($o,{text:u("story.읽기 모드")}),e.jsx(er,{children:t.map((x,_)=>e.jsxs("div",{className:`${j.select_button} ${x.selected==="on"?j.on:""}`,onClick:()=>a(_),children:[e.jsx("div",{className:j.radio}),x.name]}))})]})}function jA({isAutoNextPage:t,changeAutoNext:i}){const{t:n}=de(),{handler:o}=c.useContext(ne),[r,u]=c.useState([{name:n("story.수동으로 넘기기"),selected:t?"":"on"},{name:n("story.자동으로 넘기기"),selected:t?"on":""}]),l=a=>{if(o.storyMode==="Story"){const x=[...r];x.map(_=>{_.selected=""}),x[a].selected="on",u(x),i(a!==0)}else alert(n("story.Listen & Repeat 모드에서는 지원하지 않는 기능입니다."))};return e.jsxs(e.Fragment,{children:[e.jsx($o,{text:n("story.책장 넘기기")}),e.jsx("div",{className:j.page_turning_mode,children:r.map((a,x)=>e.jsx("div",{className:a.selected===""?j.choose_button:`${j.choose_button} ${j.on}`,onClick:()=>{l(x)},children:a.name}))})]})}function zA({speedList:t,changePlaySpeedList:i,changePlaySpeed:n}){const{t:o}=de();t.find(u=>u.selected==="on");const r=u=>{const l=[...t];l.map(a=>{a.selected=""}),l[u].selected="on",n(l[u].rate),i(l)};return e.jsxs(e.Fragment,{children:[e.jsx($o,{text:o("story.읽기 속도")}),e.jsx(er,{children:t.map((u,l)=>e.jsxs("div",{className:`${j.select_button} ${u.selected==="on"?j.on:""}`,onClick:()=>{r(l)},children:[e.jsx("div",{className:j.radio}),u.rate,"x"]}))})]})}function $A({isBottomLeftMenuOpen:t,isAutoNextPage:i,changeTextShow:n,changeMuteAudio:o,changeHighlight:r,changePlaySpeed:u,changeAutoNext:l,toggleBottomLeft:a}){const[x,_]=c.useState("slide-in-bottom"),[f,k]=c.useState([{name:"Basic",selected:"on"},{name:"No Text",selected:""},{name:"No Audio",selected:""},{name:"No Highlight",selected:""}]),[p,w]=c.useState([{rate:.8,selected:""},{rate:1,selected:"on"},{rate:1.2,selected:""},{rate:1.5,selected:""}]),b=()=>{_("slide-out-bottom"),setTimeout(()=>{_("slide-in-bottom"),a()},500)},m=h=>{k(h)},s=h=>{w(h)};return e.jsx(e.Fragment,{children:t&&e.jsxs("div",{className:`${j.ebook_play_mode_mobile}
      ${x==="slide-in-bottom"?j.slide_in_bottom:j.slide_out_bottom}`,children:[e.jsxs("div",{className:j.container,children:[e.jsx(vA,{readTypeList:f,changeReadTypeList:m,changeTextShow:n,changeHighlight:r,changeMuteAudio:o}),e.jsx(zA,{speedList:p,changePlaySpeedList:s,changePlaySpeed:u}),e.jsx(jA,{isAutoNextPage:i,changeAutoNext:l})]}),e.jsx("div",{className:j.light_box,onClick:()=>{b()}})]})})}function CA({progressWidth:t,isAutoNextPage:i,pageSeq:n,playState:o,turnPageLeft:r,turnPageRight:u,changeTextShow:l,changeMuteAudio:a,changeHighlight:x,changePlaySpeed:_,changeAutoNext:f,playAudio:k,pauseAudio:p,resumeAudio:w,changeVocaOpen:b,changeSideMenu:m}){const{handler:s}=c.useContext(ne),[h,d]=c.useState(!1),g=()=>{d(!h)},y=window.matchMedia("(orientation: landscape)").matches;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:j.ebook_progress_bar,children:e.jsx("div",{className:j.progress,style:{width:`${t}%`}})}),e.jsxs("div",{className:`${j.ebook_play_bar} ${j.mobile}`,children:[e.jsxs("div",{className:j.ebook_play_bar_pc_area_l,children:[e.jsx("div",{className:`${j.read_mode_button} ${y&&j.landscape}`,onClick:()=>{g()},children:e.jsx("img",{src:SA,width:30,height:30})}),e.jsx($A,{isBottomLeftMenuOpen:h,isAutoNextPage:i,changeTextShow:l,changeMuteAudio:a,changeHighlight:x,changePlaySpeed:_,changeAutoNext:f,toggleBottomLeft:g})]}),e.jsxs("div",{className:j.ebook_play_bar_pc_area_c,children:[s.storyMode==="Story"&&e.jsx("div",{className:`${j.backward} ${y&&j.landscape}`,onClick:()=>{r()},children:e.jsx("img",{src:vo,width:40,alt:""})}),e.jsx("div",{className:`${j.play} ${y&&j.landscape}`,onClick:()=>{switch(o){case"play":case"resume":p();break;case"":case"stop":k(n.playPage,n.sequnce);break;case"pause":w();break}},children:o!=="play"?e.jsx("img",{src:Gi,width:40}):e.jsx("img",{src:Ui,width:40})}),s.storyMode==="Story"&&e.jsx("div",{className:`${j.forward} ${y&&j.landscape}`,onClick:()=>{u()},children:e.jsx("img",{src:jo,width:40,alt:""})})]}),e.jsxs("div",{className:j.ebook_play_bar_pc_area_r,children:[e.jsx("div",{className:`${j.word_button} ${y&&j.landscape}`,onTouchEnd:()=>{b(!0)},children:e.jsx("img",{src:Ki,width:28,height:28,alt:""})}),e.jsx("div",{className:`${j.menu_button} ${y&&j.landscape}`,onClick:()=>{m(!0)},children:e.jsx("img",{src:Ji,width:24,height:24,alt:""})})]})]})]})}function QA({isRatingShow:t,isMovieShow:i,storyData:n,changeRatingShow:o,toggleMovieShow:r}){const{t:u}=de(),{bookInfo:l,studyInfo:a,handler:x}=c.useContext(ne),_=Y=>{I(Y)},{pageNumber:f,playState:k,pageSeq:p,currentTime:w,readCnt:b,playAudio:m,pauseAudio:s,pauseAudioByWord:h,resumeAudio:d,changePlaySpeed:g,changeDuration:y,changeVolume:S,changePageNumber:v,changeAutoNextPage:L}=kA({studyId:a.studyId,studentHistoryId:a.studentHistoryId,pageData:n,storyMode:x.storyMode,changeSideMenu:_,changeStoryMode:x.changeStoryMode,changeReadingComplete:x.changeReadingComplete});c.useState("");const[$,E]=c.useState(!0),[z,C]=c.useState(!0),[M,q]=c.useState(!1),[D,H]=c.useState(!0),[W,R]=c.useState(!1),[N,I]=c.useState(!1),[V,U]=c.useState(0),[O,G]=c.useState(0),B=Zi(),Q=p.playPage/n[n.length-1].Page*100;c.useEffect(()=>{a.bookmarkPage>0&&f===1&&x.storyMode==="Story"&&!x.isReadingComplete&&Number(l.BookLevel.substring(0,1))>1&&confirm(u("story.마지막으로 읽은 곳부터 시작할까요?"))&&v(a.bookmarkPage%2===0?a.bookmarkPage-1:a.bookmarkPage)},[]),c.useEffect(()=>{V-O>5?F():V-O<0&&T()},[O]),c.useEffect(()=>{(t||i)&&s(),!t&&!i&&k==="pause"&&d()},[t,i]);const T=()=>{f>1&&setTimeout(()=>{if(x.storyMode==="Story"){let Y;B?Y=p.playPage%2===0?p.playPage-3:p.playPage-2:Y=p.playPage-1,v(Y)}},160)},F=()=>{let Y;B?f+2<=n[n.length-1].Page&&setTimeout(()=>{x.storyMode==="Story"&&(Y=p.playPage%2===0?p.playPage+1:p.playPage+2,v(Y))},160):f+1<=n[n.length-1].Page&&setTimeout(()=>{x.storyMode==="Story"&&(Y=p.playPage+1,v(Y))},160)};c.useEffect(()=>{S(M?0:1)},[M]);const X=Y=>{const K=Y.changedTouches[0].pageX;U(K)},te=Y=>{const K=Y.changedTouches[0].pageX;G(K)},ie=(Y,K)=>{x.storyMode==="Story"&&y(Y,K)},ue=Y=>{C(Y)},ce=Y=>{q(Y)},re=Y=>{H(Y)},se=Y=>{E(Y),L(Y)},P=Y=>{R(Y)},J=async()=>{if(Number(l.BookLevel.substring(0,1))>1)if((await ji(a.studyId,a.studentHistoryId,f)).success)try{window.onExitStudy()}catch{location.replace("/")}else{alert(u("story.책갈피 저장에 실패했습니다."));try{window.onExitStudy()}catch{location.replace("/")}}else try{window.onExitStudy()}catch{location.replace("/")}};return e.jsxs(e.Fragment,{children:[e.jsx(wA,{onTouchStartHandler:X,onTouchEndHandler:te,children:e.jsx(e.Fragment,{children:B&&!go?e.jsxs(e.Fragment,{children:[e.jsx(kn,{isTextShow:z,pageSeq:p,pageNumber:p.playPage%2===1?p.playPage:p.playPage-1,storyData:n,currentTime:w,readCnt:b,isHighlight:D,clickSentence:ie}),e.jsx(kn,{isTextShow:z,pageSeq:p,pageNumber:p.playPage%2===1?p.playPage+1:p.playPage,storyData:n,currentTime:w,readCnt:b,isHighlight:D,clickSentence:ie})]}):e.jsx(kn,{isTextShow:z,pageSeq:p,pageNumber:p.playPage,storyData:n,currentTime:w,readCnt:b,isHighlight:D,clickSentence:ie})})}),e.jsx(CA,{progressWidth:Q,isAutoNextPage:$,pageSeq:p,playState:k,turnPageLeft:T,turnPageRight:F,changeTextShow:ue,changeMuteAudio:ce,changeHighlight:re,changePlaySpeed:g,changeAutoNext:se,playAudio:m,pauseAudio:s,resumeAudio:d,changeVocaOpen:P,changeSideMenu:_}),e.jsx(Yi,{isSideOpen:N,changeSideMenu:_,changeRatingShow:o,toggleMovieShow:r,submitBookMark:J}),e.jsx(Xi,{isVocaOpen:W,playState:k,changeVocaOpen:P,pauseStoryAudio:h,resumeStoryAudio:d})]})}function AA({toggleMovieShow:t}){const{studyInfo:i,bookInfo:n}=c.useContext(ne),o=()=>{xr(i.studyId,i.studentHistoryId)};return e.jsx("div",{className:j.movieContents,children:e.jsxs("div",{className:j.container,children:[JSON.parse(JSON.stringify(n.AnimationPath))===""||!n.AnimationPath?"No Movie Book":e.jsx("video",{width:"100%",height:"100%",controls:!0,onEnded:()=>{o()},children:e.jsx("source",{src:JSON.parse(JSON.stringify(n.AnimationPath)),type:"video/mp4"})}),e.jsx("div",{className:j.btnDelete,onClick:()=>t(!1)})]})})}function tr({starCount:t,changeStarCount:i}){const n=[1,2,3,4,5];return e.jsx("div",{className:j.chooseRating,children:n.map((o,r)=>{const u=r+1;return e.jsx("div",{className:t>=u?j.btnStarOn:j.btnStarOff,onClick:()=>{i(u)}},r)})})}function NA({changeRatingShow:t}){const{t:i}=de(),{bookInfo:n,studyInfo:o,handler:r}=c.useContext(ne),[u,l]=c.useState(3),a=_=>{l(_)},x=async()=>{(await zi(o.studyId,o.studentHistoryId,u*10)).success&&r.changeView("quiz")};return e.jsx("div",{className:`${j.ebookRating}`,children:e.jsxs("div",{className:`${j.container} animate__animated animate__zoomIn`,children:[e.jsx("div",{className:j.groupBookcover,children:e.jsx("img",{className:j.imgBookcover,src:`${n.SurfaceImage}`})}),e.jsxs("div",{className:j.groupChoose,children:[e.jsx("div",{className:j.txtQuestion,children:"How do you like this book?"}),e.jsx("div",{className:j.groupChooseRating,children:e.jsx(tr,{starCount:u,changeStarCount:a})}),e.jsxs("div",{className:j.groupConfirm,children:[e.jsx("button",{className:`${j.btnConfirm} ${j.gray}`,onClick:()=>{t(!1)},children:i("story.다시 읽기")}),e.jsx("button",{className:`${j.btnConfirm} ${j.blue}`,onClick:()=>{r.isPreference?r.changeView("quiz"):x()},children:i("story.퀴즈 풀기")})]})]}),e.jsxs("div",{className:j.groupComment,children:[e.jsx("span",{className:j.icoExclamationMark}),e.jsx("span",{className:j.txtComment,children:e.jsx(mn,{i18nKey:"story.모든 학습을 완료하고 평균 70점을 넘어야 포인트를 획득 할 수 있습니다.",components:{b:e.jsx("b",{})}})})]})]})})}function TA(){const{t}=de(),{bookInfo:i,handler:n}=c.useContext(ne);return e.jsx("div",{className:`${j.ebookRating}`,children:e.jsxs("div",{className:`${j.container} animate__animated animate__zoomIn`,children:[e.jsx("div",{className:j.groupBookcover,children:e.jsx("img",{className:j.imgBookcover,src:`${i.SurfaceImage}`})}),e.jsx("div",{className:j.groupComment,children:e.jsxs("span",{className:j.txtComment,children:[e.jsx("div",{children:e.jsx(mn,{style:{color:"red"},i18nKey:"story.이미 한번 포인트를 획득한 학습입니다.",components:{b:e.jsx("b",{})}})}),e.jsx("div",{children:t("story.두번째 학습을 통과하여도 50% 포인트만 획득할 수 있습니다.")}),e.jsx("div",{children:t("story.계속 학습하시겠습니까?")})]})}),e.jsx("div",{className:j.groupChoose,children:e.jsxs("div",{className:j.groupConfirm,children:[e.jsx("button",{className:`${j.btnConfirm} ${j.blue}`,onClick:()=>{n.changeView("quiz")},children:t("common.네")}),e.jsx("button",{className:`${j.btnConfirm} ${j.gray}`,onClick:()=>{try{window.onExitStudy()}catch{location.replace("/")}},children:t("common.아니오")})]})})]})})}function IA(){const{t}=de(),{bookInfo:i,handler:n}=c.useContext(ne);return e.jsx("div",{className:`${j.ebookRating}`,children:e.jsxs("div",{className:`${j.container} animate__animated animate__zoomIn`,children:[e.jsx("div",{className:j.groupBookcover,children:e.jsx("img",{className:j.imgBookcover,src:`${i.SurfaceImage}`})}),e.jsx("div",{className:j.groupComment,children:e.jsxs("span",{className:j.txtComment,children:[e.jsx("div",{children:t("story.이미 두 번 포인트를 획득한 학습입니다.")}),e.jsx("div",{children:e.jsx(mn,{i18nKey:"story.더 이상 포인트를 획득할 수 없습니다.",components:{b:e.jsx("b",{})}})}),e.jsx("div",{children:t("story.계속 학습하시겠습니까?")})]})}),e.jsx("div",{className:j.groupChoose,children:e.jsxs("div",{className:j.groupConfirm,children:[e.jsx("button",{className:`${j.btnConfirm} ${j.blue}`,onClick:()=>{n.changeView("quiz")},children:t("common.네")}),e.jsx("button",{className:`${j.btnConfirm} ${j.gray}`,onClick:()=>{try{window.onExitStudy()}catch{location.replace("/")}},children:t("common.아니오")})]})})]})})}const BA=new A(navigator.userAgent),Ws=BA.phone();function gi(){const{bookInfo:t,studyInfo:i}=c.useContext(ne),[n,o]=c.useState(),[r,u]=c.useState(!1),[l,a]=c.useState(!1),{imgSize:x,preloadImage:_}=$C(),[f,k]=c.useState(window.innerHeight),[p,w]=c.useState(1);c.useEffect(()=>{n||(async()=>{const h=await hr(i.studyId,i.studentHistoryId);h&&(o(h),_(h))})()},[n]),c.useEffect(()=>{const s=()=>{Ws?(k(window.innerHeight),w(screen.width/x.width)):(k(window.innerHeight),w(window.innerHeight/x.height*.9))};return s(),window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[Ws,x,f]);const b=s=>{u(s)},m=s=>{a(s)};return n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:j.ebook,style:{backgroundImage:`url('${t.BackgroundImage}')`,height:f},children:Ws?e.jsx(QA,{isRatingShow:r,isMovieShow:l,storyData:n,changeRatingShow:b,toggleMovieShow:m}):e.jsx(bA,{isRatingShow:r,isMovieShow:l,storyData:n,imgSize:x,pageScale:p,changeRatingShow:b,toggleMovieShow:m})}),r&&t.PassCount===0&&e.jsx(NA,{changeRatingShow:b,studyCount:t.StudyMode}),r&&t.PassCount===1&&e.jsx(TA,{}),r&&t.PassCount===2&&e.jsx(IA,{}),l&&e.jsx(AA,{toggleMovieShow:m})]}):e.jsx(e.Fragment,{children:"Loading..."})}const EA="_btnExit_1jkel_9",PA="_mobile_1jkel_25",MA="_active_1jkel_30",LA="_screenBlock_1jkel_34",RA="_screenBgColor_1jkel_48",FA="_speakButtonArea_1jkel_60",qA="_startButton_1jkel_68",HA="_recAni_1jkel_90",OA="_speackBodyBg_1jkel_98",DA="_speackBodyBgColor_1jkel_103",VA="_speakBody_1jkel_116",WA="_ebookViewer_1jkel_139",GA="_speakEbookPage_1jkel_154",UA="_levelK_1jkel_159",KA="_level1_1jkel_164",JA="_level2_1jkel_169",YA="_playBar_1jkel_176",XA="_progress_1jkel_189",ZA="_progressBar_1jkel_194",eN="_recProgress_1jkel_199",tN="_runReady_1jkel_208",nN="_txtSome_1jkel_217",sN="_btnSpeakPlay_1jkel_224",oN="_icon_1jkel_239",iN="_play_1jkel_176",rN="_record_1jkel_250",aN="_txtWord_1jkel_253",cN="_runEbookAudioPlay_1jkel_260",uN="_runVoiceRecord_1jkel_267",lN="_txtLabel_1jkel_275",dN="_runVoicePlay_1jkel_281",mN="_lottieVoicePlay_1jkel_289",xN="_runCorrectSign_1jkel_296",hN="_runIncorrectSign_1jkel_313",_N="_t_1jkel_217",pN="_result_1jkel_337",gN="_groupResultMark_1jkel_350",yN="_txt_1jkel_217",fN="_popUp_1jkel_368",bN="_row1_1jkel_378",kN="_btn_1jkel_9",wN="_gray_1jkel_397",SN="_blue_1jkel_401",vN="_retry_1jkel_405",jN="_iconSpeaker_1jkel_411",zN="_iconRetry_1jkel_419",$N="_row2_1jkel_427",CN="_graph_1jkel_436",QN="_wrapperProgress_1jkel_443",AN="_native_1jkel_454",NN="_progressArrow_1jkel_457",TN="_student_1jkel_468",IN="_sentence_1jkel_482",BN="_word_1jkel_489",EN="_red_1jkel_493",PN="_phonemes_1jkel_496",MN="_wordContainer_1jkel_507",LN="_phonemeResult_1jkel_531",RN="_phoneme_1jkel_496",FN="_orange_1jkel_542",qN="_green_1jkel_545",HN="_phonemeScore_1jkel_548",ON="_btnToggle_1jkel_561",DN="_icoChev_1jkel_574",VN="_rotate_1jkel_584",WN="_row3_1jkel_587",GN="_goodJob_1jkel_600",UN="_tryAgain_1jkel_603",KN="_iconArrow_1jkel_612",JN="_wrapperResult_1jkel_621",YN="_resultMark_1jkel_648",XN="_btnExitResult_1jkel_666",ZN="_visualizer_1jkel_694",ee={btnExit:EA,mobile:PA,active:MA,screenBlock:LA,screenBgColor:RA,speakButtonArea:FA,startButton:qA,recAni:HA,speackBodyBg:OA,speackBodyBgColor:DA,speakBody:VA,ebookViewer:WA,speakEbookPage:GA,levelK:UA,level1:KA,level2:JA,playBar:YA,progress:XA,progressBar:ZA,recProgress:eN,runReady:tN,txtSome:nN,btnSpeakPlay:sN,icon:oN,play:iN,record:rN,txtWord:aN,runEbookAudioPlay:cN,runVoiceRecord:uN,txtLabel:lN,runVoicePlay:dN,lottieVoicePlay:mN,runCorrectSign:xN,runIncorrectSign:hN,t:_N,result:pN,groupResultMark:gN,txt:yN,popUp:fN,row1:bN,btn:kN,gray:wN,blue:SN,retry:vN,iconSpeaker:jN,iconRetry:zN,row2:$N,graph:CN,wrapperProgress:QN,native:AN,progressArrow:NN,student:TN,sentence:IN,word:BN,red:EN,phonemes:PN,wordContainer:MN,phonemeResult:LN,phoneme:RN,orange:FN,green:qN,phonemeScore:HN,btnToggle:ON,icoChev:DN,rotate:VN,row3:WN,goodJob:GN,tryAgain:UN,iconArrow:KN,wrapperResult:JN,resultMark:YN,btnExitResult:XN,"btn-exit":"_btn-exit_1jkel_688",visualizer:ZN},e3="/study/BookReading/assets/dodo_23_1-f9dd096b.png";function t3({startRecord:t}){const[i,n]=c.useState(!1),o=ps();return c.useEffect(()=>{setTimeout(()=>{n(!i)},3e3)},[]),e.jsxs("button",{className:`${ee.btnSpeakPlay} ${i&&"heartbeat"}`,onClick:()=>{o.micPermission==="denied"&&alert(o.alertMessage),n(!1),t()},children:[e.jsx("div",{className:`${ee.icon} ${ee.record}`}),e.jsx("div",{className:ee.txtWord,children:"Speak"})]})}function n3({playSentence:t}){return e.jsxs("button",{className:ee.btnSpeakPlay,onClick:()=>t(),children:[e.jsx("div",{className:`${ee.icon} ${ee.play}`}),e.jsx("div",{className:ee.txtWord,children:"Listen"})]})}function s3({playSentence:t,startRecord:i}){return e.jsxs("div",{className:`${ee.runReady} animate__animated animate__slideInUp`,children:[e.jsx(n3,{playSentence:t}),e.jsx("div",{className:ee.txtSome,children:"•"}),e.jsx(t3,{startRecord:i})]})}function o3(){return e.jsx("div",{className:`${ee.runVoiceRecord} animate__animated animate__slideInUp`,children:e.jsx(Sn,{})})}function i3(){return e.jsx("div",{className:`${ee.runEbookAudioPlay} animate__animated animate__slideInUp`,children:e.jsx(mw,{})})}function nr({progressWidth:t,playBarState:i,nativeAudio:n,playSentence:o,startRecord:r}){const l=c.useRef(new Audio(n)).current,a=c.useRef(null);let x;return c.useEffect(()=>{if(a.current&&i==="recording"&&n){let _=0;const f=l.duration>=5?1.4:1.2,k=l.duration*1e3*f;x=setInterval(()=>{_+=25,a.current&&(_/k>1?clearInterval(x):a.current.style.width=`${_/k*100}%`)},25)}else clearInterval(x);return()=>{clearInterval(x)}},[i]),e.jsx("div",{children:e.jsxs("div",{className:ee.playBar,children:[e.jsx("div",{className:ee.progress,children:e.jsx("div",{className:ee.progressBar,style:{width:`${t}%`}})}),e.jsxs("div",{className:ee.wrapperAnims,children:[i===""&&e.jsx(s3,{playSentence:o,startRecord:r}),i==="playing-sentence"&&e.jsx(i3,{}),i==="recording"&&e.jsxs(e.Fragment,{children:[e.jsx(o3,{}),e.jsx("div",{ref:a,className:ee.recProgress})]})]})]})})}function r3({pageNumber:t,sentence:i,sequence:n,marginTop:o,marginLeft:r}){const u=l=>{const a=/id=\"t/g;let x=l.replace(a,`id="t_${t}_`);if(n!==999){const _=/ id=\"t/g;x=x.replace(_,` style='margin-top: ${o}px; margin-left: ${r}px;' id="t`)}else if(n===999){const _=/ id=\"t/g;x=x.replace(_,` style='margin-top: ${o}px; margin-left: ${r}px;' id="t`)}return x};return e.jsx("div",{dangerouslySetInnerHTML:{__html:u(i)}})}function a3({pageNumber:t,sentence:i,marginTop:n,marginLeft:o,sequence:r,color:u,clickSentence:l}){const a=_=>{const f=/id=\"t/g;return _.replace(f,`style='margin-top: ${n}px; margin-left: ${o}px; background-color:${u}; cursor:pointer;' id="t_${t}_`)},x=()=>{r!==999&&l(t,r)};return e.jsx("div",{dangerouslySetInnerHTML:{__html:a(i)},onClick:()=>x()})}function Gs({pageNumber:t,pageSeq:i,speakData:n,clickSentence:o}){const{bookInfo:r}=c.useContext(ne),[u,l]=c.useState(""),[a,x]=c.useState(),[_,f]=c.useState(),[k,p]=c.useState(""),[w,b]=c.useState(t);return c.useEffect(()=>{var m,s;if(n){const h=(m=n.find(y=>y.Page===t&&y.Sequence===999))==null?void 0:m.Css;if(h){const y=/\#t/g,S=h.replace(y,`#t_${t}_`);l(S)}const d=(s=n.find(y=>y.Page===t&&y.Sequence===999))==null?void 0:s.ImagePath,g=n.filter(y=>y.Page===t);f(d),x(g),w<t?(b(t),p("slide-in-right"),setTimeout(()=>{p("")},100)):(b(t),p("slide-in-left"),setTimeout(()=>{p("")},100))}},[t]),e.jsxs("div",{style:{backgroundImage:`url(${_})`},className:`${ee.speakEbookPage} ${r.Grade==="K"?ee.levelK:ee.level1}`,children:[e.jsx("div",{dangerouslySetInnerHTML:{__html:u}}),a&&a.map(m=>i.playPage===t&&m.Sequence!==999&&m.Sequence===i.sequnce?e.jsx(a3,{pageNumber:t,sequence:m.Sequence,sentence:m.Contents,marginTop:m.MarginTop,marginLeft:m.MarginLeft,color:m.FontColor,clickSentence:o}):e.jsx(r3,{pageNumber:t,sequence:m.Sequence,sentence:m.Contents,marginTop:m.MarginTop,marginLeft:m.MarginLeft}))]})}const c3=new A(navigator.userAgent),yi=c3.phone();function sr({pageNumber:t,pageSeq:i,speakData:n,clickSentence:o}){var l,a,x;const r=((x=(a=(l=c.useContext(ne))==null?void 0:l.bookInfo)==null?void 0:a.BookLevel)==null?void 0:x.substring(0,1))||"K";let u;if(yi){const _=window.innerWidth,f=r==="k"?480:525,k=_/f,p=_/f*750/2;u={transform:`scale(${k})`,top:`calc(50% - ${p+4}px)`}}else u={transform:`scale(${(window.innerHeight-92)/750||1})`};return e.jsx("div",{className:ee.speakBody,children:e.jsx("div",{style:u,className:ee.ebookViewer,children:yi?e.jsx(Gs,{pageNumber:t,pageSeq:i,speakData:n,clickSentence:o}):e.jsxs(e.Fragment,{children:[e.jsx(Gs,{pageNumber:t%2===0?t-1:t,pageSeq:i,speakData:n,clickSentence:o}),e.jsx(Gs,{pageNumber:t%2===0?t:t+1,pageSeq:i,speakData:n,clickSentence:o})]})})})}function or(){return e.jsx("div",{children:e.jsx("button",{className:ee.btnExit,onClick:()=>window.onExitStudy()})})}function ir({speakData:t,quizIndex:i,changeQuizIndex:n,changePlayBarState:o}){const u=c.useRef(new Audio).current;u.autoplay=!0;const[l,a]=c.useState({playPage:t[i].Page,sequnce:t[i].Sequence});c.useEffect(()=>{t&&(t[i].Sequence===999?n(i+1):a({playPage:t[i].Page,sequnce:t[i].Sequence}))},[i]),c.useEffect(()=>{const k=()=>{u.play().then(()=>{o("playing-sentence")}).catch(w=>{o("reset")}).finally(()=>{console.log("finally")})},p=()=>{o("")};return u.addEventListener("canplaythrough",k),u.addEventListener("ended",p),x("",l.playPage,l.sequnce),()=>{u.removeEventListener("canplaythrough",k),u.removeEventListener("ended",p),_()}},[l]);const x=async(k,p,w)=>{if(k===""){const b=t.find(m=>m.Page===p&&m.Sequence===l.sequnce);b?(await fetch(b.SoundPath)).ok&&(u.src=b.SoundPath):(u.src="",u.currentTime=0)}},_=()=>{u.pause(),u.src="",u.currentTime=0,o("")};return{pageSeq:l,playAudio:x,stopAudio:_,changePageSeq:(k,p)=>{a({playPage:k,sequnce:p})}}}const u3="https://api.readinggate.elasolution.com",l3="e874641aac784ff6b9d62c3483f7aaaa";function rr(){const{t}=de(),[i,n]=c.useState(""),o=(u,l,a,x)=>{try{const _=new Audio(l),f=()=>{const k=_.duration>=5?1.4:1.2,p=Math.ceil(_.duration*1e3*k);if(navigator.mediaDevices.getUserMedia){console.log("The mediaDevices.getUserMedia() method is supported.");const w=s=>{a("recording");const h=new MediaRecorder(s),d=[];h.ondataavailable=g=>{d.push(g.data)},h.onstop=()=>{s.getTracks().forEach(function(S){S.stop()});const g=new Blob(d,{type:h.mimeType}),y=new File([g],"student_audio.mp3",{type:"audio/mp3"});n(URL.createObjectURL(g)),r(y,l,u,x)},h.onerror=g=>{alert(g)},h.start(),setTimeout(()=>{h.stop()},p)},b=s=>{a("reset"),console.error("The following error occured: "+s)},m={audio:!0};navigator.mediaDevices.getUserMedia(m).then(w,b).catch(s=>{console.log(s.name),console.log(s.message)})}else a("reset"),alert("MediaDevices.getUserMedia() not supported on your browser!")};go?_.addEventListener("loadedmetadata",f):_.addEventListener("canplaythrough",f)}catch(_){alert(_)}},r=async(u,l,a,x)=>{const _=await d3(l),f=new FormData;f.append("student_audio",u),f.append("text",a),f.append("get_phoneme_result",!0),f.append("native_audio",_),ds.post(`${u3}/pron_v2/`,f,{headers:{"X-API-Key":l3,"Content-Type":"multipart/form-data"}}).then(k=>{switch(k.status){case 200:x(k.data);break;case 401:alert(t("study.인증키가 잘못되었습니다. 리딩게이트로 전화주세요. 1599-0533"));break;case 403:alert(k.data);break;case 422:alert(k.data);break}}).catch(k=>{console.error(k)})};return{userAudio:i,startRecording:o}}const d3=async t=>{const n=await(await fetch(t)).blob(),o=t.split(".").pop(),r=t.split("/").pop(),u={type:`image/${o}`};return new File([n],r,u)},m3=new A(navigator.userAgent),x3=m3.phone();function fi({src:t,color:i}){const n=c.useRef(null);c.useEffect(()=>{(async()=>{try{const a=await fetch(t);if(a.status===200){const x=new AudioContext,_=new FileReader,f=await a.blob(),k=await f.arrayBuffer(),p=async()=>{x.decodeAudioData(k).then(w=>{u(r(o(w)))})};_.addEventListener("load",p),_.readAsArrayBuffer(f)}}catch(a){alert(a)}})()},[]);const o=l=>{const a=[],x=l.getChannelData(0),_=Math.floor(l.duration*10),f=Math.floor(x.length/_);for(let k=0;k<_;k++){let p=f*k,w=0;if(k===0)for(let b=0;b<f;b++)w=w+Math.abs(x[p+b]);else for(let b=0;b<f;b++)w=w+Math.abs(x[p-b]);a.push(w/f)}return a},r=l=>{const a=Math.max(...l),x=Math.pow(a,-1);return l.map(f=>f*x)},u=l=>{if(n.current){const a=n.current.getContext("2d"),x=800/window.innerWidth||1;if(a){n.current.style.width="100%",n.current.style.height="100%",n.current.width=n.current.offsetWidth,n.current.height=n.current.offsetHeight,a.scale(x,1),a.clearRect(0,0,n.current.width,n.current.height),a.lineWidth=x3?1:3,a.strokeStyle=i,a.beginPath();let _=n.current.width*(window.innerWidth/800)/(l.length-1),f=0;a.moveTo(f-1,n.current.height);for(let k=0;k<l.length-1;k++){let p=l[k]>.5?l[k]*.97:l[k],w=l[k+1]>.5?l[k+1]*.97:l[k+1],b=n.current.height*(1-p),m=n.current.height*(1-w);k===0&&a.lineTo(f-1,b);let s=f+_,h=(f+s)/2,d=(b+m)/2,g=(h+f)/2,y=(h+s)/2;a.quadraticCurveTo(g,b,h,d),a.quadraticCurveTo(y,m,s,m),f+=_}a.stroke(),a.lineTo(n.current.width,n.current.height)}}};return e.jsx("div",{className:ee.visualizer,children:e.jsx("canvas",{ref:n,style:{position:"relative"}})})}function ar({isRetry:t,sentence:i,sentenceScore:n,tryCount:o,nativeAudio:r,userAudio:u,changeRecordResult:l,changeRetry:a}){const x=c.useRef(new Audio(r)),_=c.useRef(new Audio(u)),[f,k]=c.useState(0),p=x.current,w=_.current,[b,m]=c.useState(0),[s,h]=c.useState(!1);c.useEffect(()=>{Aa();let S,v;const L=()=>{S=setInterval(()=>{const H=p.currentTime/p.duration;H===0?clearInterval(S):k(H)},25)},$=H=>{console.log(H.error),alert(H.error)},E=()=>{p.currentTime=0,clearInterval(S),k(0)},z=()=>{clearInterval(S),k(0)},C=()=>{const H=p.duration>=5?1.4:1.2,W=p.duration*H;v=setInterval(()=>{const R=w.currentTime/(w.duration===1/0?W:w.duration);R===0?clearInterval(v):m(R)},25)},M=H=>{console.log(H.error),alert(H.error)},q=()=>{w.currentTime=0,clearInterval(v),m(0)},D=()=>{clearInterval(v),m(0)};return p.addEventListener("playing",L),p.addEventListener("error",$),p.addEventListener("pause",E),p.addEventListener("ended",z),w.addEventListener("playing",C),w.addEventListener("error",M),w.addEventListener("pause",q),w.addEventListener("ended",D),()=>{p.removeEventListener("playing",L),p.removeEventListener("error",$),p.removeEventListener("pause",E),p.removeEventListener("ended",z),w.removeEventListener("playing",C),w.removeEventListener("error",M),w.removeEventListener("pause",q),w.removeEventListener("ended",D),p.pause(),w.pause(),clearInterval(S),clearInterval(v)}},[]);const d=()=>{w.pause(),p.play()},g=()=>{p.pause(),w.play()},y=()=>{l(!1)};return e.jsx("div",{className:ee.screenBlock,children:e.jsxs("div",{className:ee.popUp,children:[e.jsxs("div",{className:ee.row1,children:[e.jsxs("div",{className:`${ee.btn} ${ee.gray}`,onClick:()=>d(),children:[e.jsx("span",{children:"Native"}),e.jsx("span",{className:ee.iconSpeaker})]}),e.jsxs("div",{className:`${ee.btn} ${ee.gray}`,onClick:()=>g(),children:[e.jsx("span",{children:"My"}),e.jsx("span",{className:ee.iconSpeaker})]}),(n.speech_detected&&n.total_score>=40&&n.phoneme_result.sentence_score>=40&&(n.total_score+n.phoneme_result.sentence_score)/2>=40||t)&&e.jsx(e.Fragment,{children:e.jsx("div",{className:`${ee.btn} ${ee.retry}`,onClick:()=>{t?y():a(!0)},children:e.jsx("span",{className:ee.iconRetry})})})]}),e.jsxs("div",{className:ee.row2,children:[e.jsxs("div",{className:ee.graph,children:[e.jsx(fi,{src:r,color:"#d2d2d2"}),e.jsx(fi,{src:u,color:n.speech_detected&&n.total_score>=40&&n.phoneme_result.sentence_score>=40&&(n.total_score+n.phoneme_result.sentence_score)/2>=40?"#3ab6ff":"#ff2424"}),e.jsxs("div",{className:ee.wrapperProgress,children:[e.jsx("div",{style:{left:`${f*100}%`},className:`${ee.progressBar} ${ee.native}`,children:e.jsx("div",{className:ee.progressArrow})}),e.jsx("div",{style:{left:`${b*100}%`},className:`${ee.progressBar} ${ee.student} ${n.speech_detected&&n.total_score>=40&&n.phoneme_result.sentence_score>=40&&(n.total_score+n.phoneme_result.sentence_score)/2>=40?ee.passed:null}`,children:e.jsx("div",{className:ee.progressArrow})})]})]}),e.jsx("div",{className:ee.sentence,children:n.phoneme_result.words.map((S,v)=>{const L=i.split(" ");return e.jsx("div",{className:`${ee.word} ${n.phoneme_result.sentence_score<30?ee.red:""}`,children:L[v]})})}),e.jsx("div",{className:ee.phonemes,style:{display:s?"flex":"none"},children:n.phoneme_result.words.map(S=>e.jsxs("div",{className:ee.wordContainer,children:[e.jsx("div",{className:ee.row1,children:S.word}),e.jsx("div",{className:ee.row2,children:S.phonemes.map(v=>e.jsxs("div",{className:ee.phonemeResult,children:[e.jsx("div",{className:`${ee.phoneme} 
                            ${v.score<30&&ee.red}
                            ${v.score>=30&&v.score<70&&ee.orange}  
                            ${v.score>=70&&ee.green}  
                            `,children:v.phoneme}),e.jsxs("div",{className:ee.phonemeScore,children:[Math.floor(v.score),"%"]})]}))})]}))}),e.jsxs("div",{className:ee.btnToggle,onClick:()=>{h(!s)},children:[s?"close":"detail",e.jsx("span",{className:`${ee.icoChev} ${s&&ee.rotate}`})]})]}),e.jsxs("div",{className:`${ee.row3} ${n.speech_detected&&n.total_score>=40&&n.phoneme_result.sentence_score>=40&&(n.total_score+n.phoneme_result.sentence_score)/2>=40?ee.goodJob:ee.tryAgain}`,onClick:()=>{t?a(!1):y()},children:[n.speech_detected&&n.total_score>=40&&n.phoneme_result.sentence_score>=40&&(n.total_score+n.phoneme_result.sentence_score)/2>=40?e.jsx("div",{className:ee.txt,children:"Good Job!"}):e.jsx(e.Fragment,{children:t?e.jsx(e.Fragment,{children:e.jsx("div",{className:ee.txt,children:"Try Again"})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:ee.txt,children:["Try Again (",o+1," / 3)"]})})}),e.jsx("div",{className:ee.iconArrow})]})]})})}const h3="/study/BookReading/assets/good_job-1825e699.mp3",_3="/study/BookReading/assets/good_effort-991632df.mp3",p3=new A(navigator.userAgent),ln=p3.phone();function cr({isPass:t}){const{handler:i,bookInfo:n}=c.useContext(ne);return c.useEffect(()=>{Ks(t?h3:_3)},[]),e.jsx("div",{className:`${ee.wrapperResult} ${ln?"mobile":""}`,style:{backgroundImage:`url(${n.BackgroundImage})`},children:e.jsxs("div",{className:ee.resultMark,children:[t?e.jsxs(e.Fragment,{children:[e.jsx(xw,{width:ln?300:450,height:ln?300:450}),e.jsx("div",{className:ee.txt,children:"Good Job!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(hw,{width:ln?320:500,height:ln?160:350}),e.jsx("div",{className:ee.txt,children:"Good Effort"})]}),e.jsx("button",{className:`${ee.btnExitResult} ${ln?"mobile":""}`,onClick:()=>{i.changeView("story")}})]})})}const g3=new A(navigator.userAgent),y3=g3.phone();function f3({playBarState:t,tryCount:i,speakData:n,isRetry:o,quizIndex:r,changeQuizIndex:u,changePlayBarState:l,increaseTryCount:a,resetTryCount:x,changeTryCount:_,changeRetry:f}){const{studyInfo:k}=c.useContext(ne),p=c.useRef(!1),w=c.useRef(""),[b,m]=c.useState(!1),{pageSeq:s,playAudio:h,stopAudio:d,changePageSeq:g}=ir({speakData:n,quizIndex:r,changeQuizIndex:u,changePlayBarState:l}),{userAudio:y,startRecording:S}=rr(),[v,L]=c.useState(window.innerWidth),[$,E]=c.useState(window.innerHeight),[z,C]=c.useState(),[M,q]=c.useState(!1);c.useEffect(()=>{const O=()=>{L(window.innerWidth),E(window.innerHeight)};return O(),window.addEventListener("resize",O),()=>{window.removeEventListener("resize",O)}},[y3,$]),c.useEffect(()=>{if(z){const O=(z.total_score+z.phoneme_result.sentence_score)/2;O>=40||i+1>=3?N(O):q(!0)}},[z]),c.useEffect(()=>{t===""?(C(void 0),p.current=!1):t==="reset"&&l("")},[t]),c.useEffect(()=>{if(z&&!M){const G=!(n.filter((B,Q)=>B.Sentence!==null&&Q>r&&B.QuizNo>0).length>0);o?(p.current=!1,_(-1),l(""),H(),C(void 0)):(z.total_score+z.phoneme_result.sentence_score)/2>=40||i+1>=3||i===-1?G?m(!0):u(r+1):a()}},[M]),c.useEffect(()=>{(o||z)&&I(!1)},[o]),c.useEffect(()=>{C(void 0),x(),p.current=!1},[r]),c.useEffect(()=>{i>=3?q(!0):(p.current=!1,H(),l(""))},[i]);const D=()=>{p.current||H()},H=()=>{p.current||(p.current=!0,l("playing-sentence"),h("",s.playPage,s.sequnce))},W=O=>{C(O)},R=()=>{p.current||(p.current=!0,d(),S(n[r].Sentence,n[r].SoundPath,l,W))},N=async O=>{const B=!(n.filter((F,X)=>F.Sentence!==null&&X>r&&F.Sequence!==999).length>0),Q={studyId:k.studyId,studentHistoryId:k.studentHistoryId,challengeNumber:n[0].ChallengeNumber,page:n[r].Page,sequence:n[r].Sequence,quizNo:n[r].QuizNo,sentence:n[r].Sentence,scoreOverall:O,wordsJson:JSON.stringify(z),isLastQuiz:B};let T;o?T={result:0,resultMessage:""}:T=await $i(Q),Number(T.result)===0&&(q(!0),(T.resultMessage==="PASS"||T.resultMessage==="FAIL")&&(w.current=T.resultMessage))},I=O=>{q(O)},V=n.filter(O=>O.QuizNo!==null&&O.QuizNo>0).length,U=n[r].QuizNo/V*100;return e.jsx(e.Fragment,{children:b?e.jsx(cr,{isPass:w.current==="PASS"}):e.jsx(e.Fragment,{children:e.jsxs("div",{style:{width:v,height:$},children:[e.jsx(or,{}),e.jsx(sr,{pageNumber:s.playPage,pageSeq:s,speakData:n,clickSentence:D}),e.jsx(nr,{progressWidth:U,playBarState:t,nativeAudio:n[r].SoundPath,playSentence:H,startRecord:R}),M?e.jsx(e.Fragment,{children:z&&e.jsx(ar,{isRetry:o,sentence:n[r].Sentence,sentenceScore:z,tryCount:i,nativeAudio:n[r].SoundPath,userAudio:y,changeRecordResult:I,changeRetry:f})}):e.jsx(e.Fragment,{})]})})})}const b3=new A(navigator.userAgent),k3=b3.phone();function w3({playBarState:t,tryCount:i,speakData:n,isRetry:o,quizIndex:r,changeQuizIndex:u,changePlayBarState:l,increaseTryCount:a,resetTryCount:x,changeTryCount:_,changeRetry:f}){const{studyInfo:k}=c.useContext(ne),p=c.useRef(!1),w=c.useRef(""),[b,m]=c.useState(!1),{pageSeq:s,playAudio:h,stopAudio:d,changePageSeq:g}=ir({speakData:n,quizIndex:r,changeQuizIndex:u,changePlayBarState:l}),{userAudio:y,startRecording:S}=rr(),[v,L]=c.useState(window.innerWidth),[$,E]=c.useState(window.innerHeight),[z,C]=c.useState(),[M,q]=c.useState(!1);c.useEffect(()=>{const U=()=>{L(window.innerWidth),E(window.innerHeight)};return U(),window.addEventListener("resize",U),()=>{window.removeEventListener("resize",U)}},[k3,$]),c.useEffect(()=>{if(z){const U=(z.total_score+z.phoneme_result.sentence_score)/2;U>=40||i+1>=3?N(U):q(!0)}},[z]),c.useEffect(()=>{t===""?(C(void 0),p.current=!1):t==="reset"&&l("")},[t]),c.useEffect(()=>{if(z&&!M){const O=!(n.filter((G,B)=>G.Sentence!==null&&B>r&&G.QuizNo>0).length>0);o?(p.current=!1,_(-1),l(""),H(),C(void 0)):(z.total_score+z.phoneme_result.sentence_score)/2>=40||i+1>=3||i===-1?O?m(!0):u(r+1):a()}},[M]),c.useEffect(()=>{(o||z)&&I(!1)},[o]),c.useEffect(()=>{C(void 0),x(),p.current=!1},[r]),c.useEffect(()=>{i>=3?q(!0):(p.current=!1,H(),l(""))},[i]);const D=()=>{p.current||H()},H=()=>{p.current||(p.current=!0,l("playing-sentence"),h("",s.playPage,s.sequnce))},W=U=>{C(U)},R=()=>{p.current||(p.current=!0,d(),S(n[r].Sentence,n[r].SoundPath,l,W))},N=async U=>{const G=!(n.filter((T,F)=>T.Sentence!==null&&F>r&&T.QuizNo>0).length>0),B={studyId:k.studyId,studentHistoryId:k.studentHistoryId,challengeNumber:n[0].ChallengeNumber,page:n[r].Page,sequence:n[r].Sequence,quizNo:n[r].QuizNo,sentence:n[r].Sentence,scoreOverall:U,wordsJson:JSON.stringify(z),isLastQuiz:G};let Q;o?Q={result:0,resultMessage:""}:Q=await $i(B),Number(Q.result)===0&&(q(!0),(Q.resultMessage==="PASS"||Q.resultMessage==="FAIL")&&(w.current=Q.resultMessage))},I=U=>{q(U)},V=n[r].Page/n[n.length-1].Page*100;return e.jsx(e.Fragment,{children:b?e.jsx(cr,{isPass:w.current==="PASS"}):e.jsx(e.Fragment,{children:e.jsxs("div",{style:{width:v,height:$},children:[e.jsx(or,{}),e.jsx(sr,{pageNumber:s.playPage,pageSeq:s,speakData:n,clickSentence:D}),e.jsx(nr,{progressWidth:V,playBarState:t,nativeAudio:n[r].SoundPath,playSentence:H,startRecord:R}),M?e.jsx(e.Fragment,{children:z&&e.jsx(ar,{isRetry:o,sentence:n[r].Sentence,sentenceScore:z,tryCount:i,nativeAudio:n[r].SoundPath,userAudio:y,changeRecordResult:I,changeRetry:f})}):e.jsx(e.Fragment,{})]})})})}const S3=new A(navigator.userAgent),bi=S3.phone();function v3(){const{handler:t,studyInfo:i,bookInfo:n}=c.useContext(ne),[o,r]=c.useState(window.innerWidth),[u,l]=c.useState(window.innerHeight),[a,x]=c.useState(!0),[_,f]=va(Sa,{mode:i.mode,studentHistoryId:i.studentHistoryId,studyId:i.studyId}),[k,p]=c.useState(!1),[w,b]=c.useState(0),[m,s]=c.useState(0),[h,d]=c.useState(""),[g,y]=c.useState(!0);c.useEffect(()=>{const M=()=>{r(window.innerWidth),l(window.innerHeight)};return M(),window.addEventListener("resize",M),()=>{window.removeEventListener("resize",M)}},[bi,u]),c.useEffect(()=>{if(_){let M=0;if(f.length>0){const q=f[f.length-1];M=_.findIndex(H=>H.Page===q.Page&&H.Sequence===q.Sequence&&H.DataPath!=="")+1}for(;!(_[M].Contents!==""&&_[M].DataPath!=="");)M++;s(M)}},[_]);const S=M=>{s(M)},v=M=>{d(M)},L=()=>{b(w+1)},$=()=>{b(0)},E=M=>{b(M)},z=()=>{x(!1)},C=M=>{p(M)};return _?e.jsx(e.Fragment,{children:a?e.jsxs("div",{className:ee.screenBlock,style:{backgroundImage:`url(${n.BackgroundImage})`},children:[e.jsxs("div",{className:`${ee.speakButtonArea} animate__animated ${g?"animate__bounceInRight":"animate__bounceOutLeft"}`,children:[e.jsx("img",{src:e3,alt:"",width:150,height:"auto",style:{position:"relative",zIndex:2}}),e.jsx("div",{className:ee.startButton,onClick:()=>{y(!1),setTimeout(()=>{z()},1e3)},children:"Let's Speak!"}),e.jsx("div",{className:`${ee.recAni} animate__animated ${g?"animate__zoomIn":"animate__zoomOut"}`,children:e.jsx(dw,{})})]}),e.jsx("div",{className:ee.screenBgColor})]}):e.jsx(e.Fragment,{children:bi?e.jsxs("div",{className:ee.speackBodyBg,style:{backgroundImage:`url(${n.BackgroundImage})`},children:[e.jsx("div",{style:{position:"relative",zIndex:2},children:e.jsx(w3,{playBarState:h,tryCount:w,speakData:_,isRetry:k,quizIndex:m,changeQuizIndex:S,changePlayBarState:v,increaseTryCount:L,resetTryCount:$,changeTryCount:E,changeRetry:C})}),e.jsx("div",{className:ee.speackBodyBgColor})]}):e.jsxs("div",{className:ee.speackBodyBg,style:{backgroundImage:`url(${n.BackgroundImage})`},children:[e.jsx("div",{style:{position:"relative",zIndex:2},children:e.jsx(f3,{playBarState:h,tryCount:w,speakData:_,isRetry:k,quizIndex:m,changeQuizIndex:S,changePlayBarState:v,increaseTryCount:L,resetTryCount:$,changeTryCount:E,changeRetry:C})}),e.jsx("div",{className:ee.speackBodyBgColor})]})})}):e.jsx(e.Fragment,{children:"Loading..."})}const j3=()=>{const{handler:t}=c.useContext(ne);c.useEffect(()=>{console.log(t.viewStudy)},[t.viewStudy]);let i;switch(t.viewStudy){case"story":i=e.jsx(gi,{});break;case"speaking":i=e.jsx(v3,{});break;case"quiz":i=e.jsx(Wi,{});break;default:i=e.jsx(gi,{})}return i};function ki(){const{t}=de(),{bookInfo:i,studyInfo:n,handler:o}=c.useContext(ne),[r,u]=c.useState(3),l=x=>{u(x)},a=async()=>{(await zi(n.studyId,n.studentHistoryId,r*10)).success&&o.changeView("quiz")};return e.jsx("div",{className:`${j.ebookRating}`,children:e.jsxs("div",{className:`${j.container} animate__animated animate__zoomIn`,children:[e.jsx("div",{className:j.groupBookcover,children:e.jsx("img",{className:j.imgBookcover,src:`${i.SurfaceImage}`})}),e.jsxs("div",{className:j.groupChoose,children:[e.jsx("div",{className:j.txtQuestion,children:"How do you like this book?"}),e.jsx("div",{className:j.groupChooseRating,children:e.jsx(tr,{starCount:r,changeStarCount:l})}),e.jsx("div",{className:j.groupConfirm,children:e.jsx("button",{className:`${j.btnConfirm} ${j.blue}`,onClick:()=>{o.isPreference?o.changeView("quiz"):a()},children:t("story.퀴즈 풀기")})})]}),e.jsxs("div",{className:j.groupComment,children:[e.jsx("span",{className:j.icoExclamationMark}),e.jsx("span",{className:j.txtComment,children:e.jsx(mn,{i18nKey:"story.모든 학습을 완료하고 평균 70점을 넘어야 포인트를 획득 할 수 있습니다.",components:{b:e.jsx("b",{})}})})]})]})})}function wi(){const{t}=de(),{bookInfo:i,handler:n}=c.useContext(ne);return e.jsx("div",{className:`${j.ebookRating}`,children:e.jsxs("div",{className:`${j.container} animate__animated animate__zoomIn`,children:[e.jsx("div",{className:j.groupBookcover,children:e.jsx("img",{className:j.imgBookcover,src:`${i.SurfaceImage}`})}),e.jsx("div",{className:j.groupComment,children:e.jsxs("span",{className:j.txtComment,children:[e.jsx("div",{children:e.jsx(mn,{style:{color:"red"},i18nKey:"story.이미 한번 포인트를 획득한 학습입니다.",components:{b:e.jsx("b",{})}})}),e.jsx("div",{children:t("story.두번째 학습을 통과하여도 50% 포인트만 획득할 수 있습니다.")}),e.jsx("div",{children:t("story.계속 학습하시겠습니까?")})]})}),e.jsx("div",{className:j.groupChoose,children:e.jsxs("div",{className:j.groupConfirm,children:[e.jsx("button",{className:`${j.btnConfirm} ${j.blue}`,onClick:()=>{n.changeView("quiz")},children:t("common.네")}),e.jsx("button",{className:`${j.btnConfirm} ${j.gray}`,onClick:()=>{try{window.onExitStudy()}catch{location.replace("/")}},children:t("common.아니오")})]})})]})})}function z3(){const{t}=de(),{bookInfo:i,handler:n}=c.useContext(ne);return e.jsx("div",{className:`${j.ebookRating}`,children:e.jsxs("div",{className:`${j.container} animate__animated animate__zoomIn`,children:[e.jsx("div",{className:j.groupBookcover,children:e.jsx("img",{className:j.imgBookcover,src:`${i.SurfaceImage}`})}),e.jsx("div",{className:j.groupComment,children:e.jsxs("span",{className:j.txtComment,children:[e.jsx("div",{children:t("story.이미 두 번 포인트를 획득한 학습입니다.")}),e.jsx("div",{children:e.jsx(mn,{i18nKey:"story.더 이상 포인트를 획득할 수 없습니다.",components:{b:e.jsx("b",{})}})}),e.jsx("div",{children:t("story.계속 학습하시겠습니까?")})]})}),e.jsx("div",{className:j.groupChoose,children:e.jsxs("div",{className:j.groupConfirm,children:[e.jsx("button",{className:`${j.btnConfirm} ${j.blue}`,onClick:()=>{n.changeView("quiz")},children:t("common.네")}),e.jsx("button",{className:`${j.btnConfirm} ${j.gray}`,onClick:()=>{try{window.onExitStudy()}catch{location.replace("/")}},children:t("common.아니오")})]})})]})})}const $3=t=>{const{handler:i,bookInfo:n}=c.useContext(ne);let o=e.jsx(e.Fragment,{});if(i.isPreference)o=e.jsx(Wi,{});else switch(n.FullEasyCode){case"093001":o=e.jsx(ki,{});break;case"093002":o=e.jsx(wi,{});break;case"093003":case"093004":case"093005":n.FirstFullEasyCode==="093006"?i.changeView("quiz"):o=e.jsx(ki,{});break;case"093006":o=e.jsx(wi,{});break;case"093007":o=e.jsx(z3,{});break}return o};function C3({onUpdateReviewInform:t}){const{t:i}=de(),{bookInfo:n}=c.useContext(ne);return e.jsx("div",{className:`${j.ebookRating}`,children:e.jsxs("div",{className:`${j.container} animate__animated animate__zoomIn`,children:[e.jsx("div",{className:j.groupBookcover,children:e.jsx("img",{className:j.imgBookcover,src:`${n.SurfaceImage}`})}),e.jsxs("div",{className:j.groupChoose,children:[e.jsx("div",{className:j.txtQuestion,children:"Let's start the study review."}),e.jsx("div",{className:j.groupConfirm,children:e.jsx("button",{className:`${j.btnConfirm} ${j.blue}`,onClick:()=>{t()},children:"Go!"})})]}),e.jsxs("div",{className:j.groupComment,children:[e.jsx("span",{className:j.icoExclamationMark}),e.jsx("span",{className:j.txtComment,children:i("story.다시 보기 모드에서는 학습을 완료해도 포인트가 제공되지 않아요.")})]})]})})}const J3=()=>{const{studyInfo:t}=c.useContext(ne);let i="error";t.bookType==="EB"?i="ebook":t.bookType==="PB"&&(i="pbook");const n=i,[o,r]=c.useState(!1),u=()=>{r(!0)};let l;return n==="ebook"?l=e.jsx(j3,{}):n==="pbook"&&(l=e.jsx($3,{})),e.jsx("div",{children:t.isReview&&!o?e.jsx(C3,{onUpdateReviewInform:u}):l})};export{J3 as default};
